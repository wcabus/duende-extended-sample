"use strict";(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[785],{2785:(ue,h,r)=>{r.r(h),r.d(h,{ViewProtectedResourceModule:()=>le});var a=r(6895),V=r(8185),x=r(2979),p=r(9383),m=r(5241),b=r(5503),D=r(8265),v=r(9650),O=r(5785),Q=r(2147),w=r(6493),A=r(8761),I=r(5971),J=r(5084),F=r(2976),e=r(4650),U=r(1481),d=r(7733),S=r(6001);let Y=(()=>{class o{constructor(t,s,c){this.titleService=t,this.protectedResourceService=s,this.translate=c,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${F.de.SITE_TITLE}`)})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U.Dx),e.Y36(d.m),e.Y36(p.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protected-resource-properties"]],decls:1,vars:3,consts:[[3,"modalId","isReadOnly","properties"]],template:function(t,s){1&t&&e._UZ(0,"app-properties-editor",0),2&t&&e.Q6J("modalId",s.protectedResource.id)("isReadOnly",!0)("properties",s.protectedResource.properties)},dependencies:[S.s],encapsulation:2}),o})();var C=r(2951),y=r(9655),f=r(7608),R=r(2830);const M=["ClaimsPicker"];function N(o,i){if(1&o&&(e.TgZ(0,"app-form-row",2),e._UZ(1,"app-readonly",3),e.qZA()),2&o){const t=e.oxw();e.Q6J("label","Resources.AssignedClaims"),e.xp6(1),e.Q6J("fieldType",t.ReadOnlyFieldType.Multi)("values",t.displayClaims)}}let K=(()=>{class o{constructor(t){this.protectedResourceService=t,this.displayClaims=[]}get ReadOnlyFieldType(){return y.O}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.displayClaims=this.protectedResource.allowedClaims.sort().map(s=>new C.I(s))})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protectedresource-claims"]],viewQuery:function(t,s){if(1&t&&e.Gf(M,7),2&t){let c;e.iGM(c=e.CRH())&&(s.claimsPicker=c.first)}},decls:5,vars:4,consts:[[1,"cms"],[3,"label",4,"ngIf"],[3,"label"],[3,"fieldType","values"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.YNc(4,N,2,3,"app-form-row",1)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ProtectedResources.UserClaimTypes")),e.xp6(2),e.Q6J("ngIf",s.displayClaims))},dependencies:[a.O5,f.L,R.f,p.X$],encapsulation:2}),o})();var L=r(590),T=r(7235),G=r(9881);const u=function(o){return[o]};function X(o,i){if(1&o&&(e.TgZ(0,"app-form-row",1),e._UZ(1,"app-readonly",5),e.qZA()),2&o){const t=e.oxw();e.Q6J("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.xp6(1),e.Q6J("fieldType",t.ReadOnlyFieldType.Single)("values",e.VKq(4,u,t.protectedResourceDictionary.requireResourceIndicator))}}let E=(()=>{class o{constructor(t,s){this.protectedResourceService=t,this.configService=s,this.targetIdentityServer4=!1}ngOnInit(){this.configService.getConfig().pipe((0,L.P)()).subscribe(t=>{this.targetIdentityServer4=t.targetIdentityServer4}),this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResourceDictionary=new T.$(t)})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}get ReadOnlyFieldType(){return y.O}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m),e.Y36(G.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protectedresource-details"]],decls:11,vars:25,consts:[["id","protectedResourceDetails"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help",4,"ngIf"],[3,"label","isLast"],["id","requireResourceIndicatorInput",3,"fieldType","values"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"app-form-row",1),e._UZ(3,"app-readonly",2),e.qZA(),e.TgZ(4,"app-form-row",1),e._UZ(5,"app-readonly",2),e.qZA(),e.TgZ(6,"app-form-row",1),e._UZ(7,"app-readonly",2),e.qZA(),e.YNc(8,X,2,6,"app-form-row",3),e.TgZ(9,"app-form-row",4),e._UZ(10,"app-readonly",2),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(17,u,s.protectedResourceDictionary.name)),e.xp6(1),e.Q6J("label","Common.DisplayName")("help","Resources.ResourceName"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(19,u,s.protectedResourceDictionary.displayName)),e.xp6(1),e.Q6J("label","Common.Description")("help","Resources.ResourceDescription"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(21,u,s.protectedResourceDictionary.description)),e.xp6(1),e.Q6J("ngIf",!s.targetIdentityServer4),e.xp6(1),e.Q6J("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.CommaSeparated)("values",e.VKq(23,u,s.protectedResourceDictionary.allowedAccessTokenSigningAlgorithms)))},dependencies:[a.O5,f.L,R.f],encapsulation:2}),o})();var H=r(3351),$=r(4006),q=r(7185),z=r(7696),Z=r(9272),B=r(146),j=r(426),g=r(9241);const W=["tabs"];function k(o,i){if(1&o&&(e.TgZ(0,"app-form-row",10),e._UZ(1,"app-readonly",5),e.qZA()),2&o){const t=e.oxw();e.Q6J("label","Resources.AssignedClaims"),e.xp6(1),e.Q6J("fieldType",t.ReadOnlyFieldType.Multi)("values",t.displayClaims)}}const l=function(o){return[o]};let _=(()=>{class o{constructor(t,s,c){this.claimsService=t,this.translate=s,this.scopesClaimService=c,this._scope=new Z.s,this.displayClaims=[],this.properties=[]}set scope(t){this._scope=t||new Z.s}get scope(){return this._scope}ngOnInit(){this.scopesClaimService.cachedClaimTypes$.subscribe(t=>{const s=this.findAssignedClaims(t);this.displayClaims=s.map(c=>new C.I(c.name))}),this.scopeDictionary=new T.$(this.scope),this.properties=this.scope.properties}findAssignedClaims(t){const s=[];return this.scope.userClaims.forEach(c=>{t.forEach((n,de)=>{n.name===c&&(t.splice(de,1),s.push(n))})}),s}get ReadOnlyFieldType(){return y.O}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B.M),e.Y36(p.sK),e.Y36(j.q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-api-scope"]],viewQuery:function(t,s){if(1&t&&e.Gf(W,7),2&t){let c;e.iGM(c=e.CRH())&&(s.tabsComponent=c.first)}},inputs:{scope:"scope"},decls:27,vars:49,consts:[["tabs",""],[3,"heading"],["id","readOnlyBlock"],[1,"tw-pt-5"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help","isLast"],[1,"cms","tw-pt-5"],[3,"label",4,"ngIf"],[3,"modalId","isReadOnly","properties"],[3,"label"]],template:function(t,s){1&t&&(e.TgZ(0,"tabset",null,0)(2,"tab",1),e.ALo(3,"translate"),e.TgZ(4,"div",2)(5,"form",3)(6,"app-form-row",4),e._UZ(7,"app-readonly",5),e.qZA(),e.TgZ(8,"app-form-row",4),e._UZ(9,"app-readonly",5),e.qZA(),e.TgZ(10,"app-form-row",4),e._UZ(11,"app-readonly",5),e.qZA(),e.TgZ(12,"app-form-row",4),e._UZ(13,"app-readonly",5),e.qZA(),e.TgZ(14,"app-form-row",4),e._UZ(15,"app-readonly",5),e.qZA(),e.TgZ(16,"app-form-row",6),e._UZ(17,"app-readonly",5),e.qZA()()()(),e.TgZ(18,"tab",1)(19,"div",7)(20,"p"),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.YNc(23,k,2,3,"app-form-row",8),e.qZA(),e.TgZ(24,"tab",1),e._UZ(25,"div",3)(26,"app-properties-editor",9),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("heading",e.lcZ(3,33,"Nav.Details")),e.xp6(4),e.Q6J("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(37,l,s.scopeDictionary.name)),e.xp6(1),e.Q6J("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(39,l,s.scopeDictionary.displayName)),e.xp6(1),e.Q6J("label","Common.Description")("help","Resources.Scope.Description"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(41,l,s.scopeDictionary.description)),e.xp6(1),e.Q6J("label","Common.Required")("help","Resources.Scope.Consent"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(43,l,s.scopeDictionary.required)),e.xp6(1),e.Q6J("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(45,l,s.scopeDictionary.showInDiscoveryDocument)),e.xp6(1),e.Q6J("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(47,l,s.scopeDictionary.emphasize)),e.xp6(1),e.Q6J("heading","Claims"),e.xp6(3),e.Oqu(e.lcZ(22,35,"Resources.Scope.UserClaimTypes")),e.xp6(2),e.Q6J("ngIf",s.displayClaims),e.xp6(1),e.Q6J("heading","Properties"),e.xp6(2),e.Q6J("modalId",s.scope.id)("isReadOnly",!0)("properties",s.scope.properties))},dependencies:[a.O5,g.wW,g.AH,f.L,S.s,R.f,p.X$],encapsulation:2,changeDetection:0}),o})();function ee(o,i){1&o&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.DisplayName")," "))}function te(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"accordion-group",null,5)(2,"button",6)(3,"b",7),e._uU(4),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"span",9),e.qZA()(),e.TgZ(7,"div")(8,"app-view-api-scope",10),e.NdJ("delete",function(c){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteScopeConfirm(c))})("submit",function(c){e.CHM(t);const n=e.oxw();return e.KtG(n.submitScopeClaims(c))}),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(4),e.Oqu(t.displayName),e.xp6(4),e.Q6J("scope",t)}}function oe(o,i){if(1&o&&e._UZ(0,"app-pager",11),2&o){const t=e.oxw();e.Q6J("totalResults",null==t.protectedResource.scopes?null:t.protectedResource.scopes.length)}}let se=(()=>{class o{constructor(t,s,c,n){this.protectedResourceService=t,this.fb=s,this.toastr=c,this.translate=n}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m),e.Y36($.QS),e.Y36(q._W),e.Y36(p.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-protectedresource-scopes"]],features:[e._Bn([{provide:m.gd,useFactory:H.z}])],decls:5,vars:3,consts:[["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["group",""],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","trans"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"scope","delete","submit"],["hidePager","true",3,"totalResults"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ee,3,3,"div",1),e.TgZ(2,"accordion"),e.YNc(3,te,9,2,"accordion-group",2),e.qZA(),e.YNc(4,oe,1,1,"app-pager",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.protectedResource.scopes.length>0),e.xp6(2),e.Q6J("ngForOf",s.protectedResource.scopes),e.xp6(1),e.Q6J("ngIf",(null==s.protectedResource.scopes?null:s.protectedResource.scopes.length)>0))},dependencies:[a.sg,a.O5,z.P,m.Zf,m.U_,_,p.X$],encapsulation:2}),o})();var re=r(1660);const ie=["SecretPicker"];let ce=(()=>{class o{constructor(t){this.protectedResourceService=t,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protectedresource-secrets"]],viewQuery:function(t,s){if(1&t&&e.Gf(ie,7),2&t){let c;e.iGM(c=e.CRH())&&(s.secretPicker=c.first)}},decls:2,vars:3,consts:[[3,"isReadOnly","clientSecrets","nonModelCertPicker"],["SecretPicker",""]],template:function(t,s){1&t&&e._UZ(0,"app-secret-picker",0,1),2&t&&e.Q6J("isReadOnly",!0)("clientSecrets",s.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[re.P],encapsulation:2}),o})();var P=r(4091),pe=r(2320);let ne=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,g.P4,p.aw,pe.z8,v.I,w.l,P.G]}),o})();const ae=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:E},{path:"secrets",component:ce},{path:"scopes",component:se},{path:"claims",component:K},{path:"properties",component:Y}];let le=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,p.aw.forChild({extend:!0}),V.Bz.forChild(ae),b.D,J.y,O.U,x.fQ,v.I,D.j,I.s,w.l,Q.l,A.W,m.fx,P.G,ne]}),o})()}}]);