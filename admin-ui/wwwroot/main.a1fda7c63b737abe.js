(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[179],{2976:(st,ye,f)=>{"use strict";f.d(ye,{NA:()=>m,VK:()=>e,de:()=>w});var t=f(4650);let e=(()=>{class b{constructor(){this.Server="http://localhost:5000/"}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac}),b})();class m{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let w=(()=>{class b{static get SITE_TITLE(){return"AdminUI"}}return b.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html",b.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html",b.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite",b.defaultEmbeddedUserName="info@rocksolidknowledge.com",b})()},8002:(st,ye,f)=>{"use strict";f.d(ye,{Z:()=>q});var t=f(6895),e=f(8185),m=f(4006),w=f(388),b=f(2320),C=f(1191),g=f(8190),p=f(9383),A=f(7023),_=f(2979),R=f(5084),N=f(5785),a=f(4022),k=f(7770),P=f(5971),U=f(6980),J=f(9650),O=f(2147),L=f(4091),F=f(5503),V=f(4650);let q=(()=>{class ie{}return ie.\u0275fac=function($){return new($||ie)},ie.\u0275mod=V.oAB({type:ie}),ie.\u0275inj=V.cJS({providers:[g.F],imports:[t.ez,m.u5,m.UX,C.H3,b.z8,w.zk,e.Bz,p.aw,A._,_.fQ,R.y,N.U,a.p,k.t,P.s,U.K,J.I,O.l,L.G,F.D]}),ie})()},8413:(st,ye,f)=>{"use strict";f.d(ye,{P:()=>A});var t=f(6895),e=f(9383),m=f(388),w=f(4022),b=f(4380),C=f(9650),g=f(4091),p=f(4650);let A=(()=>{class _{}return _.\u0275fac=function(N){return new(N||_)},_.\u0275mod=p.oAB({type:_}),_.\u0275inj=p.cJS({imports:[m.zk,e.aw,t.ez,b.t,w.p,C.I,g.G]}),_})()},964:(st,ye,f)=>{"use strict";f.d(ye,{z:()=>X});var t=f(4650),e=f(572),m=f(7235),w=f(9655),b=f(1837),C=f(3110),g=f(9383),p=f(8285),A=f(388),_=f(6895),R=f(2808),N=f(8163),a=f(7608),k=f(2830);const P=["deleteCertModal"];function U(Q,ce){if(1&Q){const _e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(_e);const ve=t.oxw(3);return t.KtG(ve.openDeleteModal(ve.certificates[0]))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&Q){const _e=t.oxw(3);t.Q6J("disabled",_e.deleteCertDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,2,"Clients.Saml.DeleteCert")," ")}}function J(Q,ce){if(1&Q&&(t.TgZ(0,"app-action-bar",9),t.ynx(1,10),t.Hsn(2),t.YNc(3,U,3,4,"button",11),t.BQk(),t.qZA()),2&Q){const _e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",(null==_e.certificates?null:_e.certificates.length)>0)}}function O(Q,ce){1&Q&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function L(Q,ce){1&Q&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&Q&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Clients.NoCertificates")," "))}const F=function(Q){return[Q]};function V(Q,ce){if(1&Q&&(t.ynx(0),t.TgZ(1,"app-form-row",15),t._UZ(2,"app-readonly",16),t.qZA(),t.TgZ(3,"app-form-row",15),t._UZ(4,"app-readonly",16),t.qZA(),t.TgZ(5,"app-form-row",17),t._UZ(6,"app-readonly",16)(7,"p",18),t.qZA(),t.BQk()),2&Q){const _e=t.oxw(2);t.xp6(1),t.Q6J("label","Common.Subject"),t.xp6(1),t.Q6J("values",t.VKq(11,F,_e.readOnlyCertificate.subject))("fieldType",_e.ReadOnlyFieldType.Single),t.xp6(1),t.Q6J("label","Common.Thumbprint"),t.xp6(1),t.Q6J("values",t.VKq(13,F,_e.readOnlyCertificate.thumbprint))("fieldType",_e.ReadOnlyFieldType.Single),t.xp6(1),t.Q6J("label","Common.ExpiresOn")("isLast",!0),t.xp6(1),t.Q6J("values",t.VKq(15,F,_e.readOnlyCertificate.expiration))("fieldType",_e.ReadOnlyFieldType.Single),t.xp6(1),t.Q6J("innerHTML",_e.displayExpiry(null==_e.readOnlyCertificate?null:_e.readOnlyCertificate.expiration.MainText),t.oJD)}}function q(Q,ce){if(1&Q&&(t.TgZ(0,"div",4),t.YNc(1,J,4,1,"app-action-bar",5),t.YNc(2,O,3,3,"div",6),t.YNc(3,L,3,3,"div",7),t.YNc(4,V,8,17,"ng-container",8),t.qZA()),2&Q){const _e=t.oxw();t.xp6(1),t.Q6J("ngIf",!_e.isReadOnly),t.xp6(1),t.Q6J("ngIf",_e.deleteCertDisabled&&!_e.isReadOnly),t.xp6(1),t.Q6J("ngIf",(null==_e.certificates?null:_e.certificates.length)<1),t.xp6(1),t.Q6J("ngIf",1==(null==_e.certificates?null:_e.certificates.length)&&_e.readOnlyCertificate)}}function ie(Q,ce){if(1&Q){const _e=t.EpF();t.TgZ(0,"app-data-table",19),t.NdJ("onDelete",function(ve){t.CHM(_e);const Ke=t.oxw();return t.KtG(Ke.openDeleteModal(ve))}),t._UZ(1,"app-data-table-column",20)(2,"app-data-table-column",21)(3,"app-data-table-column",22),t.qZA()}if(2&Q){const _e=t.oxw();t.Q6J("isReadOnly",_e.isReadOnly)("rows",_e.certificates)("norowslabel","Clients.NoCertificates")("actions",_e.dataTableActions),t.xp6(1),t.Q6J("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),t.xp6(1),t.Q6J("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),t.xp6(1),t.Q6J("prop","expiration")("formatter",_e.displayExpiry.bind(_e))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}const H=function(){return{animated:!1,backdrop:"static"}};function $(Q,ce){if(1&Q){const _e=t.EpF();t.TgZ(0,"div",23,24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",29),t.NdJ("click",function(){t.CHM(_e);const ve=t.oxw();return t.KtG(ve.closeDeleteModal())}),t._UZ(9,"span",30),t.TgZ(10,"span",31),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",32),t._UZ(14,"p",33),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"div",34),t.TgZ(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),t.NdJ("click",function(){t.CHM(_e);const ve=t.oxw();return t.KtG(ve.removeCert())}),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"button",39),t.NdJ("click",function(){t.CHM(_e);const ve=t.oxw();return t.KtG(ve.closeDeleteModal())}),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()()()}2&Q&&(t.Q6J("config",t.DdM(16,H)),t.xp6(6),t.Oqu(t.lcZ(7,6,"Common.Delete.Confirm")),t.xp6(5),t.Oqu(t.lcZ(12,8,"Common.Close")),t.xp6(3),t.Q6J("innerHTML",t.lcZ(15,10,"Common.Delete.Warning"),t.oJD),t.xp6(7),t.Oqu(t.lcZ(22,12,"Common.Delete.Title")),t.xp6(3),t.Oqu(t.lcZ(25,14,"Common.Delete.No")))}const z=[[["","addButton",""]]],E=["[addButton]"];let X=(()=>{class Q{constructor(_e,Te){this.translateService=_e,this.dataTableService=Te,this.showSingle=!1,this.delete=new t.vpe,this.prettyDateTimePipe=new C.Xm}set isReadOnly(_e){this._isReadOnly=_e||!1}get isReadOnly(){return this._isReadOnly}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(_e=>{this.openDeleteModal(_e)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.Xz.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new m.$(this.certificates[0]):null}openDeleteModal(_e){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[_e],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(_e){let Te=b.ou.fromISO(_e);const ve=this.daysUntilExpiry(Te);if(this.warnOfExpiry(Te)){let Ke='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return Ke=Ke.replace("{0}",this.translateService.instant("Common.ExpiresIn")),Ke=Ke.replace("{1}",ve.toString()),Ke=Ke.replace("{2}",this.translateService.instant("Common.UntilExpiry")),Ke}return this.prettyDateTimePipe.transform(_e)}warnOfExpiry(_e){return this.daysUntilExpiry(_e)<=30&&this.daysUntilExpiry(_e)>=1}daysUntilExpiry(_e){const Te=_e.toMillis()-b.ou.now().toMillis();return Math.round(Te/864e5)}get ReadOnlyFieldType(){return w.O}}return Q.\u0275fac=function(_e){return new(_e||Q)(t.Y36(g.sK),t.Y36(p.n))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["app-saml-cert-list"]],viewQuery:function(_e,Te){if(1&_e&&t.Gf(P,5),2&_e){let ve;t.iGM(ve=t.CRH())&&(Te.deleteCertModal=ve.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[t.TTD],ngContentSelectors:E,decls:4,vars:3,consts:[["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"disabled","click"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"isReadOnly","rows","norowslabel","actions","onDelete"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteCertModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(_e,Te){1&_e&&(t.F$t(z),t.TgZ(0,"div",0),t.YNc(1,q,5,4,"div",1),t.YNc(2,ie,4,16,"app-data-table",2),t.qZA(),t.YNc(3,$,26,17,"div",3)),2&_e&&(t.xp6(1),t.Q6J("ngIf",Te.showSingle),t.xp6(1),t.Q6J("ngIf",!Te.showSingle),t.xp6(1),t.Q6J("ngIf",!Te.isReadOnly))},dependencies:[A.oB,_.O5,e.Qj,R.E,N.K,a.L,k.f,g.X$],encapsulation:2,changeDetection:0}),Q})()},7331:(st,ye,f)=>{"use strict";f.d(ye,{l:()=>P});var t=f(6297),e=f(3111),m=f(590),w=f(9506),b=f(3334),C=f(4650),g=f(7481),p=f(9383),A=f(6895),_=f(5925);function R(U,J){1&U&&(C._UZ(0,"app-simple-loader",7),C.ALo(1,"translate")),2&U&&C.Q6J("text",C.lcZ(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function N(U,J){if(1&U&&(C.TgZ(0,"div",8)(1,"div")(2,"h2",9),C._uU(3),C.ALo(4,"translate"),C.qZA(),C.TgZ(5,"span",10),C._uU(6),C.qZA()()()),2&U){const O=C.oxw();C.xp6(3),C.Oqu(C.lcZ(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),C.xp6(3),C.Oqu(O.getSuccessMessage())}}function a(U,J){if(1&U){const O=C.EpF();C.TgZ(0,"div",11)(1,"button",12),C.NdJ("click",function(){C.CHM(O);const F=C.oxw();return C.KtG(F.downloadSecrets())}),C._uU(2),C.ALo(3,"translate"),C.qZA()()}if(2&U){const O=C.oxw();C.xp6(1),C.Q6J("disabled",O.disableButtons),C.xp6(1),C.hij(" ",C.lcZ(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}const k=function(U,J){return{"tw-btn-link":U,"tw-btn-success":J}};let P=(()=>{class U extends w.n{constructor(O,L,F){super(),this.clientImportService=O,this.importWizardService=L,this.translate=F,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,m.P)()).subscribe(O=>{const L=new t.Zy;L.clients=[],L.protectedResources=[],O.forEach(F=>{if(F.selected){if(F.resourceType===e.JR.Client){const V=new t.rJ;V.useExistingSecrets=F.useExistingSecrets,V.useExistingCertificates=F.useExistingCertificates,V.resourceId=F.identifier,V.secrets=F.secrets,F.certificates&&(F.certificates.EncryptionCertificate&&(V.certificates.encryptionCertificate=F.certificates.EncryptionCertificate.base64Cert),F.certificates.SigningCertificates&&(V.certificates.signingCertificates=F.certificates.SigningCertificates.map(q=>q.base64Cert))),L.clients.push(V)}F.secrets&&F.secrets.length>0&&(this.canDownloadSecrets=!0)}F.resourceType===e.JR.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(O,F,L.protectedResources),F.secrets&&F.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=L,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(O,L,F){L.dependantClients.forEach(V=>{const q=O.find(ie=>ie.identifier===V.identifier);if(q&&q.selected){const ie=new t.rJ;ie.useExistingSecrets=L.useExistingSecrets,ie.resourceId=L.identifier,ie.secrets=L.secrets,F.push(ie)}})}completeImport(){const O=this.getFileInStorage();this.clientImportService.completeImport(O,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},L=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const O=this.importConfiguration.clients.length;let L=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==O&&(L=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),L=L.replace("{0}",O)),L}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(b.K.importDownloadWarning)}}return U.\u0275fac=function(O){return new(O||U)(C.Y36(t.wf),C.Y36(g.U),C.Y36(p.sK))},U.\u0275cmp=C.Xpm({type:U,selectors:[["app-complete-import"]],features:[C.qOj],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"ngClass","disabled","click"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"disabled","click"]],template:function(O,L){1&O&&(C.YNc(0,R,2,3,"app-simple-loader",0),C.TgZ(1,"div",1),C.YNc(2,N,7,4,"div",2),C.qZA(),C.TgZ(3,"div",3)(4,"div",4),C.YNc(5,a,4,4,"div",5),C.TgZ(6,"button",6),C.NdJ("click",function(){return L.goNext()}),C._uU(7),C.ALo(8,"translate"),C.qZA()()()),2&O&&(C.Q6J("ngIf",L.isLoading),C.xp6(2),C.Q6J("ngIf",!L.isLoading),C.xp6(3),C.Q6J("ngIf",L.canDownloadSecrets),C.xp6(1),C.Q6J("ngClass",C.WLB(8,k,L.canDownloadSecrets,!L.canDownloadSecrets))("disabled",L.disableButtons),C.xp6(1),C.hij(" ",C.lcZ(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[A.mk,A.O5,_.w,p.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),U})()},3286:(st,ye,f)=>{"use strict";f.r(ye),f.d(ye,{ClientModule:()=>Qt});var t=f(6895),e=f(4006),m=f(8185),w=f(2979),b=f(388),C=f(2320),g=f(5503),p=f(8117),A=f(515),_=f(4004),R=f(262),N=f(4879),a=f(4650),k=f(9012),P=f(4608),U=f(4889);let J=(()=>{class pe{constructor(le,Le,Bt){this.clientService=le,this.clientCachingService=Le,this.errorService=Bt}resolve(le,Le){const Bt=le.paramMap.get("Id");return this.clientService.getClient(Bt).pipe((0,_.U)(on=>(this.clientCachingService.unsavedCache.next(on),on)),(0,R.K)(on=>(404===on.status?this.errorService.resourceNotFound(N._.client):this.errorService.handleError(on),(0,A.c)())))}}return pe.\u0275fac=function(le){return new(le||pe)(a.LFG(k.a),a.LFG(P.Z),a.LFG(U.T))},pe.\u0275prov=a.Yz7({token:pe,factory:pe.\u0275fac}),pe})();var O=f(4995),L=f(3883),F=f(9002),V=f(5302),q=f(3499),ie=f(4022),H=f(4362),$=f(6980),z=f(4380),E=f(5898),X=f(9650),Q=f(8975),ce=f(9383),_e=f(5785),Te=f(7770),ve=f(5971),Ke=f(5084),xe=f(9679),Ge=f(5150),we=f(9536),Ye=f(2976),rt=f(4128),Ct=f(9646),at=f(590),dt=f(9470),ct=f(9848),Gt=f(529),ln=f(6349),Mt=(()=>{return(pe=Mt||(Mt={})).Client="Client",pe.WsFed="WsFed",pe.Saml="Saml",Mt;var pe})(),It=f(8176),Y=f(160),G=f(1339),oe=f(1481),Ve=f(7185),Be=f(3570),o=f(7047),De=f(6478),be=f(7073),je=f(2294),et=f(9658),Qe=f(1216);let We=(()=>{class pe{}return pe.Default="clientId",pe.Saml="entityId",pe.WsFed="realm",pe})();var bt=f(7608),pt=f(799),He=f(8853);const ae=["cloneClientModal"],te=["addClaimTypeModal"];function B(pe,nt){if(1&pe&&(a.TgZ(0,"div",25)(1,"div"),a._uU(2),a.qZA()()),2&pe){const le=a.oxw();a.xp6(2),a.Oqu(le.errorCode)}}function ee(pe,nt){if(1&pe&&(a.TgZ(0,"app-form-row",16)(1,"app-form-toggle",26),a._UZ(2,"input",27),a.qZA()()),2&pe){const le=a.oxw();a.Q6J("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",le.clientType!==le.clientTypes.Saml),a.xp6(1),a.Q6J("id","cloneSecrets")}}function Re(pe,nt){1&pe&&(a.TgZ(0,"app-form-row",16)(1,"app-form-toggle",26),a._UZ(2,"input",28),a.qZA()()),2&pe&&(a.Q6J("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),a.xp6(1),a.Q6J("id","cloneSecrets"))}const tt=function(){return{backdrop:"static",keyboard:"false"}};let ot=(()=>{class pe{constructor(le,Le,Bt,on,Un){this.clientsService=le,this.fb=Le,this.localize=Bt,this.router=on,this.translate=Un,this.clientTypeKey=We.Default,this.clientTypes=ct.B,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",e.kI.required],clientName:["",e.kI.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=We.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=We.WsFed)}cloneClient(){const le=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,le).subscribe(Le=>{const Bt=Le.headers.get("location");if(Bt){this.clearForm();const on=Bt.lastIndexOf("/"),Un=Bt.substring(on+1),wi=[this.localize.translateRoute("/clients"),Un];this.router.navigate(wi)}},Le=>{this.errorCode=this.translate.instant(400===Le.status?`Errors.CloneClientError.${Le.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const le=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,It.qs)(),clientName:le,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,It.qs)()})}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(k.a),a.Y36(e.QS),a.Y36(w.An),a.Y36(m.F0),a.Y36(ce.sK))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-clone-client"]],viewQuery:function(le,Le){if(1&le&&(a.Gf(ae,7),a.Gf(te,7)),2&le){let Bt;a.iGM(Bt=a.CRH())&&(Le.cloneClientModal=Bt.first),a.iGM(Bt=a.CRH())&&(Le.addClaimTypeModal=Bt.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["cloneClientModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"disabled","click"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"button",6),a.NdJ("click",function(){return Le.clearForm()}),a._UZ(9,"span",7),a.TgZ(10,"span",8),a._uU(11),a.ALo(12,"translate"),a.qZA()()(),a.TgZ(13,"div",9),a.YNc(14,B,3,1,"div",10),a.TgZ(15,"app-form-row",11),a.ALo(16,"keyToString"),a.TgZ(17,"div",12),a._UZ(18,"input",13),a.TgZ(19,"button",14),a.NdJ("click",function(){return Le.setRandomID()}),a._UZ(20,"span",15),a.TgZ(21,"span",8),a._uU(22),a.ALo(23,"translate"),a.qZA()()()(),a.TgZ(24,"app-form-row",16),a._UZ(25,"input",17),a.qZA(),a.YNc(26,ee,3,5,"app-form-row",18),a.YNc(27,Re,3,5,"app-form-row",18),a.qZA(),a._UZ(28,"div",19),a.TgZ(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),a.NdJ("click",function(){return Le.cloneClient()}),a._uU(33),a.ALo(34,"translate"),a.qZA()(),a.TgZ(35,"button",24),a.NdJ("click",function(){return Le.clearForm()}),a._uU(36),a.ALo(37,"translate"),a.qZA()()()()()()),2&le&&(a.Q6J("config",a.DdM(30,tt)),a.xp6(6),a.Oqu(a.lcZ(7,18,"Clients.Clone.Title")),a.xp6(5),a.Oqu(a.lcZ(12,20,"Common.Close")),a.xp6(2),a.Q6J("formGroup",Le.newClientForm),a.xp6(1),a.Q6J("ngIf",""!=Le.errorCode),a.xp6(1),a.Q6J("id","cloneClientId")("label",a.lcZ(16,22,Le.clientTypeKey))("help","Clients.IDHelp"),a.xp6(7),a.Oqu(a.lcZ(23,24,"Common.GenerateRandom")),a.xp6(2),a.Q6J("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===Le.client.clientSecrets.length&&Le.clientType!==Le.clientTypes.Saml),a.xp6(2),a.Q6J("ngIf",0!==Le.client.clientSecrets.length),a.xp6(1),a.Q6J("ngIf",Le.clientType===Le.clientTypes.Saml),a.xp6(5),a.Q6J("disabled",!Le.newClientForm.valid),a.xp6(1),a.hij(" ",a.lcZ(34,26,"Common.Save")," "),a.xp6(3),a.Oqu(a.lcZ(37,28,"Common.Cancel")))},dependencies:[t.O5,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,bt.L,pt.O,b.oB,ce.X$,He.r],encapsulation:2}),pe})();function Et(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Nav.Saml")("tabValue","saml")}function Kt(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function wn(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function rn(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Common.Secrets")("tabValue","secrets")}function fn(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Common.CIBA")("tabValue","ciba")}const cn=function(pe,nt){return{title:pe,link:nt}},lt=function(pe){return[pe]},tn=function(){return{backdrop:"static",keyboard:"false"}};let St=(()=>{class pe{constructor(le,Le,Bt,on,Un,wi,ls,qr,xr,So,gs,xo,$s,so,Fs){this.clientsService=le,this.clientCachingService=Le,this.relyingPartyCachingService=Bt,this.serviceProviderCachingService=on,this.samlClientService=Un,this.wsFedClientService=wi,this.clientViewService=ls,this.titleService=qr,this.translate=xr,this.errorService=So,this.router=gs,this.toastr=xo,this.localize=$s,this.dialogService=so,this.licenseService=Fs}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(le=>{this.client=le;const Le=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Ye.de.SITE_TITLE;this.titleService.setTitle(Le),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(le=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(le=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,at.P)()).subscribe({next:le=>{this.licenseInfo=le}})}checkSubmitEnabled(){const le=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===le.length||le.some(Le=>!Le.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(le){this.clientsService.deleteClient(le).subscribe(Le=>{const Bt=this.localize.translateRoute("/clients");this.router.navigate([Bt]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},Le=>{const Bt={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(Le,Bt)&Y.s.Toast)!==Y.s.Toast&&this.toastr.error(Bt.toastBody,Bt.toastTitle)})}saveClient(){const le=this.buildStreamArray();(0,rt.D)(le).subscribe(Le=>{Le.some(on=>on instanceof Gt.UA)?this.handleError(Le):this.handleSave(Le),this.checkSubmitEnabled()},Le=>{this.errorService.handleError(Le)})}buildStreamArray(){const le=[];return this.clientCachingService.componentDirtyValidMap.size>0&&le.push(this.clientsService.updateClient(this.client).pipe((0,_.U)(()=>Mt.Client),(0,R.K)(Le=>(0,Ct.of)(Le)))),this.client.clientType===ct.B.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,at.P)()).subscribe(Le=>{const Bt=JSON.parse(JSON.stringify(Le));Bt.claimMappings=(0,It.GA)(Le.claimMappings),le.push(this.wsFedClientService.updateRelyingParty(this.client.id,Bt).pipe((0,_.U)(()=>Mt.WsFed),(0,R.K)(on=>(0,Ct.of)(on))))}):this.client.clientType===ct.B.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,at.P)()).subscribe(Le=>{const Bt=JSON.parse(JSON.stringify(Le));Bt.claimMappings=(0,It.GA)(Le.claimMappings),le.push(this.samlClientService.updateServiceProvider(this.client.id,Bt).pipe((0,_.U)(()=>Mt.Saml),(0,R.K)(on=>(0,Ct.of)(on))))}),le}handleSave(le){le.forEach(Le=>{switch(Le){case Mt.WsFed:this.relyingPartyCachingService.onSave();break;case Mt.Saml:this.serviceProviderCachingService.onClientSave();break;case Mt.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(le){const Le=le.filter(Bt=>Bt instanceof Gt.UA);Le.length===le.length?this.errorService.handleError(Le[0]):400===Le[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(ln.e5(le,Le))):this.errorService.handleError(Le[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(le=>{le&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(k.a),a.Y36(P.Z),a.Y36(Ge.N),a.Y36(we.S),a.Y36(G.G),a.Y36(q.K),a.Y36(dt.a),a.Y36(oe.Dx),a.Y36(ce.sK),a.Y36(U.T),a.Y36(m.F0),a.Y36(Ve._W),a.Y36(w.An),a.Y36(Be.x),a.Y36(o.E))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-edit-client"]],features:[a._Bn([dt.a])],decls:63,vars:61,consts:[[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteClientModal",1,"tw-btn-danger","tw-mb-3"],[3,"client","clientType"],["cloneClientModal",""],["bsModal","","id","deleteClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(le,Le){if(1&le){const Bt=a.EpF();a.TgZ(0,"app-title-bar",0),a.ALo(1,"translate"),a.ALo(2,"localize"),a.ynx(3,1),a.TgZ(4,"app-custom-tabs"),a._UZ(5,"app-custom-tab",2),a.YNc(6,Et,1,2,"app-custom-tab",3),a.YNc(7,Kt,1,2,"app-custom-tab",3),a.YNc(8,wn,1,2,"app-custom-tab",3),a.YNc(9,rn,1,2,"app-custom-tab",3),a._UZ(10,"app-custom-tab",2),a.YNc(11,fn,1,2,"app-custom-tab",3),a._UZ(12,"app-custom-tab",2)(13,"app-custom-tab",4),a.qZA(),a.BQk(),a.qZA(),a.TgZ(14,"div",5),a._UZ(15,"router-outlet"),a.qZA(),a.TgZ(16,"app-button-bar")(17,"button",6),a.NdJ("click",function(){return Le.saveClient()}),a.TgZ(18,"span"),a._uU(19),a.ALo(20,"translate"),a.qZA()(),a.TgZ(21,"button",7),a.NdJ("click",function(){a.CHM(Bt);const Un=a.MAs(30);return a.KtG(Un.show())}),a.TgZ(22,"span"),a._uU(23),a.ALo(24,"translate"),a.qZA()(),a.ynx(25,8),a.TgZ(26,"button",9),a._uU(27),a.ALo(28,"translate"),a.qZA(),a.BQk(),a.qZA(),a._UZ(29,"app-clone-client",10,11),a.TgZ(31,"div",12)(32,"div",13)(33,"div",14)(34,"div",15)(35,"h5",16),a._uU(36),a.ALo(37,"translate"),a.qZA(),a.TgZ(38,"button",17),a._UZ(39,"span",18),a.TgZ(40,"span",19),a._uU(41),a.ALo(42,"translate"),a.qZA()()(),a.TgZ(43,"div",20)(44,"p",21),a._uU(45),a.ALo(46,"translate"),a.TgZ(47,"strong"),a._uU(48),a.qZA(),a._uU(49,"?"),a.qZA(),a._UZ(50,"p",22),a.ALo(51,"translate"),a.qZA(),a._UZ(52,"div",23),a.TgZ(53,"div",24)(54,"div",25)(55,"div",26)(56,"button",27),a.NdJ("click",function(){return Le.deleteClient(Le.client.id)}),a._uU(57),a.ALo(58,"translate"),a.qZA()(),a.TgZ(59,"button",28),a._uU(60),a.ALo(61,"translate"),a.qZA()()()()()(),a._UZ(62,"app-can-deactivate")}if(2&le){let Bt;a.Q6J("title",Le.client.clientName)("crumbs",a.VKq(58,lt,a.WLB(55,cn,a.lcZ(1,33,"Nav.Clients"),a.lcZ(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0),a.xp6(5),a.Q6J("tabTitle","Nav.Details")("tabValue","details"),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.saml.display),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.wsFed.display),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.applicationUrls.display),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.secrets.display),a.xp6(1),a.Q6J("tabTitle","Nav.Resources")("tabValue","resources"),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.ciba.display),a.xp6(1),a.Q6J("tabTitle","Common.Advanced")("tabValue","advanced"),a.xp6(1),a.Q6J("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Bt=null==Le.licenseInfo?null:Le.licenseInfo.isStarterLicense())&&void 0!==Bt&&Bt),a.xp6(4),a.Q6J("disabled",Le.submitDisabled),a.xp6(2),a.Oqu(a.lcZ(20,37,"Common.SaveAll")),a.xp6(2),a.Q6J("disabled",Le.isCloneDisabled()),a.xp6(2),a.Oqu(a.lcZ(24,39,"Clients.Clone.Label")),a.xp6(4),a.Oqu(a.lcZ(28,41,"Common.Delete.Title")),a.xp6(2),a.Q6J("client",Le.client)("clientType",Le.client.clientType),a.xp6(2),a.Q6J("config",a.DdM(60,tn)),a.xp6(5),a.Oqu(a.lcZ(37,43,"Common.Delete.Confirm")),a.xp6(5),a.Oqu(a.lcZ(42,45,"Common.Close")),a.xp6(4),a.hij("",a.lcZ(46,47,"Common.Delete.AreYouSureSimple")," "),a.xp6(3),a.Oqu(Le.client.clientName),a.xp6(2),a.Q6J("innerHTML",a.lcZ(51,49,"Common.Delete.Warning"),a.oJD),a.xp6(7),a.hij(" ",a.lcZ(58,51,"Common.Delete.Title")," "),a.xp6(3),a.Oqu(a.lcZ(61,53,"Common.Delete.No"))}},dependencies:[m.lC,t.O5,De.v,be.x,je.G,et.J,Qe.N,b.oB,ot,ce.X$,w.lO],encapsulation:2}),pe})();var gn=f(7579),Vn=f(3635),Mn=f(8675),qn=f(5577),ui=f(1005);class ci{constructor(nt){this.id=nt.id,this.clientId=nt.clientId,this.clientName=nt.clientName,this.description=nt.description,this.enabled=nt.enabled,this.selected=!1,this.nonEditable=nt.nonEditable,this.clientType=nt.clientType}}var $n=f(9046),In=f(5712),Pn=f(6887);class zn{}zn.RestrictedClientTypes=[ct.B.ServerSide,ct.B.ServerSidePKCE,ct.B.Native,ct.B.NativePKCE,ct.B.Device,ct.B.Saml,ct.B.WsFed,ct.B.LegacyClientSide];var ii=f(1060),ft=f(7696),yt=f(8163),ht=f(5925),xt=f(826),zt=f(7892),vn=f(9326),Zt=f(1330);class ti{constructor(nt){this.clientType=nt}}class vi{constructor(nt){this.clientType=nt}}let vr=(()=>{class pe{constructor(le){this.fb=le}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",e.kI.required]})}getStepSummary(){const le=new Map;return le.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===ct.B.BrowserBased||this.data.clientType===ct.B.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,It.RW)(this.callbackUrlForm.get("callbackUrl").value),le.set("corsurl",[this.corsUrl])),le}getStepDTO(){const le=this.getStepSummary(),Le={};return le.forEach((Bt,on)=>{"corsurl"===on&&(on="allowedCorsOrigins"),"callbackUrl"===on&&(on="redirectUris"),Le[on]=Bt}),Le}canNext(){return this.callbackUrlForm.valid}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(e.QS))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0),a._UZ(1,"p",1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"form",2)(4,"app-form-row",3),a._UZ(5,"input",4),a.qZA()()),2&le&&(a.xp6(1),a.Q6J("innerHTML",a.lcZ(2,6,"Clients.CallbackURL"),a.oJD),a.xp6(2),a.Q6J("formGroup",Le.callbackUrlForm),a.xp6(1),a.Q6J("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,bt.L,ce.X$],encapsulation:2}),pe})();class Rn{constructor(nt,le=We.Default){this.clientType=nt,this.clientIdKey=le}}function yi(pe,nt){1&pe&&(a.TgZ(0,"div")(1,"app-form-row",2),a._UZ(2,"input",13),a.qZA(),a.TgZ(3,"app-form-row",2),a._UZ(4,"input",14),a.qZA()()),2&pe&&(a.xp6(1),a.Q6J("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),a.xp6(2),a.Q6J("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function rr(pe,nt){1&pe&&(a.TgZ(0,"app-form-row",10)(1,"app-form-toggle",15),a._UZ(2,"input",16),a.qZA()()),2&pe&&(a.Q6J("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),a.xp6(1),a.Q6J("id","requireConsent"))}let ri=(()=>{class pe{constructor(le){this.fb=le,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[e.kI.required,e.kI.maxLength(100)]],clientName:["",[e.kI.required,e.kI.maxLength(50)]],description:["",e.kI.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===ct.B.Native||this.data.clientType===ct.B.NativePKCE||this.data.clientType===ct.B.BrowserBased||this.data.clientType===ct.B.LegacyClientSide||this.data.clientType===ct.B.ServerSide||this.data.clientType===ct.B.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new e.p4("",e.kI.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new e.p4("",e.kI.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new e.p4(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,It.qs)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const le=new Map;for(const Le in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(Le)&&le.set("clientId"===Le?this.clientIdKey:Le,[this.descriptionForm.value[Le]]);return le.delete("clientType"),le}getStepDTO(){const le=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(le.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(le.logoUri=null)),le}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(e.QS))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0)(1,"p"),a._uU(2),a.ALo(3,"translate"),a.qZA()(),a.TgZ(4,"div",1)(5,"app-form-row",2),a.ALo(6,"keyToString"),a.TgZ(7,"div",3),a._UZ(8,"input",4),a.TgZ(9,"button",5),a.NdJ("click",function(){return Le.setRandomID()}),a._UZ(10,"span",6),a.TgZ(11,"span",7),a._uU(12),a.ALo(13,"translate"),a.qZA()()()(),a.TgZ(14,"app-form-row",2),a._UZ(15,"input",8),a.qZA(),a.YNc(16,yi,5,6,"div",9),a.TgZ(17,"app-form-row",10)(18,"textarea",11),a.NdJ("blur",function(){return Le.desFocus=!Le.desFocus})("focus",function(){return Le.desFocus=!Le.desFocus}),a.qZA()(),a.YNc(19,rr,3,5,"app-form-row",12),a.qZA()),2&le&&(a.xp6(2),a.Oqu(a.lcZ(3,15,"Clients.EnterBasicDetails")),a.xp6(2),a.Q6J("formGroup",Le.descriptionForm),a.xp6(1),a.Q6J("id","ClientId")("label",a.lcZ(6,17,Le.clientIdKey))("help","Clients.IDHelp"),a.xp6(7),a.Oqu(a.lcZ(13,19,"Common.GenerateRandom")),a.xp6(2),a.Q6J("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),a.xp6(2),a.Q6J("ngIf",Le.hasExtraFields),a.xp6(1),a.Q6J("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!Le.hasExtraFields),a.xp6(2),a.Q6J("ngIf",Le.hasExtraFields))},dependencies:[t.O5,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,bt.L,pt.O,ce.X$,He.r],encapsulation:2}),pe})();var Gi=f(6055),Di=f(1660);const Bi=["secretPicker"];let pr=(()=>{class pe{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const le=new Map;return le.set("secrets",this.secrets.map(Le=>Le.type)),le}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(le=>{this.secretPicker.clientSecrets.push(le)}),this.secretPicker.secretsRemoveStream.subscribe(le=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(le),1)})}filePickerStateChanged(le){this.filePickerClosed=!le}}return pe.\u0275fac=function(le){return new(le||pe)},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-client-secret-picker"]],viewQuery:function(le,Le){if(1&le&&a.Gf(Bi,7),2&le){let Bt;a.iGM(Bt=a.CRH())&&(Le.secretPicker=Bt.first)}},decls:5,vars:6,consts:[[1,"tw-mb-4"],[3,"clientSecrets","nonModelCertPicker","showCreatedColumn","filepickerDisplayed"],["secretPicker",""]],template:function(le,Le){1&le&&(a.TgZ(0,"p",0),a._uU(1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"app-secret-picker",1,2),a.NdJ("filepickerDisplayed",function(on){return Le.filePickerStateChanged(on)}),a.qZA()),2&le&&(a.xp6(1),a.Oqu(a.lcZ(2,4,"Clients.NativeApp.Secrets")),a.xp6(2),a.Q6J("clientSecrets",Le.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[Di.P,ce.X$],encapsulation:2,data:{animation:[(0,Gi.Ic)()]}}),pe})();function $i(pe,nt){1&pe&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.SloEndpoints")))}function Wt(pe,nt){1&pe&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.AcsEndpoints")))}function Fn(pe,nt){1&pe&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.ArsEndpoints")))}function kt(pe,nt){1&pe&&(a.TgZ(0,"option",13),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Post")))}function Yt(pe,nt){1&pe&&(a.TgZ(0,"option",14),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Redirect")))}function En(pe,nt){1&pe&&(a.TgZ(0,"option",15),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Artifact")))}function Ln(pe,nt){1&pe&&(a.TgZ(0,"option",16),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Soap")))}let ki=(()=>{class pe{constructor(le){this.fb=le}hosted(){}ngOnInit(){const le=[e.kI.pattern("^https?://.*$")],Le=[];"ACSEndpoint"===this.data.endpointType&&(le.push(e.kI.required),Le.push(e.kI.required)),this.endpointForm=this.fb.group({location:["",le],index:[0,[e.kI.min(0),e.kI.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",Le]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const le=this.endpointForm.get("location"),Le=this.endpointForm.get("binding");this.valueChangesSub=le.valueChanges.subscribe(Bt=>{Le.setValidators(Bt.length>0?e.kI.required:null),Le.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let le,Le;switch(this.data.endpointType){case"SLOEndpoint":le="SLOBindingType",Le="SLOEndpointIndex";break;case"ACSEndpoint":le="ACSBindingType",Le="ACSEndpointIndex";break;default:le="ARSBindingType",Le="ARSEndpointIndex"}const Bt=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[le]:this.endpointForm.get("binding").value,[Le]:Bt}}}canNext(){return this.endpointForm.valid}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(e.QS))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0),a.YNc(1,$i,3,3,"p",1),a.YNc(2,Wt,3,3,"p",1),a.YNc(3,Fn,3,3,"p",1),a.qZA(),a.TgZ(4,"form",2)(5,"app-form-row",3),a._UZ(6,"input",4),a.qZA(),a.TgZ(7,"app-form-row",3)(8,"div",5)(9,"select",6),a.YNc(10,kt,3,3,"option",7),a.YNc(11,Yt,3,3,"option",8),a.YNc(12,En,3,3,"option",9),a.YNc(13,Ln,3,3,"option",10),a.qZA()()(),a.TgZ(14,"app-form-row",11),a._UZ(15,"input",12),a.qZA()()),2&le&&(a.xp6(1),a.Q6J("ngIf","SLOEndpoint"==Le.data.endpointType),a.xp6(1),a.Q6J("ngIf","ACSEndpoint"==Le.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"==Le.data.endpointType),a.xp6(1),a.Q6J("formGroup",Le.endpointForm),a.xp6(1),a.Q6J("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==Le.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==Le.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),a.xp6(2),a.Q6J("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),a.xp6(3),a.Q6J("ngIf","ARSEndpoint"!=Le.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"!=Le.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"!=Le.data.endpointType),a.xp6(1),a.Q6J("ngIf","ARSEndpoint"==Le.data.endpointType),a.xp6(1),a.Q6J("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[t.O5,e._Y,e.YN,e.Kr,e.Fj,e.wV,e.EJ,e.JJ,e.JL,e.qQ,e.sg,e.u,bt.L,ce.X$],encapsulation:2}),pe})(),qe=(()=>{class pe{constructor(le){this.fb=le}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",e.kI.pattern("^https?://.*$")]})}getStepSummary(){const le="logoutUrl",Le=new Map,Bt=this.logoutUrlForm.value[le];return(0,It.Ew)(Bt)||Le.set(le,[Bt]),Le}getStepDTO(){const le=this.logoutUrlForm.value.logoutUrl;return(0,It.Ew)(le)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[le]}}canNext(){return this.logoutUrlForm.valid}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(e.QS))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0),a._UZ(1,"p",1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"form",2)(4,"app-form-row",3),a._UZ(5,"input",4),a.qZA()()),2&le&&(a.xp6(1),a.Q6J("innerHTML",a.lcZ(2,6,"Clients.PostLogoutURL"),a.oJD),a.xp6(2),a.Q6J("formGroup",Le.logoutUrlForm),a.xp6(1),a.Q6J("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,bt.L,ce.X$],encapsulation:2}),pe})(),ut=(()=>{class pe{constructor(le){this.fb=le}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",e.kI.required],pollingInterval:["",e.kI.required]})}getStepSummary(){const le=new Map;return le.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),le.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===ct.B.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,le.set("cibaLifetime",[this.cibaLifetime.toString()]),le.set("pollingInterval",[this.pollingInterval.toString()])),le}getStepDTO(){const le=this.getStepSummary(),Le={};return le.forEach((Bt,on)=>{"cibaLifetime"===on&&(on="cibaLifetime"),"pollingInterval"===on&&(on="pollingInterval"),Le[on]=Bt[0]}),Le}canNext(){return this.cibaConfigForm.valid}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(e.QS))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0),a._UZ(1,"p",1),a.ALo(2,"translate"),a.qZA(),a.TgZ(3,"form",2)(4,"app-form-row",3),a._UZ(5,"input",4),a.qZA(),a.TgZ(6,"app-form-row",5),a._UZ(7,"input",6),a.qZA()()),2&le&&(a.xp6(1),a.Q6J("innerHTML",a.lcZ(2,9,"Clients.CIBAConfiguration"),a.oJD),a.xp6(2),a.Q6J("formGroup",Le.cibaConfigForm),a.xp6(1),a.Q6J("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),a.xp6(2),a.Q6J("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[e._Y,e.Fj,e.wV,e.JJ,e.JL,e.sg,e.u,bt.L,ce.X$],encapsulation:2}),pe})();const Pt=["commonPicker"];let un=(()=>{class pe{constructor(le,Le){this.wizardResourceService=Le,this.resourceType=le}hosted(){}ngOnInit(){}getStepSummary(){const Le=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(Bt=>Bt.name);return new Map([[this.resourceType,Le]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(Bt=>Bt.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}}return pe.\u0275fac=function(le){a.$Z()},pe.\u0275dir=a.lG2({type:pe,viewQuery:function(le,Le){if(1&le&&a.Gf(Pt,7),2&le){let Bt;a.iGM(Bt=a.CRH())&&(Le.commonPicker=Bt.first)}}}),pe})();var hn=f(8506),Dn=f(7305),Nn=f(8098);function Ii(pe,nt){1&pe&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.ProtectedResourcesAccess")))}function Ci(pe,nt){1&pe&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.IdentityResourcesAccess")))}let Xn=(()=>{class pe extends un{constructor(le,Le){super("identityResources",Le),this.identityResourceService=le,this.wizardResourceService=Le,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(le=>{const Le=le.find(Bt=>"openid"===Bt.name);Le&&(le.splice(le.indexOf(Le),1),this.assignedResources=[Le],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=le})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(le=>{this.resources=(0,It.mn)(this.resources.slice(),le);const Le=this.assignedResources.slice();this.assignedResources=Le.concat(le),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(le=>{const Le=this.resources;this.assignedResources=(0,It.mn)(this.assignedResources.slice(),le),this.resources=Le.concat(le),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(hn.Q),a.Y36(Dn.j))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["ng-component"]],features:[a.qOj],decls:5,vars:4,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"],["commonPicker",""]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0),a.YNc(1,Ii,3,3,"p",1),a.YNc(2,Ci,3,3,"p",1),a.qZA(),a._UZ(3,"app-common-picker",2,3)),2&le&&(a.xp6(1),a.Q6J("ngIf","protectedResources"==Le.resourceType),a.xp6(1),a.Q6J("ngIf","identityResources"==Le.resourceType),a.xp6(1),a.Q6J("assignedInput",Le.assignedResources)("availableInput",Le.resources))},dependencies:[t.O5,Nn.v,ce.X$],encapsulation:2}),pe})();var fr=f(7733);function mr(pe,nt){1&pe&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.ProtectedResourcesAccess")))}function Ir(pe,nt){1&pe&&(a.TgZ(0,"p"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.IdentityResourcesAccess")))}let Mi=(()=>{class pe extends un{constructor(le,Le){super("protectedResources",Le),this.protectedResourceService=le,this.wizardResourceService=Le,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(le=>{const Le=[];le.forEach(Bt=>{Bt.scopes.forEach(on=>{Le.find(Un=>Un.name==on.name)||Le.push(on)})}),this.resources=Le})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(le=>{this.resources=(0,It.mn)(this.resources.slice(),le);const Le=this.assignedResources.slice();this.assignedResources=Le.concat(le),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(le=>{const Le=this.resources;this.assignedResources=(0,It.mn)(this.assignedResources.slice(),le),this.resources=Le.concat(le),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(fr.m),a.Y36(Dn.j))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["ng-component"]],features:[a.qOj],decls:5,vars:4,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"],["commonPicker",""]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0),a.YNc(1,mr,3,3,"p",1),a.YNc(2,Ir,3,3,"p",1),a.qZA(),a._UZ(3,"app-common-picker",2,3)),2&le&&(a.xp6(1),a.Q6J("ngIf","protectedResources"==Le.resourceType),a.xp6(1),a.Q6J("ngIf","identityResources"==Le.resourceType),a.xp6(1),a.Q6J("assignedInput",Le.assignedResources)("availableInput",Le.resources))},dependencies:[t.O5,Nn.v,ce.X$],encapsulation:2}),pe})();class Fr extends zt.A{constructor(){super(),this.nameComponentMap.set(Zt.Q.SinglePageApplication,[new xt.H(ri,new Rn(ct.B.BrowserBased)),new xt.H(vr,new vi(ct.B.BrowserBased)),new xt.H(qe,new ti(ct.B.BrowserBased)),new xt.H(Xn,{}),new xt.H(Mi,{})]),this.nameComponentMap.set(Zt.Q.LegacySinglePageApplication,[new xt.H(ri,new Rn(ct.B.LegacyClientSide)),new xt.H(vr,new vi(ct.B.LegacyClientSide)),new xt.H(qe,new ti(ct.B.LegacyClientSide)),new xt.H(Xn,{}),new xt.H(Mi,{})]),this.nameComponentMap.set(Zt.Q.SamlApplication,[new xt.H(ri,new Rn(ct.B.Saml,We.Saml)),new xt.H(ki,{endpointType:"ACSEndpoint"}),new xt.H(ki,{endpointType:"SLOEndpoint"}),new xt.H(ki,{endpointType:"ARSEndpoint"}),new xt.H(Xn)]),this.nameComponentMap.set(Zt.Q.WsFedApplication,[new xt.H(ri,new Rn(ct.B.WsFed,We.WsFed)),new xt.H(vr,new vi(ct.B.WsFed)),new xt.H(Xn)]),this.nameComponentMap.set(Zt.Q.DeviceApplication,[new xt.H(ri,new Rn(ct.B.Device)),new xt.H(Mi,{}),new xt.H(Xn,{})]),this.nameComponentMap.set(Zt.Q.RobotApplication,[new xt.H(ri,new Rn(ct.B.Machine)),new xt.H(Mi,{}),new xt.H(pr,{})]),this.nameComponentMap.set(Zt.Q.CIBARobotApplication,[new xt.H(ri,new Rn(ct.B.CIBAMachine)),new xt.H(Xn,{}),new xt.H(Mi,{}),new xt.H(pr,{}),new xt.H(ut,{})]),this.nameComponentMap.set(Zt.Q.NativeApplication,[new xt.H(ri,new Rn(ct.B.Native)),new xt.H(vr,new vi(ct.B.Native)),new xt.H(pr,{}),new xt.H(Xn,{}),new xt.H(Mi,{})]),this.nameComponentMap.set(Zt.Q.PKCENativeApplication,[new xt.H(ri,new Rn(ct.B.NativePKCE)),new xt.H(vr,new vi(ct.B.NativePKCE)),new xt.H(pr,{}),new xt.H(Xn,{}),new xt.H(Mi,{})]),this.nameComponentMap.set(Zt.Q.WebApplication,[new xt.H(ri,new Rn(ct.B.ServerSide)),new xt.H(vr,new vi(ct.B.ServerSide)),new xt.H(qe,new ti(ct.B.ServerSide)),new xt.H(pr,{}),new xt.H(Xn,{}),new xt.H(Mi,{})]),this.nameComponentMap.set(Zt.Q.PKCEWebApplication,[new xt.H(ri,new Rn(ct.B.ServerSidePKCE)),new xt.H(vr,new vi(ct.B.ServerSidePKCE)),new xt.H(qe,new ti(ct.B.ServerSidePKCE)),new xt.H(pr,{}),new xt.H(Xn,{}),new xt.H(Mi,{})]),this.nameTitleMap.set(Zt.Q.SinglePageApplication,new vn.K("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(Zt.Q.LegacySinglePageApplication,new vn.K("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(Zt.Q.DeviceApplication,new vn.K("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(Zt.Q.RobotApplication,new vn.K("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(Zt.Q.CIBARobotApplication,new vn.K("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(Zt.Q.NativeApplication,new vn.K("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Zt.Q.PKCENativeApplication,new vn.K("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Zt.Q.WebApplication,new vn.K("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(Zt.Q.PKCEWebApplication,new vn.K("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(Zt.Q.SamlApplication,new vn.K("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(Zt.Q.WsFedApplication,new vn.K("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(nt){return this.nameComponentMap.get(nt)}getWizardTitle(nt){return this.nameTitleMap.get(nt)}}var Qi=f(9141),ar=f(1503),ts=f(5221);function Ws(pe,nt){}function qs(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.nextTab())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&pe){const le=a.oxw();a.Q6J("disabled",!le.canNext()),a.xp6(1),a.Oqu(a.lcZ(2,2,"Common.Next"))}}function _s(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.submit())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Save")))}function js(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.previousTab())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Back")))}function ns(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.cancelWizard())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Back")))}let bs=(()=>{class pe extends Qi.G{constructor(le,Le,Bt,on){super(),this.clientsService=le,this.errorService=Le,this.toastr=Bt,this.translate=on,this.wizardProvider=new Fr,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const le=[];this.wizardSteps.forEach((Le,Bt)=>{const Un=this.components.get(Bt).instance.getStepSummary();null!=Un&&le.push({stepName:`ClientStep${Bt}`,stepData:Un})}),this.displaySummaryComponent(le)}displaySummaryComponent(le){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(ar.q)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=le,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,at.P)()).subscribe(Le=>{this.index=le.findIndex(Bt=>Bt.stepName===Le),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let le={};return this.wizardSteps.forEach((Le,Bt)=>{const Un=this.components.get(Bt).instance.getStepDTO();le=Object.assign({},le,Un)}),le}submit(){const le=this.getWizardDto();this.clientsService.addClient(le).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+le.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:Le=>{this.errorService.handleError(Le)}})}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(k.a),a.Y36(U.T),a.Y36(Ve._W),a.Y36(ce.sK))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-client-wizard-host"]],features:[a._Bn([k.a]),a.qOj],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0)(1,"h5",1),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return Le.hideWizard()}),a._UZ(5,"span",3),a.TgZ(6,"span",4),a._uU(7),a.ALo(8,"translate"),a.qZA()()(),a.TgZ(9,"div",5),a._UZ(10,"div",6),a.qZA(),a.TgZ(11,"div",7),a.YNc(12,Ws,0,0,"ng-template",8),a.qZA(),a._UZ(13,"div",9),a.TgZ(14,"div",10)(15,"div",11)(16,"div",12),a.YNc(17,qs,3,4,"button",13),a.YNc(18,_s,3,3,"button",14),a.YNc(19,js,3,3,"button",15),a.YNc(20,ns,3,3,"button",15),a.qZA(),a.TgZ(21,"button",16),a.NdJ("click",function(){return Le.cancelWizard()}),a._uU(22),a.ALo(23,"translate"),a.qZA()()()),2&le&&(a.xp6(1),a.Q6J("id",Le.titleId),a.xp6(1),a.Oqu(a.lcZ(3,11,Le.wizardTitles.setupTitle)),a.xp6(5),a.Oqu(a.lcZ(8,13,"Common.Close")),a.xp6(3),a.Udp("width",Le.progressPercent+"%"),a.uIk("aria-valuenow",Le.progressPercent),a.xp6(7),a.Q6J("ngIf",Le.index<(null==Le.wizardSteps?null:Le.wizardSteps.length)),a.xp6(1),a.Q6J("ngIf",Le.index==(null==Le.wizardSteps?null:Le.wizardSteps.length)),a.xp6(1),a.Q6J("ngIf",Le.index>0),a.xp6(1),a.Q6J("ngIf",Le.index<=0),a.xp6(2),a.Oqu(a.lcZ(23,15,"Common.Cancel")))},dependencies:[t.O5,ts.S,ce.X$],encapsulation:2}),pe})();function Ys(pe,nt){1&pe&&a.GkF(0)}function ks(pe,nt){1&pe&&a.GkF(0)}function Jr(pe,nt){1&pe&&a.GkF(0)}function sr(pe,nt){1&pe&&a.GkF(0)}function Pi(pe,nt){1&pe&&a.GkF(0)}function vs(pe,nt){1&pe&&a.GkF(0)}function Gn(pe,nt){1&pe&&a.GkF(0)}function ws(pe,nt){1&pe&&a.GkF(0)}const Hn=function(pe,nt,le,Le){return{id:"spaBtn",btnId:"spaTestBtn",title:pe,summary:nt,icon:"fab fa-chrome",selected:le,type:Le}},yr=function(pe,nt,le,Le){return{id:"webAppBtn",btnId:"webAppTestBtn",title:pe,summary:nt,icon:"fas fa-globe",selected:le,type:Le}},Mr=function(pe,nt,le,Le){return{id:"nativeBtn",btnId:"nativeTestBtn",title:pe,summary:nt,icon:"fas fa-mobile-alt",selected:le,type:Le}},os=function(pe,nt,le,Le){return{id:"robotBtn",btnId:"robotTestBtn",title:pe,summary:nt,icon:"fas fa-microchip",selected:le,type:Le}},zr=function(pe,nt,le,Le){return{id:"deviceBtn",btnId:"deviceTestBtn",title:pe,summary:nt,icon:"fas fa-wifi",selected:le,type:Le}},Wr=function(pe,nt,le,Le){return{id:"samlBtn",btnId:"samlTestBtn",title:pe,summary:nt,icon:"fas fa-code",selected:le,type:Le}},Cr=function(pe,nt,le,Le){return{id:"wsfedBtn",btnId:"wsfedTestBtn",title:pe,summary:nt,icon:"far fa-id-card",selected:le,type:Le}},cs=function(pe,nt,le,Le){return{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:pe,summary:nt,icon:"fab fa-chrome",selected:le,type:Le}};function nr(pe,nt){if(1&pe&&(a.TgZ(0,"div",27)(1,"ul",28),a.YNc(2,Ys,1,0,"ng-container",29),a.ALo(3,"translate"),a.ALo(4,"translate"),a.YNc(5,ks,1,0,"ng-container",29),a.ALo(6,"translate"),a.ALo(7,"translate"),a.YNc(8,Jr,1,0,"ng-container",29),a.ALo(9,"translate"),a.ALo(10,"translate"),a.YNc(11,sr,1,0,"ng-container",29),a.ALo(12,"translate"),a.ALo(13,"translate"),a.YNc(14,Pi,1,0,"ng-container",29),a.ALo(15,"translate"),a.ALo(16,"translate"),a.YNc(17,vs,1,0,"ng-container",29),a.ALo(18,"translate"),a.ALo(19,"translate"),a.YNc(20,Gn,1,0,"ng-container",29),a.ALo(21,"translate"),a.ALo(22,"translate"),a.YNc(23,ws,1,0,"ng-container",29),a.ALo(24,"translate"),a.ALo(25,"translate"),a.qZA()()),2&pe){a.oxw();const le=a.MAs(21),Le=a.oxw();a.xp6(2),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(48,Hn,a.lcZ(3,16,"Clients.SPA.Title"),a.lcZ(4,18,"Clients.SPA.Summary"),Le.activeType===Le.wizardTypes.SinglePageApplication,Le.wizardTypes.SinglePageApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(53,yr,a.lcZ(6,20,"Clients.WebApp.Title"),a.lcZ(7,22,"Clients.WebApp.Summary"),Le.activeType===Le.wizardTypes.WebApplication||Le.activeType===Le.wizardTypes.PKCEWebApplication,Le.wizardTypes.PKCEWebApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(58,Mr,a.lcZ(9,24,"Clients.NativeApp.Title"),a.lcZ(10,26,"Clients.PKCENativeApp.Summary"),Le.activeType===Le.wizardTypes.PKCENativeApplication||Le.activeType==Le.wizardTypes.NativeApplication,Le.wizardTypes.PKCENativeApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(63,os,a.lcZ(12,28,"Clients.MachineToMachine.Title"),a.lcZ(13,30,"Clients.MachineToMachine.Summary"),Le.activeType===Le.wizardTypes.RobotApplication,Le.wizardTypes.RobotApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(68,zr,a.lcZ(15,32,"Clients.DeviceFlow.Title"),a.lcZ(16,34,"Clients.DeviceFlow.Summary"),Le.activeType===Le.wizardTypes.DeviceApplication,Le.wizardTypes.DeviceApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(73,Wr,a.lcZ(18,36,"Clients.Saml.Title"),a.lcZ(19,38,"Clients.Saml.Summary"),Le.activeType===Le.wizardTypes.SamlApplication,Le.wizardTypes.SamlApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(78,Cr,a.lcZ(21,40,"Clients.WsFed.Title"),a.lcZ(22,42,"Clients.WsFed.Summary"),Le.activeType===Le.wizardTypes.WsFedApplication,Le.wizardTypes.WsFedApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(83,cs,a.lcZ(24,44,"Clients.LegacySPA.Title"),a.lcZ(25,46,"Clients.LegacySPA.Summary"),Le.activeType===Le.wizardTypes.LegacySinglePageApplication,Le.wizardTypes.LegacySinglePageApplication))}}function br(pe,nt){1&pe&&a.GkF(0)}function us(pe,nt){1&pe&&a.GkF(0)}function wr(pe,nt){1&pe&&a.GkF(0)}function Oi(pe,nt){1&pe&&a.GkF(0)}function Xr(pe,nt){1&pe&&a.GkF(0)}function ps(pe,nt){1&pe&&a.GkF(0)}function Os(pe,nt){1&pe&&a.GkF(0)}function Zr(pe,nt){1&pe&&a.GkF(0)}const Ts=function(pe,nt,le,Le){return{id:"webAppBtn",btnId:"webAppTestBtn",title:pe,summary:nt,icon:"fas fa-globe",selected:le,starterModeProtected:!0,type:Le}},Zi=function(pe,nt,le,Le){return{id:"nativeBtn",btnId:"nativeTestBtn",title:pe,summary:nt,icon:"fas fa-mobile-alt",selected:le,starterModeProtected:!0,type:Le}},As=function(pe,nt,le,Le){return{id:"deviceBtn",btnId:"deviceTestBtn",title:pe,summary:nt,icon:"fas fa-wifi",selected:le,starterModeProtected:!0,type:Le}},co=function(pe,nt,le,Le){return{id:"samlBtn",btnId:"samlTestBtn",title:pe,summary:nt,icon:"fas fa-code",selected:le,starterModeProtected:!0,type:Le}},Gr=function(pe,nt,le,Le){return{id:"wsfedBtn",btnId:"wsfedTestBtn",title:pe,summary:nt,icon:"far fa-id-card",selected:le,starterModeProtected:!0,type:Le}},as=function(pe,nt,le,Le){return{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:pe,summary:nt,icon:"fab fa-chrome",selected:le,starterModeProtected:!0,type:Le}};function Ps(pe,nt){if(1&pe&&(a.TgZ(0,"div",30)(1,"h6",31),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"ul",28),a.YNc(5,br,1,0,"ng-container",29),a.ALo(6,"translate"),a.ALo(7,"translate"),a.YNc(8,us,1,0,"ng-container",29),a.ALo(9,"translate"),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"h6",31),a._uU(12),a.ALo(13,"translate"),a.qZA(),a.TgZ(14,"ul",28),a.YNc(15,wr,1,0,"ng-container",29),a.ALo(16,"translate"),a.ALo(17,"translate"),a.YNc(18,Oi,1,0,"ng-container",29),a.ALo(19,"translate"),a.ALo(20,"translate"),a.YNc(21,Xr,1,0,"ng-container",29),a.ALo(22,"translate"),a.ALo(23,"translate"),a.YNc(24,ps,1,0,"ng-container",29),a.ALo(25,"translate"),a.ALo(26,"translate"),a.YNc(27,Os,1,0,"ng-container",29),a.ALo(28,"translate"),a.ALo(29,"translate"),a.YNc(30,Zr,1,0,"ng-container",29),a.ALo(31,"translate"),a.ALo(32,"translate"),a.qZA()()),2&pe){a.oxw();const le=a.MAs(21),Le=a.oxw();a.xp6(2),a.Oqu(a.lcZ(3,18,"StarterMode.Clients.Basic")),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(54,Hn,a.lcZ(6,20,"Clients.SPA.Title"),a.lcZ(7,22,"Clients.SPA.Summary"),Le.activeType===Le.wizardTypes.SinglePageApplication,Le.wizardTypes.SinglePageApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(59,os,a.lcZ(9,24,"Clients.MachineToMachine.Title"),a.lcZ(10,26,"Clients.MachineToMachine.Summary"),Le.activeType===Le.wizardTypes.RobotApplication,Le.wizardTypes.RobotApplication)),a.xp6(4),a.Oqu(a.lcZ(13,28,"StarterMode.Clients.Enterprise")),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(64,Ts,a.lcZ(16,30,"Clients.WebApp.Title"),a.lcZ(17,32,"Clients.WebApp.Summary"),Le.activeType===Le.wizardTypes.WebApplication||Le.activeType===Le.wizardTypes.PKCEWebApplication,Le.wizardTypes.PKCEWebApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(69,Zi,a.lcZ(19,34,"Clients.NativeApp.Title"),a.lcZ(20,36,"Clients.PKCENativeApp.Summary"),Le.activeType===Le.wizardTypes.PKCENativeApplication||Le.activeType==Le.wizardTypes.NativeApplication,Le.wizardTypes.PKCENativeApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(74,As,a.lcZ(22,38,"Clients.DeviceFlow.Title"),a.lcZ(23,40,"Clients.DeviceFlow.Summary"),Le.activeType===Le.wizardTypes.DeviceApplication,Le.wizardTypes.DeviceApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(79,co,a.lcZ(25,42,"Clients.Saml.Title"),a.lcZ(26,44,"Clients.Saml.Summary"),Le.activeType===Le.wizardTypes.SamlApplication,Le.wizardTypes.SamlApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(84,Gr,a.lcZ(28,46,"Clients.WsFed.Title"),a.lcZ(29,48,"Clients.WsFed.Summary"),Le.activeType===Le.wizardTypes.WsFedApplication,Le.wizardTypes.WsFedApplication)),a.xp6(3),a.Q6J("ngTemplateOutlet",le)("ngTemplateOutletContext",a.l5B(89,as,a.lcZ(31,50,"Clients.LegacySPA.Title"),a.lcZ(32,52,"Clients.LegacySPA.Summary"),Le.activeType===Le.wizardTypes.LegacySinglePageApplication,Le.wizardTypes.LegacySinglePageApplication))}}function Ns(pe,nt){if(1&pe&&(a.TgZ(0,"option",38),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe){const le=nt.$implicit;a.Q6J("value",le),a.xp6(1),a.Oqu(a.lcZ(2,2,"Clients.WizardTypes."+le))}}function Ss(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"form",32)(1,"app-form-row",33)(2,"div",34)(3,"select",35,36),a.NdJ("change",function(){a.CHM(le);const Bt=a.MAs(4),on=a.oxw(2);return a.KtG(on.setActive(Bt.value))}),a.YNc(5,Ns,3,4,"option",37),a.qZA()()()()}if(2&pe){const le=a.oxw(2);a.Q6J("formGroup",le.webAppSelectForm),a.xp6(1),a.Q6J("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.xp6(4),a.Q6J("ngForOf",le.webAppTypes)}}function Vi(pe,nt){if(1&pe&&(a.TgZ(0,"option",38),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe){const le=nt.$implicit;a.Q6J("value",le),a.xp6(1),a.Oqu(a.lcZ(2,2,"Clients.WizardTypes."+le))}}function mo(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"form",39)(1,"app-form-row",33)(2,"div",34)(3,"select",40,41),a.NdJ("change",function(){a.CHM(le);const Bt=a.MAs(4),on=a.oxw(2);return a.KtG(on.setActive(Bt.value))}),a.YNc(5,Vi,3,4,"option",37),a.qZA()()()()}if(2&pe){const le=a.oxw(2);a.Q6J("formGroup",le.robotAppSelectForm),a.xp6(1),a.Q6J("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.xp6(4),a.Q6J("ngForOf",le.robotAppTypes)}}function Or(pe,nt){if(1&pe&&(a.TgZ(0,"option",38),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe){const le=nt.$implicit;a.Q6J("value",le),a.xp6(1),a.Oqu(a.lcZ(2,2,"Clients.WizardTypes."+le))}}function go(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"form",42)(1,"app-form-row",33)(2,"div",34)(3,"select",43,44),a.NdJ("change",function(){a.CHM(le);const Bt=a.MAs(4),on=a.oxw(2);return a.KtG(on.setActive(Bt.value))}),a.YNc(5,Or,3,4,"option",37),a.qZA()()()()}if(2&pe){const le=a.oxw(2);a.Q6J("formGroup",le.nativeAppSelectForm),a.xp6(1),a.Q6J("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.xp6(4),a.Q6J("ngForOf",le.nativeAppTypes)}}function Fi(pe,nt){1&pe&&(a.TgZ(0,"span",9),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Selected")))}const Tr=function(pe,nt){return{"tw-bg-green-200":pe,"tw-bg-primary-200":nt}},Nr=function(pe,nt,le){return{"tw-bg-green-500":pe,"tw-bg-primary-500":nt,"tw-bg-grey-200":le}},si=function(pe,nt,le){return{"tw-text-white":pe,"tw-text-secondary-500":nt,"tw-text-grey-400 group-hover:tw-text-grey-700":le}},Ls=function(pe,nt){return{"fas fa-check tw-text-xl trans":pe,"far fa-arrow-alt-circle-up tw-text-2xl":nt}},lr=function(pe,nt,le){return{"tw-text-green-800":pe,"tw-text-primary-800":nt,"tw-text-navy-500":le}},Qr=function(pe,nt,le){return{"tw-text-green-600":pe,"tw-text-primary-600":nt,"tw-text-grey-600":le}},uo=function(pe,nt,le){return{"tw-text-green-500":pe,"tw-text-primary-500":nt,"tw-text-grey-300":le}};function Ni(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"li",45)(1,"input",46),a.NdJ("click",function(){const on=a.CHM(le).type,Un=a.oxw(2);return a.KtG(Un.setActive(on))}),a.qZA(),a.TgZ(2,"label",47),a.NdJ("click",function(){const on=a.CHM(le).type,Un=a.oxw(2);return a.KtG(Un.setActive(on))}),a.TgZ(3,"div",48)(4,"span",49),a._UZ(5,"span",49),a.qZA(),a.YNc(6,Fi,3,3,"span",50),a.qZA(),a.TgZ(7,"div",51)(8,"span",52),a._uU(9),a.qZA(),a.TgZ(10,"span",53),a._uU(11),a.qZA()(),a.TgZ(12,"div",54),a._UZ(13,"span",49),a.qZA()()()}if(2&pe){const le=nt.id,Le=nt.btnId,Bt=nt.title,on=nt.summary,Un=nt.icon,wi=nt.selected,ls=nt.type,qr=nt.starterModeProtected,xr=a.oxw(2);a.s9C("id",le),a.xp6(1),a.s9C("id",Le),a.s9C("value",ls),a.Q6J("ngModel",xr.activeType),a.xp6(1),a.s9C("for",Le),a.Q6J("ngClass",a.WLB(18,Tr,wi&&!qr,wi&&qr)),a.xp6(1),a.Q6J("ngClass",a.kEZ(21,Nr,wi&&!qr,wi&&qr,!wi)),a.xp6(1),a.Q6J("ngClass",a.kEZ(25,si,wi&&!qr,wi&&qr,!wi)),a.xp6(1),a.Q6J("ngClass",a.WLB(29,Ls,!qr,qr)),a.xp6(1),a.Q6J("ngIf",wi),a.xp6(2),a.Q6J("ngClass",a.kEZ(32,lr,wi&&!qr,wi&&qr,!wi)),a.xp6(1),a.hij(" ",Bt," "),a.xp6(1),a.Q6J("ngClass",a.kEZ(36,Qr,wi&&!qr,wi&&qr,!wi)),a.xp6(1),a.hij(" ",on," "),a.xp6(2),a.Gre("",Un," tw-text-3xl trans"),a.Q6J("ngClass",a.kEZ(40,uo,wi&&!qr,wi&&qr,!wi))}}function Ar(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Home.Title")))}function jr(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.SPA.Title")))}function Rr(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.WebApp.Title")))}function _n(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.NativeApp.Title")))}function oi(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.MachineToMachine.Title")))}function fs(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.CIBAMachineToMachine.Title")))}function di(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.DeviceFlow.Title")))}function qi(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.Saml.Title")))}function Ie(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.WsFed.Title")))}function ge(pe,nt){1&pe&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Clients.LegacySPA.Title")))}function ne(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.Home.Description"),a.oJD)}function Xe(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.SPA.Description"),a.oJD)}function nn(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.WebApp.Description"),a.oJD)}function Bn(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.NativeApp.Description"),a.oJD)}function Wi(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.MachineToMachine.Description"),a.oJD)}function kr(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.CIBAMachineToMachine.Description"),a.oJD)}function Pr(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.DeviceFlow.Description"),a.oJD)}function Yi(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.Saml.Description"),a.oJD)}function mi(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.WsFed.Description"),a.oJD)}function Me(pe,nt){1&pe&&(a._UZ(0,"p",55),a.ALo(1,"translate")),2&pe&&a.Q6J("innerHTML",a.lcZ(1,1,"Clients.LegacySPA.Description"),a.oJD)}function Je(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"button",56),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw(2);return a.KtG(Bt.redirectToUpgrade())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&pe){const le=a.oxw(2);a.Q6J("disabled",!le.protectedWizardTypeSelected),a.xp6(1),a.Oqu(a.lcZ(2,2,"StarterMode.UpgradeAdminUI"))}}function At(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"div")(1,"div",1)(2,"h5",2),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.hide())}),a.ALo(6,"translate"),a._UZ(7,"span",4),a.qZA()(),a.TgZ(8,"div",5),a._UZ(9,"div",6,7),a.qZA(),a.TgZ(11,"div",8)(12,"p",9),a._uU(13),a.ALo(14,"translate"),a.qZA(),a.YNc(15,nr,26,88,"div",10),a.YNc(16,Ps,33,94,"div",11),a.YNc(17,Ss,6,5,"form",12),a.YNc(18,mo,6,5,"form",13),a.YNc(19,go,6,5,"form",14),a.YNc(20,Ni,14,44,"ng-template",null,15,a.W1O),a.TgZ(22,"div",16)(23,"h2",17),a._UZ(24,"span",18),a.YNc(25,Ar,3,3,"span",0),a.YNc(26,jr,3,3,"span",0),a.YNc(27,Rr,3,3,"span",0),a.YNc(28,_n,3,3,"span",0),a.YNc(29,oi,3,3,"span",0),a.YNc(30,fs,3,3,"span",0),a.YNc(31,di,3,3,"span",0),a.YNc(32,qi,3,3,"span",0),a.YNc(33,Ie,3,3,"span",0),a.YNc(34,ge,3,3,"span",0),a.qZA(),a.YNc(35,ne,2,3,"p",19),a.YNc(36,Xe,2,3,"p",19),a.YNc(37,nn,2,3,"p",19),a.YNc(38,Bn,2,3,"p",19),a.YNc(39,Wi,2,3,"p",19),a.YNc(40,kr,2,3,"p",19),a.YNc(41,Pr,2,3,"p",19),a.YNc(42,Yi,2,3,"p",19),a.YNc(43,mi,2,3,"p",19),a.YNc(44,Me,2,3,"p",19),a.qZA()(),a._UZ(45,"div",20),a.TgZ(46,"div",21)(47,"div",22)(48,"div",23)(49,"button",24),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.choosePage())}),a._uU(50),a.ALo(51,"translate"),a.qZA(),a.YNc(52,Je,3,4,"button",25),a.qZA(),a.TgZ(53,"button",26),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.hide())}),a._uU(54),a.ALo(55,"translate"),a.qZA()()()()}if(2&pe){const le=a.oxw();a.xp6(2),a.Q6J("id",le.titleId),a.xp6(1),a.Oqu(a.lcZ(4,33,"Clients.Setup")),a.xp6(2),a.uIk("aria-label",a.lcZ(6,35,"Common.Close")),a.xp6(8),a.Oqu(a.lcZ(14,37,"Clients.SelectType")),a.xp6(2),a.Q6J("ngIf",!le.isStarterMode),a.xp6(1),a.Q6J("ngIf",le.isStarterMode),a.xp6(1),a.Q6J("ngIf",!le.isStarterMode&&(le.activeType===le.wizardTypes.WebApplication||le.activeType===le.wizardTypes.PKCEWebApplication)),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.RobotApplication||le.activeType===le.wizardTypes.CIBARobotApplication),a.xp6(1),a.Q6J("ngIf",!le.isStarterMode&&(le.activeType===le.wizardTypes.NativeApplication||le.activeType===le.wizardTypes.PKCENativeApplication)),a.xp6(6),a.Q6J("ngIf",le.activeType===le.wizardTypes.Home),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.SinglePageApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.WebApplication||le.activeType===le.wizardTypes.PKCEWebApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.NativeApplication||le.activeType===le.wizardTypes.PKCENativeApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.RobotApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.CIBARobotApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.DeviceApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.SamlApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.WsFedApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.LegacySinglePageApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.Home),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.SinglePageApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.WebApplication||le.activeType===le.wizardTypes.PKCEWebApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.NativeApplication||le.activeType===le.wizardTypes.PKCENativeApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.RobotApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.CIBARobotApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.DeviceApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.SamlApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.WsFedApplication),a.xp6(1),a.Q6J("ngIf",le.activeType===le.wizardTypes.LegacySinglePageApplication),a.xp6(5),a.Q6J("disabled",le.activeType===le.wizardTypes.Home||le.isStarterMode&&le.protectedWizardTypeSelected),a.xp6(1),a.Oqu(a.lcZ(51,39,"Common.Start")),a.xp6(2),a.Q6J("ngIf",le.isStarterMode),a.xp6(2),a.Oqu(a.lcZ(55,41,"Common.Cancel"))}}function Ot(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"div")(1,"app-client-wizard-host",57),a.NdJ("wizardCancel",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.onCancel())})("finish",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.onFinish())})("hide",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.hide())}),a.qZA()()}if(2&pe){const le=a.oxw();a.xp6(1),a.Q6J("wizardName",le.pageType)}}let Jt=(()=>{class pe{constructor(le,Le,Bt,on,Un){this.fb=le,this.modalService=Le,this.licenseService=Bt,this.router=on,this.localizeRouter=Un,this.finish=new a.vpe,this.titleId=In.G.TileId,this.pageType=Zt.Q.Home,this.activeType=Zt.Q.SinglePageApplication,this.showWizard=!1,this.wizardProvider=new Fr,this.wizardTypes=Zt.Q,this.webAppTypes=[Zt.Q.PKCEWebApplication,Zt.Q.WebApplication],this.robotAppTypes=[Zt.Q.RobotApplication,Zt.Q.CIBARobotApplication],this.nativeAppTypes=[Zt.Q.PKCENativeApplication,Zt.Q.NativeApplication],this.starterModeProtectedSetups=[Zt.Q.WebApplication,Zt.Q.PKCEWebApplication,Zt.Q.PKCENativeApplication,Zt.Q.NativeApplication,Zt.Q.DeviceApplication,Zt.Q.SamlApplication,Zt.Q.WsFedApplication,Zt.Q.LegacySinglePageApplication]}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,at.P)()).subscribe(le=>{this.isStarterMode=le.isStarterLicense()}),this.setWebAppSelection(this.webAppTypes[0]),this.setRobotAppSelection(this.robotAppTypes[0]),this.setNativeAppSelection(this.nativeAppTypes[0])}setWebAppSelection(le){(le===Zt.Q.WebApplication||le===Zt.Q.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:le}))}setRobotAppSelection(le){(le===Zt.Q.RobotApplication||le===Zt.Q.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:le}))}setNativeAppSelection(le){(le===Zt.Q.NativeApplication||le===Zt.Q.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:le}))}redirectToUpgrade(){this.hide();const le=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([le],{queryParams:{feature:4}})}setActive(le){this.isStarterMode&&(this.protectedWizardTypeSelected=this.starterModeProtectedSetups.includes(le)),this.activeType=le,this.setWebAppSelection(le),this.setRobotAppSelection(le),this.setNativeAppSelection(le)}choosePage(){this.isStarterMode&&this.protectedWizardTypeSelected||(this.pageType=this.activeType,this.showWizard=!0)}onCancel(){this.pageType=Zt.Q.Home,this.activeType=Zt.Q.SinglePageApplication,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(In.G.Id),this.modalService.onHidden.pipe((0,at.P)()).subscribe(()=>{this.onCancel()})}ngOnDestroy(){this.hide()}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(e.QS),a.Y36(b.tT),a.Y36(o.E),a.Y36(m.F0),a.Y36(w.An))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-client-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"sr-only"],["id","defaultSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","starterModeSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["commonTypeButton",""],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[3,"innerHTML",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"disabled","click"],["id","upgradeAdminUI","class","tw-btn tw-ml-4",3,"disabled","click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","starterModeSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],["webAppSelection",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["robotAppSelection",""],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"],["nativeAppSelection",""],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"id","value","ngModel","click"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","trans","hover:tw-shadow-md","md:tw-pr-16",3,"for","ngClass","click"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","trans",3,"ngClass"],[3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","trans",3,"ngClass"],[1,"tw-block","tw-text-xs","trans",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","trans","md:tw-flex"],[3,"innerHTML"],["id","upgradeAdminUI",1,"tw-btn","tw-ml-4",3,"disabled","click"],[3,"wizardName","wizardCancel","finish","hide"]],template:function(le,Le){1&le&&(a.YNc(0,At,56,43,"div",0),a.YNc(1,Ot,2,1,"div",0)),2&le&&(a.Q6J("ngIf",Le.pageType===Le.wizardTypes.Home),a.xp6(1),a.Q6J("ngIf",Le.showWizard))},dependencies:[t.mk,t.sg,t.O5,t.tP,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e._,e.JJ,e.JL,e.On,e.sg,e.u,bt.L,bs,ce.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),pe})();var Vt=f(3111),dn=f(7363),bn=f(6679),Yn=f(7393);class Kn extends Vt.yr{constructor(nt,le=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=dn.C.DoNotSet,this.certificateAction=bn.R6.DoNotSet,this.identifier=nt.identifier,this.resourceType=nt.resourceType,this.resourceState=nt.resourceState,this.displayType=nt.displayType,this.displayName=nt.displayName,this.conflicts=nt.conflicts,this.dependantClients=nt.dependantClients,this.hadSecrets=nt.hadSecrets,this.hadCertificates=nt.hadCertificates,this.existingHasSecrets=nt.existingHasSecrets,this.existingHasCertificates=nt.existingHasCertificates,this.selected=le,this.certificates=new Yn.w}set selected(nt){this.isSelectable&&(this._selected=nt)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==Vt.vZ.Duplicate&&this.resourceType===Vt.JR.Client}}var cr=f(6297),es=f(7481),ur=f(7331),ji=f(5744),ni=f(9659);function Co(pe,nt){if(1&pe&&(a.TgZ(0,"div",7),a._UZ(1,"div",8),a.qZA()),2&pe){const le=a.oxw();a.xp6(1),a.Udp("width",le.progressComplete+"%"),a.uIk("aria-valuenow",le.progressComplete)}}function Xs(pe,nt){}let he=(()=>{class pe{constructor(le){this.viewContainerRef=le}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(a.s_b))},pe.\u0275dir=a.lG2({type:pe,selectors:[["","appImportStepHost",""]]}),pe})(),Pe=(()=>{class pe{constructor(le){this.importWizardController=le,this.finish=new a.vpe,this.warning=new a.vpe,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(le=>{le?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const le=this.importWizardController.getCurrentStep();let Le;if(le.component===bn.V7){const Bt=this.components.get(le);this.wizardHost.viewContainerRef.detach(),Le=Bt??this.wizardHost.viewContainerRef.createComponent(le.component)}else Le=this.wizardHost.viewContainerRef.createComponent(le.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(Le.hostView),Le.instance.data=le.data,Le.instance.importWizardController=this.importWizardController,this.title=le.stepTitle,this.components.set(le,Le),this.updateProgressBar(),this.hideProgressBar=Le.instance.isWarningModal||Le.instance.hideProgressBar,this.warning.emit(Le.instance.isWarningModal)}closeButton(){const le=this.importWizardController.getCurrentStep();le.component!==ur.l?this.importWizardController.cancel():this.components.get(le).instance.goNext()}getStepsProgressForCurrentStep(){const le=this.importWizardController.getCurrentStep();if(le.component===dn.$||le.component===bn.V7){const Le=this.importWizardController.stepsCompleted.filter(on=>on.component===le.component).length,Bt=Le+this.importWizardController.stepsAhead.filter(on=>on.component===le.component).length;return 1===Bt?"":"("+(Le+1)+"/"+Bt+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==ji.Gz&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(le=>{le.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(ni.o))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-import-wizard-host"]],viewQuery:function(le,Le){if(1&le&&a.Gf(he,7),2&le){let Bt;a.iGM(Bt=a.CRH())&&(Le.wizardHost=Bt.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(le,Le){1&le&&(a.TgZ(0,"div",0)(1,"h5",1),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return Le.closeButton()}),a._UZ(5,"span",3),a.TgZ(6,"span",4),a._uU(7),a.ALo(8,"translate"),a.qZA()()(),a.YNc(9,Co,2,3,"div",5),a.TgZ(10,"div"),a.YNc(11,Xs,0,0,"ng-template",6),a.qZA()),2&le&&(a.xp6(2),a.AsE("",a.lcZ(3,5,Le.title)," ",Le.progressStepString,""),a.xp6(2),a.Q6J("disabled",Le.disableCloseButton()),a.xp6(3),a.Oqu(a.lcZ(8,7,"Common.Close")),a.xp6(2),a.Q6J("ngIf",!Le.hideProgressBar))},dependencies:[t.O5,he,ce.X$],encapsulation:2}),pe})();function Ce(pe,nt){1&pe&&(a._UZ(0,"app-simple-loader",16),a.ALo(1,"translate")),2&pe&&a.Q6J("text",a.lcZ(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function ze(pe,nt){if(1&pe&&(a.TgZ(0,"div",23)(1,"div"),a._uU(2),a.qZA()()),2&pe){const le=a.oxw(3);a.xp6(2),a.Oqu(le.errorCode)}}function vt(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"div")(1,"div",17)(2,"p"),a._uU(3),a.ALo(4,"translate"),a.qZA()(),a.YNc(5,ze,3,1,"div",18),a.TgZ(6,"app-form-row",19)(7,"div",20)(8,"input",21,22),a.NdJ("change",function(Bt){a.CHM(le);const on=a.oxw(2);return a.KtG(on.handleFileInput(Bt.target.files))}),a.qZA()()()()}if(2&pe){const le=a.oxw(2);a.xp6(3),a.Oqu(a.lcZ(4,6,"Clients.Import.Wizard.Setup.Summary")),a.xp6(2),a.Q6J("ngIf",""!=le.errorCode),a.xp6(1),a.Q6J("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function Xt(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"div")(1,"div",1)(2,"h5",2),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"button",3),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.hide())}),a.ALo(6,"translate"),a._UZ(7,"span",4),a.qZA()(),a.TgZ(8,"div",5),a._UZ(9,"div",6,7),a.qZA(),a.TgZ(11,"div",8),a.YNc(12,Ce,2,3,"app-simple-loader",9),a.YNc(13,vt,11,8,"div",0),a.qZA(),a._UZ(14,"div",10),a.TgZ(15,"div",11)(16,"div",12)(17,"div",13)(18,"button",14),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.startImport())}),a._uU(19),a.ALo(20,"translate"),a.qZA()(),a.TgZ(21,"button",15),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.hide())}),a._uU(22),a.ALo(23,"translate"),a.qZA()()()()}if(2&pe){const le=a.oxw();a.xp6(2),a.Q6J("id",le.titleId),a.xp6(1),a.Oqu(a.lcZ(4,10,"Clients.Import.Wizard.Setup.Title")),a.xp6(2),a.Q6J("disabled",le.disableButtons),a.uIk("aria-label",a.lcZ(6,12,"Common.Close")),a.xp6(7),a.Q6J("ngIf",le.isLoading),a.xp6(1),a.Q6J("ngIf",!le.isLoading),a.xp6(5),a.Q6J("disabled",le.disableButtons||null==le.fileToUpload),a.xp6(1),a.hij(" ",a.lcZ(20,14,"Common.Start")," "),a.xp6(2),a.Q6J("disabled",le.disableButtons),a.xp6(1),a.hij(" ",a.lcZ(23,16,"Common.Cancel")," ")}}function sn(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"div")(1,"app-import-wizard-host",24),a.NdJ("warning",function(Bt){a.CHM(le);const on=a.oxw();return a.KtG(on.onWarning(Bt))})("finish",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.onFinish())}),a.qZA()()}}let $t=(()=>{class pe{constructor(le,Le,Bt,on){this.translate=le,this.clientImportService=Le,this.importWizardService=Bt,this.modalService=on,this.finish=new a.vpe,this.titleId=In.G.TileId,this.wizardTypes=Zt.Q,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(Un=>{this.reset(),null!=Un&&(this.errorCode=Un)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(le){this.isWarningModal=le}hide(){this.reset(),this.modalService.hide(In.G.Id)}handleFileInput(le){this.fileToUpload=le.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(le=>{this.clientImportService.validateImportFile(le).subscribe(Le=>{try{JSON.parse(le)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(le);const Bt=Le.importResources.map(on=>new Kn(on));this.importWizardService.cache.next(Bt),this.isLoading=!1,this.showWizard=!0},Le=>{if(400===Le.status){this.reset();const Bt=Le.error;this.errorCode=this.translate.instant(`Errors.${Bt.errorCode}`),"ValidateImportError.WrongVersion"===Bt.errorCode&&(this.errorCode=this.errorCode.replace("{0}",Bt.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",Bt.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(le){this.storage.setItem("importFile",le)}ngOnDestroy(){this.reset(),this.hide()}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(ce.sK),a.Y36(cr.wf),a.Y36(es.U),a.Y36(b.tT))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"disabled","click"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(le,Le){1&le&&(a.YNc(0,Xt,24,18,"div",0),a.YNc(1,sn,2,0,"div",0)),2&le&&(a.Q6J("ngIf",!Le.showWizard),a.xp6(1),a.Q6J("ngIf",Le.showWizard))},dependencies:[t.O5,ht.w,bt.L,Pe,ce.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),pe})();function Ui(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"app-client-wizard",12,1),a.NdJ("finish",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.reload())}),a.qZA()}}function bi(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"app-import-wizard",13,2),a.NdJ("finish",function(){a.CHM(le);const Bt=a.oxw();return a.KtG(Bt.reload())}),a.qZA()}}const gi=function(pe,nt){return{"tw-alert":pe,"tw-alert-warning":nt}},hi=function(pe){return{limit:pe,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}};function Ri(pe,nt){if(1&pe&&(a.TgZ(0,"div",14),a._UZ(1,"span",15),a.ALo(2,"translate"),a.qZA()),2&pe){const le=a.oxw();a.Q6J("ngClass",a.WLB(5,gi,le.limitReached,le.overLimit)),a.xp6(1),a.Q6J("innerHTML",a.xi3(2,2,"Common.QuotaLimit",a.VKq(8,hi,le.licenseInfo.maxClients)),a.oJD)}}function gr(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"div",22)(1,"label",23),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"select",24),a.NdJ("ngModelChange",function(Bt){a.CHM(le);const on=a.oxw(2);return a.KtG(on.pageSize=Bt)})("change",function(){a.CHM(le);const Bt=a.oxw(2);return a.KtG(Bt.setPageLength(+Bt.pageSize))}),a.TgZ(5,"option",25),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"option",26),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"option",27),a._uU(12),a.ALo(13,"translate"),a.qZA()()()}if(2&pe){const le=a.oxw(2);a.xp6(2),a.AsE("",le.pageSize," ",a.lcZ(3,6,"Nav.PerPage"),""),a.xp6(2),a.Q6J("ngModel",le.pageSize),a.xp6(2),a.hij("25 ",a.lcZ(7,8,"Nav.PerPage"),""),a.xp6(3),a.hij("50 ",a.lcZ(10,10,"Nav.PerPage"),""),a.xp6(3),a.hij("100 ",a.lcZ(13,12,"Nav.PerPage"),"")}}function _r(pe,nt){1&pe&&(a.TgZ(0,"span",31)(1,"span",9),a._uU(2),a.ALo(3,"translate"),a.qZA(),a._UZ(4,"span",32),a.qZA()),2&pe&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"StarterMode.RequiresUpgrade")))}function ir(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"button",28),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw(2),on=a.MAs(5);return a.KtG(Bt.showWizard(on,!0))}),a.ALo(1,"translate"),a.TgZ(2,"span")(3,"span",9),a._uU(4),a.ALo(5,"translate"),a.qZA(),a._UZ(6,"span",29),a.qZA(),a.YNc(7,_r,5,3,"span",30),a.qZA()}if(2&pe){const le=a.oxw(2);a.Q6J("tooltip",a.lcZ(1,3,"Clients.Import.Import")),a.xp6(4),a.Oqu(a.lcZ(5,5,"Clients.Import.ImportClients")),a.xp6(3),a.Q6J("ngIf",le.licenseInfo.isStarterLicense())}}function Bs(pe,nt){if(1&pe&&(a.TgZ(0,"span",37),a._uU(1),a.qZA()),2&pe){const le=a.oxw(3);a.xp6(1),a.Oqu(le.clientSelectedCount)}}function Vr(pe,nt){1&pe&&(a.TgZ(0,"span",38)(1,"span",9),a._uU(2),a.ALo(3,"translate"),a.qZA(),a._UZ(4,"span",32),a.qZA()),2&pe&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"StarterMode.RequiresUpgrade")))}function Sr(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"button",33),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw(2);return a.KtG(Bt.exportClients())}),a.TgZ(1,"span")(2,"span",9),a._uU(3),a.qZA(),a._UZ(4,"span",34),a.YNc(5,Bs,2,1,"span",35),a.qZA(),a.YNc(6,Vr,5,3,"span",36),a.qZA()}if(2&pe){const le=a.oxw(2);a.Q6J("tooltip",le.currentExportTooltip),a.xp6(3),a.Oqu(le.currentExportText),a.xp6(2),a.Q6J("ngIf",le.shouldDisplayCount),a.xp6(1),a.Q6J("ngIf",le.licenseInfo.isStarterLicense())}}function xs(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"app-action-bar"),a.ynx(1,16),a.YNc(2,gr,14,14,"div",17),a.BQk(),a.ynx(3,18),a.TgZ(4,"button",19),a.NdJ("click",function(){a.CHM(le);const Bt=a.oxw(),on=a.MAs(3);return a.KtG(Bt.showWizard(on,Bt.limitReached))}),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.YNc(7,ir,8,7,"button",20),a.YNc(8,Sr,7,4,"button",21),a.BQk(),a.qZA()}if(2&pe){const le=a.oxw();a.xp6(2),a.Q6J("ngIf",(null==le.pagedResult?null:le.pagedResult.results.length)>0),a.xp6(2),a.Q6J("disabled",le.limitReached),a.xp6(1),a.hij(" ",a.lcZ(6,5,"Clients.Add")," "),a.xp6(2),a.Q6J("ngIf",le.canImportExport),a.xp6(1),a.Q6J("ngIf",le.canImportExport)}}function eo(pe,nt){1&pe&&a._UZ(0,"app-simple-loader")}function Vo(pe,nt){1&pe&&(a.TgZ(0,"div",42)(1,"div"),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&pe&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"Clients.None")))}function Es(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"th",49)(1,"label",50)(2,"input",51),a.NdJ("change",function(){a.CHM(le);const Bt=a.oxw(3);return a.KtG(Bt.toggleAllClients())})("ngModelChange",function(Bt){a.CHM(le);const on=a.oxw(3);return a.KtG(on.allClientsSelected=Bt)}),a.qZA()()()}if(2&pe){const le=a.oxw(3);a.xp6(2),a.Q6J("ngModel",le.allClientsSelected)}}function io(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"label",65)(1,"input",66),a.NdJ("change",function(){a.CHM(le);const Bt=a.oxw(5);return a.KtG(Bt.areAllClientsSelected())})("ngModelChange",function(Bt){a.CHM(le);const on=a.oxw(2).$implicit;return a.KtG(on.selected=Bt)}),a.qZA()()}if(2&pe){const le=a.oxw(2).$implicit;a.s9C("for",le.id),a.xp6(1),a.s9C("id",le.id),a.Q6J("ngModel",le.selected)}}function bo(pe,nt){if(1&pe&&(a.TgZ(0,"td",63),a.YNc(1,io,2,3,"label",64),a.qZA()),2&pe){const le=a.oxw().$implicit,Le=a.oxw(3);a.xp6(1),a.Q6J("ngIf",!Le.isClientReadOnly(le))}}function jo(pe,nt){1&pe&&(a.TgZ(0,"span",67)(1,"span",9),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&pe&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"Common.Disabled")))}function Lr(pe,nt){1&pe&&(a.TgZ(0,"span",68),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.Disabled")," "))}function ms(pe,nt){1&pe&&(a.TgZ(0,"span",69),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.Reserved")," "))}function wo(pe,nt){1&pe&&(a.TgZ(0,"span",9),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.Edit")))}function ds(pe,nt){1&pe&&(a.TgZ(0,"span",9),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.View")))}const Ds=function(pe,nt){return{"fad fa-pencil":pe,"fas fa-eye":nt}};function To(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"tr",52),a.YNc(1,bo,2,1,"td",53),a.TgZ(2,"td",54),a.NdJ("click",function(){const on=a.CHM(le).$implicit,Un=a.oxw(3);return a.KtG(Un.viewOrEditClient(on))}),a.YNc(3,jo,4,3,"span",55),a.TgZ(4,"b"),a._uU(5),a.qZA()(),a.TgZ(6,"td",56),a.NdJ("click",function(){const on=a.CHM(le).$implicit,Un=a.oxw(3);return a.KtG(Un.viewOrEditClient(on))}),a._uU(7),a.qZA(),a.TgZ(8,"td",57),a.NdJ("click",function(){const on=a.CHM(le).$implicit,Un=a.oxw(3);return a.KtG(Un.viewOrEditClient(on))}),a.YNc(9,Lr,3,3,"span",58),a.YNc(10,ms,3,3,"span",59),a.qZA(),a.TgZ(11,"td",57),a.NdJ("click",function(){const on=a.CHM(le).$implicit,Un=a.oxw(3);return a.KtG(Un.viewOrEditClient(on))}),a.TgZ(12,"button",60),a.NdJ("click",function(){const on=a.CHM(le).$implicit,Un=a.oxw(3);return a.KtG(Un.viewOrEditClient(on))}),a._UZ(13,"span",61),a.YNc(14,wo,3,3,"span",62),a.YNc(15,ds,3,3,"span",62),a.qZA()()()}if(2&pe){const le=nt.$implicit,Le=a.oxw(3);a.ekj("inactive",!le.enabled||Le.isClientReadOnly(le)),a.s9C("id",le.clientName),a.xp6(1),a.Q6J("ngIf",!Le.isIdentityServerManagerReadOnly),a.xp6(2),a.Q6J("ngIf",!le.enabled),a.xp6(1),a.ekj("tw-text-blue-500",!(null!=le&&le.nonEditable)),a.xp6(1),a.hij(" ",null==le?null:le.clientName," "),a.xp6(2),a.hij(" ",null==le?null:le.description," "),a.xp6(2),a.Q6J("ngIf",!le.enabled),a.xp6(1),a.Q6J("ngIf",null==le?null:le.nonEditable),a.xp6(3),a.Q6J("ngClass",a.WLB(14,Ds,!Le.isIdentityServerManagerReadOnly&&!Le.isClientReadOnly(le),Le.isIdentityServerManagerReadOnly||Le.isClientReadOnly(le))),a.xp6(1),a.Q6J("ngIf",!Le.isIdentityServerManagerReadOnly&&!Le.isClientReadOnly(le)),a.xp6(1),a.Q6J("ngIf",Le.isIdentityServerManagerReadOnly||Le.isClientReadOnly(le))}}function Ko(pe,nt){if(1&pe&&(a.TgZ(0,"table",43)(1,"thead")(2,"tr"),a.YNc(3,Es,3,1,"th",44),a.TgZ(4,"th",45),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"th",46),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"th",47)(11,"span",9),a._uU(12),a.ALo(13,"translate"),a.qZA()(),a.TgZ(14,"th",47)(15,"span",9),a._uU(16),a.ALo(17,"translate"),a.qZA()()()(),a.TgZ(18,"tbody"),a.YNc(19,To,16,17,"tr",48),a.qZA()()),2&pe){const le=a.oxw(2);a.xp6(3),a.Q6J("ngIf",!le.isIdentityServerManagerReadOnly),a.xp6(2),a.Oqu(a.lcZ(6,6,"Common.Name")),a.xp6(3),a.Oqu(a.lcZ(9,8,"Common.Description")),a.xp6(4),a.Oqu(a.lcZ(13,10,"Common.Reserved")),a.xp6(4),a.Oqu(a.lcZ(17,12,"Common.Actions")),a.xp6(3),a.Q6J("ngForOf",le.allClients)}}function Us(pe,nt){if(1&pe){const le=a.EpF();a.TgZ(0,"app-pager",70),a.NdJ("onGoToPage",function(Bt){a.CHM(le);const on=a.oxw(2);return a.KtG(on.goToPage(Bt))}),a.qZA()}if(2&pe){const le=a.oxw(2);a.Q6J("totalResults",null==le.pagedResult?null:le.pagedResult.totalCount)("currentPage",le.page)("lastPage",null==le.pagedResult?null:le.pagedResult.pageCount)}}function Br(pe,nt){if(1&pe&&(a.ynx(0),a.YNc(1,Vo,4,3,"div",39),a.YNc(2,Ko,20,14,"table",40),a.YNc(3,Us,1,3,"app-pager",41),a.BQk()),2&pe){const le=a.oxw();a.xp6(1),a.Q6J("ngIf",(null==le.allClients?null:le.allClients.length)<1),a.xp6(1),a.Q6J("ngIf",(null==le.allClients?null:le.allClients.length)>0),a.xp6(1),a.Q6J("ngIf",(null==le.pagedResult?null:le.pagedResult.results.length)>0&&!le.isLoading)}}let $o=(()=>{class pe extends $n.bk{constructor(le,Le,Bt,on,Un,wi,ls,qr,xr,So,gs,xo){super(qr,Un,!0),this.router=le,this.errorService=Le,this.titleService=Bt,this.clientsService=on,this.translate=Un,this.localize=wi,this.exportService=ls,this.securityService=xr,this.modalService=So,this.localizeRouter=gs,this.licenseService=xo,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new gn.x,this.pageSizeStream=new gn.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(le){return this.term=le,{searchTerm:le,page:1,pageSize:this.pageSize}}ngOnInit(){const le=this.translate.instant("Nav.Clients")+" - "+Ye.de.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(le),this.canImportExport=this.securityService.allView;const Le=this.pageStream.pipe((0,_.U)(Un=>(this.page=Un,{searchTerm:this.term,page:Un,pageSize:this.pageSize}))),Bt=this.pageSizeStream.pipe((0,_.U)(Un=>(this.pageSize=Un,{searchTerm:this.term,page:this.page,pageSize:Un})));Le.pipe((0,Vn.b)(Bt),(0,Vn.b)(this.searchSource),(0,Vn.b)(this.enterKeySource),(0,Mn.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,qn.z)(Un=>(this.isLoading=!0,this.clientsService.getClients(Un.searchTerm,Un.page,Un.pageSize).pipe((0,ui.g)(200))))).subscribe({next:Un=>{this.pagedResult=Un,this.allClients=this.pagedResult.results.map(wi=>new ci(wi)).sort((wi,ls)=>Number(ls.nonEditable)-Number(wi.nonEditable)),this.isLoading=!1},error:Un=>{this.errorService.handleError(Un),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,at.P)()).subscribe(Un=>{this.licenseInfo=Un})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const le=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([le],{queryParams:{feature:Pn.w.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(le,Le=!1){Le&&this.checkStarterMode()||this.modalService.show(le,{id:In.G.Id,ariaLabelledBy:In.G.TileId,ariaDescribedby:In.G.DescriptionId,backdrop:"static"})}goToPage(le){this.pageStream.next(le)}setPageLength(le){this.page=1,this.pageSizeStream.next(le)}viewOrEditClient(le){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(le)?this.viewClient(le):this.editClient(le)}viewClient(le){const Le=this.localize.translateRoute("/clients/view");this.router.navigate([Le,le.id])}editClient(le){const Le=this.localize.translateRoute("/clients");this.router.navigate([Le,le.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const le=this.allClients.filter(Le=>Le.selected).map(Le=>Le.clientId);this.exportService.exportSelectedClients(le)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(le=>le.selected||le.nonEditable),this.clientSelectedCount=this.allClients.filter(le=>le.selected&&!le.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(le=>!le.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let le=!0;this.allClients.forEach(Le=>{!Le.nonEditable&&!Le.selected&&(le=!1)}),this.allClients.forEach(Le=>{Le.nonEditable||(Le.selected=!le)}),this.shouldDisplayCount=!1,this.clientSelectedCount=le?0:this.allClients.filter(Le=>!Le.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!le}get isIdentityServerManagerReadOnly(){return(0,It.gR)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(le){const Le=zn.RestrictedClientTypes.includes(le.clientType);return le.nonEditable||this.overLimit||Le&&this.licenseInfo.isStarterLicense()}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(m.F0),a.Y36(U.T),a.Y36(oe.Dx),a.Y36(k.a),a.Y36(ce.sK),a.Y36(w.An),a.Y36(F.T),a.Y36(Ve._W),a.Y36(ii.I),a.Y36(b.tT),a.Y36(w.An),a.Y36(o.E))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["ng-component"]],features:[a.qOj],decls:20,vars:14,consts:[[3,"title"],["addClientModal",""],["importWizardModal",""],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","placeholder","ngModelChange","keyup"],[4,"ngIf"],["id","addClientComponent",3,"finish"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"disabled","click"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"tooltip","click"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"tooltip","click"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModel","change","ngModelChange"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"id","ngModel","change","ngModelChange"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(le,Le){1&le&&(a._UZ(0,"app-title-bar",0),a.ALo(1,"translate"),a.YNc(2,Ui,2,0,"ng-template",null,1,a.W1O),a.YNc(4,bi,2,0,"ng-template",null,2,a.W1O),a.TgZ(6,"div",3),a.YNc(7,Ri,3,10,"div",4),a.TgZ(8,"div",5)(9,"div",6)(10,"label",7),a._UZ(11,"span",8),a.TgZ(12,"span",9),a._uU(13),a.ALo(14,"translate"),a.qZA()(),a.TgZ(15,"input",10),a.NdJ("ngModelChange",function(on){return Le.searchTerm=on})("keyup",function(on){return Le.search(on)}),a.ALo(16,"translate"),a.qZA()()(),a.YNc(17,xs,9,7,"app-action-bar",11),a.YNc(18,eo,1,0,"app-simple-loader",11),a.YNc(19,Br,4,3,"ng-container",11),a.qZA()),2&le&&(a.Q6J("title",a.lcZ(1,8,"Nav.Clients")),a.xp6(7),a.Q6J("ngIf",Le.limitReached),a.xp6(6),a.Oqu(a.lcZ(14,10,"Common.Search")),a.xp6(2),a.s9C("placeholder",a.lcZ(16,12,"Clients.SearchPlaceholder")),a.Q6J("ngModel",Le.searchTerm),a.xp6(2),a.Q6J("ngIf",!Le.isLoading&&!Le.isIdentityServerManagerReadOnly),a.xp6(1),a.Q6J("ngIf",Le.isLoading),a.xp6(1),a.Q6J("ngIf",!Le.isLoading))},dependencies:[t.mk,t.sg,t.O5,e.YN,e.Kr,e.Fj,e.Wl,e.EJ,e.JJ,e.On,C.i9,je.G,ft.P,yt.K,ht.w,Jt,$t,ce.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),pe})();function ro(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Nav.Saml")("tabValue","saml")}function ho(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function to(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function ua(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Common.Secrets")("tabValue","secrets")}function _o(pe,nt){1&pe&&a._UZ(0,"app-custom-tab",2),2&pe&&a.Q6J("tabTitle","Common.CIBA")("tabValue","ciba")}function zo(pe,nt){1&pe&&(a.TgZ(0,"span",8),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&pe&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.Disabled")," "))}const Ao=function(pe,nt){return{title:pe,link:nt}},pi=function(pe){return[pe]};let Ks=(()=>{class pe{constructor(le,Le,Bt,on,Un,wi){this.clientCachingService=le,this.clientViewService=Le,this.titleService=Bt,this.translate=on,this.errorService=Un,this.licenseService=wi}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(le=>{this.client=le;const Le=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Ye.de.SITE_TITLE;this.titleService.setTitle(Le)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:le=>this.licenseInfo=le})}ngOnDestroy(){this.clientSubscription.unsubscribe()}}return pe.\u0275fac=function(le){return new(le||pe)(a.Y36(P.Z),a.Y36(dt.a),a.Y36(oe.Dx),a.Y36(ce.sK),a.Y36(U.T),a.Y36(o.E))},pe.\u0275cmp=a.Xpm({type:pe,selectors:[["app-view-client"]],features:[a._Bn([dt.a])],decls:18,vars:30,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(le,Le){if(1&le&&(a.TgZ(0,"app-title-bar",0),a.ALo(1,"translate"),a.ALo(2,"localize"),a.ynx(3,1),a.TgZ(4,"app-custom-tabs"),a._UZ(5,"app-custom-tab",2),a.YNc(6,ro,1,2,"app-custom-tab",3),a.YNc(7,ho,1,2,"app-custom-tab",3),a.YNc(8,to,1,2,"app-custom-tab",3),a.YNc(9,ua,1,2,"app-custom-tab",3),a._UZ(10,"app-custom-tab",2),a.YNc(11,_o,1,2,"app-custom-tab",3),a._UZ(12,"app-custom-tab",2)(13,"app-custom-tab",4),a.qZA(),a.BQk(),a.ynx(14,5),a.YNc(15,zo,3,3,"span",6),a.BQk(),a.qZA(),a.TgZ(16,"div",7),a._UZ(17,"router-outlet"),a.qZA()),2&le){let Bt;a.Q6J("title",Le.client.clientName)("crumbs",a.VKq(28,pi,a.WLB(25,Ao,a.lcZ(1,21,"Nav.Clients"),a.lcZ(2,23,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",Le.client.nonEditable),a.xp6(5),a.Q6J("tabTitle","Nav.Details")("tabValue","details"),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.saml.display),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.wsFed.display),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.applicationUrls.display),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.secrets.display),a.xp6(1),a.Q6J("tabTitle","Nav.Resources")("tabValue","resources"),a.xp6(1),a.Q6J("ngIf",Le.clientViewService.ciba.display),a.xp6(1),a.Q6J("tabTitle","Common.Advanced")("tabValue","advanced"),a.xp6(1),a.Q6J("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(Bt=null==Le.licenseInfo?null:Le.licenseInfo.isStarterLicense())&&void 0!==Bt&&Bt),a.xp6(2),a.Q6J("ngIf",!Le.client.enabled)}},dependencies:[m.lC,t.O5,je.G,De.v,be.x,ce.X$,w.lO],encapsulation:2}),pe})();var Ee=f(1206),W=f(8677),Ae=f(8024),Ue=f(5046);const mt=[{path:"clients",component:$o,canActivate:[W.B,Ue.h],data:{permissions:[Ee.y[Ee.y.IdentityServerManager],Ee.y[Ee.y.IdentityServerManagerReadOnly],Ee.y[Ee.y.AllReadOnly],Ee.y[Ee.y.All]]}},{path:"clients/:Id",component:St,loadChildren:()=>Promise.all([f.e(592),f.e(936)]).then(f.bind(f,7936)).then(pe=>pe.EditClientModule),canDeactivate:[Ae.I],resolve:{client:J},canActivate:[W.B,Ue.h],data:{permissions:[Ee.y[Ee.y.IdentityServerManager],Ee.y[Ee.y.All]]}},{path:"clients/view/:Id",component:Ks,loadChildren:()=>Promise.all([f.e(592),f.e(36)]).then(f.bind(f,8036)).then(pe=>pe.ViewClientModule),resolve:{client:J},canActivate:[W.B,Ue.h],data:{permissions:[Ee.y[Ee.y.IdentityServerManager],Ee.y[Ee.y.IdentityServerManagerReadOnly],Ee.y[Ee.y.AllReadOnly],Ee.y[Ee.y.All]]}}];let Lt=(()=>{class pe{}return pe.\u0275fac=function(le){return new(le||pe)},pe.\u0275mod=a.oAB({type:pe}),pe.\u0275inj=a.cJS({imports:[m.Bz.forChild(mt),w.fQ.forChild(mt),m.Bz]}),pe})();var Nt=f(1428);let Qt=(()=>{class pe{}return pe.\u0275fac=function(le){return new(le||pe)},pe.\u0275mod=a.oAB({type:pe}),pe.\u0275inj=a.cJS({providers:[J,O.U,Nt.d,q.K,Ge.N,we.S,V.L,L.i,F.T,p.S],imports:[Lt,t.ez,m.Bz,e.u5,g.D,e.UX,C.z8,b.zk,ce.aw,w.fQ,H.l,xe.F,Ke.y,_e.U,ie.p,Te.t,ve.s,$.K,z.t,X.I,Q.d,E.T]}),pe})()},5150:(st,ye,f)=>{"use strict";f.d(ye,{N:()=>m});var t=f(1135),e=f(4650);let m=(()=>{class w{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},9536:(st,ye,f)=>{"use strict";f.d(ye,{S:()=>m});var t=f(1135),e=f(4650);let m=(()=>{class w{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},3351:(st,ye,f)=>{"use strict";f.d(ye,{A:()=>F,z:()=>L});var t=f(5241),e=f(2976),m=f(4650),w=f(4006),b=f(8185),C=f(1481),g=f(7733),p=f(146),A=f(9383),_=f(426),R=f(6895),N=f(2294),a=f(2979);function k(V,q){1&V&&(m.TgZ(0,"span",21),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&V&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Common.Disabled")," "))}function P(V,q){1&V&&(m.TgZ(0,"div",22),m._UZ(1,"router-outlet"),m.qZA())}const U=function(V,q){return{title:V,link:q}},J=function(V){return[V]},O=function(){return["active"]};function L(){return Object.assign(new t.gd,{closeOthers:!0})}let F=(()=>{class V{constructor(ie,H,$,z,E,X,Q,ce){this.fb=ie,this.route=H,this.router=$,this.titleService=z,this.protectedResourceService=E,this.claimTypesService=X,this.translate=Q,this.scopesClaimService=ce}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(ie=>{this.protectedResource=ie;const H=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+e.de.SITE_TITLE;this.titleService.setTitle(H)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:ie=>{this.scopesClaimService.setClaimTypes(ie)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(ie){this.router.navigate([ie],{relativeTo:this.route})}}return V.\u0275fac=function(ie){return new(ie||V)(m.Y36(w.QS),m.Y36(b.gz),m.Y36(b.F0),m.Y36(C.Dx),m.Y36(g.m),m.Y36(p.M),m.Y36(A.sK),m.Y36(_.q))},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-view-protectedresource"]],features:[m._Bn([{provide:t.gd,useFactory:L}])],decls:53,vars:65,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","viewProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(ie,H){1&ie&&(m.TgZ(0,"app-title-bar",0),m.ALo(1,"translate"),m.ALo(2,"localize"),m.ynx(3,1),m.TgZ(4,"div",2)(5,"label",3),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"div",4)(9,"select",5),m.NdJ("change",function(z){return H.mobRoute(z.target.value)}),m.TgZ(10,"option",6),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.TgZ(13,"option",6),m._uU(14),m.ALo(15,"translate"),m.qZA(),m.TgZ(16,"option",7),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.TgZ(19,"option",8),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.TgZ(22,"option",9),m._uU(23),m.ALo(24,"translate"),m.qZA(),m.TgZ(25,"option",10),m._uU(26),m.ALo(27,"translate"),m.qZA()()()(),m.TgZ(28,"ul",11),m.ALo(29,"translate"),m.TgZ(30,"li",12)(31,"button",13),m._uU(32),m.ALo(33,"translate"),m.qZA()(),m.TgZ(34,"li",12)(35,"button",14),m._uU(36),m.ALo(37,"translate"),m.qZA()(),m.TgZ(38,"li",12)(39,"button",15),m._uU(40),m.ALo(41,"translate"),m.qZA()(),m.TgZ(42,"li",12)(43,"button",16),m._uU(44),m.ALo(45,"translate"),m.qZA()(),m.TgZ(46,"li",12)(47,"button",17),m._uU(48),m.ALo(49,"translate"),m.qZA()()(),m.BQk(),m.ynx(50,18),m.YNc(51,k,3,3,"span",19),m.BQk(),m.qZA(),m.YNc(52,P,2,0,"div",20)),2&ie&&(m.Q6J("title",null==H.protectedResource?null:H.protectedResource.name)("crumbs",m.VKq(58,J,m.WLB(55,U,m.lcZ(1,25,"ProtectedResources.Title"),m.lcZ(2,27,"/protectedresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",H.protectedResource.nonEditable),m.xp6(6),m.Oqu(m.lcZ(7,29,"Nav.SubMenu")),m.xp6(5),m.hij("",m.lcZ(12,31,"Nav.SubMenu"),"..."),m.xp6(3),m.Oqu(m.lcZ(15,33,"Nav.Details")),m.xp6(3),m.Oqu(m.lcZ(18,35,"Nav.Scopes")),m.xp6(3),m.Oqu(m.lcZ(21,37,"Nav.Claims")),m.xp6(3),m.Oqu(m.lcZ(24,39,"Nav.Secrets")),m.xp6(3),m.Oqu(m.lcZ(27,41,"Nav.Properties")),m.xp6(2),m.uIk("aria-label",m.lcZ(29,43,"Nav.SubMenu")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(60,O)),m.xp6(1),m.Oqu(m.lcZ(33,45,"Nav.Details")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(61,O)),m.xp6(1),m.Oqu(m.lcZ(37,47,"Nav.Scopes")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(62,O)),m.xp6(1),m.Oqu(m.lcZ(41,49,"Nav.Claims")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(63,O)),m.xp6(1),m.Oqu(m.lcZ(45,51,"Nav.Secrets")),m.xp6(3),m.Q6J("routerLinkActive",m.DdM(64,O)),m.xp6(1),m.Oqu(m.lcZ(49,53,"Nav.Properties")),m.xp6(3),m.Q6J("ngIf",!H.protectedResource.enabled),m.xp6(1),m.Q6J("ngIf",H.protectedResource))},dependencies:[R.O5,b.lC,b.rH,b.Od,N.G,A.X$,a.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),V})()},426:(st,ye,f)=>{"use strict";f.d(ye,{q:()=>m});var t=f(4707),e=f(4650);let m=(()=>{class w{constructor(){this.cachedClaimTypes=new t.t(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(C){this.cachedClaimTypes.next(C)}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},7360:(st,ye,f)=>{"use strict";f.r(ye),f.d(ye,{UsersModule:()=>$i});var t=f(6895),e=f(4006),m=f(8185),w=f(2979),b=f(388),C=f(2320),g=f(590),p=f(4650),A=f(4889),_=f(9881),R=f(7047),N=f(2294),a=f(9383);function k(Wt,Fn){1&Wt&&(p.TgZ(0,"span",25)(1,"span",26),p._uU(2),p.ALo(3,"translate"),p.qZA(),p._UZ(4,"span",27),p.qZA()),2&Wt&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"StarterMode.RequiresUpgrade")))}const P=function(){return["active"]};function U(Wt,Fn){1&Wt&&(p.TgZ(0,"li",14)(1,"button",28),p._uU(2),p.ALo(3,"translate"),p.qZA()()),2&Wt&&(p.xp6(1),p.Q6J("routerLinkActive",p.DdM(4,P)),p.xp6(1),p.Oqu(p.lcZ(3,2,"Nav.SessionManagement")))}function J(Wt,Fn){1&Wt&&(p.TgZ(0,"div",29)(1,"p"),p._uU(2),p.ALo(3,"translate"),p.ALo(4,"translate"),p.qZA()()),2&Wt&&(p.xp6(2),p.AsE("",p.lcZ(3,2,"Users.Delete.DeletedUser")," ",p.lcZ(4,4,"Users.Delete.AuditingPurposes"),""))}const O=function(Wt,Fn){return{title:Wt,link:Fn}},L=function(Wt){return[Wt]};let F=(()=>{class Wt{constructor(kt,Yt,En,Ln,ki){this.r=kt,this.route=Yt,this.errorService=En,this.configService=Ln,this.licenseService=ki}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:kt=>{this.user=kt.user},error:kt=>{this.errorService.handleError(kt)}}),this.configSubscription=this.configService.getConfig().subscribe({next:kt=>{this.showSessionManagement=kt.featureFlagOptions.sessionManagementEnabled},error:kt=>{this.errorService.handleError(kt)}}),this.licenseService.getLicenseInfo().pipe((0,g.P)()).subscribe({next:kt=>{this.licenseInfo=kt}})}mobRoute(kt){this.r.navigate([kt],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(p.Y36(m.F0),p.Y36(m.gz),p.Y36(A.T),p.Y36(_.E),p.Y36(R.E))},Wt.\u0275cmp=p.Xpm({type:Wt,selectors:[["ng-component"]],decls:65,vars:76,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["value","sessions"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(kt,Yt){1&kt&&(p.TgZ(0,"app-title-bar",0),p.ALo(1,"translate"),p.ALo(2,"localize"),p.ynx(3,1),p.TgZ(4,"div",2)(5,"label",3),p._uU(6),p.ALo(7,"translate"),p.qZA(),p.TgZ(8,"div",4)(9,"select",5),p.NdJ("change",function(Ln){return Yt.mobRoute(Ln.target.value)}),p.TgZ(10,"option",6),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.TgZ(13,"option",6),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.TgZ(16,"option",7),p._uU(17),p.ALo(18,"translate"),p.qZA(),p.TgZ(19,"option",8),p._uU(20),p.ALo(21,"translate"),p.qZA(),p.TgZ(22,"option",9),p._uU(23),p.ALo(24,"translate"),p.qZA(),p.TgZ(25,"option",10),p._uU(26),p.ALo(27,"translate"),p.qZA(),p.TgZ(28,"option",11),p._uU(29),p.ALo(30,"translate"),p.qZA(),p.TgZ(31,"option",12),p._uU(32),p.ALo(33,"translate"),p.qZA()()()(),p.TgZ(34,"ul",13),p.ALo(35,"translate"),p.TgZ(36,"li",14)(37,"button",15),p._uU(38),p.ALo(39,"translate"),p.qZA()(),p.TgZ(40,"li",14)(41,"button",16),p._uU(42),p.ALo(43,"translate"),p.qZA()(),p.TgZ(44,"li",14)(45,"button",17),p._uU(46),p.ALo(47,"translate"),p.qZA()(),p.TgZ(48,"li",14)(49,"button",18),p._uU(50),p.ALo(51,"translate"),p.qZA()(),p.TgZ(52,"li",14)(53,"button",19),p._uU(54),p.ALo(55,"translate"),p.qZA()(),p.TgZ(56,"li",14)(57,"button",20),p._uU(58),p.ALo(59,"translate"),p.YNc(60,k,5,3,"span",21),p.qZA()(),p.YNc(61,U,4,5,"li",22),p.qZA(),p.BQk(),p.qZA(),p.TgZ(62,"div",23),p.YNc(63,J,5,6,"div",24),p._UZ(64,"router-outlet"),p.qZA()),2&kt&&(p.Q6J("title",Yt.user.firstName+" "+Yt.user.lastName)("totpEnabled",Yt.user.totpEnabled)("crumbs",p.VKq(68,L,p.WLB(65,O,p.lcZ(1,29,"Nav.Users"),p.lcZ(2,31,"/users"))))("hasTabs",!0),p.xp6(6),p.Oqu(p.lcZ(7,33,"Nav.SubMenu")),p.xp6(5),p.hij("",p.lcZ(12,35,"Nav.SubMenu"),"..."),p.xp6(3),p.Oqu(p.lcZ(15,37,"Nav.Details")),p.xp6(3),p.Oqu(p.lcZ(18,39,"Nav.Roles")),p.xp6(3),p.Oqu(p.lcZ(21,41,"Nav.Additional Details")),p.xp6(3),p.Oqu(p.lcZ(24,43,"Nav.Applications")),p.xp6(3),p.Oqu(p.lcZ(27,45,"Nav.External Logins")),p.xp6(3),p.Oqu(p.lcZ(30,47,"Nav.Audits")),p.xp6(3),p.Oqu(p.lcZ(33,49,"Nav.SessionManagement")),p.xp6(2),p.uIk("aria-label",p.lcZ(35,51,"Nav.SubMenu")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(70,P)),p.xp6(1),p.Oqu(p.lcZ(39,53,"Nav.Details")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(71,P)),p.xp6(1),p.Oqu(p.lcZ(43,55,"Nav.Roles")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(72,P)),p.xp6(1),p.Oqu(p.lcZ(47,57,"Nav.Additional Details")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(73,P)),p.xp6(1),p.Oqu(p.lcZ(51,59,"Nav.Applications")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(74,P)),p.xp6(1),p.Oqu(p.lcZ(55,61,"Nav.External Logins")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(75,P)),p.xp6(1),p.hij(" ",p.lcZ(59,63,"Nav.Audits")," "),p.xp6(2),p.Q6J("ngIf",null==Yt.licenseInfo?null:Yt.licenseInfo.isStarterLicense()),p.xp6(1),p.Q6J("ngIf",Yt.showSessionManagement),p.xp6(2),p.Q6J("ngIf",Yt.user.isDeleted))},dependencies:[m.lC,m.rH,m.Od,t.O5,e.YN,e.Kr,N.G,a.X$,w.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),Wt})();var V=f(7579),q=f(4004),ie=f(3635),H=f(8675),$=f(5577),z=f(1005),E=f(2976),X=f(9046),Q=f(8176),ce=f(4961),_e=f(1481),Te=f(7185),ve=f(1060),Ke=f(7696),xe=f(8163),Ge=f(5925),we=f(7608),Ye=f(799),rt=f(365),Ct=f(5698),at=(()=>{return(Wt=at||(at={}))[Wt.None=0]="None",Wt[Wt.Add=1]="Add",Wt[Wt.AddAnother=2]="AddAnother",Wt[Wt.AddAndConfigure=3]="AddAndConfigure",at;var Wt})(),dt=f(765),ct=f(146),Gt=f(4946),ln=f(4234);const Mt=["claimsComponent"],It=["addUserModal"];function Y(Wt,Fn){1&Wt&&(p.TgZ(0,"h2",37),p._UZ(1,"span",38),p.TgZ(2,"span",24),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.TgZ(5,"span")(6,"a",39),p._uU(7),p.ALo(8,"translate"),p.qZA()()()),2&Wt&&(p.xp6(3),p.Oqu(p.lcZ(4,2,"Users.Password.DemoTitle")),p.xp6(4),p.hij(" ",p.lcZ(8,4,"Users.Password.DemoLink")," "))}function G(Wt,Fn){if(1&Wt&&(p.TgZ(0,"div")(1,"div",33),p.YNc(2,Y,9,6,"h2",34),p.TgZ(3,"app-form-row",15),p._UZ(4,"input",35),p.TgZ(5,"ul",36)(6,"li"),p._uU(7),p.ALo(8,"translate"),p.qZA(),p.TgZ(9,"li"),p._uU(10),p.ALo(11,"translate"),p.qZA(),p.TgZ(12,"li"),p._uU(13),p.ALo(14,"translate"),p.qZA(),p.TgZ(15,"li"),p._uU(16),p.ALo(17,"translate"),p.qZA(),p.TgZ(18,"li"),p._uU(19),p.ALo(20,"translate"),p.qZA()()()()()),2&Wt){const kt=p.oxw();p.xp6(2),p.Q6J("ngIf",kt.isDemo),p.xp6(1),p.Q6J("id","Password")("label","Users.Password.Title")("isLast",!0),p.xp6(4),p.Oqu(p.lcZ(8,9,"Users.Password.Requirements.1")),p.xp6(3),p.Oqu(p.lcZ(11,11,"Users.Password.Requirements.2")),p.xp6(3),p.Oqu(p.lcZ(14,13,"Users.Password.Requirements.3")),p.xp6(3),p.Oqu(p.lcZ(17,15,"Users.Password.Requirements.4")),p.xp6(3),p.Oqu(p.lcZ(20,17,"Users.Password.Requirements.5"))}}function oe(Wt,Fn){1&Wt&&p._UZ(0,"span",40)}function Ve(Wt,Fn){1&Wt&&p._UZ(0,"span",40)}function Be(Wt,Fn){1&Wt&&p._UZ(0,"span",40)}const o=function(){return{animated:!1,backdrop:"static"}};let De=(()=>{class Wt{constructor(kt,Yt,En,Ln,ki,Ze,qe,ut,Pt,un,hn){this.userService=kt,this.claimTypesService=Yt,this.errorService=En,this.translate=Ln,this.router=ki,this.fb=Ze,this.toastr=qe,this.localize=ut,this.securityService=Pt,this.healthCheckService=un,this.configService=hn,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new p.vpe,this.inFlight=!1,this.addButtonClick=at,this.addClicked=at.None}keydown(kt){"Enter"===kt.key&&"addUserSubmit"!==kt.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,Ct.q)(1)).subscribe(kt=>{null!==kt.addUserPassword&&""!==kt.addUserPassword&&(this.canCreatePassword=!0===kt.addUserPassword||"true"===kt.addUserPassword||kt.isDemo),this.isDemo=kt.isDemo||this.securityService.licenseType===dt.o.Demo||this.securityService.licenseType===dt.o.Starter,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(kt=>{this.claimTypes=kt},kt=>{this.errorService.handleError(kt)})}addAnotherUser(){this.addAnother=!0,this.addClicked=at.AddAnother,this.addUser()}addUser(kt){let Yt;this.addClicked===at.None&&(this.addClicked=kt?at.AddAndConfigure:at.Add),Yt=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(Yt,{claims:[]});for(const En of this.claimsComponent.requiredClaims){if(null===En.value)continue;let Ln=En.value;"DateTime"===En.format&&(Ln=En.value),"Int"===En.format&&(Ln=Ln.toString()),Yt.claims.push({claimTypeId:En.typeId,value:Ln,type:En.type})}!1===this.canCreatePassword&&(Yt.password=null),this.inFlight=!0,this.userService.addUser(Yt).subscribe(En=>{this.inFlight=!1,this.addClicked=at.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const Ln=this.translate.instant("Notifications.AccountCreated"),ki=this.translate.instant("Users.Singular")+" "+Yt.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(Ln,ki),kt&&En.headers.get("location")?this.addUserAndConfigure(En.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},En=>{this.inFlight=!1,this.addClicked=at.None,this.addAnother=!1,this.errorService.handleError(En)})}addUserAndConfigure(kt){const Yt=kt.lastIndexOf("/"),En=kt.substring(Yt+1),Ln=[this.localize.translateRoute("/users"),En];this.router.navigate(Ln)}createForms(){this.addUserForm=this.fb.group({username:["",[e.kI.required,(0,Q.Fd)()]],email:["",rt.J],firstName:["",e.kI.required],lastName:["",e.kI.required],password:["",e.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(p.Y36(ce.K),p.Y36(ct.M),p.Y36(A.T),p.Y36(a.sK),p.Y36(m.F0),p.Y36(e.QS),p.Y36(Te._W),p.Y36(w.An),p.Y36(ve.I),p.Y36(Gt.G),p.Y36(_.E))},Wt.\u0275cmp=p.Xpm({type:Wt,selectors:[["app-add-user"]],viewQuery:function(kt,Yt){if(1&kt&&(p.Gf(Mt,7),p.Gf(It,7)),2&kt){let En;p.iGM(En=p.CRH())&&(Yt.claimsComponent=En.first),p.iGM(En=p.CRH())&&(Yt.addUserModal=En.first)}},hostBindings:function(kt,Yt){1&kt&&p.NdJ("keydown",function(Ln){return Yt.keydown(Ln)},!1,p.evT)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:39,consts:[["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addUserModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],["claimsComponent",""],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"disabled","click"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(kt,Yt){if(1&kt&&(p.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),p._uU(6),p.ALo(7,"translate"),p.qZA(),p.TgZ(8,"button",6),p.NdJ("click",function(){return Yt.hide()}),p._UZ(9,"span",7),p.TgZ(10,"span",8),p._uU(11),p.ALo(12,"translate"),p.qZA()()(),p.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),p._UZ(16,"input",12),p.qZA(),p.TgZ(17,"app-form-row",11),p._UZ(18,"input",13),p.qZA(),p.TgZ(19,"app-form-row",11),p._UZ(20,"input",14),p.qZA(),p.TgZ(21,"app-form-row",15),p._UZ(22,"input",16),p.qZA()(),p._UZ(23,"app-required-claims-form",17,18),p.TgZ(25,"form",19),p.YNc(26,G,21,19,"div",20),p.qZA()(),p._UZ(27,"div",21),p.TgZ(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),p.NdJ("click",function(){return Yt.addUser()}),p._uU(33),p.ALo(34,"translate"),p.YNc(35,oe,1,0,"span",27),p.qZA()(),p.TgZ(36,"span",28)(37,"button",29),p.NdJ("click",function(){return Yt.addUser(!0)}),p._uU(38),p.ALo(39,"translate"),p.YNc(40,Ve,1,0,"span",27),p.qZA()(),p.TgZ(41,"span",30)(42,"button",31),p.NdJ("click",function(){return Yt.addAnotherUser()}),p._uU(43),p.ALo(44,"translate"),p.YNc(45,Be,1,0,"span",27),p.qZA()()(),p.TgZ(46,"button",32),p.NdJ("click",function(){return Yt.hide()}),p._uU(47),p.ALo(48,"translate"),p.qZA()()()()()()),2&kt){const En=p.MAs(24);p.Q6J("config",p.DdM(38,o)),p.xp6(6),p.Oqu(p.lcZ(7,26,"Users.NewUser")),p.xp6(5),p.Oqu(p.lcZ(12,28,"Common.Close")),p.xp6(3),p.Q6J("formGroup",Yt.addUserForm),p.xp6(1),p.Q6J("id","FirstName")("label","Users.FirstName"),p.xp6(2),p.Q6J("id","LastName")("label","Users.LastName"),p.xp6(2),p.Q6J("id","Username")("label","Users.Username"),p.xp6(2),p.Q6J("id","Email")("label","Users.Email")("isLast",!Yt.canCreatePassword),p.xp6(2),p.Q6J("claimTypes",Yt.claimTypes),p.xp6(2),p.Q6J("formGroup",Yt.addUserForm),p.xp6(1),p.Q6J("ngIf",Yt.canCreatePassword),p.xp6(6),p.Q6J("disabled",!Yt.addUserForm.valid||!En.isFormValid()||Yt.inFlight),p.xp6(1),p.hij(" ",p.lcZ(34,30,"Common.Save")," "),p.xp6(2),p.Q6J("ngIf",Yt.inFlight&&Yt.addClicked===Yt.addButtonClick.Add),p.xp6(2),p.Q6J("disabled",Yt.addAnother||!Yt.addUserForm.valid||!En.isFormValid()||Yt.inFlight),p.xp6(1),p.hij(" ",p.lcZ(39,32,"Common.SaveAndConfigure")," "),p.xp6(2),p.Q6J("ngIf",Yt.inFlight&&Yt.addClicked===Yt.addButtonClick.AddAndConfigure),p.xp6(2),p.Q6J("disabled",!Yt.addUserForm.valid||!En.isFormValid()||Yt.inFlight),p.xp6(1),p.hij(" ",p.lcZ(44,34,"Common.SaveAndAdd")," "),p.xp6(2),p.Q6J("ngIf",Yt.inFlight&&Yt.addClicked===Yt.addButtonClick.AddAnother),p.xp6(2),p.Oqu(p.lcZ(48,36,"Common.Cancel"))}},dependencies:[t.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,b.oB,we.L,ln.x,a.X$],encapsulation:2}),Wt})();const be=["addUserModal"];function je(Wt,Fn){if(1&Wt){const kt=p.EpF();p.TgZ(0,"app-add-user",29,30),p.NdJ("onSubmitted",function(En){p.CHM(kt);const Ln=p.oxw();return p.KtG(Ln.onSubmitted(En))}),p.qZA()}}const et=function(Wt,Fn){return{"tw-alert":Wt,"tw-alert-warning":Fn}},We=function(Wt){return{limit:Wt,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}};function bt(Wt,Fn){if(1&Wt&&(p.TgZ(0,"div",31),p._UZ(1,"span",32),p.ALo(2,"translate"),p.qZA()),2&Wt){const kt=p.oxw();p.Q6J("ngClass",p.WLB(5,et,kt.limitReached,kt.overLimit)),p.xp6(1),p.Q6J("innerHTML",p.xi3(2,2,"Common.QuotaLimit",p.VKq(8,We,kt.licenseInfo.maxUsers)),p.oJD)}}function pt(Wt,Fn){1&Wt&&(p.TgZ(0,"span"),p._UZ(1,"span",33),p._uU(2),p.ALo(3,"translate"),p.qZA()),2&Wt&&(p.xp6(2),p.hij(" ",p.lcZ(3,1,"Auditing.ShowFilters")," "))}function He(Wt,Fn){1&Wt&&(p.TgZ(0,"span"),p._UZ(1,"span",34),p._uU(2),p.ALo(3,"translate"),p.qZA()),2&Wt&&(p.xp6(2),p.hij(" ",p.lcZ(3,1,"Auditing.HideFilters")," "))}function ae(Wt,Fn){if(1&Wt){const kt=p.EpF();p.TgZ(0,"div",38)(1,"label",39),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"select",40),p.NdJ("ngModelChange",function(En){p.CHM(kt);const Ln=p.oxw(2);return p.KtG(Ln.pageSize=En)})("change",function(){p.CHM(kt);const En=p.oxw(2);return p.KtG(En.setPageLength(+En.pageSize))}),p.TgZ(5,"option",41),p._uU(6),p.ALo(7,"translate"),p.qZA(),p.TgZ(8,"option",42),p._uU(9),p.ALo(10,"translate"),p.qZA(),p.TgZ(11,"option",43),p._uU(12),p.ALo(13,"translate"),p.qZA()()()}if(2&Wt){const kt=p.oxw(2);p.xp6(2),p.AsE("",kt.pageSize," ",p.lcZ(3,6,"Nav.PerPage"),""),p.xp6(2),p.Q6J("ngModel",kt.pageSize),p.xp6(2),p.hij("25 ",p.lcZ(7,8,"Nav.PerPage"),""),p.xp6(3),p.hij("50 ",p.lcZ(10,10,"Nav.PerPage"),""),p.xp6(3),p.hij("100 ",p.lcZ(13,12,"Nav.PerPage"),"")}}function te(Wt,Fn){if(1&Wt){const kt=p.EpF();p.ynx(0,44),p.TgZ(1,"button",45),p.NdJ("click",function(){p.CHM(kt);const En=p.oxw(2);return p.KtG(En.addModal.show())}),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.BQk()}if(2&Wt){const kt=p.oxw(2);p.xp6(1),p.Q6J("disabled",kt.limitReached),p.xp6(1),p.hij(" ",p.lcZ(3,2,"Users.AddUser")," ")}}function B(Wt,Fn){if(1&Wt&&(p.TgZ(0,"app-action-bar"),p.ynx(1,35),p.YNc(2,ae,14,14,"div",36),p.BQk(),p.YNc(3,te,4,4,"ng-container",37),p.qZA()),2&Wt){const kt=p.oxw();p.xp6(2),p.Q6J("ngIf",(null==kt.pagedResult?null:kt.pagedResult.results.length)>0),p.xp6(1),p.Q6J("ngIf",!kt.isUserManagerReadOnly)}}function ee(Wt,Fn){1&Wt&&p._UZ(0,"app-simple-loader")}function Re(Wt,Fn){1&Wt&&(p.TgZ(0,"div",46)(1,"div"),p._uU(2),p.ALo(3,"translate"),p.qZA()()),2&Wt&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"Users.NoUsersFound")))}function tt(Wt,Fn){1&Wt&&(p.TgZ(0,"span",67)(1,"span",7),p._uU(2),p.ALo(3,"translate"),p.qZA()()),2&Wt&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"Users.Filter.Deleted")))}function ot(Wt,Fn){1&Wt&&(p.TgZ(0,"span",68)(1,"span",7),p._uU(2),p.ALo(3,"translate"),p.qZA()()),2&Wt&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"Users.Filter.Blocked")))}function Et(Wt,Fn){1&Wt&&(p.TgZ(0,"span",69),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&Wt&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"Users.Filter.Deleted")," "))}function Kt(Wt,Fn){1&Wt&&(p.TgZ(0,"span",70),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&Wt&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"Users.Filter.Blocked")," "))}function wn(Wt,Fn){1&Wt&&(p.TgZ(0,"span",7),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&Wt&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"Common.Edit")))}function rn(Wt,Fn){1&Wt&&(p.TgZ(0,"span",7),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&Wt&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"Common.View")))}const fn=function(Wt,Fn){return{"fad fa-pencil":Wt,"fas fa-eye":Fn}};function cn(Wt,Fn){if(1&Wt){const kt=p.EpF();p.TgZ(0,"tr",54)(1,"td",55),p.NdJ("click",function(){const Ln=p.CHM(kt).$implicit,ki=p.oxw(2);return p.KtG(ki.viewOrEditUser(Ln))}),p.YNc(2,tt,4,3,"span",56),p.YNc(3,ot,4,3,"span",57),p.TgZ(4,"b",58),p._uU(5),p.qZA()(),p.TgZ(6,"td",59),p.NdJ("click",function(){const Ln=p.CHM(kt).$implicit,ki=p.oxw(2);return p.KtG(ki.viewOrEditUser(Ln))}),p._uU(7),p.qZA(),p.TgZ(8,"td",60),p.NdJ("click",function(){const Ln=p.CHM(kt).$implicit,ki=p.oxw(2);return p.KtG(ki.viewOrEditUser(Ln))}),p._uU(9),p.qZA(),p.TgZ(10,"td",61),p.NdJ("click",function(){const Ln=p.CHM(kt).$implicit,ki=p.oxw(2);return p.KtG(ki.viewOrEditUser(Ln))}),p.YNc(11,Et,3,3,"span",62),p.YNc(12,Kt,3,3,"span",63),p.qZA(),p.TgZ(13,"td",61),p.NdJ("click",function(){const Ln=p.CHM(kt).$implicit,ki=p.oxw(2);return p.KtG(ki.viewOrEditUser(Ln))}),p.TgZ(14,"button",64),p.NdJ("click",function(){const Ln=p.CHM(kt).$implicit,ki=p.oxw(2);return p.KtG(ki.viewOrEditUser(Ln))}),p._UZ(15,"span",65),p.TgZ(16,"span",7),p._uU(17),p.ALo(18,"translate"),p.qZA(),p.YNc(19,wn,3,3,"span",66),p.YNc(20,rn,3,3,"span",66),p.qZA()()()}if(2&Wt){const kt=Fn.$implicit,Yt=p.oxw(2);p.ekj("inactive",kt.isBlocked||kt.isDeleted||Yt.overLimit),p.xp6(2),p.Q6J("ngIf",kt.isDeleted),p.xp6(1),p.Q6J("ngIf",kt.isBlocked&&!kt.isDeleted),p.xp6(2),p.hij(" ",kt.username," "),p.xp6(2),p.AsE(" ",kt.firstName," ",kt.lastName," "),p.xp6(2),p.hij(" ",kt.email," "),p.xp6(2),p.Q6J("ngIf",kt.isDeleted),p.xp6(1),p.Q6J("ngIf",kt.isBlocked&&!kt.isDeleted),p.xp6(3),p.Q6J("ngClass",p.WLB(16,fn,!Yt.isUserManagerReadOnly&&!Yt.overLimit,Yt.isUserManagerReadOnly||Yt.overLimit)),p.xp6(2),p.Oqu(p.lcZ(18,14,"Common.Edit")),p.xp6(2),p.Q6J("ngIf",!Yt.isUserManagerReadOnly&&!Yt.overLimit),p.xp6(1),p.Q6J("ngIf",Yt.isUserManagerReadOnly||Yt.overLimit)}}function lt(Wt,Fn){if(1&Wt&&(p.TgZ(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),p._uU(4),p.ALo(5,"translate"),p.qZA(),p.TgZ(6,"th",49),p._uU(7),p.ALo(8,"translate"),p.qZA(),p.TgZ(9,"th",50),p._uU(10),p.ALo(11,"translate"),p.qZA(),p.TgZ(12,"th",51)(13,"span",7),p._uU(14),p.ALo(15,"translate"),p.qZA()(),p.TgZ(16,"th",51)(17,"span",7),p._uU(18),p.ALo(19,"translate"),p.qZA()()()(),p.TgZ(20,"tbody",52),p.YNc(21,cn,21,19,"tr",53),p.qZA()()),2&Wt){const kt=p.oxw();p.xp6(4),p.hij(" ",p.lcZ(5,6,"Users.Username")," "),p.xp6(3),p.hij(" ",p.lcZ(8,8,"Users.FullName")," "),p.xp6(3),p.hij(" ",p.lcZ(11,10,"Users.Email")," "),p.xp6(4),p.Oqu(p.lcZ(15,12,"Common.Status")),p.xp6(4),p.Oqu(p.lcZ(19,14,"Common.Actions")),p.xp6(3),p.Q6J("ngForOf",kt.pagedResult.results)}}function tn(Wt,Fn){if(1&Wt){const kt=p.EpF();p.TgZ(0,"app-pager",71),p.NdJ("onGoToPage",function(En){p.CHM(kt);const Ln=p.oxw();return p.KtG(Ln.goToPage(En))}),p.qZA()}if(2&Wt){const kt=p.oxw();p.Q6J("totalResults",null==kt.pagedResult?null:kt.pagedResult.totalCount)("currentPage",kt.page)("lastPage",null==kt.pagedResult?null:kt.pagedResult.pageCount)}}let St=(()=>{class Wt extends X.bk{constructor(kt,Yt,En,Ln,ki,Ze,qe,ut,Pt){super(qe,ki,!0),this.router=kt,this.userService=Yt,this.errorService=En,this.titleService=Ln,this.localize=Ze,this.securityService=ut,this.licenseService=Pt,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new V.x,this.advancedFilterStream=new V.x,this.pageStream=new V.x,this.pageSizeStream=new V.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${E.de.SITE_TITLE}`),this.isLoading=!0;const kt=this.pageStream.pipe((0,q.U)(Ze=>(this.page=Ze,{searchTerm:this.term,page:Ze,pageSize:this.pageSize,filters:this.activeFilters}))),Yt=this.pageSizeStream.pipe((0,q.U)(Ze=>(this.pageSize=Ze,{searchTerm:this.term,page:this.page,pageSize:Ze,filters:this.activeFilters}))),En=this.filterStream.pipe((0,q.U)(Ze=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Ze}))),Ln=this.advancedFilterStream.pipe((0,q.U)(Ze=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Ze})));kt.pipe((0,ie.b)(Yt),(0,ie.b)(this.searchSource),(0,ie.b)(En),(0,ie.b)(Ln),(0,ie.b)(this.enterKeySource),(0,H.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,$.z)(Ze=>(this.isLoading=!0,this.userService.getUsersLightweight(Ze.searchTerm,Ze.page,Ze.pageSize,Ze.filters,Ze.advancedFilters).pipe((0,z.g)(200))))).subscribe({next:Ze=>{this.pagedResult=Ze,this.isLoading=!1},error:Ze=>{500===Ze.status?this.handleInternalServerError():this.errorService.handleError(Ze),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,g.P)()).subscribe({next:Ze=>{this.licenseInfo=Ze}})}mapSearchTerm(kt){return this.term=kt,{searchTerm:kt,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(kt){const Yt=this.localize.translateRoute("/users");this.router.navigate([Yt,kt.subject])}viewUser(kt){const Yt=this.localize.translateRoute("/users/view");this.router.navigate([Yt,kt.subject])}viewOrEditUser(kt){this.isUserManagerReadOnly||this.overLimit?this.viewUser(kt):this.editUser(kt)}goToPage(kt){this.pageStream.next(kt)}setPageLength(kt){this.page=1,this.pageSizeStream.next(kt)}filter(kt){if(this.activeFilters.includes(kt)){const Yt=this.activeFilters.indexOf(kt);this.activeFilters.splice(Yt,1)}else this.activeFilters.push(kt);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(kt){if(this.activeAdvancedFilters.includes(kt)){const Yt=this.activeAdvancedFilters.indexOf(kt);this.activeAdvancedFilters.splice(Yt,1)}else this.activeAdvancedFilters.push(kt);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(kt){return this.activeFilters.includes(kt)}onSubmitted(kt){kt&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,Q.ub)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(p.Y36(m.F0),p.Y36(ce.K),p.Y36(A.T),p.Y36(_e.Dx),p.Y36(a.sK),p.Y36(w.An),p.Y36(Te._W),p.Y36(ve.I),p.Y36(R.E))},Wt.\u0275cmp=p.Xpm({type:Wt,selectors:[["ng-component"]],viewQuery:function(kt,Yt){if(1&kt&&p.Gf(be,5),2&kt){let En;p.iGM(En=p.CRH())&&(Yt.addModal=En.first)}},features:[p.qOj],decls:46,vars:37,consts:[["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","placeholder","ngModelChange","keyup"],["searchUserName",""],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"ngClass","click"],["id","blockedFilter",3,"ngClass","click"],["id","deletedFilter",3,"ngClass","click"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["addUserModal",""],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"disabled","click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(kt,Yt){1&kt&&(p.YNc(0,je,2,0,"app-add-user",0),p.TgZ(1,"div",1),p.YNc(2,bt,3,10,"div",2),p.TgZ(3,"div",3)(4,"div",4)(5,"label",5),p._UZ(6,"span",6),p.TgZ(7,"span",7),p._uU(8),p.ALo(9,"translate"),p.qZA()(),p.TgZ(10,"input",8,9),p.NdJ("ngModelChange",function(Ln){return Yt.searchTerm=Ln})("keyup",function(Ln){return Yt.search(Ln)}),p.ALo(12,"translate"),p.qZA()(),p.TgZ(13,"button",10),p.NdJ("click",function(){return Yt.showAdvancedFilters=!Yt.showAdvancedFilters}),p.YNc(14,pt,4,3,"span",11),p.YNc(15,He,4,3,"span",11),p.qZA(),p.TgZ(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"app-form-row",16)(21,"app-form-toggle",17)(22,"input",18),p.NdJ("click",function(){return Yt.advancedFilter("claims")}),p.qZA()()()()(),p.TgZ(23,"div",19)(24,"p",20),p._uU(25),p.ALo(26,"translate"),p.qZA(),p.TgZ(27,"ul",21)(28,"li",22)(29,"button",23),p.NdJ("click",function(){return Yt.filter("active")}),p._uU(30),p.ALo(31,"translate"),p.qZA()(),p.TgZ(32,"li",22)(33,"button",24),p.NdJ("click",function(){return Yt.filter("blocked")}),p._uU(34),p.ALo(35,"translate"),p.qZA()(),p.TgZ(36,"li")(37,"button",25),p.NdJ("click",function(){return Yt.filter("deleted")}),p._uU(38),p.ALo(39,"translate"),p.qZA()()()()(),p._UZ(40,"hr"),p.qZA()(),p.YNc(41,B,4,2,"app-action-bar",11),p.YNc(42,ee,1,0,"app-simple-loader",11),p.YNc(43,Re,4,3,"div",26),p.YNc(44,lt,22,16,"table",27),p.YNc(45,tn,1,3,"app-pager",28),p.qZA()),2&kt&&(p.Q6J("ngIf",!Yt.isUserManagerReadOnly),p.xp6(2),p.Q6J("ngIf",Yt.limitReached),p.xp6(6),p.Oqu(p.lcZ(9,25,"Common.Search")),p.xp6(2),p.s9C("placeholder",p.lcZ(12,27,"Users.SearchPlaceholder")),p.Q6J("ngModel",Yt.searchTerm),p.xp6(4),p.Q6J("ngIf",!Yt.showAdvancedFilters),p.xp6(1),p.Q6J("ngIf",Yt.showAdvancedFilters),p.xp6(1),p.Q6J("hidden",!Yt.showAdvancedFilters),p.xp6(4),p.Q6J("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),p.xp6(1),p.Q6J("id","includeClaims"),p.xp6(4),p.Oqu(p.lcZ(26,29,"Auditing.Showing")),p.xp6(4),p.Q6J("ngClass",Yt.isShowing("active")?"tw-btn":"tw-btn-link"),p.xp6(1),p.hij(" ",p.lcZ(31,31,"Users.Filter.Active")," "),p.xp6(3),p.Q6J("ngClass",Yt.isShowing("blocked")?"tw-btn":"tw-btn-link"),p.xp6(1),p.hij(" ",p.lcZ(35,33,"Users.Filter.Blocked")," "),p.xp6(3),p.Q6J("ngClass",Yt.isShowing("deleted")?"tw-btn":"tw-btn-link"),p.xp6(1),p.hij(" ",p.lcZ(39,35,"Users.Filter.Deleted")," "),p.xp6(3),p.Q6J("ngIf",!Yt.isLoading),p.xp6(1),p.Q6J("ngIf",Yt.isLoading),p.xp6(1),p.Q6J("ngIf",(null==Yt.pagedResult?null:Yt.pagedResult.results.length)<1&&!Yt.isLoading),p.xp6(1),p.Q6J("ngIf",(null==Yt.pagedResult?null:Yt.pagedResult.results.length)>0&&!Yt.isLoading),p.xp6(1),p.Q6J("ngIf",(null==Yt.pagedResult?null:Yt.pagedResult.results.length)>0&&!Yt.isLoading))},dependencies:[t.mk,t.sg,t.O5,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.On,Ke.P,xe.K,Ge.w,we.L,Ye.O,De,a.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),Wt})();const qt=function(){return["active"]};function gn(Wt,Fn){1&Wt&&(p.TgZ(0,"ul",10),p.ALo(1,"translate"),p.TgZ(2,"li",11)(3,"button",12),p._uU(4),p.ALo(5,"translate"),p.qZA()(),p.TgZ(6,"li",11)(7,"button",13),p._uU(8),p.ALo(9,"translate"),p.qZA()()()),2&Wt&&(p.uIk("aria-label",p.lcZ(1,5,"Nav.SubMenu")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(11,qt)),p.xp6(1),p.Oqu(p.lcZ(5,7,"Nav.Users")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(12,qt)),p.xp6(1),p.Oqu(p.lcZ(9,9,"Nav.SessionManagement")))}let Vn=(()=>{class Wt{constructor(kt,Yt,En){this.r=kt,this.route=Yt,this.configService=En}ngOnInit(){this.configService.getConfig().subscribe(kt=>{this.showSessionManagement=kt.featureFlagOptions.sessionManagementEnabled})}mobRoute(kt){this.r.navigate([kt],{relativeTo:this.route})}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(p.Y36(m.F0),p.Y36(m.gz),p.Y36(_.E))},Wt.\u0275cmp=p.Xpm({type:Wt,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(kt,Yt){1&kt&&(p.TgZ(0,"app-title-bar",0),p.ALo(1,"translate"),p.ynx(2,1),p.TgZ(3,"div",2)(4,"label",3),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.TgZ(7,"div",4)(8,"select",5),p.NdJ("change",function(Ln){return Yt.mobRoute(Ln.target.value)}),p.TgZ(9,"option",6),p._uU(10),p.ALo(11,"translate"),p.qZA(),p.TgZ(12,"option",6),p._uU(13),p.ALo(14,"translate"),p.qZA(),p.TgZ(15,"option",7),p._uU(16),p.ALo(17,"translate"),p.qZA()()()(),p.YNc(18,gn,10,13,"ul",8),p.BQk(),p.qZA(),p.TgZ(19,"div",9),p._UZ(20,"router-outlet"),p.qZA()),2&kt&&(p.Q6J("hasTabs",!0)("title",p.lcZ(1,7,"Nav.Users")),p.xp6(5),p.Oqu(p.lcZ(6,9,"Nav.SubMenu")),p.xp6(5),p.hij("",p.lcZ(11,11,"Nav.SubMenu"),"..."),p.xp6(3),p.Oqu(p.lcZ(14,13,"Nav.Users")),p.xp6(3),p.Oqu(p.lcZ(17,15,"Nav.SessionManagement")),p.xp6(2),p.Q6J("ngIf",Yt.showSessionManagement))},dependencies:[m.lC,m.rH,m.Od,t.O5,e.YN,e.Kr,N.G,a.X$],encapsulation:2}),Wt})();function Mn(Wt,Fn){1&Wt&&(p.TgZ(0,"span",25),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&Wt&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"Users.Filter.Blocked")," "))}function qn(Wt,Fn){1&Wt&&(p.TgZ(0,"span",26)(1,"span",27),p._uU(2),p.ALo(3,"translate"),p.qZA(),p._UZ(4,"span",28),p.qZA()),2&Wt&&(p.xp6(2),p.Oqu(p.lcZ(3,1,"StarterMode.RequiresUpgrade")))}function ui(Wt,Fn){1&Wt&&(p.TgZ(0,"div",29)(1,"p"),p._uU(2),p.ALo(3,"translate"),p.ALo(4,"translate"),p.qZA()()),2&Wt&&(p.xp6(2),p.AsE("",p.lcZ(3,2,"Users.Delete.DeletedUser")," ",p.lcZ(4,4,"Users.Delete.AuditingPurposes"),""))}const ci=function(Wt,Fn){return{title:Wt,link:Fn}},jt=function(Wt){return[Wt]},$n=function(){return["active"]};let In=(()=>{class Wt{constructor(kt,Yt,En,Ln){this.route=kt,this.router=Yt,this.errorService=En,this.licenseService=Ln}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(kt=>{this.user=kt.user},kt=>{this.errorService.handleError(kt)}),this.licenseService.getLicenseInfo().pipe((0,g.P)()).subscribe({next:kt=>{this.licenseInfo=kt}})}mobRoute(kt){this.router.navigate([kt],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}}return Wt.\u0275fac=function(kt){return new(kt||Wt)(p.Y36(m.gz),p.Y36(m.F0),p.Y36(A.T),p.Y36(R.E))},Wt.\u0275cmp=p.Xpm({type:Wt,selectors:[["ng-component"]],decls:63,vars:73,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(kt,Yt){1&kt&&(p.TgZ(0,"app-title-bar",0),p.ALo(1,"translate"),p.ALo(2,"localize"),p.ynx(3,1),p.YNc(4,Mn,3,3,"span",2),p.BQk(),p.ynx(5,3),p.TgZ(6,"div",4)(7,"label",5),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.TgZ(10,"div",6)(11,"select",7),p.NdJ("change",function(Ln){return Yt.mobRoute(Ln.target.value)}),p.TgZ(12,"option",8),p._uU(13),p.ALo(14,"translate"),p.qZA(),p.TgZ(15,"option",8),p._uU(16),p.ALo(17,"translate"),p.qZA(),p.TgZ(18,"option",9),p._uU(19),p.ALo(20,"translate"),p.qZA(),p.TgZ(21,"option",10),p._uU(22),p.ALo(23,"translate"),p.qZA(),p.TgZ(24,"option",11),p._uU(25),p.ALo(26,"translate"),p.qZA(),p.TgZ(27,"option",12),p._uU(28),p.ALo(29,"translate"),p.qZA(),p.TgZ(30,"option",13),p._uU(31),p.ALo(32,"translate"),p.qZA()()()(),p.TgZ(33,"ul",14),p.ALo(34,"translate"),p.TgZ(35,"li",15)(36,"button",16),p._uU(37),p.ALo(38,"translate"),p.qZA()(),p.TgZ(39,"li",15)(40,"button",17),p._uU(41),p.ALo(42,"translate"),p.qZA()(),p.TgZ(43,"li",15)(44,"button",18),p._uU(45),p.ALo(46,"translate"),p.qZA()(),p.TgZ(47,"li",15)(48,"button",19),p._uU(49),p.ALo(50,"translate"),p.qZA()(),p.TgZ(51,"li",15)(52,"button",20),p._uU(53),p.ALo(54,"translate"),p.qZA()(),p.TgZ(55,"li",15)(56,"button",21),p._uU(57),p.ALo(58,"translate"),p.YNc(59,qn,5,3,"span",22),p.qZA()()(),p.BQk(),p.qZA(),p.TgZ(60,"div",23),p.YNc(61,ui,5,6,"div",24),p._UZ(62,"router-outlet"),p.qZA()),2&kt&&(p.Q6J("title",Yt.user.firstName+" "+Yt.user.lastName)("crumbs",p.VKq(65,jt,p.WLB(62,ci,p.lcZ(1,28,"Nav.Users"),p.lcZ(2,30,"/users"))))("hasTabs",!0)("isReadOnly",!0),p.xp6(4),p.Q6J("ngIf",Yt.user.isBlocked),p.xp6(4),p.Oqu(p.lcZ(9,32,"Nav.SubMenu")),p.xp6(5),p.hij("",p.lcZ(14,34,"Nav.SubMenu"),"..."),p.xp6(3),p.Oqu(p.lcZ(17,36,"Nav.Details")),p.xp6(3),p.Oqu(p.lcZ(20,38,"Nav.Roles")),p.xp6(3),p.Oqu(p.lcZ(23,40,"Nav.Additional Details")),p.xp6(3),p.Oqu(p.lcZ(26,42,"Nav.Applications")),p.xp6(3),p.Oqu(p.lcZ(29,44,"Nav.External Logins")),p.xp6(3),p.Oqu(p.lcZ(32,46,"Nav.Audits")),p.xp6(2),p.uIk("aria-label",p.lcZ(34,48,"Nav.SubMenu")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(67,$n)),p.xp6(1),p.Oqu(p.lcZ(38,50,"Nav.Details")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(68,$n)),p.xp6(1),p.Oqu(p.lcZ(42,52,"Nav.Roles")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(69,$n)),p.xp6(1),p.Oqu(p.lcZ(46,54,"Nav.Additional Details")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(70,$n)),p.xp6(1),p.Oqu(p.lcZ(50,56,"Nav.Applications")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(71,$n)),p.xp6(1),p.Oqu(p.lcZ(54,58,"Nav.External Logins")),p.xp6(3),p.Q6J("routerLinkActive",p.DdM(72,$n)),p.xp6(1),p.hij(" ",p.lcZ(58,60,"Nav.Audits")," "),p.xp6(2),p.Q6J("ngIf",Yt.licenseInfo.isStarterLicense()),p.xp6(2),p.Q6J("ngIf",Yt.user.isDeleted))},dependencies:[m.lC,m.rH,m.Od,t.O5,N.G,a.X$,w.lO],encapsulation:2}),Wt})();var Pn=f(1206),zn=f(6876),ii=f(7364),ft=f(8677),yt=f(8783),ht=f(5046);const xt=[{path:"users",component:Vn,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:St},{path:"sessions",component:zn.O,canActivate:[ii.f]}],canActivate:[ft.B,ht.h],data:{permissions:[Pn.y[Pn.y.UserManager],Pn.y[Pn.y.UserManagerReadOnly],Pn.y[Pn.y.AllReadOnly],Pn.y[Pn.y.All]]}},{path:"users/:Id",component:F,loadChildren:()=>Promise.all([f.e(592),f.e(949)]).then(f.bind(f,949)).then(Wt=>Wt.EditUsersModule),resolve:{user:yt.L},canActivate:[ft.B,ht.h],data:{permissions:[Pn.y[Pn.y.UserManager],Pn.y[Pn.y.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([f.e(592),f.e(71)]).then(f.bind(f,8071)).then(Wt=>Wt.ViewUserModule),component:In,canActivate:[ft.B,ht.h],resolve:{user:yt.L},data:{permissions:[Pn.y[Pn.y.UserManager],Pn.y[Pn.y.UserManagerReadOnly],Pn.y[Pn.y.AllReadOnly],Pn.y[Pn.y.All]]}}];let zt=(()=>{class Wt{}return Wt.\u0275fac=function(kt){return new(kt||Wt)},Wt.\u0275mod=p.oAB({type:Wt}),Wt.\u0275inj=p.cJS({imports:[m.Bz.forChild(xt),w.fQ.forChild(xt),m.Bz]}),Wt})();var vn=f(5503),Zt=f(8265),ti=f(85),vi=f(4362),vr=f(5084),Rn=f(5785),yi=f(4022),rr=f(7770),ri=f(5971),Gi=f(9650),Di=f(5898),Bi=f(8002),pr=f(4091);let $i=(()=>{class Wt{}return Wt.\u0275fac=function(kt){return new(kt||Wt)},Wt.\u0275mod=p.oAB({type:Wt}),Wt.\u0275inj=p.cJS({providers:[yt.L,ti.e],imports:[zt,t.ez,e.u5,e.UX,b.zk,vn.D,a.aw,Zt.j,C.z8,w.fQ,vi.l,vr.y,Rn.U,yi.p,rr.t,ri.s,Gi.I,Di.T,m.Bz,zn.O,Bi.Z,pr.G]}),Wt})()},5373:(st,ye,f)=>{"use strict";f.d(ye,{n:()=>t});let t=(()=>{class e{}return e.DefaultAdministratorUsername="info@rocksolidknowledge.com",e})()},5712:(st,ye,f)=>{"use strict";f.d(ye,{G:()=>t});let t=(()=>{class e{}return e.Id="wizard-modal",e.TileId="wizard-title",e.DescriptionId="wizard-description",e})()},8400:(st,ye,f)=>{"use strict";f.r(ye),f.d(ye,{DynamicAuthModule:()=>da});var t=f(6895),e=f(4006),m=f(8185),w=f(2979),b=f(9383),C=f(388),g=f(9241),p=f(2320),A=f(1191),_=f(9679),R=f(8413),N=f(5150),a=f(9536),k=f(5503),P=f(8117),U=f(4995),J=f(3883),O=f(9002),L=f(5302),F=f(3499),V=f(4022),q=f(4362),ie=f(6980),H=f(7023),$=f(8265),z=f(1230),E=f(4380),X=f(5898),Q=f(9650),ce=f(1274),_e=f(8975),Te=f(6493),ve=f(8761),Ke=f(1436),xe=f(5971),Ge=f(5084),we=f(5785),Ye=f(9858),rt=f(9881),Ct=f(4091),at=f(3831),dt=f(618),ct=f(1842),Gt=f(529),ln=f(4707),Mt=f(4782),It=f(4004),Y=f(262),G=f(9646),oe=(()=>{return(me=oe||(oe={})).OIDC="oidc",me.SAML="saml2p",me.Enabled="enabled",me.Disabled="disabled",oe;var me})(),Ve=(()=>{return(me=Ve||(Ve={})).AuthCode="AuthCode",me.AuthCodePlusPkce="AuthCodePlusPkce",Ve;var me})();class Be{static AllowRemoveScope(Tt){return!this.RequiredScopes.includes(Tt)}}Be.DiscoveryDocumentPath="/.well-known/openid-configuration",Be.DiscoveryDocCachingDuration=6e4,Be.FlowTypes=[Ve.AuthCode,Ve.AuthCodePlusPkce],Be.RequiredScopes=["openid"],Be.ScopeOptions=[...Be.RequiredScopes,"profile","email"],Be.MaxScopeLength=100,Be.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}],Be.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");',Be.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });',Be.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });',Be.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc",Be.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr";var o=f(4650),De=f(8564);let be=(()=>{class me{constructor(j,Se){this.http=j,this.cacheTime=0,this.discoveryDoc=new ln.t(1),this.headers=Se.setHeaders()}get cacheTimeout(){return Be.DiscoveryDocCachingDuration}getDiscoveryDocument(j,Se=!1){this.actionUrl=Be.AdminUIOidcDiscoveryDocumentEndpoint;const Rt=Date.now()-this.cacheTime>=this.cacheTimeout;if(!Se&&(!j||this.previousAuthority===j&&!Rt&&this.discoveryDoc))return this.discoveryDoc.asObservable();let On=new Gt.LE;return On=On.append("authority",j),this.http.get(this.actionUrl,{headers:this.headers,params:On}).pipe((0,Mt.d)(1),(0,It.U)(Wn=>(this.previousAuthority=j,this.cacheTime=Date.now(),this.discoveryDoc.next(Wn),Wn)),(0,Y.K)(Wn=>(this.previousAuthority=j,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,G.of)(null))))}isValid(j){return this.getDiscoveryDocument(j,!0).pipe((0,It.U)(Se=>!(!Se||!Se.issuer)))}supportedScopes(j){return this.getDiscoveryDocument(j).pipe((0,It.U)(Se=>Se?.scopes_supported??Be.ScopeOptions))}validateMetadataUrl(j){this.actionUrl=Be.AdminUISamlMetadataEndpoint;let Se=new Gt.LE;return Se=Se.append("metadataUrl",j),this.http.get(this.actionUrl,{headers:this.headers,params:Se}).pipe((0,Mt.d)(1),(0,It.U)(Rt=>!0),(0,Y.K)(Rt=>(0,G.of)(!1)))}}return me.\u0275fac=function(j){return new(j||me)(o.LFG(Gt.eN),o.LFG(De.s))},me.\u0275prov=o.Yz7({token:me,factory:me.\u0275fac}),me})(),je=(()=>{class me{constructor(){this.dtoObject={},this.summaryModels=[]}reset(){this.dtoObject={},this.summaryModels=[]}addToDto(j){this.dtoObject={...this.dtoObject,...j}}getDto(){return this.dtoObject}addSummary(j,Se){const Rt=this.summaryModels.findIndex(Wn=>Wn.stepName===j);-1===Rt?this.summaryModels.push({stepName:j,stepData:Se}):this.summaryModels[Rt].stepData=Se}getSummary(){return this.summaryModels}}return me.\u0275fac=function(j){return new(j||me)},me.\u0275prov=o.Yz7({token:me,factory:me.\u0275fac}),me})();var et=f(7579),Qe=f(3635),We=f(8675),bt=f(5577),pt=f(1005),He=f(2831),ae=f(6205),te=f(8176),B=f(9046),ee=f(2976),Re=f(5712),tt=f(4889),ot=f(1481),Et=f(1060),Kt=f(7185),wn=f(2294),rn=f(8163),fn=f(5925),cn=f(7696),lt=f(590),tn=f(1330),St=f(7608);let qt=(()=>{class me{constructor(j,Se){this.wizardDataService=j,this.fb=Se}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const j={};return j.clientSecret=this.clientSecretForm.get("clientSecret").value,j}toSummaryMap(){const j=new Map;return j.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(e.QS))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"form",2)(4,"app-form-row",3),o._UZ(5,"input",4),o.qZA()()),2&j&&(o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),o.oJD),o.xp6(2),o.Q6J("formGroup",Se.clientSecretForm),o.xp6(1),o.Q6J("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,St.L,b.X$],encapsulation:2}),me})();var gn=f(5188);function Vn(){return e.kI.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function Mn(){return e.kI.pattern(/^\/federation([/]{1}[\w-]{0,}){1,}$/)}function qn(me,Tt){1&me&&(o.TgZ(0,"app-form-row",3),o._UZ(1,"input",11),o.qZA()),2&me&&o.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function ui(me,Tt){if(1&me&&(o.TgZ(0,"option",12),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me){const j=Tt.$implicit;o.Q6J("value",j),o.xp6(1),o.Oqu(o.lcZ(2,2,"DynamicAuth.Flows."+j))}}let ci=(()=>{class me{constructor(j,Se,Rt,On,Wn,or){this.wizardDataService=j,this.fb=Se,this.configService=Rt,this.translate=On,this.providerValidator=Wn,this.toastr=or,this.failedToContactAuthority=!1,this.allowedFlows=Be.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==gn.u.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var j=this.connectionForm.get("authority").value;this.providerValidator.isValid(j).subscribe(Se=>{Se||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let j={authority:["https://",[e.kI.required,e.kI.pattern("^https://.{1,}$")]],clientId:["",e.kI.required]};this.isRskDynamicAuth&&(j.callbackPath=["/oidc-scheme",[e.kI.required,Vn()]]),j.flow=[Ve.AuthCodePlusPkce,[e.kI.required]],this.connectionForm=this.fb.group(j)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const j={};return j.authority=this.connectionForm.get("authority").value,j.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(j.callbackPath=this.connectionForm.get("callbackPath").value),j.flow=this.connectionForm.get("flow").value,j}toSummaryMap(){const j=new Map;return j.set("authority",[this.connectionForm.get("authority").value]),j.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&j.set("callbackPath",[this.connectionForm.get("callbackPath").value]),j.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(e.QS),o.Y36(rt.E),o.Y36(b.sK),o.Y36(be),o.Y36(Kt._W))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"form",2)(4,"app-form-row",3)(5,"input",4),o.NdJ("focusout",function(){return Se.tryReachAuthority()}),o.qZA()(),o.TgZ(6,"app-form-row",3),o._UZ(7,"input",5),o.qZA(),o.YNc(8,qn,2,3,"app-form-row",6),o.TgZ(9,"app-form-row",7)(10,"div",8)(11,"select",9),o.YNc(12,ui,3,4,"option",10),o.qZA()()()()),2&j&&(o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),o.oJD),o.xp6(2),o.Q6J("formGroup",Se.connectionForm),o.xp6(1),o.Q6J("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.xp6(2),o.Q6J("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.xp6(2),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),o.xp6(3),o.Q6J("ngForOf",Se.allowedFlows))},dependencies:[t.sg,t.O5,e._Y,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,b.X$],encapsulation:2}),me})();var jt=f(9751),$n=f(3900),In=f(1651);function Pn(me,Tt){if(1&me&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&me){const j=Tt.item;o.xp6(1),o.Oqu(j.length>20?o.Dn7(2,1,j,0,20)+"...":j)}}function zn(me,Tt){1&me&&(o.TgZ(0,"div",16)(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&me&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"DynamicAuth.NoScopesMessage")," "))}function ii(me,Tt){1&me&&(o.TgZ(0,"span",20),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Common.Reserved")," "))}function ft(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw().$implicit,On=o.oxw(2);return o.KtG(On.removeScope(Rt))}),o._UZ(1,"span",22),o.TgZ(2,"span",13),o._uU(3),o.ALo(4,"translate"),o.qZA()()}if(2&me){const j=o.oxw().$implicit;o.Q6J("id","btnRemove"+j),o.xp6(3),o.Oqu(o.lcZ(4,2,"Common.Remove.Title"))}}function yt(me,Tt){if(1&me&&(o.TgZ(0,"tr")(1,"td",17)(2,"span"),o._uU(3),o.qZA()(),o.TgZ(4,"td"),o.YNc(5,ii,3,3,"span",18),o.qZA(),o.TgZ(6,"td"),o.YNc(7,ft,5,4,"button",19),o.qZA()()),2&me){const j=Tt.$implicit,Se=o.oxw(2);o.xp6(3),o.Oqu(j),o.xp6(2),o.Q6J("ngIf",!Se.allowRemoveScope(j)),o.xp6(2),o.Q6J("ngIf",Se.allowRemoveScope(j))}}function ht(me,Tt){if(1&me&&(o.TgZ(0,"div",9),o.YNc(1,zn,4,3,"div",10),o.TgZ(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),o._uU(6),o.ALo(7,"translate"),o.qZA()(),o.TgZ(8,"th",14)(9,"span",13),o._uU(10),o.ALo(11,"translate"),o.qZA()(),o.TgZ(12,"th",14)(13,"span",13),o._uU(14),o.ALo(15,"translate"),o.qZA()()(),o.TgZ(16,"tbody"),o.YNc(17,yt,8,3,"tr",15),o.qZA()()()),2&me){const j=o.oxw();o.Q6J("id","Scopes"),o.xp6(1),o.Q6J("ngIf",j.scopes.length<=0),o.xp6(5),o.Oqu(o.lcZ(7,6,"Common.Scope")),o.xp6(4),o.Oqu(o.lcZ(11,8,"Common.Reserved")),o.xp6(4),o.Oqu(o.lcZ(15,10,"Common.Actions")),o.xp6(3),o.Q6J("ngForOf",j.scopes)}}let xt=(()=>{class me{constructor(j,Se,Rt,On,Wn){this.wizardDataService=j,this.toastrService=Se,this.translateService=Rt,this.fb=On,this.providerValidator=Wn,this.scopes=[...Be.RequiredScopes],this.maxScopeLength=Be.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new jt.y(j=>{let Se=this.scopesForm.get("newScope").value;j.next(Se)}).pipe((0,$n.w)(j=>this.providerValidator.supportedScopes().pipe((0,It.U)(Se=>this.filterScopes(j,Se)))))}filterScopes(j,Se){const Rt=!j;return Se.filter(On=>!this.scopes.includes(On)&&(Rt||On.includes(j)))}addScope(){var j=this.scopesForm.get("newScope").value;if(""!==j)if(this.scopes.includes(j)){const Se=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(Se)}else if(j.indexOf(" ")>=0){const Se=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(Se)}else this.scopes.push(j);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(j){const Se=this.scopes.indexOf(j);if(-1!==Se)this.scopes.splice(Se,1);else{const Rt=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(Rt)}}allowRemoveScope(j){return Be.AllowRemoveScope(j)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const j={};return j.scopes=this.scopes,j}toSummaryMap(){const j=new Map;return j.set("scopes",this.scopes),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(Kt._W),o.Y36(b.sK),o.Y36(e.QS),o.Y36(be))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["customItemTemplate",""],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"id","click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(j,Se){if(1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.YNc(3,Pn,3,5,"ng-template",null,2,o.W1O),o.TgZ(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),o._UZ(8,"input",6),o.ALo(9,"translate"),o.TgZ(10,"button",7),o.NdJ("click",function(){return Se.addScope()}),o._uU(11),o.ALo(12,"translate"),o.qZA()()(),o.YNc(13,ht,18,12,"div",8),o.qZA()),2&j){const Rt=o.MAs(4);o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),o.oJD),o.xp6(4),o.Q6J("formGroup",Se.scopesForm),o.xp6(1),o.Q6J("id","NewScope")("hasLabel",!1)("isLast",!0),o.xp6(2),o.s9C("placeholder",o.lcZ(9,16,"DynamicAuth.Scopes.Placeholder")),o.Q6J("typeahead",Se.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Rt)("typeaheadMinLength",0)("maxlength",Se.maxScopeLength),o.xp6(3),o.hij(" ",o.lcZ(12,18,"Common.Add")," "),o.xp6(2),o.Q6J("ngIf",Se.scopes.length>0)}},dependencies:[t.sg,t.O5,e._Y,e.Fj,e.JJ,e.JL,e.nD,e.sg,e.u,A.Bp,St.L,In.T,t.OU,b.X$],encapsulation:2}),me})(),vn=(()=>{class me{constructor(j,Se){this.wizardDataService=j,this.fb=Se}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[e.kI.required,e.kI.pattern(/^[\d\w-]*$/)]],displayName:["",[e.kI.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const j={};return j.scheme=this.nameRoleForm.get("scheme").value,j.displayName=this.nameRoleForm.get("displayName").value,j}toSummaryMap(){const j=new Map;return j.set("scheme",[this.nameRoleForm.get("scheme").value]),j.set("displayName",[this.nameRoleForm.get("displayName").value]),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(e.QS))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"form",2)(4,"app-form-row",3),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"app-form-row",5),o._UZ(7,"input",6),o.qZA()()),2&j&&(o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),o.oJD),o.xp6(2),o.Q6J("formGroup",Se.nameRoleForm),o.xp6(1),o.Q6J("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.xp6(2),o.Q6J("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,b.X$],encapsulation:2}),me})();function Zt(me,Tt){if(1&me&&(o.TgZ(0,"span",10),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me){const j=o.oxw().$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,j.help)," ")}}function ti(me,Tt){if(1&me&&(o.TgZ(0,"li",5)(1,"label",6),o._UZ(2,"input",7),o.TgZ(3,"span",8),o._uU(4),o.ALo(5,"translate"),o.qZA()(),o.YNc(6,Zt,3,3,"span",9),o.qZA()),2&me){const j=Tt.$implicit,Se=Tt.index,Rt=o.oxw();o.xp6(1),o.hYB("for","",Rt.id,"-item-",Se,""),o.xp6(1),o.hYB("id","",Rt.id,"-item-",Se,""),o.Q6J("value",j.value),o.xp6(2),o.Oqu(o.lcZ(5,7,j.name)),o.xp6(2),o.Q6J("ngIf",j.help)}}function vi(me,Tt){if(1&me&&(o.TgZ(0,"li",5)(1,"label",6),o._UZ(2,"input",7),o.TgZ(3,"span",8),o._uU(4),o.ALo(5,"translate"),o.qZA()()()),2&me){const j=o.oxw();o.xp6(1),o.MGl("for","",j.id,"-item-custom"),o.xp6(1),o.MGl("id","",j.id,"-item-custom"),o.Q6J("value",j.customRadioValue),o.xp6(2),o.Oqu(o.lcZ(5,4,"Common.Custom"))}}function vr(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"app-form-row",11)(1,"input",12),o.NdJ("ngModelChange",function(Rt){o.CHM(j);const On=o.oxw();return o.KtG(On.valueChanged.emit(Rt))}),o.ALo(2,"translate"),o.qZA()()}if(2&me){const j=o.oxw();o.MGl("id","",j.id,"-custom"),o.Q6J("label","Common.Custom")("isLast",!0),o.xp6(1),o.MGl("id","",j.id,"-item-value"),o.s9C("placeholder",o.lcZ(2,6,j.placeholder)),o.Q6J("ngModel",j.value)}}let Rn=(()=>{class me{constructor(j){this.fb=j,this.listItems=[],this.allowCustom=!1,this.valueChanged=new o.vpe,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const j=this.listItems.some(Se=>Se.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[j]}),this.radioForm.get("radioVal").valueChanges.subscribe(Se=>{this.valueChanged.emit(Se===this.customRadioValue?"":Se)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:12,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"id","ngModel","placeholder","ngModelChange"]],template:function(j,Se){1&j&&(o.TgZ(0,"app-form-row",0)(1,"ul",1),o.ALo(2,"translate"),o.YNc(3,ti,7,9,"li",2),o.YNc(4,vi,6,6,"li",3),o.qZA()(),o.YNc(5,vr,3,8,"app-form-row",4)),2&j&&(o.MGl("id","",Se.id,"-options"),o.Q6J("label",Se.label)("help",Se.help)("isLast",!Se.showCustom())("formGroup",Se.radioForm),o.xp6(1),o.MGl("id","",Se.id,"-options-list"),o.uIk("aria-label",o.lcZ(2,10,Se.label)),o.xp6(2),o.Q6J("ngForOf",Se.listItems),o.xp6(1),o.Q6J("ngIf",Se.allowCustom),o.xp6(1),o.Q6J("ngIf",Se.showCustom()))},dependencies:[e.Fj,e._,e.JJ,e.JL,e.On,e.sg,e.u,t.sg,t.O5,St.L,b.X$],encapsulation:2}),me})();function yi(me,Tt){if(1&me&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&me){const j=Tt.item;o.xp6(1),o.Oqu(j.length>20?o.Dn7(2,1,j,0,20)+"...":j)}}let rr=(()=>{class me{constructor(j,Se){this.wizardDataService=j,this.fb=Se,this.options=Be.SignInSchemeOptions,this.snippet=Be.SamlSignInSchemeCodeFrag}ngOnInit(){this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,e.kI.required]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const j={};return j.signInScheme=this.signInSchemeForm.get("scheme").value,j}toSummaryMap(){const j=new Map;return j.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(e.QS))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:7,vars:9,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],["id","scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"label","help","listItems","allowCustom","value","valueChanged"],["customItemTemplate",""]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"form",2)(4,"app-radio-list-input",3),o.NdJ("valueChanged",function(On){return Se.signInSchemeForm.get("scheme").setValue(On)}),o.qZA()(),o.YNc(5,yi,3,5,"ng-template",null,4,o.W1O)),2&j&&(o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,7,"DynamicAuth.Wizard.SignInSchemeStep.Title"),o.oJD),o.xp6(2),o.Q6J("formGroup",Se.signInSchemeForm),o.xp6(1),o.Q6J("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",Se.options)("allowCustom",!0)("value",Se.signInSchemeForm.get("scheme").value))},dependencies:[e._Y,e.JL,e.sg,Rn,t.OU,b.X$],encapsulation:2}),me})();var ri=f(7892),Gi=f(9326),Di=f(826);function Bi(me,Tt){1&me&&(o._UZ(0,"span",8),o.ALo(1,"translate")),2&me&&o.Q6J("innerHTML",o.lcZ(1,1,"DynamicAuth.FederationPathWarning"),o.oJD)}let pr=(()=>{class me{constructor(j,Se){this.wizardDataService=j,this.fb=Se}ngOnInit(){this.buildForm()}ngOnDestroy(){}buildForm(){var j=this.wizardDataService.getDto().scheme;(0,te.Ew)(j)&&(j="{scheme}");let Se={entityId:["",[e.kI.required]],callbackPath:[`/federation/${j}/signin-saml`,[e.kI.required,Mn()]]};this.serviceProviderForm=this.fb.group(Se)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const j={};return j.entityId=this.serviceProviderForm.get("entityId").value,j.callbackPath=this.serviceProviderForm.get("callbackPath").value,j}toSummaryMap(){const j=new Map;return j.set("entityId",[this.serviceProviderForm.get("entityId").value]),j.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(e.QS))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"form",2)(4,"app-form-row",3),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"app-form-row",5),o._UZ(7,"input",6),o.YNc(8,Bi,2,3,"span",7),o.qZA()()),2&j&&(o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),o.oJD),o.xp6(2),o.Q6J("formGroup",Se.serviceProviderForm),o.xp6(1),o.Q6J("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),o.xp6(2),o.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),o.xp6(2),o.Q6J("ngIf",!Se.validCallbackPath()))},dependencies:[t.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,b.X$],encapsulation:2}),me})();var $i=f(9655),Wt=f(2951);const Fn=["fileInput"];let kt=(()=>{class me{constructor(j,Se,Rt,On,Wn){this.wizardDataService=j,this.fb=Se,this.certService=Rt,this.toastr=On,this.translate=Wn,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new Wt.I(""),this.fileContent=void 0}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.buildForm()}ngOnDestroy(){}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}handleFileInput(j){this.selectedFile=j.item(0),this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const j=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==j}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new Wt.I(""),this.fileContent=void 0;const j=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,j,{next:Se=>{this.fileName=new Wt.I(this.selectedFile?.name),this.fileContent=Se,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:Se=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new Wt.I(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.validCertificateForm=!1}toStepDto(){const j={};return j.certFile=this.fileContent,j.certPassword=this.certForm.get("certPassword").value,j}toSummaryMap(){const j=new Map;return j.set("certFile",[this.selectedFile?.name]),j.set("certPassword",[this.certForm.get("certPassword").value]),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(e.QS),o.Y36(P.S),o.Y36(Kt._W),o.Y36(b.sK))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-signing-step"]],viewQuery:function(j,Se){if(1&j&&o.Gf(Fn,5),2&j){let Rt;o.iGM(Rt=o.CRH())&&(Se.fileInputNative=Rt.first)}},inputs:{data:"data"},decls:18,vars:18,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],[3,"id","label","input"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"disabled","click"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"form",2)(4,"app-form-row",3)(5,"div",4)(6,"input",5,6),o.NdJ("change",function(On){return Se.handleFileInput(On.target.files)}),o.qZA()()(),o.TgZ(9,"app-form-row",7),o.NdJ("input",function(){return Se.requestCertValidation()}),o._UZ(10,"input",8),o.qZA(),o.TgZ(11,"app-form-row",9)(12,"button",10),o.NdJ("click",function(){return Se.validateForm()}),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.TgZ(15,"button",11),o.NdJ("click",function(){return Se.clearCertificateForm()}),o._uU(16),o.ALo(17,"translate"),o.qZA()()()),2&j&&(o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,12,"DynamicAuth.Wizard.SAML.SigningStep.Title"),o.oJD),o.xp6(2),o.Q6J("formGroup",Se.certForm),o.xp6(1),o.Q6J("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.xp6(5),o.Q6J("id","CertPassword")("label","DynamicAuth.CertPassword.Label"),o.xp6(2),o.Q6J("isLast",!0),o.xp6(1),o.Q6J("disabled",Se.disableTestBtn()),o.xp6(1),o.Oqu(o.lcZ(14,14,"Common.ValidateCert")),o.xp6(2),o.Q6J("disabled",Se.disableClearBtn()),o.xp6(1),o.Oqu(o.lcZ(17,16,"Common.Clear")))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,St.L,b.X$],encapsulation:2}),me})();var Yt=f(9490);let En=(()=>{class me{constructor(j,Se,Rt,On,Wn){this.wizardDataService=j,this.fb=Se,this.providerValidator=Rt,this.translate=On,this.toastr=Wn,this.metadataAddrStream=new et.x}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(j=>{this.providerValidator.validateMetadataUrl(j).subscribe(Se=>{Se?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const j=this.externalProviderForm.get("metadataAddress");j.invalid||this.metadataAddrStream.next(j.value)}showReachableError(){const j=this.externalProviderForm.get("metadataAddress");return!(0,te.Ew)(j.value)&&j.errors?.unreachableUrl}buildForm(){let j={metadataAddress:["https://",[e.kI.required,e.kI.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(j)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const j={};return j.metadataAddress=this.externalProviderForm.get("metadataAddress").value,j}toSummaryMap(){const j=new Map;return j.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),j}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(je),o.Y36(e.QS),o.Y36(be),o.Y36(b.sK),o.Y36(Yt.o))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"disabled","click"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o._UZ(1,"p",1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"form",2)(4,"app-form-row",3)(5,"div",4),o._UZ(6,"input",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return Se.tryMetadataAddr()}),o.TgZ(8,"span"),o._uU(9),o.ALo(10,"translate"),o.qZA()()()()()),2&j&&(o.xp6(1),o.Q6J("innerHTML",o.lcZ(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),o.oJD),o.xp6(2),o.Q6J("formGroup",Se.externalProviderForm),o.xp6(1),o.Q6J("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.xp6(3),o.Q6J("disabled",!Se.canNext()),o.xp6(2),o.Oqu(o.lcZ(10,10,"Common.ValidateMetadata")))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,b.X$],encapsulation:2}),me})();class Ln extends ri.A{constructor(Tt){super();var j=[new Di.H(vn,{stepName:"NameRoleStepComponent"}),new Di.H(ci,{stepName:"ConnectionStepComponent"}),new Di.H(xt,{stepName:"ScopesStepComponent"}),new Di.H(qt,{stepName:"ClientSecretStepComponent"})];Tt&&j.push(new Di.H(rr,{stepName:"SignInSchemeStepComponent"}));var Se=[new Di.H(vn,{stepName:"NameRoleStepComponent"}),new Di.H(pr,{stepName:"ServiceProviderStepComponent"}),new Di.H(kt,{stepName:"SigningStepComponent"}),new Di.H(En,{stepName:"ExternalProviderStepComponent"}),new Di.H(rr,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(tn.Q.AddOidcDynamicAuth,j),this.nameComponentMap.set(tn.Q.AddSamlDynamicAuth,Se),this.nameTitleMap.set(tn.Q.AddDynamicAuth,new Gi.K("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(tn.Q.AddOidcDynamicAuth,new Gi.K("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(tn.Q.AddSamlDynamicAuth,new Gi.K("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}var ki=f(9141),Ze=f(1503);let qe=(()=>{class me{canNext(){return!1}hosted(){}}return me.\u0275fac=function(j){return new(j||me)},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&j&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"Common.Wizards.Empty")))},dependencies:[b.X$],encapsulation:2}),me})();class ut extends ri.A{getWizard(Tt){return[new Di.H(qe)]}getWizardTitle(Tt){return new Gi.K("Empty Provider",`No step for wizard name: ${Tt}`)}}var Pt=f(5221);function un(me,Tt){}function hn(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.nextTab())}),o._uU(1),o.ALo(2,"translate"),o.qZA()}if(2&me){const j=o.oxw();o.Q6J("disabled",!j.canNext()),o.xp6(1),o.Oqu(o.lcZ(2,2,"Common.Next"))}}function Dn(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.submit())}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Common.Save")))}function Nn(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.previousTab())}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Common.Back")))}function Ii(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.cancelWizard())}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Common.Back")))}let Ci=(()=>{class me extends ki.G{constructor(j,Se,Rt,On,Wn,or){super(),this.errorService=j,this.toastr=Se,this.translate=Rt,this.dynamicAuthenticationService=On,this.wizardDataService=or,this.wizardProvider=new ut,this.components=new Map,Wn.getConfig().subscribe({next:Ur=>{this.wizardProvider=new Ln(Ur.featureFlagOptions.dynamicAuthenticationFlag==gn.u.Rsk)},error:Ur=>{this.errorService.handleError(Ur)}}),this.wizardDataService.reset()}nextTab(){this.components.get(this.index).instance.onNext(),++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const j=this.wizardDataService.getSummary();this.displaySummaryComponent(j)}displaySummaryComponent(j){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(Ze.q)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.setInput("askIfEnabled",!0),this.summaryComponentRef.instance.summary=j,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,lt.P)()).subscribe(Se=>{this.index=j.findIndex(Rt=>Rt.stepName===Se),this.displayComponentAtCurrentIndex()}),this.updateProgress()}submit(){const j=(0,He.ky)(this.getModel());this.dynamicAuthenticationService.createDynamicAuth(j).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${j.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated")),this.wizardDataService.reset()},error:Se=>{this.errorService.handleError(Se)}})}getModel(){const j=this.wizardName,Se=this.wizardDataService.getDto(),Rt=this.summaryComponentRef.instance.isEnabled();var On="";if(this.wizardName===tn.Q.AddOidcDynamicAuth&&(On=JSON.stringify({authority:Se.authority,clientId:Se.clientId,callbackPath:Se.callbackPath,usePkce:Se.flow==Ve.AuthCodePlusPkce,scope:Se.scopes,clientSecret:Se.clientSecret,signInScheme:Se.signInScheme})),this.wizardName===tn.Q.AddSamlDynamicAuth){var Wn={spEntityId:Se.entityId,callbackPath:Se.callbackPath,signAuthenticationRequests:!(0,te.le)(Se.certFile)&&!(0,te.le)(Se.certPassword),signingCertBase64:Se.certFile,signingCertPassword:Se.certPassword,signInScheme:Se.signInScheme,idpMetadataAddress:Se.metadataAddress};On=JSON.stringify(Wn)}return{type:ae.hH.fromWizardType(j),scheme:Se.scheme,displayName:Se.displayName,enabled:Rt,nonEditable:!1,options:On}}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(tt.T),o.Y36(Kt._W),o.Y36(b.sK),o.Y36(dt.x),o.Y36(rt.E),o.Y36(je))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-wizard-host"]],features:[o._Bn([]),o.qOj],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"h5",1),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return Se.hideWizard()}),o._UZ(5,"span",3),o.TgZ(6,"span",4),o._uU(7),o.ALo(8,"translate"),o.qZA()()(),o.TgZ(9,"div",5),o._UZ(10,"div",6),o.qZA(),o.TgZ(11,"div",7),o.YNc(12,un,0,0,"ng-template",8),o.qZA(),o._UZ(13,"div",9),o.TgZ(14,"div",10)(15,"div",11)(16,"div",12),o.YNc(17,hn,3,4,"button",13),o.YNc(18,Dn,3,3,"button",14),o.YNc(19,Nn,3,3,"button",15),o.YNc(20,Ii,3,3,"button",15),o.qZA(),o.TgZ(21,"button",16),o.NdJ("click",function(){return Se.cancelWizard()}),o._uU(22),o.ALo(23,"translate"),o.qZA()()()),2&j&&(o.xp6(1),o.Q6J("id",Se.titleId),o.xp6(1),o.Oqu(o.lcZ(3,11,Se.wizardTitles.setupTitle)),o.xp6(5),o.Oqu(o.lcZ(8,13,"Common.Close")),o.xp6(3),o.Udp("width",Se.progressPercent+"%"),o.uIk("aria-valuenow",Se.progressPercent),o.xp6(7),o.Q6J("ngIf",Se.index<(null==Se.wizardSteps?null:Se.wizardSteps.length)),o.xp6(1),o.Q6J("ngIf",Se.index==(null==Se.wizardSteps?null:Se.wizardSteps.length)),o.xp6(1),o.Q6J("ngIf",Se.index>0),o.xp6(1),o.Q6J("ngIf",Se.index<=0),o.xp6(2),o.Oqu(o.lcZ(23,15,"Common.Cancel")))},dependencies:[t.O5,Pt.S,b.X$],encapsulation:2}),me})();function Xn(me,Tt){1&me&&o.GkF(0)}function fr(me,Tt){1&me&&o.GkF(0)}function mr(me,Tt){1&me&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function Ir(me,Tt){1&me&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function Mi(me,Tt){1&me&&(o._UZ(0,"p",25),o.ALo(1,"translate")),2&me&&o.Q6J("innerHTML",o.lcZ(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),o.oJD)}function Fr(me,Tt){1&me&&(o._UZ(0,"p",25),o.ALo(1,"translate")),2&me&&o.Q6J("innerHTML",o.lcZ(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),o.oJD)}function Qi(me,Tt){1&me&&(o.TgZ(0,"span",37),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Clients.Selected")))}const ar=function(me,Tt){return{"tw-bg-green-200":me,"hover:tw-shadow-md md:tw-pr-16":Tt}},ts=function(me,Tt){return{"tw-bg-green-500":me,"tw-bg-grey-200":Tt}},Ws=function(me,Tt){return{"tw-text-white":me,"tw-text-grey-400 group-hover:tw-text-grey-700":Tt}},qs=function(me,Tt,j){return{"tw-text-green-800":me,"tw-text-navy-500":Tt,"tw-text-grey-300":j}},_s=function(me,Tt,j){return{"tw-text-green-600":me,"tw-text-grey-600":Tt,"tw-text-grey-600":j}},js=function(me){return{"tw-text-green-300":me}};function ns(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"li",26)(1,"input",27),o.NdJ("click",function(){const Rt=o.CHM(j),On=Rt.disabled,Wn=Rt.type,or=o.oxw(2);return o.KtG(!On&&or.setActive(Wn))}),o.qZA(),o.TgZ(2,"label",28),o.NdJ("click",function(){const Rt=o.CHM(j),On=Rt.disabled,Wn=Rt.type,or=o.oxw(2);return o.KtG(!On&&or.setActive(Wn))}),o.TgZ(3,"div",29),o._UZ(4,"span",30),o.YNc(5,Qi,3,3,"span",31),o.qZA(),o.TgZ(6,"div",32)(7,"span",33),o._uU(8),o.qZA(),o.TgZ(9,"span",34),o._uU(10),o.qZA()(),o.TgZ(11,"div",35),o._UZ(12,"span",36),o.qZA()()()}if(2&me){const j=Tt.id,Se=Tt.btnId,Rt=Tt.title,On=Tt.summary,Wn=Tt.icon,or=Tt.value,Ur=Tt.selected,ha=Tt.disabled,Go=o.oxw(2);o.s9C("id",j),o.xp6(1),o.s9C("id",Se),o.s9C("value",or),o.Q6J("ngModel",Go.activeType),o.xp6(1),o.s9C("for",Se),o.Q6J("ngClass",o.WLB(17,ar,Ur,!ha)),o.xp6(1),o.Q6J("ngClass",o.WLB(20,ts,Ur,!Ur)),o.xp6(1),o.Q6J("ngClass",o.WLB(23,Ws,Ur,!Ur)),o.xp6(1),o.Q6J("ngIf",Ur),o.xp6(2),o.Q6J("ngClass",o.kEZ(26,qs,Ur,!Ur,ha)),o.xp6(1),o.hij(" ",Rt," "),o.xp6(1),o.Q6J("ngClass",o.kEZ(30,_s,Ur,!Ur,ha)),o.xp6(1),o.hij(" ",On," "),o.xp6(2),o.Gre("",Wn," tw-text-black tw-text-grey-300 tw-text-3xl trans"),o.Q6J("ngClass",o.VKq(34,js,Ur))}}const bs=function(me,Tt,j,Se,Rt){return{id:"oidcBtn",btnId:"oidcTestBtn",title:me,summary:Tt,icon:"fab fa-openid",value:j,selected:Se,type:Rt}},Ys=function(me,Tt,j,Se,Rt){return{id:"samlBtn",btnId:"samlTestBtn",title:me,summary:Tt,icon:"fad fa-code",value:j,selected:Se,type:Rt}};function ks(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"div",1)(1,"div",2)(2,"h5",3),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"button",4),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.hide())}),o.ALo(6,"translate"),o._UZ(7,"span",5),o.qZA()(),o.TgZ(8,"div",6),o._UZ(9,"div",7,8),o.qZA(),o.TgZ(11,"div",9)(12,"div",10)(13,"ul",11),o.YNc(14,Xn,1,0,"ng-container",12),o.ALo(15,"translate"),o.ALo(16,"translate"),o.YNc(17,fr,1,0,"ng-container",12),o.ALo(18,"translate"),o.ALo(19,"translate"),o.qZA()(),o.TgZ(20,"div",13)(21,"h2",14),o._UZ(22,"span",15),o.YNc(23,mr,3,3,"span",16),o.YNc(24,Ir,3,3,"span",16),o.qZA(),o.YNc(25,Mi,2,3,"p",17),o.YNc(26,Fr,2,3,"p",17),o.qZA(),o.YNc(27,ns,13,36,"ng-template",null,18,o.W1O),o.qZA(),o._UZ(29,"div",19),o.TgZ(30,"div",20)(31,"div",21)(32,"div",22)(33,"button",23),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.choosePage())}),o._uU(34),o.ALo(35,"translate"),o.qZA()(),o.TgZ(36,"button",24),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.hide())}),o._uU(37),o.ALo(38,"translate"),o.qZA()()()()}if(2&me){const j=o.MAs(28),Se=o.oxw();o.xp6(2),o.Q6J("id",Se.titleId),o.xp6(1),o.Oqu(o.lcZ(4,14,"DynamicAuth.Wizard.Title")),o.xp6(2),o.uIk("aria-label",o.lcZ(6,16,"Common.Close")),o.xp6(9),o.Q6J("ngTemplateOutlet",j)("ngTemplateOutletContext",o.qbA(30,bs,o.lcZ(15,18,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name"),o.lcZ(16,20,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title"),Se.wizardTypes.AddOidcDynamicAuth,Se.activeType===Se.wizardTypes.AddOidcDynamicAuth,Se.wizardTypes.AddOidcDynamicAuth)),o.xp6(3),o.Q6J("ngTemplateOutlet",j)("ngTemplateOutletContext",o.qbA(36,Ys,o.lcZ(18,22,"DynamicAuth.Wizard.TypeSelectStep.SAML.Name"),o.lcZ(19,24,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title"),Se.wizardTypes.AddSamlDynamicAuth,Se.activeType===Se.wizardTypes.AddSamlDynamicAuth,Se.wizardTypes.AddSamlDynamicAuth)),o.xp6(6),o.Q6J("ngIf",Se.activeType===Se.wizardTypes.AddOidcDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.activeType===Se.wizardTypes.AddSamlDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.activeType===Se.wizardTypes.AddOidcDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.activeType===Se.wizardTypes.AddSamlDynamicAuth),o.xp6(7),o.Q6J("disabled",Se.activeType===Se.wizardTypes.Home),o.xp6(1),o.Oqu(o.lcZ(35,26,"Common.Start")),o.xp6(3),o.Oqu(o.lcZ(38,28,"Common.Cancel"))}}function Jr(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"div",1)(1,"app-dynamic-auth-wizard-host",38),o.NdJ("wizardCancel",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.onCancel())})("finish",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.onFinish())})("hide",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.hide())}),o.qZA()()}if(2&me){const j=o.oxw();o.xp6(1),o.Q6J("wizardName",j.pageType)}}let sr=(()=>{class me{constructor(j){this.modalService=j,this.finish=new o.vpe,this.titleId=Re.G.TileId,this.pageType=tn.Q.AddDynamicAuth,this.activeType=tn.Q.AddOidcDynamicAuth,this.showWizard=!1,this.wizardTypes=tn.Q}ngOnInit(){}ngOnDestroy(){this.hide()}getDescription(){return this.activeType==tn.Q.AddOidcDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.OidcHelp":this.activeType==tn.Q.AddSamlDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.SamlHelp":""}choosePage(){this.pageType=this.activeType,this.showWizard=!0}setActive(j){this.activeType=j}onCancel(){this.pageType=tn.Q.AddDynamicAuth,this.activeType=tn.Q.AddOidcDynamicAuth,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(Re.G.Id),this.modalService.onHidden.pipe((0,lt.P)()).subscribe(()=>{this.onCancel()})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(C.tT))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["class","",4,"ngIf"],[1,""],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["commonTypeButton",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[3,"innerHTML"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"id","value","ngModel","click"],[1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","trans",3,"for","ngClass","click"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","trans",3,"ngClass"],[1,"fas","fa-check","tw-text-xl","trans",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","trans",3,"ngClass"],[1,"tw-block","tw-text-xs","trans",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","trans","md:tw-flex"],[3,"ngClass"],[1,"sr-only"],[3,"wizardName","wizardCancel","finish","hide"]],template:function(j,Se){1&j&&(o.YNc(0,ks,39,42,"div",0),o.YNc(1,Jr,2,1,"div",0)),2&j&&(o.Q6J("ngIf",Se.pageType===Se.wizardTypes.AddDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.showWizard))},dependencies:[t.mk,t.O5,t.tP,e.Fj,e._,e.JJ,e.On,Ci,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function Pi(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"app-dynamic-auth-wizard",21),o.NdJ("finish",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.reload())}),o.qZA()}}function vs(me,Tt){1&me&&(o.TgZ(0,"span"),o._UZ(1,"span",22),o._uU(2),o.ALo(3,"translate"),o.qZA()),2&me&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"Auditing.ShowFilters")," "))}function Gn(me,Tt){1&me&&(o.TgZ(0,"span"),o._UZ(1,"span",23),o._uU(2),o.ALo(3,"translate"),o.qZA()),2&me&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"Auditing.HideFilters")," "))}function ws(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"div",28)(1,"label",29),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"select",30),o.NdJ("ngModelChange",function(Rt){o.CHM(j);const On=o.oxw(2);return o.KtG(On.pageSize=Rt)})("change",function(){o.CHM(j);const Rt=o.oxw(2);return o.KtG(Rt.setPageLength(+Rt.pageSize))}),o.TgZ(5,"option",31),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"option",32),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"option",33),o._uU(12),o.ALo(13,"translate"),o.qZA()()()}if(2&me){const j=o.oxw(2);o.xp6(2),o.AsE("",j.pageSize," ",o.lcZ(3,6,"Nav.PerPage"),""),o.xp6(2),o.Q6J("ngModel",j.pageSize),o.xp6(2),o.hij("25 ",o.lcZ(7,8,"Nav.PerPage"),""),o.xp6(3),o.hij("50 ",o.lcZ(10,10,"Nav.PerPage"),""),o.xp6(3),o.hij("100 ",o.lcZ(13,12,"Nav.PerPage"),"")}}function Hn(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"app-action-bar"),o.ynx(1,24),o.YNc(2,ws,14,14,"div",25),o.BQk(),o.ynx(3,26),o.TgZ(4,"button",27),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw(),On=o.MAs(3);return o.KtG(Rt.showWizard(On))}),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.BQk(),o.qZA()}if(2&me){const j=o.oxw();o.xp6(2),o.Q6J("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0),o.xp6(3),o.hij(" ",o.lcZ(6,2,"Common.Add")," ")}}function yr(me,Tt){1&me&&o._UZ(0,"app-simple-loader")}function Mr(me,Tt){1&me&&(o.TgZ(0,"div",37)(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&me&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"DynamicAuth.List.None")))}function os(me,Tt){1&me&&(o.TgZ(0,"span",52)(1,"span",7),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&me&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"Common.Disabled")))}function zr(me,Tt){1&me&&(o.TgZ(0,"span",53),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Common.Disabled")," "))}function Wr(me,Tt){1&me&&(o.TgZ(0,"span",54),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Common.Reserved")," "))}const Cr=function(me,Tt){return{"fad fa-pencil":me,"fas fa-eye":Tt}};function cs(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"tr",43)(1,"td",44),o.NdJ("click",function(){const On=o.CHM(j).$implicit,Wn=o.oxw(3);return o.KtG(Wn.viewOrEditDynamicAuth(On))}),o.YNc(2,os,4,3,"span",45),o.TgZ(3,"b"),o._uU(4),o.qZA()(),o.TgZ(5,"td",46),o.NdJ("click",function(){const On=o.CHM(j).$implicit,Wn=o.oxw(3);return o.KtG(Wn.viewOrEditDynamicAuth(On))}),o._uU(6),o.qZA(),o.TgZ(7,"td",46),o.NdJ("click",function(){const On=o.CHM(j).$implicit,Wn=o.oxw(3);return o.KtG(Wn.viewOrEditDynamicAuth(On))}),o.TgZ(8,"code"),o._uU(9),o.qZA()(),o.TgZ(10,"td",47),o.NdJ("click",function(){const On=o.CHM(j).$implicit,Wn=o.oxw(3);return o.KtG(Wn.viewOrEditDynamicAuth(On))}),o.YNc(11,zr,3,3,"span",48),o.YNc(12,Wr,3,3,"span",49),o.qZA(),o.TgZ(13,"td",47),o.NdJ("click",function(){const On=o.CHM(j).$implicit,Wn=o.oxw(3);return o.KtG(Wn.viewOrEditDynamicAuth(On))}),o.TgZ(14,"button",50),o.NdJ("click",function(){const On=o.CHM(j).$implicit,Wn=o.oxw(3);return o.KtG(Wn.viewOrEditDynamicAuth(On))}),o._UZ(15,"span",51),o.TgZ(16,"span",7),o._uU(17),o.ALo(18,"translate"),o.qZA()()()()}if(2&me){const j=Tt.$implicit,Se=o.oxw(3);o.ekj("inactive",!j.enabled||(null==j?null:j.nonEditable)),o.s9C("id",j.scheme),o.xp6(2),o.Q6J("ngIf",!j.enabled),o.xp6(1),o.ekj("tw-text-blue-500",!(null!=j&&j.nonEditable)),o.xp6(1),o.hij(" ",null==j?null:j.scheme," "),o.xp6(2),o.hij(" ",null==j?null:j.displayName," "),o.xp6(3),o.Oqu(Se.typeStr(null==j?null:j.type)),o.xp6(2),o.Q6J("ngIf",!j.enabled),o.xp6(1),o.Q6J("ngIf",null==j?null:j.nonEditable),o.xp6(3),o.Q6J("ngClass",o.WLB(15,Cr,!Se.isReadOnly&&!j.nonEditable,Se.isReadOnly||j.nonEditable)),o.xp6(2),o.Oqu(o.lcZ(18,13,"Common.Edit"))}}function nr(me,Tt){if(1&me&&(o.TgZ(0,"table",38)(1,"thead")(2,"tr")(3,"th",39),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"th",40),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"th",40),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"th",41)(13,"span",7),o._uU(14),o.ALo(15,"translate"),o.qZA()(),o.TgZ(16,"th",41)(17,"span",7),o._uU(18),o.ALo(19,"translate"),o.qZA()()()(),o.TgZ(20,"tbody"),o.YNc(21,cs,19,18,"tr",42),o.qZA()()),2&me){const j=o.oxw(2);o.xp6(4),o.hij(" ",o.lcZ(5,6,"Common.Scheme")," "),o.xp6(3),o.hij(" ",o.lcZ(8,8,"Common.Name")," "),o.xp6(3),o.hij(" ",o.lcZ(11,10,"Common.Type")," "),o.xp6(4),o.Oqu(o.lcZ(15,12,"Common.Status")),o.xp6(4),o.Oqu(o.lcZ(19,14,"Common.Actions")),o.xp6(3),o.Q6J("ngForOf",j.dynamicAuths)}}function br(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"app-pager",55),o.NdJ("onGoToPage",function(Rt){o.CHM(j);const On=o.oxw(2);return o.KtG(On.goToPage(Rt))}),o.qZA()}if(2&me){const j=o.oxw(2);o.Q6J("totalResults",null==j.pagedResult?null:j.pagedResult.totalCount)("currentPage",j.page)("lastPage",null==j.pagedResult?null:j.pagedResult.pageCount)}}function us(me,Tt){if(1&me&&(o.ynx(0),o.YNc(1,Mr,4,3,"div",34),o.YNc(2,nr,22,16,"table",35),o.YNc(3,br,1,3,"app-pager",36),o.BQk()),2&me){const j=o.oxw();o.xp6(1),o.Q6J("ngIf",(null==j.dynamicAuths?null:j.dynamicAuths.length)<1),o.xp6(1),o.Q6J("ngIf",(null==j.dynamicAuths?null:j.dynamicAuths.length)>0),o.xp6(1),o.Q6J("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0&&!j.isLoading)}}let wr=(()=>{class me extends B.bk{constructor(j,Se,Rt,On,Wn,or,Ur,ha,Go){super(Wn,or,!0),this.errorService=j,this.titleService=Se,this.dynamicAuthenticationService=Rt,this.securityService=On,this.router=Ur,this.localize=ha,this.modalService=Go,this.activeFilters=[oe.OIDC,oe.SAML,oe.Enabled,oe.Disabled],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.dynamicAuths=[],this.filterStream=new et.x,this.pageStream=new et.x,this.pageSizeStream=new et.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}get DynamicAuthFilters(){return oe}get isReadOnly(){return(0,te.gR)(this.securityService.userPermissions)}typeStr(j){return ae.hH[j]}showWizard(j){this.modalService.show(j,{id:Re.G.Id,ariaLabelledBy:Re.G.TileId,ariaDescribedby:Re.G.DescriptionId,backdrop:"static"})}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(j){return this.term=j,{searchTerm:j,page:1,pageSize:this.pageSize}}ngOnInit(){const j=this.translate.instant("Nav.DynamicAuth")+" - "+ee.de.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(j);const Se=this.filterStream.pipe((0,It.U)(Wn=>(this.activeFilters=Wn,{filters:Wn,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),Rt=this.pageStream.pipe((0,It.U)(Wn=>(this.page=Wn,{filters:this.activeFilters,searchTerm:this.term,page:Wn,pageSize:this.pageSize}))),On=this.pageSizeStream.pipe((0,It.U)(Wn=>(this.pageSize=Wn,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:Wn})));Rt.pipe((0,Qe.b)(On),(0,Qe.b)(this.searchSource),(0,Qe.b)(Se),(0,Qe.b)(this.enterKeySource),(0,We.O)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,bt.z)(Wn=>{this.isLoading=!0;const or=Wn.filters.join(" ");return this.dynamicAuthenticationService.get(Wn.searchTerm,Wn.page,Wn.pageSize,or).pipe((0,pt.g)(200))})).subscribe({next:Wn=>{this.pagedResult=Wn,this.dynamicAuths=this.pagedResult.results.map(or=>(0,He.Zn)(or)).sort((or,Ur)=>Number(Ur.nonEditable)-Number(or.nonEditable)),this.isLoading=!1},error:Wn=>{500===Wn.status?this.handleInternalServerError():this.errorService.handleError(Wn),this.isLoading=!1}})}filter(j){if(this.activeFilters.includes(j)){const Se=this.activeFilters.indexOf(j);this.activeFilters.splice(Se,1)}else this.activeFilters.push(j);this.filterStream.next(this.activeFilters)}isShowing(j){return this.activeFilters.includes(j)}goToPage(j){this.pageStream.next(j)}setPageLength(j){this.page=1,this.pageSizeStream.next(j)}viewOrEditDynamicAuth(j){const Rt=this.localize.translateRoute(`${this.isReadOnly||j.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${j.scheme}`);this.router.navigateByUrl(Rt)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(tt.T),o.Y36(ot.Dx),o.Y36(dt.x),o.Y36(Et.I),o.Y36(Kt._W),o.Y36(b.sK),o.Y36(m.F0),o.Y36(w.An),o.Y36(C.tT))},me.\u0275cmp=o.Xpm({type:me,selectors:[["ng-component"]],features:[o.qOj],decls:44,vars:35,consts:[[3,"title"],["idpWizardModal",""],["id","testContent",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","placeholder","ngModelChange","keyup"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"ngClass","click"],["id","samlFilter",3,"ngClass","click"],["id","enabledFilter",3,"ngClass","click"],["id","disabledFilter",3,"ngClass","click"],["id","dynamicAuthWizardModal",3,"finish"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(j,Se){1&j&&(o._UZ(0,"app-title-bar",0),o.ALo(1,"translate"),o.YNc(2,Pi,1,0,"ng-template",null,1,o.W1O),o.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),o._UZ(8,"span",6),o.TgZ(9,"span",7),o._uU(10),o.ALo(11,"translate"),o.qZA()(),o.TgZ(12,"input",8),o.NdJ("ngModelChange",function(On){return Se.searchTerm=On})("keyup",function(On){return Se.search(On)}),o.ALo(13,"translate"),o.qZA()(),o.TgZ(14,"button",9),o.NdJ("click",function(){return Se.showAdvancedFilters=!Se.showAdvancedFilters}),o.YNc(15,vs,4,3,"span",10),o.YNc(16,Gn,4,3,"span",10),o.qZA(),o.TgZ(17,"div",11)(18,"div",12)(19,"div",13)(20,"p",14),o._uU(21),o.ALo(22,"translate"),o.qZA(),o.TgZ(23,"ul",15)(24,"li",16)(25,"button",17),o.NdJ("click",function(){return Se.filter(Se.DynamicAuthFilters.OIDC)}),o._uU(26),o.ALo(27,"translate"),o.qZA()(),o.TgZ(28,"li",16)(29,"button",18),o.NdJ("click",function(){return Se.filter(Se.DynamicAuthFilters.SAML)}),o._uU(30),o.ALo(31,"translate"),o.qZA()(),o.TgZ(32,"li",16)(33,"button",19),o.NdJ("click",function(){return Se.filter(Se.DynamicAuthFilters.Enabled)}),o._uU(34),o.ALo(35,"translate"),o.qZA()(),o.TgZ(36,"li")(37,"button",20),o.NdJ("click",function(){return Se.filter(Se.DynamicAuthFilters.Disabled)}),o._uU(38),o.ALo(39,"translate"),o.qZA()()()()(),o._UZ(40,"hr"),o.qZA()(),o.YNc(41,Hn,7,4,"app-action-bar",10),o.YNc(42,yr,1,0,"app-simple-loader",10),o.YNc(43,us,4,3,"ng-container",10),o.qZA()),2&j&&(o.Q6J("title",o.lcZ(1,19,"Nav.DynamicAuth")),o.xp6(10),o.Oqu(o.lcZ(11,21,"Common.Search")),o.xp6(2),o.s9C("placeholder",o.lcZ(13,23,"DynamicAuth.SearchPlaceholder")),o.Q6J("ngModel",Se.searchTerm),o.xp6(3),o.Q6J("ngIf",!Se.showAdvancedFilters),o.xp6(1),o.Q6J("ngIf",Se.showAdvancedFilters),o.xp6(1),o.Q6J("hidden",!Se.showAdvancedFilters),o.xp6(4),o.Oqu(o.lcZ(22,25,"Auditing.Showing")),o.xp6(4),o.Q6J("ngClass",Se.isShowing(Se.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),o.xp6(1),o.hij(" ",o.lcZ(27,27,"DynamicAuth.Filters.OIDC")," "),o.xp6(3),o.Q6J("ngClass",Se.isShowing(Se.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),o.xp6(1),o.hij(" ",o.lcZ(31,29,"DynamicAuth.Filters.SAML")," "),o.xp6(3),o.Q6J("ngClass",Se.isShowing(Se.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),o.xp6(1),o.hij(" ",o.lcZ(35,31,"DynamicAuth.Filters.Enabled")," "),o.xp6(3),o.Q6J("ngClass",Se.isShowing(Se.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),o.xp6(1),o.hij(" ",o.lcZ(39,33,"DynamicAuth.Filters.Disabled")," "),o.xp6(3),o.Q6J("ngIf",!Se.isLoading&&!Se.isReadOnly),o.xp6(1),o.Q6J("ngIf",Se.isLoading),o.xp6(1),o.Q6J("ngIf",!Se.isLoading))},dependencies:[t.mk,t.sg,t.O5,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.On,wn.G,rn.K,fn.w,cn.P,sr,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();var Oi=f(799),Xr=f(9712);function ps(me,Tt){1&me&&(o.TgZ(0,"app-form-row",9),o._UZ(1,"input",10),o.qZA()),2&me&&o.Q6J("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label")}function Os(me,Tt){1&me&&(o.TgZ(0,"app-form-row",9),o._UZ(1,"input",11),o.qZA()),2&me&&o.Q6J("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label")}function Zr(me,Tt){1&me&&(o.TgZ(0,"app-form-row",9),o._UZ(1,"input",12),o.qZA()),2&me&&o.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")}const Ts=function(){return["Query","From Post","Fragment"]};function Zi(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"app-form-row",9)(1,"app-row-bar",13)(2,"app-state-toggle",14),o.NdJ("newValue",function(Rt){o.CHM(j);const On=o.oxw(2);return o.KtG(On.updateResponseMode(Rt))}),o.qZA(),o.TgZ(3,"a",15),o._UZ(4,"span",16),o.TgZ(5,"span",17),o._uU(6),o.ALo(7,"translate"),o.qZA()()()()}if(2&me){const j=o.oxw(2);o.Q6J("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label"),o.xp6(2),o.Q6J("id","ResponseMode")("options",o.DdM(8,Ts))("value",j.advancedForm.controls.responseMode.value),o.xp6(4),o.Oqu(o.lcZ(7,6,"Common.Help"))}}function As(me,Tt){1&me&&(o.TgZ(0,"app-form-row",18)(1,"app-form-toggle",6),o._UZ(2,"input",19),o.qZA()()),2&me&&(o.Q6J("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),o.xp6(1),o.Q6J("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1))}function co(me,Tt){1&me&&(o.TgZ(0,"app-form-row",18)(1,"app-form-toggle",6),o._UZ(2,"input",20),o.qZA()()),2&me&&(o.Q6J("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),o.xp6(1),o.Q6J("id","SaveTokens")("isTraffic",!0)("isAlt",!1))}function Gr(me,Tt){1&me&&(o.TgZ(0,"app-form-row",18)(1,"app-form-toggle",6),o._UZ(2,"input",21),o.qZA()()),2&me&&(o.Q6J("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help"),o.xp6(1),o.Q6J("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1))}function as(me,Tt){1&me&&(o.TgZ(0,"app-form-row",18)(1,"app-form-toggle",6),o._UZ(2,"input",22),o.qZA()()),2&me&&(o.Q6J("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),o.xp6(1),o.Q6J("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1))}function Ps(me,Tt){1&me&&(o.TgZ(0,"app-form-row",5)(1,"app-form-toggle",6),o._UZ(2,"input",23),o.qZA()()),2&me&&(o.Q6J("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),o.xp6(1),o.Q6J("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1))}function Ns(me,Tt){if(1&me&&(o.TgZ(0,"form",2),o.YNc(1,ps,2,2,"app-form-row",3),o.YNc(2,Os,2,2,"app-form-row",3),o.YNc(3,Zr,2,2,"app-form-row",3),o.YNc(4,Zi,8,9,"app-form-row",3),o.YNc(5,As,3,6,"app-form-row",4),o.TgZ(6,"app-form-row",5)(7,"app-form-toggle",6),o._UZ(8,"input",7),o.qZA()(),o.YNc(9,co,3,6,"app-form-row",4),o.YNc(10,Gr,3,6,"app-form-row",4),o.YNc(11,as,3,6,"app-form-row",4),o.YNc(12,Ps,3,7,"app-form-row",8),o.qZA()),2&me){const j=o.oxw();o.Q6J("formGroup",j.advancedForm),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!j.isRskDynamicAuth),o.xp6(1),o.Q6J("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),o.xp6(2),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth)}}let Ss=(()=>{class me{constructor(j,Se,Rt,On){this.fb=j,this.errorService=Se,this.dynamicAuthCacheService=Rt,this.configService=On,this.mode="Query",this.dynamicAuthTypes=ae.hH,this.isDeleting=!1}ngOnInit(){this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==gn.u.Rsk},error:j=>{this.errorService.handleError(j)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,He.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.advancedFormSubscription=this.advancedForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.advancedForm.valid);var Se={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.advancedForm.controls.getClaimsFromUserInfoEndpoint.value};this.isRskDynamicAuth&&(this.mode=this.advancedForm.controls.responseMode.value,Se={...Se,remoteSignOutPath:this.advancedForm.controls.remoteSignOutPath.value,signedOutRedirectUri:this.advancedForm.controls.signedOutRedirectUri.value,signedOutCallbackPath:this.advancedForm.controls.signedOutCallbackPath.value,refreshMetadataOnIssuerKeyNotFound:this.advancedForm.controls.refreshOnIssuerKeyNotFound.value,saveTokens:this.advancedForm.controls.saveTokens.value,useTokenLifetime:this.advancedForm.controls.useTokenLifetime.value,skipUnrecognizedRequests:this.advancedForm.controls.skipUnrecognizedRequests.value,disableTelemetry:this.advancedForm.controls.disableTelemetry.value});const Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.dynamicAuthCacheService.unsavedCache.next(Rt)}})}ngOnDestroy(){this.advancedFormSubscription.unsubscribe()}buildForm(){var j={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(j={...j,remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[e.kI.required,Vn()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[e.kI.required,Vn()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[e.kI.required,Vn()]],responseMode:[this.mode,[]],refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound,[]],saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]],skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]}),this.advancedForm=this.fb.group(j)}updateResponseMode(j){this.advancedForm.controls.responseMode.setValue(j)}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(at.C),o.Y36(rt.E))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-advanced"]],decls:2,vars:1,consts:[["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label",4,"ngIf"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"],[1,"tw-form-input"],["left","",3,"id","options","value","newValue"],["id","authorityHelpBtn","target","_blank","href","https://www.identityserver.com/documentation/adminui/DynamicAuthentication/Advanced/","right","",1,"tw-btn-white","tw-rounded-full","tw-w-8","tw-h-8","tw-mb-2","tw-bottom-0","tw-right-0"],[1,"fa","fa-question"],[1,"sr-only"],[3,"id","label","help"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,Ns,13,17,"form",1),o.qZA()),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&Se.advancedForm))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,Oi.O,In.T,Xr._,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();var Vi=f(2329),mo=f(9465),Or=f(2830),go=f(6252);const Fi=function(me){return[me]};function Tr(me,Tt){if(1&me&&(o.TgZ(0,"div",9)(1,"app-form-row",10)(2,"app-form-toggle",11),o._UZ(3,"input",12),o.qZA()(),o.TgZ(4,"app-form-row",13),o._UZ(5,"app-readonly",14),o.ALo(6,"readOnlyValue"),o.qZA(),o.TgZ(7,"app-form-row",13),o._UZ(8,"input",15),o.qZA()()),2&me){const j=o.oxw(2);o.xp6(1),o.Q6J("id","Enabled")("label","Common.Enabled"),o.xp6(1),o.Q6J("id","Enabled")("isTraffic",!0)("isAlt",!1),o.xp6(2),o.Q6J("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(15,Fi,o.lcZ(6,13,j.dynamicAuth.scheme))),o.xp6(2),o.Q6J("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function Nr(me,Tt){1&me&&(o.TgZ(0,"app-form-row",13),o._UZ(1,"input",23),o.qZA()),2&me&&o.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function si(me,Tt){if(1&me&&(o.TgZ(0,"option",24),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me){const j=Tt.$implicit;o.Q6J("value",j),o.xp6(1),o.Oqu(o.lcZ(2,2,"DynamicAuth.Flows."+j))}}function Ls(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"div",16)(1,"app-form-row",13)(2,"input",17),o.NdJ("focusout",function(){o.CHM(j);const Rt=o.oxw(2);return o.KtG(Rt.tryReachAuthority())}),o.qZA()(),o.TgZ(3,"app-form-row",13),o._UZ(4,"input",18),o.qZA(),o.YNc(5,Nr,2,3,"app-form-row",19),o.TgZ(6,"app-form-row",13)(7,"div",20)(8,"select",21),o.YNc(9,si,3,4,"option",22),o.qZA()()()()}if(2&me){const j=o.oxw(2);o.xp6(1),o.Q6J("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.xp6(2),o.Q6J("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.xp6(2),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),o.xp6(3),o.Q6J("ngForOf",j.allowedFlows)}}function lr(me,Tt){1&me&&(o.TgZ(0,"app-form-row",29)(1,"app-form-toggle",11),o._UZ(2,"input",30),o.qZA()()),2&me&&(o.Q6J("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),o.xp6(1),o.Q6J("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function Qr(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",13)(1,"app-row-bar",26),o._UZ(2,"input",31),o.ALo(3,"translate"),o.qZA()()),2&me){const j=o.oxw(3);o.Q6J("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),o.xp6(2),o.s9C("placeholder",o.lcZ(3,8,"DynamicAuth.SignOutScheme.Placeholder")),o.Q6J("typeahead",j.signInSchemeOptions)("typeaheadAsync",!1)("typeaheadItemTemplate",j.customItemTemplate)("typeaheadMinLength",0)}}function uo(me,Tt){if(1&me&&(o.TgZ(0,"div",25)(1,"app-form-row",13)(2,"app-row-bar",26),o._UZ(3,"input",27),o.ALo(4,"translate"),o.qZA()(),o.YNc(5,lr,3,6,"app-form-row",28),o.YNc(6,Qr,4,10,"app-form-row",19),o.qZA()),2&me){const j=o.oxw(2);o.xp6(1),o.Q6J("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),o.xp6(2),o.s9C("placeholder",o.lcZ(4,6,"DynamicAuth.SignInScheme.Placeholder")),o.xp6(2),o.Q6J("ngIf",j.dynamicAuth.type==j.dynamicAuthTypes.SAML),o.xp6(1),o.Q6J("ngIf",j.dynamicAuth.type==j.dynamicAuthTypes.SAML&&j.formGroup.get("signInSchemeForm.differentSignOut").value)}}function Ni(me,Tt){if(1&me&&(o.TgZ(0,"div")(1,"app-form-row",32),o._UZ(2,"app-lifetime-picker",33),o.qZA()()),2&me){const j=o.oxw(2);o.xp6(1),o.Q6J("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),o.xp6(1),o.Q6J("buttons",j.defaultToleranceTimes)}}function Ar(me,Tt){if(1&me&&(o.TgZ(0,"div",34)(1,"app-form-row",32)(2,"div",35),o._UZ(3,"app-readonly",14),o.TgZ(4,"button",36),o.ALo(5,"translate"),o._UZ(6,"span",37),o.TgZ(7,"span",38),o._uU(8),o.ALo(9,"translate"),o.qZA()()()()()),2&me){const j=o.oxw(2);o.xp6(1),o.Q6J("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),o.xp6(2),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(12,Fi,j.displaySecret)),o.xp6(1),o.Q6J("tooltip",o.lcZ(5,8,"DynamicAuth.UpdateClientSecret.Title")),o.xp6(4),o.Oqu(o.lcZ(9,10,"Common.Edit"))}}function jr(me,Tt){if(1&me&&(o.TgZ(0,"form",3),o.YNc(1,Tr,9,17,"div",4),o.YNc(2,Ls,10,11,"div",5),o.YNc(3,uo,7,8,"div",6),o.YNc(4,Ni,3,5,"div",7),o.YNc(5,Ar,10,14,"div",8),o.qZA()),2&me){const j=o.oxw();o.Q6J("formGroup",j.formGroup),o.xp6(1),o.Q6J("ngIf",j.formGroup.get("detailsForm")),o.xp6(1),o.Q6J("ngIf",j.formGroup.get("connectionForm")&&j.dynamicAuth.type==j.dynamicAuthTypes.OIDC),o.xp6(1),o.Q6J("ngIf",j.formGroup.get("signInSchemeForm")&&(j.isRskDynamicAuth||j.dynamicAuth.type==j.dynamicAuthTypes.SAML)),o.xp6(1),o.Q6J("ngIf",j.formGroup.get("timeComparisonTolerance")&&(j.isRskDynamicAuth||j.dynamicAuth.type==j.dynamicAuthTypes.SAML)),o.xp6(1),o.Q6J("ngIf",j.formGroup.get("secretForm")&&j.dynamicAuth.type==j.dynamicAuthTypes.OIDC)}}const Rr=function(){return{animated:!1,backdrop:"static"}};function _n(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"div",39)(1,"form",3)(2,"div",40)(3,"div",41)(4,"div",42)(5,"h5",43),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"button",44),o._UZ(9,"span",45),o.TgZ(10,"span",38),o._uU(11),o.ALo(12,"translate"),o.qZA()()(),o.TgZ(13,"div",46)(14,"p",47),o._uU(15),o.ALo(16,"translate"),o.qZA(),o._UZ(17,"input",48),o.qZA(),o._UZ(18,"div",49),o.TgZ(19,"div",50)(20,"div",51)(21,"div",52)(22,"button",53),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.addNewClientSecretToFormGroup())}),o._uU(23),o.ALo(24,"translate"),o.qZA()(),o.TgZ(25,"button",54),o._uU(26),o.ALo(27,"translate"),o.qZA()()()()()()()}if(2&me){const j=o.oxw();o.Q6J("config",o.DdM(17,Rr)),o.xp6(1),o.Q6J("formGroup",j.formClientSecret),o.xp6(5),o.Oqu(o.lcZ(7,7,"DynamicAuth.UpdateClientSecret.Title")),o.xp6(5),o.Oqu(o.lcZ(12,9,"Common.Close")),o.xp6(4),o.hij("",o.lcZ(16,11,"DynamicAuth.UpdateClientSecret.Description"),":"),o.xp6(8),o.hij(" ",o.lcZ(24,13,"DynamicAuth.UpdateClientSecret.Confirm")," "),o.xp6(3),o.Oqu(o.lcZ(27,15,"DynamicAuth.UpdateClientSecret.No"))}}let oi=(()=>{class me{constructor(j,Se,Rt,On,Wn,or,Ur){this.fb=j,this.errorService=Se,this.dynamicAuthCacheService=Rt,this.configService=On,this.providerValidator=Wn,this.translate=or,this.toastr=Ur,this.dynamicAuthTypes=ae.hH,this.isDeleting=!1,this.allowedFlows=Be.FlowTypes,this.samlSignInSchemeCodeFrag=Be.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=Be.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:Vi.f.Minutes},{duration:5,unit:Vi.f.Minutes},{duration:10,unit:Vi.f.Minutes}],this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==gn.u.Rsk},error:j=>{this.errorService.handleError(j)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{switch(this.dynamicAuth=j,this.dynamicAuth.type){case ae.hH.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case ae.hH.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[e.kI.required]]})}buildOidcForms(){this.oidcOptions=(0,He.A3)(this.dynamicAuth.options),this.displaySecret=new Wt.I(this.oidcOptions.clientSecret);var j={authority:[this.oidcOptions.authority,[e.kI.required,e.kI.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[e.kI.required]],flow:[this.oidcOptions.usePkce?Ve.AuthCodePlusPkce:Ve.AuthCode,[e.kI.required]]};this.isRskDynamicAuth&&(j.callbackPath=[this.oidcOptions.callbackPath,[e.kI.required,Vn()]]);var Se={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(j),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(Se.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[e.kI.required]]})),this.formGroup=this.fb.group(Se)}buildSamlForms(){this.samlOptions=(0,He.ZP)(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[e.kI.required]],differentSignOut:!(0,te.Ew)(this.samlOptions.signOutScheme),signOutScheme:[this.samlOptions.signOutScheme]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){var j=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(j).subscribe(Se=>{Se||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:j=>{let Rt,Se={...this.dynamicAuth};Se=this.updateDetails(Se),this.dynamicAuth.type===ae.hH.OIDC?(Rt={...this.oidcOptions},Rt=this.updateConnection(Rt),Rt=this.updateSignInScheme(Rt),Rt=this.updateSecret(Rt)):this.dynamicAuth.type===ae.hH.SAML&&(Rt={...this.samlOptions},Rt=this.updateSignInScheme(Rt),Rt=this.updateTimeComparisonTolerance(Rt)),Se.options=JSON.stringify(Rt),this.dynamicAuthCacheService.unsavedCache.next(Se)}}),this.dynamicAuth.type===ae.hH.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(j=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(j){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...j,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(j){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);var Se={...j,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==Ve.AuthCodePlusPkce};return this.isRskDynamicAuth&&(Se.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),Se}updateSignInScheme(j){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==ae.hH.OIDC)return j;if(this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid),this.dynamicAuth.type===ae.hH.OIDC)return{...j,signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value};if(this.dynamicAuth.type===ae.hH.SAML){var Se=this.formGroup.get("signInSchemeForm.signOutScheme").value;return this.formGroup.get("signInSchemeForm.differentSignOut").value||(Se=""),{...this.samlOptions,signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:Se}}}updateSecret(j){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);var Se=this.formGroup.get("secretForm.clientSecret").value;return this.displaySecret=new Wt.I(Se),{...j,clientSecret:Se}}updateTimeComparisonTolerance(j){var Se=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",Se.valid),{...j,timeComparisonTolerance:Se.value}}setTimeComparisonTolerance(j){this.formGroup.controls.timeComparisonTolerance.setValue(j)}checkTimeComparisonToleranceSelected(j){return j==this.formGroup.get("timeComparisonTolerance").value}addNewClientSecretToFormGroup(){var j=this.formClientSecret.get("newClientSecret").value;this.formGroup.controls.secretForm.setValue({clientSecret:j}),this.formClientSecret.controls.newClientSecret.setValue(null)}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(at.C),o.Y36(rt.E),o.Y36(be),o.Y36(b.sK),o.Y36(Kt._W))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-details"]],decls:3,vars:2,consts:[["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],["bsModal","","id","updateClientSecretModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],["formGroupName","secretForm",4,"ngIf"],["formGroupName","detailsForm"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],["formGroupName","secretForm"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","button","data-toggle","modal","data-target","#updateClientSecretModal","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","editClientSecret",3,"tooltip"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],[1,"sr-only"],["bsModal","","id","updateClientSecretModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-body","tw-text-left","scrollbars"],[1,"tw-mb-4"],["type","text","name","newClientSecret","id","newClientSecret","formControlName","newClientSecret",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","updateSecretBtn","data-dismiss","modal",1,"tw-btn-success",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,jr,6,6,"form",1),o.qZA(),o.YNc(2,_n,28,18,"div",2)),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&(Se.oidcOptions||Se.samlOptions)),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&Se.oidcOptions))},dependencies:[t.sg,t.O5,e._Y,e.YN,e.Kr,e.Fj,e.Wl,e.EJ,e.JJ,e.JL,e.Q7,e.sg,e.u,e.x0,p.i9,C.oB,mo.U,St.L,Oi.O,In.T,A.Bp,Or.f,go.b,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function fs(me,Tt){1&me&&(o.TgZ(0,"div")(1,"app-form-row",3),o._UZ(2,"input",7),o.qZA()()),2&me&&(o.xp6(1),o.Q6J("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function di(me,Tt){if(1&me&&(o.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o._UZ(3,"input",5),o.qZA()(),o.YNc(4,fs,3,4,"div",6),o.qZA()),2&me){const j=o.oxw();o.Q6J("formGroup",j.idpAdvancedForm),o.xp6(1),o.Q6J("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!j.idpAdvancedForm.get("allowIdpInitiatedSso").value),o.xp6(1),o.Q6J("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),o.xp6(2),o.Q6J("ngIf",j.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let qi=(()=>{class me{constructor(j,Se,Rt){this.fb=j,this.errorService=Se,this.dynamicAuthCacheService=Rt}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,He.ZP)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var Se={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.dynamicAuthCacheService.unsavedCache.next(Rt)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[e.kI.required]]})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,di,5,9,"form",1),o.qZA()),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&Se.idpAdvancedForm))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,Oi.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function Ie(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o._UZ(3,"input",5),o.qZA()(),o.TgZ(4,"app-form-row",6)(5,"div",7),o._UZ(6,"input",8),o.TgZ(7,"button",9),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.tryMetadataAddr())}),o.TgZ(8,"span"),o._uU(9),o.ALo(10,"translate"),o.qZA()()()()()}if(2&me){const j=o.oxw();o.Q6J("formGroup",j.idpDetailsForm),o.xp6(1),o.Q6J("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),o.xp6(1),o.Q6J("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),o.xp6(2),o.Q6J("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.xp6(5),o.Oqu(o.lcZ(10,12,"Common.ValidateMetadata"))}}let ge=(()=>{class me{constructor(j,Se,Rt,On,Wn,or){this.fb=j,this.errorService=Se,this.dynamicAuthCacheService=Rt,this.providerValidator=On,this.translate=Wn,this.toastr=or,this.metadataAddrStream=new ln.t(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,He.ZP)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,te.Ew)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:j=>{this.errorService.handleError(j)}}),this.metadataAddrStream.subscribe(j=>{this.providerValidator.validateMetadataUrl(j).subscribe(Se=>{Se?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:j=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var j={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[e.kI.required,e.kI.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(j)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var j={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const Se={...this.dynamicAuth,options:JSON.stringify(j)};this.dynamicAuthCacheService.unsavedCache.next(Se)}tryMetadataAddr(){const j=this.idpDetailsForm.get("idpMetadataAddress");j.invalid||this.metadataAddrStream.next(j.value)}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(at.C),o.Y36(be),o.Y36(b.sK),o.Y36(Yt.o))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,Ie,11,14,"form",1),o.qZA()),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&Se.idpDetailsForm))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,Oi.O,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();var ne=f(6478),Xe=f(7073);const nn=["AdvancedTabs"];let Bn=(()=>{class me{constructor(){}ngOnInit(){}}return me.\u0275fac=function(j){return new(j||me)},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(j,Se){if(1&j&&o.Gf(nn,7),2&j){let Rt;o.iGM(Rt=o.CRH())&&(Se.advancedTabs=Rt.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-custom-tabs",1),o._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2),o.qZA()(),o.TgZ(4,"div",3),o._UZ(5,"router-outlet"),o.qZA()),2&j&&(o.xp6(1),o.Q6J("pillMode",!0),o.xp6(1),o.Q6J("tabTitle","Nav.Details")("tabValue","details"),o.xp6(1),o.Q6J("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[m.lC,ne.v,Xe.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function Wi(me,Tt){if(1&me&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&me){const j=Tt.item;o.xp6(1),o.Oqu(j.length>20?o.Dn7(2,1,j,0,20)+"...":j)}}function kr(me,Tt){1&me&&(o.TgZ(0,"div",11)(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&me&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"DynamicAuth.NoScopesMessage")," "))}function Pr(me,Tt){1&me&&(o.TgZ(0,"span",21),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Common.Reserved")," "))}function Yi(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw().$implicit,On=o.oxw(3);return o.KtG(On.removeScope(Rt))}),o._UZ(1,"span",23),o.TgZ(2,"span",15),o._uU(3),o.ALo(4,"translate"),o.qZA()()}2&me&&(o.xp6(3),o.Oqu(o.lcZ(4,1,"Common.Delete.Title")))}function mi(me,Tt){if(1&me&&(o.TgZ(0,"tr")(1,"td",18)(2,"span"),o._uU(3),o.qZA()(),o.TgZ(4,"td"),o.YNc(5,Pr,3,3,"span",19),o.qZA(),o.TgZ(6,"td"),o.YNc(7,Yi,5,3,"button",20),o.qZA()()),2&me){const j=Tt.$implicit,Se=o.oxw(3);o.xp6(3),o.Oqu(j),o.xp6(2),o.Q6J("ngIf",!Se.allowRemoveScope(j)),o.xp6(2),o.Q6J("ngIf",Se.allowRemoveScope(j))}}function Me(me,Tt){if(1&me&&(o.TgZ(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),o._uU(4),o.ALo(5,"translate"),o.qZA()(),o.TgZ(6,"th",16)(7,"span",15),o._uU(8),o.ALo(9,"translate"),o.qZA()(),o.TgZ(10,"th",16)(11,"span",15),o._uU(12),o.ALo(13,"translate"),o.qZA()()(),o.TgZ(14,"tbody"),o.YNc(15,mi,8,3,"tr",17),o.qZA()()),2&me){const j=o.oxw(2);o.xp6(4),o.Oqu(o.lcZ(5,4,"Common.Scope")),o.xp6(4),o.Oqu(o.lcZ(9,6,"Common.Reserved")),o.xp6(4),o.Oqu(o.lcZ(13,8,"Common.Actions")),o.xp6(3),o.Q6J("ngForOf",j.currentScopes())}}function Je(me,Tt){if(1&me){const j=o.EpF();o.TgZ(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),o._UZ(3,"input",6),o.ALo(4,"translate"),o.TgZ(5,"button",7),o.NdJ("click",function(){o.CHM(j);const Rt=o.oxw();return o.KtG(Rt.addScope())}),o._uU(6),o.ALo(7,"translate"),o.qZA()()(),o.TgZ(8,"div",8),o.YNc(9,kr,4,3,"div",9),o.YNc(10,Me,16,10,"table",10),o.qZA()()}if(2&me){const j=o.oxw(),Se=o.MAs(1);o.Q6J("formGroup",j.scopesForm),o.xp6(1),o.Q6J("id","NewScope")("hasLabel",!1)("isLast",!0),o.xp6(2),o.s9C("placeholder",o.lcZ(4,15,"DynamicAuth.Scopes.Placeholder")),o.Q6J("typeahead",j.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Se)("typeaheadMinLength",0)("maxlength",j.maxScopeLength),o.xp6(3),o.hij(" ",o.lcZ(7,17,"Common.Add")," "),o.xp6(2),o.Q6J("id","Scopes"),o.xp6(1),o.Q6J("ngIf",j.currentScopes().length<=0),o.xp6(1),o.Q6J("ngIf",j.currentScopes().length>0)}}let At=(()=>{class me{constructor(j,Se,Rt,On,Wn,or){this.fb=j,this.errorService=Se,this.toastr=Rt,this.translateService=On,this.dynamicAuthChachService=Wn,this.providerValidator=or,this.newScope="",this.dynamicAuthTypes=ae.hH,this.isDeleting=!1,this.maxScopeLength=Be.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,He.A3)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}}),this.options=new jt.y(j=>{let Se=this.scopesForm.get("newScope").value;j.next(Se)}).pipe((0,$n.w)(j=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,It.U)(Se=>this.filterScopes(j,Se)))))}filterScopes(j,Se){const Rt=!j;return Se.filter(On=>!this.currentScopes().includes(On)&&(Rt||On.includes(j)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:j=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const Se={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.dynamicAuthChachService.unsavedCache.next(Rt)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const j=this.scopesForm.controls.newScope.value,Se=this.scopesForm.controls.scopes.value;""!==j?j.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):Se.includes(j)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...Se,j]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(j){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(Rt=>Rt!==j))}currentScopes(){const j=this.scopesForm.controls.scopes;return j?j.value:[]}allowRemoveScope(j){return Be.AllowRemoveScope(j)}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(Kt._W),o.Y36(b.sK),o.Y36(at.C),o.Y36(be))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(j,Se){1&j&&(o.YNc(0,Wi,3,5,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1),o.YNc(3,Je,11,19,"form",2),o.qZA()),2&j&&(o.xp6(3),o.Q6J("ngIf",Se.dynamicAuth))},dependencies:[t.sg,t.O5,e._Y,e.Fj,e.JJ,e.JL,e.nD,e.sg,e.u,St.L,In.T,A.Bp,t.OU,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function Ot(me,Tt){1&me&&(o._UZ(0,"span",12),o.ALo(1,"translate")),2&me&&o.Q6J("innerHTML",o.lcZ(1,1,"DynamicAuth.FederationPathWarning"),o.oJD)}function Jt(me,Tt){1&me&&(o._UZ(0,"span",13),o.ALo(1,"translate")),2&me&&o.Q6J("innerHTML",o.lcZ(1,1,"DynamicAuth.FederationPathWarning"),o.oJD)}function Vt(me,Tt){1&me&&(o._UZ(0,"span",14),o.ALo(1,"translate")),2&me&&o.Q6J("innerHTML",o.lcZ(1,1,"DynamicAuth.FederationPathWarning"),o.oJD)}function dn(me,Tt){if(1&me&&(o.TgZ(0,"form",2)(1,"app-form-row",3),o._UZ(2,"input",4),o.qZA(),o.TgZ(3,"app-form-row",3),o._UZ(4,"input",5),o.YNc(5,Ot,2,3,"span",6),o.qZA(),o.TgZ(6,"app-form-row",3),o._UZ(7,"input",7),o.YNc(8,Jt,2,3,"span",8),o.qZA(),o.TgZ(9,"app-form-row",9),o._UZ(10,"input",10),o.YNc(11,Vt,2,3,"span",11),o.qZA()()),2&me){const j=o.oxw();o.Q6J("formGroup",j.spDetailsForm),o.xp6(1),o.Q6J("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),o.xp6(2),o.Q6J("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),o.xp6(2),o.Q6J("ngIf",!j.validMetadataPath()),o.xp6(1),o.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),o.xp6(2),o.Q6J("ngIf",!j.validCallbackPath()),o.xp6(1),o.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),o.xp6(2),o.Q6J("ngIf",!j.validSignedOutPath())}}let bn=(()=>{class me{constructor(j,Se,Rt){this.fb=j,this.errorService=Se,this.dynamicAuthCacheService=Rt}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,He.ZP)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var Se={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.dynamicAuthCacheService.unsavedCache.next(Rt)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){var j={spEntityId:[this.samlOptions.spEntityId,[e.kI.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[e.kI.required,Mn()]],callbackPath:[this.samlOptions.callbackPath,[e.kI.required,Mn()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[e.kI.required,Mn()]]};this.spDetailsForm=this.fb.group(j)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return this.spDetailsForm.get("signedOutCallbackPath").valid}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,dn,12,17,"form",1),o.qZA()),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&Se.spDetailsForm))},dependencies:[t.O5,e._Y,e.Fj,e.JJ,e.JL,e.Q7,e.sg,e.u,St.L,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();var Yn=f(964);function Kn(me,Tt){if(1&me&&(o.TgZ(0,"form",7)(1,"app-form-row",16)(2,"app-form-toggle",23),o._UZ(3,"input",24),o.qZA()()()),2&me){const j=o.oxw();o.Q6J("formGroup",j.spRequestForm),o.xp6(1),o.Q6J("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),o.xp6(1),o.Q6J("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function cr(me,Tt){1&me&&(o.TgZ(0,"button",25),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Clients.Saml.AddCert")," "))}function es(me,Tt){1&me&&(o.TgZ(0,"button",26),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Clients.Saml.ReplaceCertificate")," "))}const ur=function(){return{animated:!1,backdrop:"static"}};let ji=(()=>{class me{constructor(j,Se,Rt,On,Wn,or,Ur){this.fb=j,this.errorService=Se,this.dynamicAuthCacheService=Rt,this.toastr=On,this.translate=Wn,this.certService=or,this.dynamicAuthService=Ur,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Wt.I("")}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,He.ZP)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var Se={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(Rt)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(j){this.selectedFile=j.item(0)}updateSigningCert(){this.fileName=new Wt.I("");const j=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,j,{next:Se=>{this.fileName=new Wt.I(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,Se,j).subscribe(Rt=>{this.certificateDescription=[Rt],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(Rt)})},error:Se=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},j=>{this.errorService.handleError(j)})}updateSigninCertInCache(j){var Se={...this.samlOptions,signingCertificateDto:j};const Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.dynamicAuthCacheService.unsavedCache.next(Rt)}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(at.C),o.Y36(Kt._W),o.Y36(b.sK),o.Y36(P.S),o.Y36(dt.x))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:31,vars:26,consts:[["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"certificates","showSingle","deleteCertDisabled","delete"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["bsModal","","id","addCertificateModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[3,"formGroup"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-left","scrollbars"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isLast"],["id","updateCertBtn","data-dismiss","modal",1,"tw-btn-success",3,"click"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success"],["id","replaceCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success","tw-mr-4"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,Kn,4,7,"form",1),o.TgZ(2,"app-saml-cert-list",2),o.NdJ("delete",function(){return Se.removeSigningCert()}),o.ynx(3,3),o.YNc(4,cr,3,3,"button",4),o.YNc(5,es,3,3,"button",5),o.BQk(),o.qZA(),o.TgZ(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h5",11),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"button",12),o._UZ(15,"span",13),o.TgZ(16,"span",14),o._uU(17),o.ALo(18,"translate"),o.qZA()()(),o.TgZ(19,"div",15)(20,"app-form-row",16)(21,"div",17)(22,"input",18,19),o.NdJ("change",function(On){return Se.handleFileInput(On.target.files)}),o.qZA()()(),o.TgZ(25,"app-form-row",16),o._UZ(26,"input",20),o.qZA(),o.TgZ(27,"app-form-row",21)(28,"button",22),o.NdJ("click",function(){return Se.updateSigningCert()}),o._uU(29),o.ALo(30,"translate"),o.qZA()()()()()()()()),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&Se.spRequestForm),o.xp6(1),o.Q6J("certificates",Se.certificateDescription)("showSingle",!0)("deleteCertDisabled",Se.canDeleteCert),o.xp6(2),o.Q6J("ngIf",Se.certificateDescription.length<1),o.xp6(1),o.Q6J("ngIf",Se.certificateDescription.length>0),o.xp6(1),o.Q6J("config",o.DdM(25,ur)),o.xp6(1),o.Q6J("formGroup",Se.certForm),o.xp6(5),o.Oqu(o.lcZ(13,19,"DynamicAuth.UpdateSigningCertificate.Title")),o.xp6(5),o.Oqu(o.lcZ(18,21,"Common.Close")),o.xp6(3),o.Q6J("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.xp6(5),o.Q6J("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help"),o.xp6(2),o.Q6J("id","updateCertBtn")("isLast",!0),o.xp6(2),o.Oqu(o.lcZ(30,23,"Common.Update")))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,C.oB,St.L,Oi.O,Yn.z,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function ni(me,Tt){if(1&me&&(o.TgZ(0,"form",7)(1,"app-form-row",16)(2,"app-form-toggle",23),o._UZ(3,"input",24),o.qZA()(),o.TgZ(4,"app-form-row",16)(5,"app-form-toggle",23),o._UZ(6,"input",25),o.qZA()()()),2&me){const j=o.oxw();o.Q6J("formGroup",j.spResponseForm),o.xp6(1),o.Q6J("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),o.xp6(1),o.Q6J("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),o.xp6(2),o.Q6J("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),o.xp6(1),o.Q6J("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function Co(me,Tt){1&me&&(o.TgZ(0,"button",26),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Clients.Saml.AddCert")," "))}function Xs(me,Tt){1&me&&(o.TgZ(0,"button",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Clients.Saml.ReplaceCertificate")," "))}const he=function(){return{animated:!1,backdrop:"static"}};let Pe=(()=>{class me{constructor(j,Se,Rt,On,Wn,or,Ur){this.fb=j,this.errorService=Se,this.dynamicAuthCacheService=Rt,this.toastr=On,this.translate=Wn,this.certService=or,this.dynamicAuthService=Ur,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Wt.I("")}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.samlOptions=(0,He.ZP)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:j=>{this.errorService.handleError(j)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:j=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var Se={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(Rt)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(j){this.selectedFile=j.item(0)}updateEncryptionCert(){this.fileName=new Wt.I("");const j=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,j,{next:Se=>{this.fileName=new Wt.I(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,Se,j).subscribe(Rt=>{this.certificateDescription=[Rt],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(Rt)})},error:Se=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},j=>{this.errorService.handleError(j)})}updateEncryptionCertInCache(j){var Se={...this.samlOptions,encryptionCertificateDto:j};const Rt={...this.dynamicAuth,options:JSON.stringify(Se)};this.dynamicAuthCacheService.unsavedCache.next(Rt)}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(e.QS),o.Y36(tt.T),o.Y36(at.C),o.Y36(Kt._W),o.Y36(b.sK),o.Y36(P.S),o.Y36(dt.x))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:31,vars:26,consts:[["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"certificates","showSingle","deleteCertDisabled","delete"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button","data-toggle","modal","data-target","#addCertificateModal",4,"ngIf"],["bsModal","","id","addCertificateModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[3,"formGroup"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-left","scrollbars"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isLast"],["id","updateCertBtn","data-dismiss","modal",1,"tw-btn-success",3,"click"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success"],["id","replaceCertButton","type","button","data-toggle","modal","data-target","#addCertificateModal",1,"tw-btn-success","tw-mr-4"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,ni,7,13,"form",1),o.TgZ(2,"app-saml-cert-list",2),o.NdJ("delete",function(){return Se.removeEncryptionCert()}),o.ynx(3,3),o.YNc(4,Co,3,3,"button",4),o.YNc(5,Xs,3,3,"button",5),o.BQk(),o.qZA(),o.TgZ(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h5",11),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"button",12),o._UZ(15,"span",13),o.TgZ(16,"span",14),o._uU(17),o.ALo(18,"translate"),o.qZA()()(),o.TgZ(19,"div",15)(20,"app-form-row",16)(21,"div",17)(22,"input",18,19),o.NdJ("change",function(On){return Se.handleFileInput(On.target.files)}),o.qZA()()(),o.TgZ(25,"app-form-row",16),o._UZ(26,"input",20),o.qZA(),o.TgZ(27,"app-form-row",21)(28,"button",22),o.NdJ("click",function(){return Se.updateEncryptionCert()}),o._uU(29),o.ALo(30,"translate"),o.qZA()()()()()()()()),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth&&Se.spResponseForm),o.xp6(1),o.Q6J("certificates",Se.certificateDescription)("showSingle",!0)("deleteCertDisabled",Se.canDeleteCert),o.xp6(2),o.Q6J("ngIf",Se.certificateDescription.length<1),o.xp6(1),o.Q6J("ngIf",Se.certificateDescription.length>0),o.xp6(1),o.Q6J("config",o.DdM(25,he)),o.xp6(1),o.Q6J("formGroup",Se.certForm),o.xp6(5),o.Oqu(o.lcZ(13,19,"DynamicAuth.UpdateEncryptionCertificate.Title")),o.xp6(5),o.Oqu(o.lcZ(18,21,"Common.Close")),o.xp6(3),o.Q6J("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.xp6(5),o.Q6J("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help"),o.xp6(2),o.Q6J("id","updateCertBtn")("isLast",!0),o.xp6(2),o.Oqu(o.lcZ(30,23,"Common.Update")))},dependencies:[t.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,C.oB,St.L,Oi.O,Yn.z,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const Ce=["AdvancedTabs"];let ze=(()=>{class me{constructor(){}ngOnInit(){}}return me.\u0275fac=function(j){return new(j||me)},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(j,Se){if(1&j&&o.Gf(Ce,7),2&j){let Rt;o.iGM(Rt=o.CRH())&&(Se.advancedTabs=Rt.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-custom-tabs",1),o._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),o.qZA()(),o.TgZ(5,"div",3),o._UZ(6,"router-outlet"),o.qZA()),2&j&&(o.xp6(1),o.Q6J("pillMode",!0),o.xp6(1),o.Q6J("tabTitle","Nav.Details")("tabValue","details"),o.xp6(1),o.Q6J("tabTitle","Nav.Request")("tabValue","request"),o.xp6(1),o.Q6J("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[m.lC,ne.v,Xe.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();var vt=f(3570),Xt=f(9658),sn=f(1216);function $t(me,Tt){1&me&&o._UZ(0,"app-custom-tab",2),2&me&&o.Q6J("tabTitle","Nav.Scopes")("tabValue","scopes")}function Ui(me,Tt){1&me&&o._UZ(0,"app-custom-tab",2),2&me&&o.Q6J("tabTitle","Nav.Advanced")("tabValue","advanced")}function bi(me,Tt){1&me&&o._UZ(0,"app-custom-tab",2),2&me&&o.Q6J("tabTitle","Nav.SP")("tabValue","sp")}function gi(me,Tt){1&me&&o._UZ(0,"app-custom-tab",2),2&me&&o.Q6J("tabTitle","Nav.IdP")("tabValue","idp")}const mn=function(me,Tt){return{title:me,link:Tt}},hi=function(me){return[me]},Ri=function(){return{backdrop:"static",keyboard:"false"}};let gr=(()=>{class me{constructor(j,Se,Rt,On,Wn,or,Ur,ha,Go,pa){this.r=j,this.route=Se,this.localize=Rt,this.titleService=On,this.translate=Wn,this.toastr=or,this.errorService=Ur,this.dynamicAuthService=ha,this.dynamicAuthCachService=Go,this.dialogService=pa,this.dynamicAuthTypes=ae.hH,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:j=>{this.dynamicAuth=j;const Se=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+ee.de.SITE_TITLE;if(this.titleService.setTitle(Se),this.checkSubmitEnabled(),this.dynamicAuth.type==ae.hH.OIDC&&this.isFirstCall){var Rt=(0,He.A3)(this.dynamicAuth.options);this.oldSecret=Rt.clientSecret,this.isFirstCall=!1}},error:j=>{this.errorService.handleError(j)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(j=>{j&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const j=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===j.length||j.some(Se=>!Se)}mobRoute(j){this.r.navigate([j],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==ae.hH.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth((0,He.ky)(this.dynamicAuth)).subscribe({next:j=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next((0,He.Zn)(j)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:j=>{this.errorService.handleError(j)}}))}deleteDynamicAuth(j){this.dynamicAuthService.deleteDynamicAuth(j).subscribe({next:Se=>{const Rt=this.localize.translateRoute("/dynamic-auth");this.r.navigate([Rt]),this.toastr.success(`${j} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:Se=>{this.errorService.handleError(Se)}})}setOidcClientSecret(){var j=(0,He.A3)(this.dynamicAuth.options);this.oldSecret==j.clientSecret&&(j.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(j)}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(m.F0),o.Y36(m.gz),o.Y36(w.An),o.Y36(ot.Dx),o.Y36(b.sK),o.Y36(Kt._W),o.Y36(tt.T),o.Y36(dt.x),o.Y36(at.C),o.Y36(vt.x))},me.\u0275cmp=o.Xpm({type:me,selectors:[["ng-component"]],decls:53,vars:46,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","deleteBtn","type","button","data-toggle","modal","data-target","#deleteDynamicAuthModal",1,"tw-btn-danger","tw-mb-3"],["bsModal","","id","deleteDynamicAuthModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(j,Se){1&j&&(o.TgZ(0,"app-title-bar",0),o.ALo(1,"translate"),o.ALo(2,"localize"),o.ynx(3,1),o.TgZ(4,"app-custom-tabs"),o._UZ(5,"app-custom-tab",2),o.YNc(6,$t,1,2,"app-custom-tab",3),o.YNc(7,Ui,1,2,"app-custom-tab",3),o.YNc(8,bi,1,2,"app-custom-tab",3),o.YNc(9,gi,1,2,"app-custom-tab",3),o.qZA(),o.BQk(),o.qZA(),o.TgZ(10,"div",4),o._UZ(11,"router-outlet"),o.qZA(),o.TgZ(12,"app-button-bar")(13,"button",5),o.NdJ("click",function(){return Se.saveDynamicAuth()}),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"translate"),o.qZA()(),o.ynx(17,6),o.TgZ(18,"button",7),o._uU(19),o.ALo(20,"translate"),o.qZA(),o.BQk(),o.qZA(),o.TgZ(21,"div",8)(22,"div",9)(23,"div",10)(24,"div",11)(25,"h5",12),o._uU(26),o.ALo(27,"translate"),o.qZA(),o.TgZ(28,"button",13),o._UZ(29,"span",14),o.TgZ(30,"span",15),o._uU(31),o.ALo(32,"translate"),o.qZA()()(),o.TgZ(33,"div",16)(34,"p",17),o._uU(35),o.ALo(36,"translate"),o.TgZ(37,"strong"),o._uU(38),o.qZA(),o._uU(39,"?"),o.qZA(),o._UZ(40,"p",18),o.ALo(41,"translate"),o.qZA(),o._UZ(42,"div",19),o.TgZ(43,"div",20)(44,"div",21)(45,"div",22)(46,"button",23),o.NdJ("click",function(){return Se.deleteDynamicAuth(Se.dynamicAuth.scheme)}),o._uU(47),o.ALo(48,"translate"),o.qZA()(),o.TgZ(49,"button",24),o._uU(50),o.ALo(51,"translate"),o.qZA()()()()()(),o._UZ(52,"app-can-deactivate")),2&j&&(o.Q6J("title",Se.dynamicAuth.displayName)("crumbs",o.VKq(43,hi,o.WLB(40,mn,o.lcZ(1,20,"Nav.DynamicAuth"),o.lcZ(2,22,"/dynamic-auth"))))("hasTabs",!0),o.xp6(5),o.Q6J("tabTitle","Nav.Details")("tabValue","details"),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.OIDC),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.OIDC),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.SAML),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.SAML),o.xp6(4),o.Q6J("disabled",Se.saveDisabled),o.xp6(2),o.Oqu(o.lcZ(16,24,"Common.SaveAll")),o.xp6(4),o.Oqu(o.lcZ(20,26,"Common.Delete.Title")),o.xp6(2),o.Q6J("config",o.DdM(45,Ri)),o.xp6(5),o.Oqu(o.lcZ(27,28,"Common.Delete.Confirm")),o.xp6(5),o.Oqu(o.lcZ(32,30,"Common.Close")),o.xp6(4),o.hij("",o.lcZ(36,32,"Common.Delete.AreYouSureSimple")," "),o.xp6(3),o.Oqu(Se.dynamicAuth.displayName),o.xp6(2),o.Q6J("innerHTML",o.lcZ(41,34,"Common.Delete.Warning"),o.oJD),o.xp6(7),o.hij(" ",o.lcZ(48,36,"Common.Delete.Title")," "),o.xp6(3),o.Oqu(o.lcZ(51,38,"Common.Delete.No")))},dependencies:[m.lC,t.O5,ne.v,Xe.x,C.oB,Xt.J,wn.G,sn.N,b.X$,w.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();var _r=f(7235);const ir=function(me){return[me]};function Bs(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",6),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(4,ir,j.optionsDictionary.remoteSignOutPath))}}function Vr(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",6),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(4,ir,j.optionsDictionary.signedOutRedirectUri))}}function Sr(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",6),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(4,ir,j.optionsDictionary.signedOutCallbackPath))}}function xs(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",6),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(4,ir,j.optionsDictionary.responseMode))}}function eo(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",7),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(5,ir,j.optionsDictionary.refreshOnIssuerKeyNotFound))}}function Vo(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",7),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(5,ir,j.optionsDictionary.saveTokens))}}function Es(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",7),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(5,ir,j.optionsDictionary.useTokenLifetime))}}function io(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",7),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(5,ir,j.optionsDictionary.skipUnrecognizedRequests))}}function bo(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",3),o._UZ(1,"app-readonly",4),o.qZA()),2&me){const j=o.oxw();o.Q6J("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(6,ir,j.optionsDictionary.disableTelemetry))}}let jo=(()=>{class me{constructor(j,Se,Rt){this.errorService=j,this.dynamicAuthChachService=Se,this.configService=Rt,this.mode="Query",this.dynamicAuthTypes=ae.hH}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==gn.u.Rsk},error:j=>{this.errorService.handleError(j)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.optionsDictionary=new _r.$((0,He.A3)(j.options))},error:j=>{this.errorService.handleError(j)}})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(tt.T),o.Y36(at.C),o.Y36(rt.E))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-advanced"]],decls:12,vars:17,consts:[["id","viewDynamicAuthAdvancedOptions",1,"tw-container","tw-mx-auto"],[3,"id","label",4,"ngIf"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"],[3,"id","label"],[3,"id","label","help"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0),o.YNc(1,Bs,2,6,"app-form-row",1),o.YNc(2,Vr,2,6,"app-form-row",1),o.YNc(3,Sr,2,6,"app-form-row",1),o.YNc(4,xs,2,6,"app-form-row",1),o.YNc(5,eo,2,7,"app-form-row",2),o.TgZ(6,"app-form-row",3),o._UZ(7,"app-readonly",4),o.qZA(),o.YNc(8,Vo,2,7,"app-form-row",2),o.YNc(9,Es,2,7,"app-form-row",2),o.YNc(10,io,2,7,"app-form-row",2),o.YNc(11,bo,2,8,"app-form-row",5),o.qZA()),2&j&&(o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!Se.isRskDynamicAuth),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(15,ir,Se.optionsDictionary.getClaimsFromUserInfoEndpoint)),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth))},dependencies:[t.O5,St.L,Or.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const Lr=function(me){return[me]};function ms(me,Tt){if(1&me&&(o.TgZ(0,"app-form-row",4),o._UZ(1,"app-readonly",3),o.qZA()),2&me){const j=o.oxw(2);o.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(5,Lr,j.optionsDictionary.callbackPath))}}function wo(me,Tt){if(1&me&&(o.TgZ(0,"div",8)(1,"app-form-row",4),o._UZ(2,"app-readonly",3),o.qZA(),o.TgZ(3,"app-form-row",4),o._UZ(4,"app-readonly",3),o.qZA(),o.YNc(5,ms,2,7,"app-form-row",9),o.TgZ(6,"app-form-row",4),o._UZ(7,"app-readonly",3),o.qZA()()),2&me){const j=o.oxw();o.xp6(1),o.Q6J("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(16,Lr,j.optionsDictionary.authority)),o.xp6(1),o.Q6J("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(18,Lr,j.optionsDictionary.clientId)),o.xp6(1),o.Q6J("ngIf",j.isRskDynamicAuth),o.xp6(1),o.Q6J("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(20,Lr,j.optionsDictionary.flow))}}function ds(me,Tt){if(1&me&&(o.TgZ(0,"div")(1,"app-form-row",4),o._UZ(2,"app-readonly",3),o.qZA(),o.TgZ(3,"app-form-row",2),o._UZ(4,"app-readonly",3),o.qZA()()),2&me){const j=o.oxw(2);o.xp6(1),o.Q6J("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(9,Lr,j.optionsDictionary.differentSignOut)),o.xp6(1),o.Q6J("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(11,Lr,j.optionsDictionary.signOutScheme))}}function Ds(me,Tt){if(1&me&&(o.TgZ(0,"div",10)(1,"app-form-row",11),o._UZ(2,"app-readonly",3),o.qZA(),o.YNc(3,ds,5,13,"div",12),o.TgZ(4,"app-form-row",13),o._UZ(5,"app-readonly",3),o.qZA()()),2&me){const j=o.oxw();o.xp6(1),o.Q6J("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label"),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(11,Lr,j.optionsDictionary.signInScheme)),o.xp6(1),o.Q6J("ngIf",j.dynamicAuthType==j.dynamicAuthTypes.SAML),o.xp6(1),o.Q6J("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.LifetimePicker)("values",o.VKq(13,Lr,j.optionsDictionary.timeComparisonTolerance))}}function To(me,Tt){if(1&me&&(o.TgZ(0,"div",14)(1,"app-form-row",13),o._UZ(2,"app-readonly",3),o.qZA()()),2&me){const j=o.oxw();o.xp6(1),o.Q6J("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),o.xp6(1),o.Q6J("fieldType",j.ReadOnlyFieldType.Single)("values",o.VKq(6,Lr,j.optionsDictionary.clientSecret))}}let Ko=(()=>{class me{constructor(j,Se,Rt,On){this.errorService=j,this.dynamicAuthChachService=Se,this.configService=Rt,this.translate=On,this.dynamicAuthTypes=ae.hH,this.snippet=Be.SamlSignInSchemeCodeFrag}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.configService.getConfig().subscribe({next:j=>{this.isRskDynamicAuth=j.featureFlagOptions.dynamicAuthenticationFlag==gn.u.Rsk},error:j=>{this.errorService.handleError(j)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{switch(this.dynamicAuthType=j.type,this.dynamicAuthDictionary=new _r.$(j),this.dynamicAuthType){case ae.hH.OIDC:this.setOidcOptions(j.options);break;case ae.hH.SAML:this.setSamlOptions(j.options)}},error:j=>{this.errorService.handleError(j)}})}setOidcOptions(j){let Se={...(0,He.A3)(j)};Se.flow=this.translate.instant("DynamicAuth.Flows."+(Se.usePkce?Ve.AuthCodePlusPkce:Ve.AuthCode)),this.optionsDictionary=new _r.$(Se)}setSamlOptions(j){const Se=(0,He.ZP)(j);this.optionsDictionary=new _r.$({...Se,differentSignOut:!(0,te.Ew)(Se.signOutScheme)})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(tt.T),o.Y36(at.C),o.Y36(rt.E),o.Y36(b.sK))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails",1,"tw-container","tw-mx-auto"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"div",1)(2,"app-form-row",2),o._UZ(3,"app-readonly",3),o.qZA(),o.TgZ(4,"app-form-row",4),o._UZ(5,"app-readonly",3),o.qZA(),o.TgZ(6,"app-form-row",4),o._UZ(7,"app-readonly",3),o.qZA()(),o.YNc(8,wo,8,22,"div",5),o.YNc(9,Ds,6,15,"div",6),o.YNc(10,To,3,8,"div",7),o.qZA()),2&j&&(o.xp6(2),o.Q6J("id","Enabled")("label","Common.Enabled"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(17,Lr,Se.dynamicAuthDictionary.enabled)),o.xp6(1),o.Q6J("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(19,Lr,Se.dynamicAuthDictionary.scheme)),o.xp6(1),o.Q6J("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(21,Lr,Se.dynamicAuthDictionary.displayName)),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuthType==Se.dynamicAuthTypes.OIDC),o.xp6(1),o.Q6J("ngIf",Se.isRskDynamicAuth||Se.dynamicAuthType==Se.dynamicAuthTypes.SAML),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuthType==Se.dynamicAuthTypes.OIDC))},dependencies:[t.O5,St.L,Or.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const Us=function(me){return[me]};let Br=(()=>{class me{constructor(j){this.dynamicAuthCacheService=j}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{var Se=(0,He.ZP)(j.options);this.idpAdvancedDictionary=new _r.$({allowIdpInitiatedSso:Se.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:Se.idPInitiatedSsoCompletionPath})}})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-form-row",1),o._UZ(2,"app-readonly",2),o.qZA(),o.TgZ(3,"app-form-row",3),o._UZ(4,"app-readonly",2),o.qZA()()),2&j&&(o.xp6(1),o.Q6J("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(11,Us,Se.idpAdvancedDictionary.allowIdpInitiatedSso)),o.xp6(1),o.Q6J("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(13,Us,Se.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[St.L,Or.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const $o=function(me){return[me]};let ro=(()=>{class me{constructor(j){this.dynamicAuthCacheService=j}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{var Se=(0,He.ZP)(j.options);this.idpDetailsDictionary=new _r.$({requireValidMetadataSignature:Se.requireValidMetadataSignature,idpMetadataAddr:Se.idpMetadataAddress})}})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails",1,"tw-container","tw-mx-auto"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-form-row",1),o._UZ(2,"app-readonly",2),o.qZA(),o.TgZ(3,"app-form-row",3),o._UZ(4,"app-readonly",2),o.qZA()()),2&j&&(o.xp6(1),o.Q6J("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(11,$o,Se.idpDetailsDictionary.requireValidMetadataSignature)),o.xp6(1),o.Q6J("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(13,$o,Se.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[St.L,Or.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const ho=["AdvancedTabs"];let to=(()=>{class me{constructor(){}ngOnInit(){}}return me.\u0275fac=function(j){return new(j||me)},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(j,Se){if(1&j&&o.Gf(ho,7),2&j){let Rt;o.iGM(Rt=o.CRH())&&(Se.advancedTabs=Rt.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-custom-tabs",1),o._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2),o.qZA()(),o.TgZ(4,"div",3),o._UZ(5,"router-outlet"),o.qZA()),2&j&&(o.xp6(1),o.Q6J("pillMode",!0),o.xp6(1),o.Q6J("tabTitle","Nav.Details")("tabValue","details"),o.xp6(1),o.Q6J("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[m.lC,ne.v,Xe.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function ua(me,Tt){if(1&me&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&me){const j=Tt.item;o.xp6(1),o.Oqu(j.length>20?o.Dn7(2,1,j,0,20)+"...":j)}}function _o(me,Tt){1&me&&(o.TgZ(0,"div",5)(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&me&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"UserDetails.NoClaimsMessage")," "))}function zo(me,Tt){if(1&me&&(o.TgZ(0,"tr")(1,"td",11)(2,"span",12),o._uU(3),o.qZA()()()),2&me){const j=Tt.$implicit;o.xp6(3),o.Oqu(j)}}function Ao(me,Tt){if(1&me&&(o.TgZ(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),o._uU(4),o.ALo(5,"translate"),o.qZA()()(),o.TgZ(6,"tbody"),o.YNc(7,zo,4,1,"tr",10),o.qZA()()),2&me){const j=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,2,"Common.Scope")),o.xp6(3),o.Q6J("ngForOf",j.oidcOptions.scope)}}let pi=(()=>{class me{constructor(j,Se){this.errorService=j,this.dynamicAuthChachService=Se,this.newScope="",this.dynamicAuthTypes=ae.hH,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j,this.oidcOptions=(0,He.A3)(this.dynamicAuth.options)},error:j=>{this.errorService.handleError(j)}})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(tt.T),o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes",1,"tw-container","tw-mx-auto"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(j,Se){1&j&&(o.YNc(0,ua,3,5,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1)(3,"div",2),o.YNc(4,_o,4,3,"div",3),o.YNc(5,Ao,8,4,"table",4),o.qZA()()),2&j&&(o.xp6(3),o.Q6J("id","Scopes"),o.xp6(1),o.Q6J("ngIf",Se.oidcOptions.scope.length<=0),o.xp6(1),o.Q6J("ngIf",Se.oidcOptions.scope.length>0))},dependencies:[t.sg,t.O5,t.OU,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const Ks=function(me){return[me]};let No=(()=>{class me{constructor(j){this.dynamicAuthCacheService=j}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{var Se=(0,He.ZP)(j.options);this.spDetailsDictionary=new _r.$({entityId:Se.spEntityId,metaDataAddr:Se.spMetadataAddress,callbackPath:Se.callbackPath,signOutCallbackPath:Se.signedOutCallbackPath})}})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails",1,"tw-container","tw-mx-auto"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-form-row",1),o._UZ(2,"app-readonly",2),o.qZA(),o.TgZ(3,"app-form-row",1),o._UZ(4,"app-readonly",2),o.qZA(),o.TgZ(5,"app-form-row",1),o._UZ(6,"app-readonly",2),o.qZA(),o.TgZ(7,"app-form-row",3),o._UZ(8,"app-readonly",2),o.qZA()()),2&j&&(o.xp6(1),o.Q6J("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(21,Ks,Se.spDetailsDictionary.entityId)),o.xp6(1),o.Q6J("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(23,Ks,Se.spDetailsDictionary.metaDataAddr)),o.xp6(1),o.Q6J("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(25,Ks,Se.spDetailsDictionary.callbackPath)),o.xp6(1),o.Q6J("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(27,Ks,Se.spDetailsDictionary.signOutCallbackPath)))},dependencies:[St.L,Or.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const Ee=function(me){return[me]};let W=(()=>{class me{constructor(j){this.dynamicAuthCacheService=j}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{var Se=(0,He.ZP)(j.options);this.spRequestDictionary=new _r.$({signAuthenticationRequests:Se.signAuthenticationRequests}),this.certificateDescription=Se.signingCertificateDto?[Se.signingCertificateDto]:[]}})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest",1,"tw-container","tw-mx-auto"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-form-row",1),o._UZ(2,"app-readonly",2),o.qZA(),o._UZ(3,"app-saml-cert-list",3),o.qZA()),2&j&&(o.xp6(1),o.Q6J("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(8,Ee,Se.spRequestDictionary.signAuthenticationRequests)),o.xp6(1),o.Q6J("certificates",Se.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[St.L,Yn.z,Or.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const Ae=function(me){return[me]};let Ue=(()=>{class me{constructor(j){this.dynamicAuthCacheService=j}get ReadOnlyFieldType(){return $i.O}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{var Se=(0,He.ZP)(j.options);this.spResponseDictionary=new _r.$({requireSignedAssertions:Se.requireSignedAssertions,requireEncryptedAssertions:Se.requireEncryptedAssertions}),this.certificateDescription=Se.encryptionCertificateDto?[Se.encryptionCertificateDto]:[]}})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse",1,"tw-container","tw-mx-auto"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-form-row",1),o._UZ(2,"app-readonly",2),o.qZA(),o.TgZ(3,"app-form-row",1),o._UZ(4,"app-readonly",2),o.qZA(),o._UZ(5,"app-saml-cert-list",3),o.qZA()),2&j&&(o.xp6(1),o.Q6J("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(13,Ae,Se.spResponseDictionary.requireSignedAssertions)),o.xp6(1),o.Q6J("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),o.xp6(1),o.Q6J("fieldType",Se.ReadOnlyFieldType.Single)("values",o.VKq(15,Ae,Se.spResponseDictionary.requireEncryptedAssertions)),o.xp6(1),o.Q6J("certificates",Se.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[St.L,Yn.z,Or.f],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();const mt=["AdvancedTabs"];let Lt=(()=>{class me{constructor(){}ngOnInit(){}}return me.\u0275fac=function(j){return new(j||me)},me.\u0275cmp=o.Xpm({type:me,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(j,Se){if(1&j&&o.Gf(mt,7),2&j){let Rt;o.iGM(Rt=o.CRH())&&(Se.advancedTabs=Rt.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(j,Se){1&j&&(o.TgZ(0,"div",0)(1,"app-custom-tabs",1),o._UZ(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),o.qZA()(),o.TgZ(5,"div",3),o._UZ(6,"router-outlet"),o.qZA()),2&j&&(o.xp6(1),o.Q6J("pillMode",!0),o.xp6(1),o.Q6J("tabTitle","Nav.Details")("tabValue","details"),o.xp6(1),o.Q6J("tabTitle","Nav.Request")("tabValue","request"),o.xp6(1),o.Q6J("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[m.lC,ne.v,Xe.x],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();function Nt(me,Tt){1&me&&(o.TgZ(0,"option",19),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Nav.Scopes")))}function Qt(me,Tt){1&me&&(o.TgZ(0,"option",20),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Nav.Advanced")))}function pe(me,Tt){1&me&&(o.TgZ(0,"option",21),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Nav.SP")))}function nt(me,Tt){1&me&&(o.TgZ(0,"option",22),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"Nav.IdP")))}const le=function(){return["active"]};function Le(me,Tt){1&me&&(o.TgZ(0,"button",23),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.Q6J("routerLinkActive",o.DdM(4,le)),o.xp6(1),o.Oqu(o.lcZ(2,2,"Nav.Scopes")))}function Bt(me,Tt){1&me&&(o.TgZ(0,"button",24),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.Q6J("routerLinkActive",o.DdM(4,le)),o.xp6(1),o.Oqu(o.lcZ(2,2,"Nav.Advanced")))}function on(me,Tt){1&me&&(o.TgZ(0,"button",25),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.Q6J("routerLinkActive",o.DdM(4,le)),o.xp6(1),o.Oqu(o.lcZ(2,2,"Nav.SP")))}function Un(me,Tt){1&me&&(o.TgZ(0,"button",26),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&me&&(o.Q6J("routerLinkActive",o.DdM(4,le)),o.xp6(1),o.Oqu(o.lcZ(2,2,"Nav.IdP")))}const wi=function(me,Tt){return{title:me,link:Tt}},ls=function(me){return[me]};let qr=(()=>{class me{constructor(j,Se,Rt,On,Wn,or){this.r=j,this.route=Se,this.titleService=Rt,this.translate=On,this.errorService=Wn,this.dynamicAuthCachService=or,this.dynamicAuthTypes=ae.hH}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,lt.P)()).subscribe({next:j=>{this.dynamicAuth=j;const Se=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+ee.de.SITE_TITLE;this.titleService.setTitle(Se)},error:j=>{this.errorService.handleError(j)}})}mobRoute(j){this.r.navigate([j],{relativeTo:this.route})}}return me.\u0275fac=function(j){return new(j||me)(o.Y36(m.F0),o.Y36(m.gz),o.Y36(ot.Dx),o.Y36(b.sK),o.Y36(tt.T),o.Y36(at.C))},me.\u0275cmp=o.Xpm({type:me,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","editDynamicAuth"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(j,Se){1&j&&(o.TgZ(0,"app-title-bar",0),o.ALo(1,"translate"),o.ALo(2,"localize"),o.ynx(3,1),o.TgZ(4,"div",2)(5,"label",3),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"div",4)(9,"select",5),o.NdJ("change",function(On){return Se.mobRoute(On.target.value)}),o.TgZ(10,"option",6),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.YNc(13,Nt,3,3,"option",7),o.YNc(14,Qt,3,3,"option",8),o.YNc(15,pe,3,3,"option",9),o.YNc(16,nt,3,3,"option",10),o.qZA()()(),o.TgZ(17,"ul",11),o.ALo(18,"translate"),o.TgZ(19,"li",12)(20,"button",13),o._uU(21),o.ALo(22,"translate"),o.qZA()(),o.TgZ(23,"li",12),o.YNc(24,Le,3,5,"button",14),o.qZA(),o.TgZ(25,"li",12),o.YNc(26,Bt,3,5,"button",15),o.qZA(),o.TgZ(27,"li",12),o.YNc(28,on,3,5,"button",16),o.qZA(),o.TgZ(29,"li",12),o.YNc(30,Un,3,5,"button",17),o.qZA()(),o.BQk(),o.qZA(),o.TgZ(31,"div",18),o._UZ(32,"router-outlet"),o.qZA()),2&j&&(o.Q6J("title",Se.dynamicAuth.displayName)("crumbs",o.VKq(33,ls,o.WLB(30,wi,o.lcZ(1,18,"Nav.DynamicAuth"),o.lcZ(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",Se.dynamicAuth.nonEditable),o.xp6(6),o.Oqu(o.lcZ(7,22,"Nav.SubMenu")),o.xp6(5),o.Oqu(o.lcZ(12,24,"Nav.Details")),o.xp6(2),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.OIDC),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.OIDC),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.SAML),o.xp6(1),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.SAML),o.xp6(1),o.uIk("aria-label",o.lcZ(18,26,"Nav.SubMenu")),o.xp6(3),o.Q6J("routerLinkActive",o.DdM(35,le)),o.xp6(1),o.Oqu(o.lcZ(22,28,"Nav.Details")),o.xp6(3),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.OIDC),o.xp6(2),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.OIDC),o.xp6(2),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.SAML),o.xp6(2),o.Q6J("ngIf",Se.dynamicAuth.type==Se.dynamicAuthTypes.SAML))},dependencies:[m.lC,m.rH,m.Od,t.O5,e.YN,e.Kr,wn.G,b.X$,w.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),me})();var xr=f(1206),So=f(9512),gs=f(8677),xo=f(8024),$s=f(8308),so=f(5046);const Fs=[{path:"dynamic-auth",component:wr,canActivate:[gs.B,so.h,So.n,$s.u],data:{permissions:[xr.y[xr.y.IdentityServerManager],xr.y[xr.y.IdentityServerManagerReadOnly],xr.y[xr.y.AllReadOnly],xr.y[xr.y.All]]}},{path:"dynamic-auth/:Scheme",component:gr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:oi},{path:"scopes",component:At},{path:"advanced",component:Ss},{path:"sp",component:ze,children:[{path:"details",component:bn},{path:"request",component:ji},{path:"response",component:Pe}]},{path:"idp",component:Bn,children:[{path:"details",component:ge},{path:"advanced",component:qi}]}],resolve:{dynamicAuth:ct.w},canDeactivate:[xo.I],canActivate:[gs.B,so.h,So.n,$s.u],data:{permissions:[xr.y[xr.y.IdentityServerManager],xr.y[xr.y.All]]}},{path:"dynamic-auth/view/:Scheme",component:qr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Ko},{path:"scopes",component:pi},{path:"advanced",component:jo},{path:"sp",component:Lt,children:[{path:"details",component:No},{path:"request",component:W},{path:"response",component:Ue}]},{path:"idp",component:to,children:[{path:"details",component:ro},{path:"advanced",component:Br}]}],resolve:{dynamicAuth:ct.w},canActivate:[gs.B,so.h,So.n,$s.u],data:{permissions:[xr.y[xr.y.IdentityServerManager],xr.y[xr.y.IdentityServerManagerReadOnly],xr.y[xr.y.AllReadOnly],xr.y[xr.y.All]]}}];let Ro=(()=>{class me{}return me.\u0275fac=function(j){return new(j||me)},me.\u0275mod=o.oAB({type:me}),me.\u0275inj=o.cJS({imports:[m.Bz.forChild(Fs),w.fQ.forChild(Fs),m.Bz]}),me})(),da=(()=>{class me{}return me.\u0275fac=function(j){return new(j||me)},me.\u0275mod=o.oAB({type:me}),me.\u0275inj=o.cJS({providers:[ct.w,U.U,F.K,N.N,a.S,L.L,J.i,O.T,P.S,dt.x,at.C,rt.E,be,je],imports:[Ro,t.ez,m.Bz,e.u5,k.D,e.UX,g.P4,z.M,p.z8,C.zk,ve.W,$.j,b.aw,H._,w.fQ,q.l,ce.T,_.F,Ge.y,V.p,xe.s,ie.K,E.t,Q.I,_e.d,Ke.W,X.T,Te.l,R.P,we.U,A.H3,Ye.V,Ct.G]}),me})()},2831:(st,ye,f)=>{"use strict";f.d(ye,{A3:()=>w,ZP:()=>b,Zn:()=>e,ky:()=>m});var t=f(6205);function e(g){return{...g,type:t.hH[g.type]}}function m(g){return{...g,type:t.hH[g.type]}}function w(g){return JSON.parse(g)}function b(g){return JSON.parse(g)}},6205:(st,ye,f)=>{"use strict";f.d(ye,{hH:()=>e});var C,t=f(1330),e=(()=>{return(C=e||(e={}))[C.OIDC=0]="OIDC",C[C.SAML=1]="SAML",e;var C})();(C=e||(e={})).fromWizardType=function g(p){switch(p){case t.Q.AddOidcDynamicAuth:return C.OIDC;case t.Q.AddSamlDynamicAuth:return C.SAML}}},1842:(st,ye,f)=>{"use strict";f.d(ye,{w:()=>_});var t=f(4004),e=f(262),m=f(515),w=f(4879),b=f(2831),C=f(4650),g=f(618),p=f(3831),A=f(4889);let _=(()=>{class R{constructor(a,k,P){this.dynamicAuthService=a,this.changeCachingService=k,this.errorService=P}resolve(a,k){return this.dynamicAuthService.getDynamicAuth(a.params.Scheme).pipe((0,t.U)(U=>{let J;return U&&(J=(0,b.Zn)(U),this.changeCachingService.unsavedCache.next(J)),J}),(0,e.K)((U,J)=>(404===U.status?this.errorService.resourceNotFound(w._.dynamicAuth):this.errorService.handleError(U),(0,m.c)())))}}return R.\u0275fac=function(a){return new(a||R)(C.LFG(g.x),C.LFG(p.C),C.LFG(A.T))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})()},618:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>b});var t=f(529),e=f(8176),m=f(4650),w=f(8564);let b=(()=>{class C{constructor(p,A){this.http=p,this.headersService=A,this.actionUrl="DynamicAuthentication",this.headers=A.setHeaders()}get(p,A,_,R){let N=new t.LE;return(0,e.Ew)(p)||(N=N.append("scheme",p)),A&&(N=N.append("page",A)),_&&(N=N.append("pageSize",_)),(0,e.Ew)(R)||(N=N.append("filters",R)),this.http.get(this.actionUrl,{headers:this.headers,params:N})}createDynamicAuth(p){return this.http.post(this.actionUrl,p,{headers:this.headers})}getDynamicAuth(p){return this.http.get(`${this.actionUrl}/${p}`,{headers:this.headers})}updateDynamicAuth(p){return this.http.put(`${this.actionUrl}/${p.scheme}`,p,{headers:this.headers})}deleteDynamicAuth(p){return this.http.delete(`${this.actionUrl}/${p}`,{headers:this.headers})}replaceSigningCert(p,A,_){return this.http.put(`${this.actionUrl}/${p}/saml/sp/signing-certificate`,{certBase64:A,certPassword:_},{headers:this.headers})}removeSigningCert(p){return this.http.delete(`${this.actionUrl}/${p}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(p,A,_){return this.http.put(`${this.actionUrl}/${p}/saml/sp/encryption-certificate`,{certBase64:A,certPassword:_},{headers:this.headers})}removeEncryptionCert(p){return this.http.delete(`${this.actionUrl}/${p}/saml/sp/encryption-certificate`,{headers:this.headers})}}return C.\u0275fac=function(p){return new(p||C)(m.LFG(t.eN),m.LFG(w.s))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac}),C})()},6876:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>Ve});var t=f(4006),e=f(8185),m=f(1837),w=f(529),b=f(8176),C=f(4650),g=f(8564);let p=(()=>{class Be{constructor(De,be){this.http=De,this.headersService=be,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(De,be,je,et,Qe,We,bt){let pt=new w.LE;return null!=De&&(pt=pt.append("query",De)),(0,b.Ew)(et)||(pt=pt.append("sort",et)),be&&(pt=pt.append("created",be)),je&&(pt=pt.append("expires",je)),Qe&&(pt=pt.append("page",String(Qe))),We&&(pt=pt.append("pageSize",String(We))),bt&&(pt=pt.append("filterExpired",String(bt))),pt}getSessions(De,be,je,et,Qe,We,bt){const pt=this.buildParams(De,be,je,et,Qe,We,bt);return this.http.get(this.actionUrl,{headers:this.headers,params:pt})}deleteSession(De){return this.http.delete(`${this.actionUrl}/${De}`,{headers:this.headers})}}return Be.\u0275fac=function(De){return new(De||Be)(C.LFG(w.eN),C.LFG(g.s))},Be.\u0275prov=C.Yz7({token:Be,factory:Be.\u0275fac}),Be})();var A=f(6895),_=f(9383),R=f(5785),N=f(5503),a=f(7579),k=f(727),P=f(5971),U=f(590),J=f(8675),O=f(5577),L=f(5898),F=f(4380),V=f(2808),q=f(572),ie=f(8975),H=f(5259),$=f(1923),z=f(4837);class E{constructor(o,De,be,je,et,Qe){this.query=o,this.page=De,this.pageSize=be,this.sortCriteria=je,this.fromDate=et,this.toDate=Qe}}class X{constructor(o){this.query=o.query,this.page=o.page,this.pageSize=o.pageSize,this.sortCriteria=o.sortCriteria,this.fromDate=o.fromDate?.toString(),this.toDate=o.toDate?.toString()}}var Q=(()=>{return(Be=Q||(Q={})).ByUser="user",Be.ByUserDescending="-user",Be.ByScheme="scheme",Be.BySchemeDescending="-scheme",Be.ByCreated="created",Be.ByCreatedDescending="-created",Be.ByExpires="expires",Be.ByExpiresDescending="-expires",Be.ByRenewed="renewed",Be.ByRenewedDescending="-renewed",Q;var Be})(),ce=f(4456),_e=f(2979),Te=f(8285),ve=f(6219),Ke=f(1060),xe=f(4889),Ge=f(4100),we=f(7696),Ye=f(5925),rt=f(4225),Ct=f(965);function at(Be,o){1&Be&&(C.TgZ(0,"span",33),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Be&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"Auditing.FromDateWarning")," "))}function dt(Be,o){1&Be&&(C.TgZ(0,"span",34),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Be&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"Auditing.ToDateBehindWarning")," "))}function ct(Be,o){1&Be&&(C.TgZ(0,"div",31)(1,"div",35)(2,"div",36)(3,"div",37),C._UZ(4,"input",38,39),C.ALo(6,"translate"),C.ALo(7,"translate"),C.qZA()()()()),2&Be&&(C.xp6(4),C.uIk("placeholder",C.lcZ(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",C.lcZ(7,4,"Auditing.AddFilterTerm")))}function Gt(Be,o){1&Be&&(C.TgZ(0,"p",40),C._UZ(1,"span",41),C._uU(2),C.ALo(3,"translate"),C.qZA()),2&Be&&(C.xp6(2),C.hij(" ",C.lcZ(3,1,"Auditing.UpdateWarning")," "))}function ln(Be,o){1&Be&&C._UZ(0,"app-simple-loader")}function Mt(Be,o){1&Be&&(C.TgZ(0,"div",42)(1,"div"),C._uU(2),C.ALo(3,"translate"),C.qZA()()),2&Be&&(C.xp6(2),C.Oqu(C.lcZ(3,1,"SessionManagement.NoSessionsFound")))}function It(Be,o){if(1&Be&&C._UZ(0,"app-data-table-column",48),2&Be){const De=C.oxw(2);C.Q6J("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",De.sortingEnum.None)}}function Y(Be,o){if(1&Be&&(C.TgZ(0,"app-data-table",43),C.YNc(1,It,1,5,"app-data-table-column",44),C._UZ(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),C.qZA()),2&Be){const De=C.oxw();C.Q6J("rows",De.pagedResult.results)("actions",De.dataTableActions),C.xp6(1),C.Q6J("ngIf",!De.resourceOnly()),C.xp6(1),C.Q6J("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),C.xp6(1),C.Q6J("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",De.dateColumn(De.DatePipeNames.prettyDateTime)),C.xp6(1),C.Q6J("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",De.dateColumn(De.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",De.sortingEnum.Descending),C.xp6(1),C.Q6J("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",De.dateColumn(De.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function G(Be,o){if(1&Be){const De=C.EpF();C.TgZ(0,"app-pager",49),C.NdJ("onGoToPage",function(je){C.CHM(De);const et=C.oxw();return C.KtG(et.goToPage(je))}),C.qZA()}if(2&Be){const De=C.oxw();C.Q6J("totalResults",null==De.pagedResult?null:De.pagedResult.totalCount)("currentPage",De.filterForm.get("page").value)("lastPage",null==De.pagedResult?null:De.pagedResult.pageCount)}}const oe=function(Be){return[Be]};let Ve=(()=>{class Be{constructor(De,be,je,et,Qe,We,bt,pt,He,ae){this.sessionManagementService=De,this.localizeRouter=be,this.router=je,this.fb=et,this.activatedRoute=Qe,this.dataTableService=We,this.modalService=bt,this.securityService=pt,this.errorService=He,this.systemClock=ae,this.isLoading=!1,this.sortingEnum=z.JN,this.filterHasChanged=!1,this.sessionStream=new a.x,this.dateColumn=(te,B)=>new V.X(te,B),this.DatePipeNames=ce.T,this.dataTableActions=[q.Xz.Delete],this.deleteModalId="SessionManagement",this.modelActions=H.n,this.deleteModalType=$.w.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new k.w0}resourceOnly(){return!(0,b.Ew)(this.resourceName)}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,b.ub)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[q.Xz.Delete],this.activatedRoute.parent.url.pipe((0,U.P)()).subscribe({next:De=>{this.resourceName=De[1]?.path??"",this.initDataSource()},error:De=>this.errorService.handleError(De)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(De=>{this.sortResults(De)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(De=>{this.openDeleteModal(this.pagedResult.results[De])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,J.O)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,O.z)(be=>(this.isLoading=!0,this.sessionManagementService.getSessions(be.query||"",be.fromDate?.toString(),be.toDate?.toString(),be.sortCriteria||"-when",be.page,be.pageSize,this.resourceOnly())))).subscribe(be=>{this.isLoading=!1,this.pagedResult={totalCount:be.totalCount,pageSize:be.pageSize,currentPage:be.currentPage,pageCount:be.pageCount,results:be.results.map(je=>new z.op(je,this.translatedRoute))}})}applyForm(De){De&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const be=this.filterForm.value;this.filterForm.patchValue({fromDate:be.fromDate,toDate:be.toDate}),this.sessionStream.next(be),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new X(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(De){this.filterForm.patchValue({page:De}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:Q.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(De){this.sessionToDelete=De,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:De=>{this.errorService.handleError(De)}})}sortResults(De){const be=this.activatedRoute.snapshot.queryParams,je=(0,b.Ew)(be?.fromDate)?this.systemClock.now().minus({month:1}):m.ou.fromISO(be.fromDate),et=(0,b.Ew)(be?.toDate)?this.systemClock.now().plus({month:1}):m.ou.fromISO(be.toDate),Qe=new E(be.query,be.page,be.pageSize,this.getSortFromColumnName(De.prop,be.sortCriteria),je,et),We=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:Qe.sortCriteria}),this.sessionStream.next(Qe),this.filterHasChanged=We,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new X(Qe)}),this.dataTableService.sortCompletedEvent.next(De.prop)}getSortFromColumnName(De,be){switch(De){case"user":return be===Q.ByUserDescending?Q.ByUser:Q.ByUserDescending;case"expires":return be===Q.ByExpiresDescending?Q.ByExpires:Q.ByExpiresDescending;default:return Q.ByExpiresDescending}}setupFilterForm(De){const be=(0,b.Ew)(De?.fromDate)?this.systemClock.now().minus({month:1}):m.ou.fromISO(De.fromDate),je=(0,b.Ew)(De?.toDate)?this.systemClock.now().plus({month:1}):m.ou.fromISO(De.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[be,[b.eC]],toDate:[je],query:[this.resourceName||""],page:[De?.page||1],pageSize:[De?.pageSize>1e3?1e3:De?.pageSize||25],sortCriteria:[De?.sortCriteria||Q.ByExpiresDescending]},{validators:b.sY}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}}return Be.\u0275fac=function(De){return new(De||Be)(C.Y36(p),C.Y36(_e.An),C.Y36(e.F0),C.Y36(t.qu),C.Y36(e.gz),C.Y36(Te.n),C.Y36(ve.Z),C.Y36(Ke.I),C.Y36(xe.T),C.Y36(Ge.N))},Be.\u0275cmp=C.Xpm({type:Be,selectors:[["app-sessionmanagement"]],standalone:!0,features:[C._Bn([p]),C.jDz],decls:56,vars:42,consts:[["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/4"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],["pageLength",""],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["sortCriteria",""],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"title","modalId","actions","modalType","onCancel","onDelete"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],["filterValue",""],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(De,be){if(1&De&&(C.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),C._uU(7),C.ALo(8,"translate"),C.qZA(),C.TgZ(9,"div"),C._UZ(10,"app-date-time",7),C.YNc(11,at,3,3,"span",8),C.qZA()()(),C.TgZ(12,"div",4)(13,"div",5)(14,"label",9),C._uU(15),C.ALo(16,"translate"),C.qZA(),C.TgZ(17,"div"),C._UZ(18,"app-date-time",10),C.YNc(19,dt,3,3,"span",11),C.qZA()()(),C.TgZ(20,"div",12)(21,"div",5)(22,"label",13),C._uU(23),C.ALo(24,"translate"),C.qZA(),C.TgZ(25,"div",14)(26,"select",15,16)(28,"option",17),C._uU(29,"25 "),C.qZA(),C.TgZ(30,"option",17),C._uU(31,"50"),C.qZA(),C.TgZ(32,"option",17),C._uU(33,"100"),C.qZA()()()()()(),C.YNc(34,ct,8,6,"div",18),C.TgZ(35,"div",19),C._UZ(36,"input",20,21),C.TgZ(38,"button",22),C.NdJ("click",function(){return be.applyForm(!0)}),C._uU(39),C.ALo(40,"translate"),C.qZA(),C.TgZ(41,"button",23),C.NdJ("click",function(){return be.resetForm()}),C._uU(42),C.ALo(43,"translate"),C.qZA(),C.YNc(44,Gt,4,3,"p",24),C.qZA()()(),C.YNc(45,ln,1,0,"app-simple-loader",25),C.YNc(46,Mt,4,3,"div",26),C.YNc(47,Y,6,19,"app-data-table",27),C.YNc(48,G,1,3,"app-pager",28),C.qZA(),C.TgZ(49,"app-custom-modal",29),C.NdJ("onCancel",function(){return be.closeDeleteModal()})("onDelete",function(){return be.removeSession()}),C.TgZ(50,"div",30)(51,"p",31),C._uU(52),C.ALo(53,"translate"),C.qZA(),C._UZ(54,"p",32),C.ALo(55,"translate"),C.qZA()()),2&De){let je;C.xp6(1),C.Q6J("formGroup",be.filterForm),C.xp6(6),C.Oqu(C.lcZ(8,26,"SessionManagement.Created")),C.xp6(3),C.Q6J("displayType","date"),C.xp6(1),C.Q6J("ngIf",be.filterForm.get("fromDate").hasError("dateInFuture")),C.xp6(4),C.Oqu(C.lcZ(16,28,"SessionManagement.Expires")),C.xp6(3),C.Q6J("displayType","date"),C.xp6(1),C.Q6J("ngIf",be.filterForm.hasError("fromDateIsAfterToDate")),C.xp6(4),C.Oqu(C.lcZ(24,30,"Auditing.ResultsPerPage")),C.xp6(5),C.Q6J("value",25),C.xp6(2),C.Q6J("value",50),C.xp6(2),C.Q6J("value",100),C.xp6(2),C.Q6J("ngIf",!be.resourceOnly()),C.xp6(4),C.Q6J("disabled",(null==be.filterForm?null:be.filterForm.errors)||(null==(je=be.filterForm.get("fromDate"))?null:je.hasError("dateInFuture"))),C.xp6(1),C.hij(" ",C.lcZ(40,32,"Auditing.ExecuteAndDisplay")," "),C.xp6(3),C.hij(" ",C.lcZ(43,34,"Auditing.Reset")," "),C.xp6(2),C.Q6J("ngIf",be.filterHasChanged),C.xp6(1),C.Q6J("ngIf",be.isLoading),C.xp6(1),C.Q6J("ngIf",(null==be.pagedResult?null:be.pagedResult.results.length)<1&&!be.isLoading),C.xp6(1),C.Q6J("ngIf",(null==be.pagedResult?null:be.pagedResult.results.length)>0),C.xp6(1),C.Q6J("ngIf",(null==be.pagedResult?null:be.pagedResult.results.length)>0&&!be.isLoading),C.xp6(1),C.Q6J("title","Settings.Keys.DeleteKey")("modalId",be.deleteModalId)("actions",C.VKq(40,oe,be.modelActions.Delete))("modalType",be.deleteModalType),C.xp6(3),C.Oqu(C.lcZ(53,36,"Common.Delete.AreYouSureSimple")),C.xp6(2),C.Q6J("innerHTML",C.lcZ(55,38,"Common.Delete.Warning"),C.oJD)}},dependencies:[A.ez,A.O5,_.aw,_.X$,e.Bz,R.U,we.P,N.D,P.s,Ye.w,t.UX,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,t.sg,t.u,L.T,rt.j,F.t,q.Qj,V.E,ie.d,Ct.R],encapsulation:2}),Be})()},4837:(st,ye,f)=>{"use strict";f.d(ye,{JN:()=>t,op:()=>e});var t=(()=>{return(w=t||(t={}))[w.None=0]="None",w[w.Ascending=1]="Ascending",w[w.Descending=2]="Descending",t;var w})();class e{constructor(b,C){this.sort=t.None,this.sessionId=b.sessionId,this.scheme=b.scheme,this.created=b.created,this.expires=b.expires,this.renewed=b.renewed,this.user=b.user.name??b.user.identifier,this.link={identifier:b.user.identifier,routeForLink:C}}get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}}},8229:(st,ye,f)=>{"use strict";f.d(ye,{k:()=>g});var t=f(590),e=f(4004),m=f(4650),w=f(7047),b=f(8185),C=f(2979);let g=(()=>{class p{constructor(_,R,N){this.licenseService=_,this.router=R,this.localizeRouter=N}canActivate(_,R){return this.licenseService.getLicenseInfo().pipe((0,t.P)(),(0,e.U)(N=>{if(N.isStarterLicense())return!0;{const a=this.localizeRouter.translateRoute("/home");this.router.navigate([a])}}))}}return p.\u0275fac=function(_){return new(_||p)(m.LFG(w.E),m.LFG(b.F0),m.LFG(C.An))},p.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac}),p})()},5046:(st,ye,f)=>{"use strict";f.d(ye,{h:()=>g});var t=f(590),e=f(4004),m=f(4650),w=f(7047),b=f(8185),C=f(2979);let g=(()=>{class p{constructor(_,R,N){this.licenseService=_,this.router=R,this.localizeRouter=N}canActivate(_,R){return this.licenseService.getLicenseInfo().pipe((0,t.P)(),(0,e.U)(N=>{if(!N.isExpectingStarterConsent())return!0;{const a=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([a])}}))}}return p.\u0275fac=function(_){return new(_||p)(m.LFG(w.E),m.LFG(b.F0),m.LFG(C.An))},p.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac}),p})()},8308:(st,ye,f)=>{"use strict";f.d(ye,{u:()=>p});var t=f(590),e=f(4004),m=f(6887),w=f(4650),b=f(7047),C=f(8185),g=f(2979);let p=(()=>{class A{constructor(R,N,a){this.licenseService=R,this.router=N,this.localizeRouter=a,this.featureMap=new Map([["dynamic-auth",m.w.DynamicAuthentication],["auditing",m.w.Auditing],["clientaudits",m.w.Auditing],["useraudits",m.w.Auditing]])}canActivate(R,N){return this.licenseService.getLicenseInfo().pipe((0,t.P)(),(0,e.U)(a=>{if(!a.isStarterLicense())return!0;{const k=this.localizeRouter.translateRoute("/starter-mode/teaser");let P=m.w.None,U=N.url;for(let J of this.featureMap.entries())if(U.includes(J[0])){P=J[1];break}this.router.navigate([k],{queryParams:{feature:P}})}}))}}return A.\u0275fac=function(R){return new(R||A)(w.LFG(b.E),w.LFG(C.F0),w.LFG(g.An))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})()},5232:(st,ye,f)=>{"use strict";f.r(ye),f.d(ye,{StarterModeModule:()=>Te});var t=f(8185),e=f(2979),m=f(6887),w=f(4650),b=f(9383),C=f(2294),g=f(1216);let p=(()=>{class ve{constructor(xe,Ge,we){this.route=xe,this.translate=Ge,this.router=we,this.featureMap=new Map([[m.w.DynamicAuthentication,this.translate.instant("DynamicAuth.Title")],[m.w.Auditing,this.translate.instant("Auditing.Title")],[m.w.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[m.w.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(xe=>{this.generateDescription()})}generateDescription(){const xe=+this.route.snapshot.queryParamMap.get("feature");if(xe in m.w&&xe!=m.w.None){const we=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(xe),this.preFeatureDescription=we[0],this.postFeatureDescription=we[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}}return ve.\u0275fac=function(xe){return new(xe||ve)(w.Y36(t.gz),w.Y36(b.sK),w.Y36(t.F0))},ve.\u0275cmp=w.Xpm({type:ve,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(xe,Ge){1&xe&&(w._UZ(0,"app-title-bar",0),w.ALo(1,"translate"),w.TgZ(2,"div",1)(3,"div",2)(4,"p",3),w._uU(5),w.TgZ(6,"strong"),w._uU(7),w.qZA(),w._uU(8),w.qZA(),w.TgZ(9,"ul",4)(10,"li"),w._uU(11),w.ALo(12,"translate"),w.qZA(),w.TgZ(13,"li"),w._uU(14),w.ALo(15,"translate"),w.qZA(),w.TgZ(16,"li"),w._uU(17),w.ALo(18,"translate"),w.qZA(),w.TgZ(19,"li"),w._uU(20),w.ALo(21,"translate"),w.qZA(),w.TgZ(22,"li"),w._uU(23),w.ALo(24,"translate"),w.qZA(),w.TgZ(25,"li"),w._uU(26),w.ALo(27,"translate"),w.qZA(),w.TgZ(28,"li"),w._uU(29),w.ALo(30,"translate"),w.qZA()()()(),w.TgZ(31,"app-button-bar")(32,"a",5)(33,"span"),w._uU(34),w.ALo(35,"translate"),w.qZA()(),w.TgZ(36,"a",6)(37,"span"),w._uU(38),w.ALo(39,"translate"),w.qZA()()()),2&xe&&(w.Q6J("title",w.lcZ(1,13,"StarterMode.Teaser.Title")),w.xp6(5),w.hij("",Ge.preFeatureDescription," "),w.xp6(2),w.Oqu(Ge.featureDescription),w.xp6(1),w.hij(" ",Ge.postFeatureDescription,""),w.xp6(3),w.Oqu(w.lcZ(12,15,"StarterMode.Teaser.Features.Authentication")),w.xp6(3),w.Oqu(w.lcZ(15,17,"StarterMode.Teaser.Features.UsersAndClients")),w.xp6(3),w.Oqu(w.lcZ(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),w.xp6(3),w.Oqu(w.lcZ(21,21,"StarterMode.Teaser.Features.Audits")),w.xp6(3),w.Oqu(w.lcZ(24,23,"StarterMode.Teaser.Features.Access")),w.xp6(3),w.Oqu(w.lcZ(27,25,"StarterMode.Teaser.Features.Import")),w.xp6(3),w.Oqu(w.lcZ(30,27,"StarterMode.Teaser.Features.DynamicAuth")),w.xp6(5),w.Oqu(w.lcZ(35,29,"StarterMode.UpgradeAdminUI")),w.xp6(4),w.Oqu(w.lcZ(39,31,"StarterMode.ExtendDemo")))},dependencies:[C.G,g.N,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),ve})();var A=f(590),_=f(1206),R=f(6548),N=f(529),a=f(8564);let k=(()=>{class ve{constructor(xe,Ge){this.http=xe,this.headersService=Ge,this.headers=new N.WM,this.actionUrl="StarterMode",this.headers=Ge.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}}return ve.\u0275fac=function(xe){return new(xe||ve)(w.LFG(N.eN),w.LFG(a.s))},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})();var P=f(7185),U=f(1228),J=f(6895),O=f(388);function L(ve,Ke){1&ve&&(w.TgZ(0,"div",25)(1,"p",26)(2,"span"),w._uU(3),w.ALo(4,"translate"),w.qZA()()()),2&ve&&(w.xp6(3),w.Oqu(w.lcZ(4,1,"StarterMode.Consent.NonAdminUser")))}const F=function(){return{animated:!1,backdrop:"static"}};let V=(()=>{class ve{constructor(xe,Ge,we,Ye,rt){this.translate=xe,this.permissionService=Ge,this.starterModeConsentService=we,this.toastr=Ye,this.authService=rt}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,A.P)()).subscribe(xe=>{xe.permissions.includes(_.y.All)&&(this.isAdmin=!0)})}giveConsentToStarterMode(){!this.isAdmin||this.starterModeConsentService.storeConsent().pipe((0,A.P)()).subscribe({next:()=>{this.authService.logoff()},error:xe=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}}return ve.\u0275fac=function(xe){return new(xe||ve)(w.Y36(b.sK),w.Y36(R.$),w.Y36(k),w.Y36(P._W),w.Y36(U.e))},ve.\u0275cmp=w.Xpm({type:ve,selectors:[["ng-component"]],decls:71,vars:58,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal","data-target","#updateClientSecretModal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],["bsModal","","id","updateClientSecretModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","reconfirmStarter","data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(xe,Ge){1&xe&&(w._UZ(0,"app-title-bar",0),w.ALo(1,"translate"),w.TgZ(2,"div",1),w.YNc(3,L,5,3,"div",2),w.TgZ(4,"div",3)(5,"p"),w._uU(6),w.ALo(7,"translate"),w.qZA(),w.TgZ(8,"ul",4)(9,"li"),w._uU(10),w.ALo(11,"translate"),w.qZA(),w.TgZ(12,"li"),w._uU(13),w.ALo(14,"translate"),w.qZA(),w.TgZ(15,"li"),w._uU(16),w.ALo(17,"translate"),w.qZA(),w.TgZ(18,"li"),w._uU(19),w.ALo(20,"translate"),w.qZA(),w.TgZ(21,"li"),w._uU(22),w.ALo(23,"translate"),w.qZA(),w.TgZ(24,"li"),w._uU(25),w.ALo(26,"translate"),w.qZA(),w.TgZ(27,"li"),w._uU(28),w.ALo(29,"translate"),w.qZA()()()(),w.TgZ(30,"app-button-bar")(31,"a",5)(32,"span"),w._uU(33),w.ALo(34,"translate"),w.qZA()(),w.TgZ(35,"button",6)(36,"span"),w._uU(37),w.ALo(38,"translate"),w.qZA()(),w.TgZ(39,"a",7)(40,"span"),w._uU(41),w.ALo(42,"translate"),w.qZA()()(),w.TgZ(43,"div",8)(44,"div",9)(45,"div",10)(46,"div",11)(47,"h5",12),w._uU(48),w.ALo(49,"translate"),w.qZA(),w.TgZ(50,"button",13),w._UZ(51,"span",14),w.TgZ(52,"span",15),w._uU(53),w.ALo(54,"translate"),w.qZA()()(),w.TgZ(55,"div",16)(56,"p",17),w._uU(57),w.ALo(58,"translate"),w.qZA(),w._UZ(59,"p",18),w.ALo(60,"translate"),w.qZA(),w._UZ(61,"div",19),w.TgZ(62,"div",20)(63,"div",21)(64,"div",22)(65,"button",23),w.NdJ("click",function(){return Ge.giveConsentToStarterMode()}),w._uU(66),w.ALo(67,"translate"),w.qZA()(),w.TgZ(68,"button",24),w._uU(69),w.ALo(70,"translate"),w.qZA()()()()()()),2&xe&&(w.Q6J("title",w.lcZ(1,21,"StarterMode.Consent.Title")),w.xp6(3),w.Q6J("ngIf",!Ge.isAdmin),w.xp6(3),w.Oqu(w.lcZ(7,23,"StarterMode.Consent.Description")),w.xp6(4),w.Oqu(w.lcZ(11,25,"StarterMode.Consent.Features.Authentication")),w.xp6(3),w.Oqu(w.lcZ(14,27,"StarterMode.Consent.Features.Users")),w.xp6(3),w.Oqu(w.lcZ(17,29,"StarterMode.Consent.Features.Clients")),w.xp6(3),w.Oqu(w.lcZ(20,31,"StarterMode.Consent.Features.ClientFlows")),w.xp6(3),w.Oqu(w.lcZ(23,33,"StarterMode.Consent.Features.Import")),w.xp6(3),w.Oqu(w.lcZ(26,35,"StarterMode.Consent.Features.Audits")),w.xp6(3),w.Oqu(w.lcZ(29,37,"StarterMode.Consent.Features.DynamicAuth")),w.xp6(5),w.Oqu(w.lcZ(34,39,"StarterMode.UpgradeAdminUI")),w.xp6(2),w.Q6J("disabled",!Ge.isAdmin),w.xp6(2),w.Oqu(w.lcZ(38,41,"StarterMode.ConfirmStarterMode")),w.xp6(4),w.Oqu(w.lcZ(42,43,"StarterMode.ExtendDemo")),w.xp6(2),w.Q6J("config",w.DdM(57,F)),w.xp6(5),w.Oqu(w.lcZ(49,45,"StarterMode.ConfirmationModal.Title")),w.xp6(5),w.Oqu(w.lcZ(54,47,"Common.Close")),w.xp6(4),w.Oqu(w.lcZ(58,49,"StarterMode.ConfirmationModal.Description")),w.xp6(2),w.Q6J("innerHTML",w.lcZ(60,51,"StarterMode.ConfirmationModal.Warning"),w.oJD),w.xp6(7),w.hij(" ",w.lcZ(67,53,"Common.Confirm")," "),w.xp6(3),w.Oqu(w.lcZ(70,55,"Common.Cancel")))},dependencies:[J.O5,C.G,O.oB,g.N,b.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),ve})();var q=f(8229),ie=f(8677),H=f(4004),$=f(7047);let z=(()=>{class ve{constructor(xe,Ge,we){this.licenseService=xe,this.router=Ge,this.localizeRouter=we}canActivate(xe,Ge){return this.licenseService.getLicenseInfo().pipe((0,A.P)(),(0,H.U)(we=>{if(we.isExpectingStarterConsent())return!0;{const Ye=this.localizeRouter.translateRoute("/home");this.router.navigate([Ye])}}))}}return ve.\u0275fac=function(xe){return new(xe||ve)(w.LFG($.E),w.LFG(t.F0),w.LFG(e.An))},ve.\u0275prov=w.Yz7({token:ve,factory:ve.\u0275fac}),ve})();var E=f(5046);const X=[{path:"starter-mode/teaser",component:p,canActivate:[ie.B,E.h,q.k]},{path:"starter-mode/consent",component:V,canActivate:[ie.B,z]}];let Q=(()=>{class ve{}return ve.\u0275fac=function(xe){return new(xe||ve)},ve.\u0275mod=w.oAB({type:ve}),ve.\u0275inj=w.cJS({providers:[q.k],imports:[t.Bz.forChild(X),e.fQ.forChild(X),t.Bz]}),ve})();var ce=f(5084),_e=f(6980);let Te=(()=>{class ve{}return ve.\u0275fac=function(xe){return new(xe||ve)},ve.\u0275mod=w.oAB({type:ve}),ve.\u0275inj=w.cJS({providers:[k,z],imports:[t.Bz,Q,b.aw,ce.y,O.zk,_e.K]}),ve})()},7235:(st,ye,f)=>{"use strict";f.d(ye,{$:()=>e});var t=f(2951);class e{constructor(w){Object.keys(w).forEach(C=>{let g=w[C];"boolean"==typeof w[C]&&(g=g?"Yes":"No"),w[C]instanceof Date&&(g=g?"Yes":"No"),w[C]instanceof Array&&(g=w[C].join(", ").trimEnd()),this[C]=new t.I(g)})}}},9748:(st,ye,f)=>{"use strict";f.d(ye,{S:()=>e});var e,t=f(2329);!function(m){const w=new Map([[t.f.Minute,60],[t.f.Minutes,60],[t.f.Hour,3600],[t.f.Hours,3600],[t.f.Day,86400],[t.f.Days,86400],[t.f.Week,604800],[t.f.Weeks,604800],[t.f.Month,2629743],[t.f.Months,2629743],[t.f.Year,31556926],[t.f.Years,31556926],[t.f.Unlimited,null]]);m.getUnitMap=function b(){return w}}(e||(e={}))},9655:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>t});var t=(()=>{return(e=t||(t={}))[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",t;var e})()},2951:(st,ye,f)=>{"use strict";f.d(ye,{I:()=>t});class t{constructor(m,w){this.MainText=m,this.HelpText=w??null}}},9848:(st,ye,f)=>{"use strict";f.d(ye,{B:()=>t});var t=(()=>{return(e=t||(t={})).Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",t;var e})()},2329:(st,ye,f)=>{"use strict";f.d(ye,{f:()=>t});var t=(()=>{return(e=t||(t={})).Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",t;var e})()},6887:(st,ye,f)=>{"use strict";f.d(ye,{w:()=>t});var t=(()=>{return(e=t||(t={}))[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",t;var e})()},1330:(st,ye,f)=>{"use strict";f.d(ye,{Q:()=>t});var t=(()=>{return(e=t||(t={})).Home="Home",e.SinglePageApplication="SinglePageApplication",e.WebApplication="WebApplication",e.NativeApplication="NativeApplication",e.RobotApplication="RobotApplication",e.CIBARobotApplication="CIBARobotApplication",e.DeviceApplication="DeviceApplication",e.SamlApplication="SamlApplication",e.WsFedApplication="WsFedApplication",e.LegacySinglePageApplication="LegacySinglePageApplication",e.PKCEWebApplication="PKCEWebApplication",e.PKCENativeApplication="PKCENativeApplication",e.ImportWizard="ImportWizard",e.AddDynamicAuth="AddDynamicAuth",e.AddOidcDynamicAuth="AddOidcDynamicAuth",e.AddSamlDynamicAuth="AddSamlDynamicAuth",t;var e})()},160:(st,ye,f)=>{"use strict";f.d(ye,{s:()=>t});var t=(()=>{return(e=t||(t={}))[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",t;var e})()},765:(st,ye,f)=>{"use strict";f.d(ye,{o:()=>t});var t=(()=>{return(e=t||(t={}))[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",t;var e})()},4879:(st,ye,f)=>{"use strict";f.d(ye,{_:()=>t});var t=(()=>{return(e=t||(t={}))[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",t;var e})()},8895:(st,ye,f)=>{"use strict";f.d(ye,{q:()=>t});let t=(()=>{class e{}return e.Implicit="implicit",e.Hybrid="hybrid",e.AuthorizationCode="authorization_code",e.ClientCredentials="client_credentials",e.ResourceOwnerPassword="password",e.Device="urn:ietf:params:oauth:grant-type:device_code",e.CIBA="urn:openid:params:grant-type:ciba",e})()},5259:(st,ye,f)=>{"use strict";f.d(ye,{n:()=>t});var t=(()=>{return(e=t||(t={})).Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",t;var e})()},1923:(st,ye,f)=>{"use strict";f.d(ye,{w:()=>t});var t=(()=>{return(e=t||(t={})).Default="Default",e.Warning="Warning",t;var e})()},1206:(st,ye,f)=>{"use strict";f.d(ye,{y:()=>t});var t=(()=>{return(e=t||(t={})).None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",t;var e})()},9272:(st,ye,f)=>{"use strict";f.d(ye,{s:()=>t});class t{constructor(){this.enabled=!0,this.name="",this.displayName="",this.description="",this.required=!1,this.emphasize=!1,this.userClaims=[],this.showInDiscoveryDocument=!0,this.isFinalInstanceOnResource=!0,this.shared=!1,this.properties=[]}}},6068:(st,ye,f)=>{"use strict";f.d(ye,{u:()=>e});var t=f(2976);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new t.NA).SharedSecret}}},6502:(st,ye,f)=>{"use strict";f.d(ye,{i:()=>m});var t=f(2329),e=f(9748);class m{constructor(b){this.unitMap=e.S.getUnitMap(),this.formatSeconds(b)}formatSeconds(b){return this.years=Math.floor(b/this.unitMap.get(t.f.Years)),b-=this.years*this.unitMap.get(t.f.Years),this.months=Math.floor(b/this.unitMap.get(t.f.Month)),b-=this.months*this.unitMap.get(t.f.Month),this.weeks=Math.floor(b/this.unitMap.get(t.f.Weeks)),b-=this.weeks*this.unitMap.get(t.f.Weeks),this.days=Math.floor(b/this.unitMap.get(t.f.Days)),b-=this.days*this.unitMap.get(t.f.Days),this.hours=Math.floor(b/this.unitMap.get(t.f.Hours)),b-=this.hours*this.unitMap.get(t.f.Hours),this.minutes=Math.floor(b/this.unitMap.get(t.f.Minute)),b-=this.minutes*this.unitMap.get(t.f.Minute),this.seconds=b,this}}},5188:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>e,u:()=>t});var t=(()=>{return(m=t||(t={}))[m.Disabled=0]="Disabled",m[m.Duende=1]="Duende",m[m.Rsk=2]="Rsk",t;var m})();class e{constructor(){this.defaultUserValidation=!0,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=t.Disabled}}},7393:(st,ye,f)=>{"use strict";f.d(ye,{w:()=>t});class t{constructor(){this.SigningCertificates=[]}}},3111:(st,ye,f)=>{"use strict";f.d(ye,{CP:()=>C,JR:()=>e,vZ:()=>m,yr:()=>t});class t{}var e=(()=>{return(g=e||(e={})).Client="Client",g.ClaimType="ClaimType",g.IdentityResource="IdentityResource",g.ProtectedResource="ProtectedResource",e;var g})(),m=(()=>{return(g=m||(m={})).New="New",g.Duplicate="Duplicate",g.Conflicted="Conflicted",m;var g})(),C=(()=>{return(g=C||(C={})).Importing="Importing",g.Existing="Existing",C;var g})()},5669:(st,ye,f)=>{"use strict";f.d(ye,{m:()=>e});var t=f(3111);let e=(()=>{class m{static getSummaryDisplayType(b){switch(b){case t.JR.Client:return this.client;case t.JR.IdentityResource:case t.JR.ProtectedResource:return this.resource;case t.JR.ClaimType:return this.claimType}}}return m.client="Client",m.resource="Resource",m.protectedResource="ProtectedResource",m.claimType="ClaimType",m})()},7892:(st,ye,f)=>{"use strict";f.d(ye,{A:()=>t});class t{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(m){return this.nameComponentMap.get(m)}getWizardTitle(m){return this.nameTitleMap.get(m)}}},9326:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>t});class t{constructor(m,w){this.setupTitle=m,this.summaryTitle=w}}},826:(st,ye,f)=>{"use strict";f.d(ye,{H:()=>t});class t{constructor(m,w){this.component=m,this.data=w,w||(w={})}}},4456:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>t});var t=(()=>{return(e=t||(t={})).standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",t;var e})()},3110:(st,ye,f)=>{"use strict";f.d(ye,{C9:()=>w,Xm:()=>m,g9:()=>b});var t=f(8176),e=f(4650);let m=(()=>{class C{transform(p){return(0,t.X1)(p,"ccc LLL dd yyyy, T")}}return C.\u0275fac=function(p){return new(p||C)},C.\u0275pipe=e.Yjl({name:"prettyDateTime",type:C,pure:!0}),C})(),w=(()=>{class C{transform(p){return(0,t.X1)(p,"LLL dd yyyy T")}}return C.\u0275fac=function(p){return new(p||C)},C.\u0275pipe=e.Yjl({name:"standardDateTime",type:C,pure:!0}),C})(),b=(()=>{class C{transform(p){return(0,t.X1)(p,"LLL dd yyyy")}}return C.\u0275fac=function(p){return new(p||C)},C.\u0275pipe=e.Yjl({name:"standardDate",type:C,pure:!0}),C})()},5503:(st,ye,f)=>{"use strict";f.d(ye,{D:()=>w});var t=f(6895),e=f(9383),m=f(4650);let w=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=m.oAB({type:b}),b.\u0275inj=m.cJS({imports:[t.ez,e.aw]}),b})()},6252:(st,ye,f)=>{"use strict";f.d(ye,{b:()=>m});var t=f(2951),e=f(4650);let m=(()=>{class w{transform(C,g){return new t.I(C)}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275pipe=e.Yjl({name:"readOnlyValue",type:w,pure:!0}),w})()},8853:(st,ye,f)=>{"use strict";f.d(ye,{r:()=>e});var t=f(4650);let e=(()=>{class m{constructor(){this.map=new Map,this.map.set("description","Common.Description"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(b,C){return this.map.get(b)}}return m.\u0275fac=function(b){return new(b||m)},m.\u0275pipe=t.Yjl({name:"keyToString",type:m,pure:!0}),m})()},7111:(st,ye,f)=>{"use strict";f.d(ye,{n:()=>m});var t=f(4650),e=f(1060);let m=(()=>{class w{constructor(C){this.securityService=C}notAllowedToEditClaim(C){return!this.securityService.allView&&this.isPolicyClaim(C)}isPolicyClaim(C){if(void 0!==C){const g=this.securityService.policyClaims;for(let p=0;p<g.length;p++)if(g[p].type===C.type&&g[p].value===C.value)return!0;return!1}}}return w.\u0275fac=function(C){return new(C||w)(t.LFG(e.I))},w.\u0275prov=t.Yz7({token:w,factory:w.\u0275fac}),w})()},9455:(st,ye,f)=>{"use strict";f.d(ye,{t:()=>w});var t=f(1135);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var m=f(4650);let w=(()=>{class b{constructor(){this.viewConfig=new e,this.viewConfig$=new t.X(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275prov=m.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},1228:(st,ye,f)=>{"use strict";f.d(ye,{e:()=>b});var t=f(8176),e=f(4650),m=f(529),w=f(9455);let b=(()=>{class C{constructor(p,A){this.http=p,this.appComponentViewService=A,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const _=(0,t.SV)();this.actionUrl="auth",this.authUrl=`${_}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}}return C.\u0275fac=function(p){return new(p||C)(e.LFG(m.eN),e.LFG(w.t))},C.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},1058:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>e});var t=f(4650);let e=(()=>{class m{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const b=this.storage.getItem(this.countKey);let C=b?Number(b):0;return C=isNaN(C)?0:C,C}set retryCount(b){(b=isNaN(b)?0:b)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,b.toString())}}return m.\u0275fac=function(b){return new(b||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},3212:(st,ye,f)=>{"use strict";f.d(ye,{_:()=>w});var t=f(529),e=f(8176),m=f(4650);let w=(()=>{class b{buildParams(g,p,A,_,R,N,a){let k=new t.LE;return null!=g&&((0,e.Ew)(g.auditAction)||(k=k.append("auditAction",g.auditAction)),(0,e.Ew)(g.subject)||(k=k.append("subject",g.subject)),(0,e.Ew)(g.resourceName)||(k=k.append("resource",g.resourceName)),(0,e.Ew)(g.source)||(k=k.append("source",g.source))),null!=a&&(k=k.append("success",String(a))),(0,e.Ew)(N)||(k=k.append("sort",N)),A&&(k=k.append("to",A)),p&&(k=k.append("from",p)),_&&(k=k.append("page",String(_))),R&&(k=k.append("pageSize",String(R))),k}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275prov=m.Yz7({token:b,factory:b.\u0275fac}),b})()},3831:(st,ye,f)=>{"use strict";f.d(ye,{C:()=>m});var t=f(1135),e=f(4650);let m=(()=>{class w{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},8117:(st,ye,f)=>{"use strict";f.d(ye,{S:()=>Ga});var t=f(5861);class e{}var m=f(6801);function b(Fe,s,c){var v;return Fe instanceof Object&&null!==(v=Fe[s])&&void 0!==v?v:c}function C(Fe,s=0,c=Fe.byteLength-s,v=!1){let S="";for(const D of new Uint8Array(Fe,s,c)){const Z=D.toString(16).toUpperCase();1===Z.length&&(S+="0"),S+=Z,v&&(S+=" ")}return S.trim()}function g(Fe,s,c,v){return s instanceof ArrayBuffer?s.byteLength?c<0?(Fe.error="Wrong parameter: inputOffset less than zero",!1):v<0?(Fe.error="Wrong parameter: inputLength less than zero",!1):!(s.byteLength-c-v<0&&(Fe.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Fe.error="Wrong parameter: inputBuffer has zero length",!1):(Fe.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function p(Fe,s){let c=0;if(1===Fe.length)return Fe[0];for(let v=Fe.length-1;v>=0;v--)c+=Fe[Fe.length-1-v]*Math.pow(2,s*v);return c}function A(Fe,s,c=-1){const v=c;let S=Fe,D=0,Z=Math.pow(2,s);for(let re=1;re<8;re++){if(Fe<Z){let de;if(v<0)de=new ArrayBuffer(re),D=re;else{if(v<re)return new ArrayBuffer(0);de=new ArrayBuffer(v),D=v}const Oe=new Uint8Array(de);for(let gt=re-1;gt>=0;gt--){const Dt=Math.pow(2,gt*s);Oe[D-gt-1]=Math.floor(S/Dt),S-=Oe[D-gt-1]*Dt}return de}Z*=Math.pow(2,s)}return new ArrayBuffer(0)}function _(...Fe){let s=0,c=0;for(const D of Fe)s+=D.byteLength;const v=new ArrayBuffer(s),S=new Uint8Array(v);for(const D of Fe)S.set(new Uint8Array(D),c),c+=D.byteLength;return v}function R(...Fe){let s=0,c=0;for(const D of Fe)s+=D.length;const v=new ArrayBuffer(s),S=new Uint8Array(v);for(const D of Fe)S.set(D,c),c+=D.length;return S}function N(){const Fe=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const de=0===Fe[0]&&0==(128&Fe[1]);(255===Fe[0]&&128&Fe[1]||de)&&this.warnings.push("Needlessly long format")}const s=new ArrayBuffer(this.valueHex.byteLength),c=new Uint8Array(s);for(let re=0;re<this.valueHex.byteLength;re++)c[re]=0;c[0]=128&Fe[0];const v=p(c,8),S=new ArrayBuffer(this.valueHex.byteLength),D=new Uint8Array(S);for(let re=0;re<this.valueHex.byteLength;re++)D[re]=Fe[re];return D[0]&=127,p(D,8)-v}function a(Fe){const s=Fe<0?-1*Fe:Fe;let c=128;for(let v=1;v<8;v++){if(s<=c){if(Fe<0){const re=A(c-s,8,v);return new Uint8Array(re)[0]|=128,re}let S=A(s,8,v),D=new Uint8Array(S);if(128&D[0]){const Z=S.slice(0),re=new Uint8Array(Z);S=new ArrayBuffer(S.byteLength+1),D=new Uint8Array(S);for(let de=0;de<Z.byteLength;de++)D[de+1]=re[de];D[0]=0}return S}c*=Math.pow(2,8)}return new ArrayBuffer(0)}function k(Fe,s){if(Fe.byteLength!==s.byteLength)return!1;const c=new Uint8Array(Fe),v=new Uint8Array(s);for(let S=0;S<c.length;S++)if(c[S]!==v[S])return!1;return!0}function P(Fe,s){const c=Fe.toString(10);if(s<c.length)return"";const v=s-c.length,S=new Array(v);for(let Z=0;Z<v;Z++)S[Z]="0";return S.join("").concat(c)}const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function O(Fe,s=!1,c=!1,v=!1){let S=0,D=0,Z=0,re="";const de=s?J:U;if(v){let Oe=0;for(let gt=0;gt<Fe.length;gt++)if(0!==Fe.charCodeAt(gt)){Oe=gt;break}Fe=Fe.slice(Oe)}for(;S<Fe.length;){const Oe=Fe.charCodeAt(S++);S>=Fe.length&&(D=1);const gt=Fe.charCodeAt(S++);S>=Fe.length&&(Z=1);const Dt=Fe.charCodeAt(S++),Ht=Oe>>2,pn=(3&Oe)<<4|gt>>4;let Tn=(15&gt)<<2|Dt>>6,Ti=63&Dt;1===D?Tn=Ti=64:1===Z&&(Ti=64),re+=c?64===Tn?`${de.charAt(Ht)}${de.charAt(pn)}`:64===Ti?`${de.charAt(Ht)}${de.charAt(pn)}${de.charAt(Tn)}`:`${de.charAt(Ht)}${de.charAt(pn)}${de.charAt(Tn)}${de.charAt(Ti)}`:`${de.charAt(Ht)}${de.charAt(pn)}${de.charAt(Tn)}${de.charAt(Ti)}`}return re}function L(Fe,s=!1,c=!1){const v=s?J:U;function S(de){for(let Oe=0;Oe<64;Oe++)if(v.charAt(Oe)===de)return Oe;return 64}function D(de){return 64===de?0:de}let Z=0,re="";for(;Z<Fe.length;){const de=S(Fe.charAt(Z++)),Oe=Z>=Fe.length?0:S(Fe.charAt(Z++)),gt=Z>=Fe.length?0:S(Fe.charAt(Z++)),Dt=Z>=Fe.length?0:S(Fe.charAt(Z++)),Ht=D(de)<<2|D(Oe)>>4,pn=(15&D(Oe))<<4|D(gt)>>2,Tn=(3&D(gt))<<6|D(Dt);re+=String.fromCharCode(Ht),64!==gt&&(re+=String.fromCharCode(pn)),64!==Dt&&(re+=String.fromCharCode(Tn))}if(c){let Oe=-1;for(let gt=re.length-1;gt>=0;gt--)if(0!==re.charCodeAt(gt)){Oe=gt;break}re=-1!==Oe?re.slice(0,Oe+1):""}return re}function F(Fe){let s="";const c=new Uint8Array(Fe);for(const v of c)s+=String.fromCharCode(v);return s}function V(Fe){const s=Fe.length,c=new ArrayBuffer(s),v=new Uint8Array(c);for(let S=0;S<s;S++)v[S]=Fe.charCodeAt(S);return c}const q=Math.log(2);function ie(Fe){const s=Math.log(Fe)/q,c=Math.floor(s),v=Math.round(s);return c===v?c:v}function H(Fe,s){for(const c of s)delete Fe[c]}function $(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function z(Fe){let s=0,c=0;for(let S=0;S<Fe.length;S++)s+=Fe[S].byteLength;const v=new Uint8Array(s);for(let S=0;S<Fe.length;S++){const D=Fe[S];v.set(new Uint8Array(D),c),c+=D.byteLength}return v.buffer}function E(Fe,s,c,v){return s instanceof Uint8Array?s.byteLength?c<0?(Fe.error="Wrong parameter: inputOffset less than zero",!1):v<0?(Fe.error="Wrong parameter: inputLength less than zero",!1):!(s.byteLength-c-v<0&&(Fe.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Fe.error="Wrong parameter: inputBuffer has zero length",!1):(Fe.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class X{constructor(){this.items=[]}write(s){this.items.push(s)}final(){return z(this.items)}}const Q=[new Uint8Array([1])],ce="0123456789",_e="name",Te="valueHexView",dt=new ArrayBuffer(0),ct=new Uint8Array(0),Gt="EndOfContent",ln="OCTET STRING",Mt="BIT STRING";function It(Fe){var s;return(s=class extends Fe{constructor(...v){var S;super(...v);const D=v[0]||{};this.isHexOnly=null!==(S=D.isHexOnly)&&void 0!==S&&S,this.valueHexView=D.valueHex?m.vJ.toUint8Array(D.valueHex):ct}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(v){this.valueHexView=new Uint8Array(v)}fromBER(v,S,D){const Z=v instanceof ArrayBuffer?new Uint8Array(v):v;if(!E(this,Z,S,D))return-1;const re=S+D;return this.valueHexView=Z.subarray(S,re),this.valueHexView.length?(this.blockLength=D,re):(this.warnings.push("Zero buffer length"),S)}toBER(v=!1){return this.isHexOnly?v?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",dt)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:m.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",s}let Y=(()=>{class Fe{constructor({blockLength:c=0,error:v="",warnings:S=[],valueBeforeDecode:D=ct}={}){this.blockLength=c,this.error=v,this.warnings=S,this.valueBeforeDecodeView=m.vJ.toUint8Array(D)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(c){this.valueBeforeDecodeView=new Uint8Array(c)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:m.ep.ToHex(this.valueBeforeDecodeView)}}}return Fe.NAME="baseBlock",Fe})(),G=(()=>{class Fe extends Y{fromBER(c,v,S){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(c,v){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return Fe.NAME="valueBlock",Fe})(),oe=(()=>{class Fe extends(It(Y)){constructor({idBlock:c={}}={}){var v,S,D,Z;super(),c?(this.isHexOnly=null!==(v=c.isHexOnly)&&void 0!==v&&v,this.valueHexView=c.valueHex?m.vJ.toUint8Array(c.valueHex):ct,this.tagClass=null!==(S=c.tagClass)&&void 0!==S?S:-1,this.tagNumber=null!==(D=c.tagNumber)&&void 0!==D?D:-1,this.isConstructed=null!==(Z=c.isConstructed)&&void 0!==Z&&Z):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(c=!1){let v=0;switch(this.tagClass){case 1:v|=0;break;case 2:v|=64;break;case 3:v|=128;break;case 4:v|=192;break;default:return this.error="Unknown tag class",dt}if(this.isConstructed&&(v|=32),this.tagNumber<31&&!this.isHexOnly){const D=new Uint8Array(1);if(!c){let Z=this.tagNumber;Z&=31,v|=Z,D[0]=v}return D.buffer}if(!this.isHexOnly){const D=A(this.tagNumber,7),Z=new Uint8Array(D),re=D.byteLength,de=new Uint8Array(re+1);if(de[0]=31|v,!c){for(let Oe=0;Oe<re-1;Oe++)de[Oe+1]=128|Z[Oe];de[re]=Z[re-1]}return de.buffer}const S=new Uint8Array(this.valueHexView.byteLength+1);if(S[0]=31|v,!c){const D=this.valueHexView;for(let Z=0;Z<D.length-1;Z++)S[Z+1]=128|D[Z];S[this.valueHexView.byteLength]=D[D.length-1]}return S.buffer}fromBER(c,v,S){const D=m.vJ.toUint8Array(c);if(!E(this,D,v,S))return-1;const Z=D.subarray(v,v+S);if(0===Z.length)return this.error="Zero buffer length",-1;switch(192&Z[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&Z[0]),this.isHexOnly=!1;const de=31&Z[0];if(31!==de)this.tagNumber=de,this.blockLength=1;else{let Oe=1,gt=this.valueHexView=new Uint8Array(255),Dt=255;for(;128&Z[Oe];){if(gt[Oe-1]=127&Z[Oe],Oe++,Oe>=Z.length)return this.error="End of input reached before message was fully decoded",-1;if(Oe===Dt){Dt+=255;const pn=new Uint8Array(Dt);for(let Tn=0;Tn<gt.length;Tn++)pn[Tn]=gt[Tn];gt=this.valueHexView=new Uint8Array(Dt)}}this.blockLength=Oe+1,gt[Oe-1]=127&Z[Oe];const Ht=new Uint8Array(Oe);for(let pn=0;pn<Oe;pn++)Ht[pn]=gt[pn];gt=this.valueHexView=new Uint8Array(Oe),gt.set(Ht),this.blockLength<=9?this.tagNumber=p(gt,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return v+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return Fe.NAME="identificationBlock",Fe})(),Ve=(()=>{class Fe extends Y{constructor({lenBlock:c={}}={}){var v,S,D;super(),this.isIndefiniteForm=null!==(v=c.isIndefiniteForm)&&void 0!==v&&v,this.longFormUsed=null!==(S=c.longFormUsed)&&void 0!==S&&S,this.length=null!==(D=c.length)&&void 0!==D?D:0}fromBER(c,v,S){const D=m.vJ.toUint8Array(c);if(!E(this,D,v,S))return-1;const Z=D.subarray(v,v+S);if(0===Z.length)return this.error="Zero buffer length",-1;if(255===Z[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===Z[0],this.isIndefiniteForm)return this.blockLength=1,v+this.blockLength;if(this.longFormUsed=!!(128&Z[0]),!1===this.longFormUsed)return this.length=Z[0],this.blockLength=1,v+this.blockLength;const re=127&Z[0];if(re>8)return this.error="Too big integer",-1;if(re+1>Z.length)return this.error="End of input reached before message was fully decoded",-1;const de=v+1,Oe=D.subarray(de,de+re);return 0===Oe[re-1]&&this.warnings.push("Needlessly long encoded length"),this.length=p(Oe,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=re+1,v+this.blockLength}toBER(c=!1){let v,S;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return v=new ArrayBuffer(1),!1===c&&(S=new Uint8Array(v),S[0]=128),v;if(this.longFormUsed){const D=A(this.length,8);if(D.byteLength>127)return this.error="Too big length",dt;if(v=new ArrayBuffer(D.byteLength+1),c)return v;const Z=new Uint8Array(D);S=new Uint8Array(v),S[0]=128|D.byteLength;for(let re=0;re<D.byteLength;re++)S[re+1]=Z[re];return v}return v=new ArrayBuffer(1),!1===c&&(S=new Uint8Array(v),S[0]=this.length),v}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return Fe.NAME="lengthBlock",Fe})();const Be={};let o=(()=>{class Fe extends Y{constructor({name:c="",optional:v=!1,primitiveSchema:S,...D}={},Z){super(D),this.name=c,this.optional=v,S&&(this.primitiveSchema=S),this.idBlock=new oe(D),this.lenBlock=new Ve(D),this.valueBlock=Z?new Z(D):new G(D)}fromBER(c,v,S){const D=this.valueBlock.fromBER(c,v,this.lenBlock.isIndefiniteForm?S:this.lenBlock.length);return-1===D?(this.error=this.valueBlock.error,D):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),D)}toBER(c,v){const S=v||new X;v||De(this);const D=this.idBlock.toBER(c);if(S.write(D),this.lenBlock.isIndefiniteForm)S.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(c,S),S.write(new ArrayBuffer(2));else{const Z=this.valueBlock.toBER(c);this.lenBlock.length=Z.byteLength;const re=this.lenBlock.toBER(c);S.write(re),S.write(Z)}return v?dt:S.final()}toJSON(){const c={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(c.primitiveSchema=this.primitiveSchema.toJSON()),c}toString(c="ascii"){return"ascii"===c?this.onAsciiEncoding():m.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${m.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(c){return this===c||c instanceof this.constructor&&k(this.toBER(),c.toBER())}}return Fe.NAME="BaseBlock",Fe})();function De(Fe){if(Fe instanceof Be.Constructed)for(const s of Fe.valueBlock.value)De(s)&&(Fe.lenBlock.isIndefiniteForm=!0);return!!Fe.lenBlock.isIndefiniteForm}let be=(()=>{class Fe extends o{constructor({value:c="",...v}={},S){super(v,S),c&&this.fromString(c)}getValue(){return this.valueBlock.value}setValue(c){this.valueBlock.value=c}fromBER(c,v,S){const D=this.valueBlock.fromBER(c,v,this.lenBlock.isIndefiniteForm?S:this.lenBlock.length);return-1===D?(this.error=this.valueBlock.error,D):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),D)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return Fe.NAME="BaseStringBlock",Fe})(),je=(()=>{class Fe extends(It(G)){constructor({isHexOnly:c=!0,...v}={}){super(v),this.isHexOnly=c}}return Fe.NAME="PrimitiveValueBlock",Fe})();class Qe extends o{constructor(s={}){super(s,je),this.idBlock.isConstructed=!1}}function bt(Fe,s=0,c=Fe.length){const v=s;let S=new o({},G);const D=new Y;if(!E(D,Fe,s,c))return S.error=D.error,{offset:-1,result:S};if(!Fe.subarray(s,s+c).length)return S.error="Zero buffer length",{offset:-1,result:S};let re=S.idBlock.fromBER(Fe,s,c);if(S.idBlock.warnings.length&&S.warnings.concat(S.idBlock.warnings),-1===re)return S.error=S.idBlock.error,{offset:-1,result:S};if(re=S.lenBlock.fromBER(Fe,s=re,c-=S.idBlock.blockLength),S.lenBlock.warnings.length&&S.warnings.concat(S.lenBlock.warnings),-1===re)return S.error=S.lenBlock.error,{offset:-1,result:S};if(s=re,c-=S.lenBlock.blockLength,!S.idBlock.isConstructed&&S.lenBlock.isIndefiniteForm)return S.error="Indefinite length form used for primitive encoding form",{offset:-1,result:S};let de=o;if(1===S.idBlock.tagClass){if(S.idBlock.tagNumber>=37&&!1===S.idBlock.isHexOnly)return S.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:S};switch(S.idBlock.tagNumber){case 0:if(S.idBlock.isConstructed&&S.lenBlock.length>0)return S.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:S};de=Be.EndOfContent;break;case 1:de=Be.Boolean;break;case 2:de=Be.Integer;break;case 3:de=Be.BitString;break;case 4:de=Be.OctetString;break;case 5:de=Be.Null;break;case 6:de=Be.ObjectIdentifier;break;case 10:de=Be.Enumerated;break;case 12:de=Be.Utf8String;break;case 13:de=Be.RelativeObjectIdentifier;break;case 14:de=Be.TIME;break;case 15:return S.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:S};case 16:de=Be.Sequence;break;case 17:de=Be.Set;break;case 18:de=Be.NumericString;break;case 19:de=Be.PrintableString;break;case 20:de=Be.TeletexString;break;case 21:de=Be.VideotexString;break;case 22:de=Be.IA5String;break;case 23:de=Be.UTCTime;break;case 24:de=Be.GeneralizedTime;break;case 25:de=Be.GraphicString;break;case 26:de=Be.VisibleString;break;case 27:de=Be.GeneralString;break;case 28:de=Be.UniversalString;break;case 29:de=Be.CharacterString;break;case 30:de=Be.BmpString;break;case 31:de=Be.DATE;break;case 32:de=Be.TimeOfDay;break;case 33:de=Be.DateTime;break;case 34:de=Be.Duration;break;default:{const Oe=S.idBlock.isConstructed?new Be.Constructed:new Be.Primitive;Oe.idBlock=S.idBlock,Oe.lenBlock=S.lenBlock,Oe.warnings=S.warnings,S=Oe}}}else de=S.idBlock.isConstructed?Be.Constructed:Be.Primitive;return S=function We(Fe,s){if(Fe instanceof s)return Fe;const c=new s;return c.idBlock=Fe.idBlock,c.lenBlock=Fe.lenBlock,c.warnings=Fe.warnings,c.valueBeforeDecodeView=Fe.valueBeforeDecodeView,c}(S,de),re=S.fromBER(Fe,s,S.lenBlock.isIndefiniteForm?c:S.lenBlock.length),S.valueBeforeDecodeView=Fe.subarray(v,v+S.blockLength),{offset:re,result:S}}function pt(Fe){if(!Fe.byteLength){const s=new o({},G);return s.error="Input buffer has zero length",{offset:-1,result:s}}return bt(m.vJ.toUint8Array(Fe).slice(),0,Fe.byteLength)}function He(Fe,s){return Fe?1:s}Be.Primitive=Qe,Qe.NAME="PRIMITIVE";let ae=(()=>{class Fe extends G{constructor({value:c=[],isIndefiniteForm:v=!1,...S}={}){super(S),this.value=c,this.isIndefiniteForm=v}fromBER(c,v,S){const D=m.vJ.toUint8Array(c);if(!E(this,D,v,S))return-1;if(this.valueBeforeDecodeView=D.subarray(v,v+S),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),v;let Z=v;for(;He(this.isIndefiniteForm,S)>0;){const re=bt(D,Z,S);if(-1===re.offset)return this.error=re.result.error,this.warnings.concat(re.result.warnings),-1;if(Z=re.offset,this.blockLength+=re.result.blockLength,S-=re.result.blockLength,this.value.push(re.result),this.isIndefiniteForm&&re.result.constructor.NAME===Gt)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Gt?this.value.pop():this.warnings.push("No EndOfContent block encoded")),Z}toBER(c,v){const S=v||new X;for(let D=0;D<this.value.length;D++)this.value[D].toBER(c,S);return v?dt:S.final()}toJSON(){const c={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const v of this.value)c.value.push(v.toJSON());return c}}return Fe.NAME="ConstructedValueBlock",Fe})();class B extends o{constructor(s={}){super(s,ae),this.idBlock.isConstructed=!0}fromBER(s,c,v){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const S=this.valueBlock.fromBER(s,c,this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),S)}onAsciiEncoding(){const s=[];for(const v of this.valueBlock.value)s.push(v.toString("ascii").split("\n").map(S=>`  ${S}`).join("\n"));const c=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return s.length?`${c} :\n${s.join("\n")}`:`${c} :`}}Be.Constructed=B,B.NAME="CONSTRUCTED";let ee=(()=>{class Fe extends G{fromBER(c,v,S){return v}toBER(c){return dt}}return Fe.override="EndOfContentValueBlock",Fe})();class tt extends o{constructor(s={}){super(s,ee),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Be.EndOfContent=tt,tt.NAME=Gt;class Et extends o{constructor(s={}){super(s,G),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(s,c,v){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=v,c+v>s.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):c+v}toBER(s,c){const v=new ArrayBuffer(2);if(!s){const S=new Uint8Array(v);S[0]=5,S[1]=0}return c&&c.write(v),v}onAsciiEncoding(){return`${this.constructor.NAME}`}}Be.Null=Et,Et.NAME="NULL";let Kt=(()=>{class Fe extends(It(G)){constructor({value:c,...v}={}){super(v),this.valueHexView=v.valueHex?m.vJ.toUint8Array(v.valueHex):new Uint8Array(1),c&&(this.value=c)}get value(){for(const c of this.valueHexView)if(c>0)return!0;return!1}set value(c){this.valueHexView[0]=c?255:0}fromBER(c,v,S){const D=m.vJ.toUint8Array(c);return E(this,D,v,S)?(this.valueHexView=D.subarray(v,v+S),S>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,N.call(this),this.blockLength=S,v+S):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return Fe.NAME="BooleanValueBlock",Fe})();class rn extends o{constructor(s={}){super(s,Kt),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(s){this.valueBlock.value=s}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Be.Boolean=rn,rn.NAME="BOOLEAN";let fn=(()=>{class Fe extends(It(ae)){constructor({isConstructed:c=!1,...v}={}){super(v),this.isConstructed=c}fromBER(c,v,S){let D=0;if(this.isConstructed){if(this.isHexOnly=!1,D=ae.prototype.fromBER.call(this,c,v,S),-1===D)return D;for(let Z=0;Z<this.value.length;Z++){const re=this.value[Z].constructor.NAME;if(re===Gt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(re!==ln)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,D=super.fromBER(c,v,S),this.blockLength=S;return D}toBER(c,v){return this.isConstructed?ae.prototype.toBER.call(this,c,v):c?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return Fe.NAME="OctetStringValueBlock",Fe})();class lt extends o{constructor({idBlock:s={},lenBlock:c={},...v}={}){var S,D;null!==(S=v.isConstructed)&&void 0!==S||(v.isConstructed=!(null===(D=v.value)||void 0===D||!D.length)),super({idBlock:{isConstructed:v.isConstructed,...s},lenBlock:{...c,isIndefiniteForm:!!v.isIndefiniteForm},...v},fn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(s,c,v){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===v)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),c;if(!this.valueBlock.isConstructed){const D=(s instanceof ArrayBuffer?new Uint8Array(s):s).subarray(c,c+v);try{if(D.byteLength){const Z=bt(D,0,D.byteLength);-1!==Z.offset&&Z.offset===v&&(this.valueBlock.value=[Z.result])}}catch{}}return super.fromBER(s,c,v)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?B.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${m.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const s=[];for(const c of this.valueBlock.value)c instanceof lt&&s.push(c.valueBlock.valueHexView);return m.vJ.concat(s)}}Be.OctetString=lt,lt.NAME=ln;let tn=(()=>{class Fe extends(It(ae)){constructor({unusedBits:c=0,isConstructed:v=!1,...S}={}){super(S),this.unusedBits=c,this.isConstructed=v,this.blockLength=this.valueHexView.byteLength}fromBER(c,v,S){if(!S)return v;let D=-1;if(this.isConstructed){if(D=ae.prototype.fromBER.call(this,c,v,S),-1===D)return D;for(const de of this.value){const Oe=de.constructor.NAME;if(Oe===Gt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(Oe!==Mt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const gt=de.valueBlock;if(this.unusedBits>0&&gt.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=gt.unusedBits}return D}const Z=m.vJ.toUint8Array(c);if(!E(this,Z,v,S))return-1;const re=Z.subarray(v,v+S);if(this.unusedBits=re[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const de=re.subarray(1);try{if(de.byteLength){const Oe=bt(de,0,de.byteLength);-1!==Oe.offset&&Oe.offset===S-1&&(this.value=[Oe.result])}}catch{}}return this.valueHexView=re.subarray(1),this.blockLength=re.length,v+S}toBER(c,v){if(this.isConstructed)return ae.prototype.toBER.call(this,c,v);if(c)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return dt;const S=new Uint8Array(this.valueHexView.length+1);return S[0]=this.unusedBits,S.set(this.valueHexView,1),S.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return Fe.NAME="BitStringValueBlock",Fe})();var gn;class qt extends o{constructor({idBlock:s={},lenBlock:c={},...v}={}){var S,D;null!==(S=v.isConstructed)&&void 0!==S||(v.isConstructed=!(null===(D=v.value)||void 0===D||!D.length)),super({idBlock:{isConstructed:v.isConstructed,...s},lenBlock:{...c,isIndefiniteForm:!!v.isIndefiniteForm},...v},tn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(s,c,v){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(s,c,v)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return B.prototype.onAsciiEncoding.call(this);{const s=[],c=this.valueBlock.valueHexView;for(const S of c)s.push(S.toString(2).padStart(8,"0"));const v=s.join("");return`${this.constructor.NAME} : ${v.substring(0,v.length-this.valueBlock.unusedBits)}`}}}function Vn(Fe,s){const c=new Uint8Array([0]),v=new Uint8Array(Fe),S=new Uint8Array(s);let D=v.slice(0);const Z=D.length-1,re=S.slice(0),de=re.length-1;let Oe=0,Dt=0;for(let Ht=de<Z?Z:de;Ht>=0;Ht--,Dt++)Oe=1==Dt<re.length?D[Z-Dt]+re[de-Dt]+c[0]:D[Z-Dt]+c[0],c[0]=Oe/10,1==Dt>=D.length?D=R(new Uint8Array([Oe%10]),D):D[Z-Dt]=Oe%10;return c[0]>0&&(D=R(c,D)),D}function Mn(Fe){if(Fe>=Q.length)for(let s=Q.length;s<=Fe;s++){const c=new Uint8Array([0]);let v=Q[s-1].slice(0);for(let S=v.length-1;S>=0;S--){const D=new Uint8Array([(v[S]<<1)+c[0]]);c[0]=D[0]/10,v[S]=D[0]%10}c[0]>0&&(v=R(c,v)),Q.push(v)}return Q[Fe]}function qn(Fe,s){let c=0;const v=new Uint8Array(Fe),S=new Uint8Array(s),D=v.slice(0),Z=D.length-1,re=S.slice(0),de=re.length-1;let Oe,gt=0;for(let Dt=de;Dt>=0;Dt--,gt++)Oe=D[Z-gt]-re[de-gt]-c,1==Oe<0?(c=1,D[Z-gt]=Oe+10):(c=0,D[Z-gt]=Oe);if(c>0)for(let Dt=Z-de+1;Dt>=0;Dt--,gt++){if(Oe=D[Z-gt]-c,!(Oe<0)){c=0,D[Z-gt]=Oe;break}c=1,D[Z-gt]=Oe+10}return D.slice()}Be.BitString=qt,qt.NAME=Mt;class ui extends(It(G)){constructor({value:s,...c}={}){super(c),this._valueDec=0,c.valueHex&&this.setValueHex(),void 0!==s&&(this.valueDec=s)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=N.call(this)))}set valueDec(s){this._valueDec=s,this.isHexOnly=!1,this.valueHexView=new Uint8Array(a(s))}get valueDec(){return this._valueDec}fromDER(s,c,v,S=0){const D=this.fromBER(s,c,v);if(-1===D)return D;const Z=this.valueHexView;return 0===Z[0]&&0!=(128&Z[1])?this.valueHexView=Z.subarray(1):0!==S&&Z.length<S&&(S-Z.length>1&&(S=Z.length+1),this.valueHexView=Z.subarray(S-Z.length)),D}toDER(s=!1){const c=this.valueHexView;switch(!0){case 0!=(128&c[0]):{const v=new Uint8Array(this.valueHexView.length+1);v[0]=0,v.set(c,1),this.valueHexView=v}break;case 0===c[0]&&0==(128&c[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(s)}fromBER(s,c,v){const S=super.fromBER(s,c,v);return-1===S||this.setValueHex(),S}toBER(s){return s?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const s=8*this.valueHexView.length-1;let S,c=new Uint8Array(8*this.valueHexView.length/3),v=0;const D=this.valueHexView;let Z="",re=!1;for(let de=D.byteLength-1;de>=0;de--){S=D[de];for(let Oe=0;Oe<8;Oe++)1==(1&S)&&(v===s?(c=qn(Mn(v),c),Z="-"):c=Vn(c,Mn(v))),v++,S>>=1}for(let de=0;de<c.length;de++)c[de]&&(re=!0),re&&(Z+=ce.charAt(c[de]));return!1===re&&(Z+=ce.charAt(0)),Z}}gn=ui,ui.NAME="IntegerValueBlock",Object.defineProperty(gn.prototype,"valueHex",{set:function(Fe){this.valueHexView=new Uint8Array(Fe),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class jt extends o{constructor(s={}){super(s,ui),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return $(),BigInt(this.valueBlock.toString())}static fromBigInt(s){$();const c=BigInt(s),v=new X,S=c.toString(16).replace(/^-/,""),D=new Uint8Array(m.ep.FromHex(S));if(c<0){const re=new Uint8Array(D.length+(128&D[0]?1:0));re[0]|=128;const Oe=BigInt(`0x${m.ep.ToHex(re)}`)+c,gt=m.vJ.toUint8Array(m.ep.FromHex(Oe.toString(16)));gt[0]|=128,v.write(gt)}else 128&D[0]&&v.write(new Uint8Array([0])),v.write(D);return new jt({valueHex:v.final()})}convertToDER(){const s=new jt({valueHex:this.valueBlock.valueHexView});return s.valueBlock.toDER(),s}convertFromDER(){return new jt({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Be.Integer=jt,jt.NAME="INTEGER";class In extends jt{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Be.Enumerated=In,In.NAME="ENUMERATED";let Pn=(()=>{class Fe extends(It(G)){constructor({valueDec:c=-1,isFirstSid:v=!1,...S}={}){super(S),this.valueDec=c,this.isFirstSid=v}fromBER(c,v,S){if(!S)return v;const D=m.vJ.toUint8Array(c);if(!E(this,D,v,S))return-1;const Z=D.subarray(v,v+S);this.valueHexView=new Uint8Array(S);for(let de=0;de<S&&(this.valueHexView[de]=127&Z[de],this.blockLength++,0!=(128&Z[de]));de++);const re=new Uint8Array(this.blockLength);for(let de=0;de<this.blockLength;de++)re[de]=this.valueHexView[de];return this.valueHexView=re,0!=(128&Z[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=p(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),v+this.blockLength)}set valueBigInt(c){$();let v=BigInt(c).toString(2);for(;v.length%7;)v="0"+v;const S=new Uint8Array(v.length/7);for(let D=0;D<S.length;D++)S[D]=parseInt(v.slice(7*D,7*D+7),2)+(D+1<S.length?128:0);this.fromBER(S.buffer,0,S.length)}toBER(c){if(this.isHexOnly){if(c)return new ArrayBuffer(this.valueHexView.byteLength);const D=this.valueHexView,Z=new Uint8Array(this.blockLength);for(let re=0;re<this.blockLength-1;re++)Z[re]=128|D[re];return Z[this.blockLength-1]=D[this.blockLength-1],Z.buffer}const v=A(this.valueDec,7);if(0===v.byteLength)return this.error="Error during encoding SID value",dt;const S=new Uint8Array(v.byteLength);if(!c){const D=new Uint8Array(v),Z=v.byteLength-1;for(let re=0;re<Z;re++)S[re]=128|D[re];S[Z]=D[Z]}return S}toString(){let c="";if(this.isHexOnly)c=m.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let v=this.valueDec;this.valueDec<=39?c="0.":this.valueDec<=79?(c="1.",v-=40):(c="2.",v-=80),c+=v.toString()}else c=this.valueDec.toString();return c}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return Fe.NAME="sidBlock",Fe})(),zn=(()=>{class Fe extends G{constructor({value:c="",...v}={}){super(v),this.value=[],c&&this.fromString(c)}fromBER(c,v,S){let D=v;for(;S>0;){const Z=new Pn;if(D=Z.fromBER(c,D,S),-1===D)return this.blockLength=0,this.error=Z.error,D;0===this.value.length&&(Z.isFirstSid=!0),this.blockLength+=Z.blockLength,S-=Z.blockLength,this.value.push(Z)}return D}toBER(c){const v=[];for(let S=0;S<this.value.length;S++){const D=this.value[S].toBER(c);if(0===D.byteLength)return this.error=this.value[S].error,dt;v.push(D)}return z(v)}fromString(c){this.value=[];let v=0,S=0,D="",Z=!1;do{if(S=c.indexOf(".",v),D=-1===S?c.substring(v):c.substring(v,S),v=S+1,Z){const re=this.value[0];let de=0;switch(re.valueDec){case 0:break;case 1:de=40;break;case 2:de=80;break;default:return void(this.value=[])}const Oe=parseInt(D,10);if(isNaN(Oe))return;re.valueDec=Oe+de,Z=!1}else{const re=new Pn;if(D>Number.MAX_SAFE_INTEGER){$();const de=BigInt(D);re.valueBigInt=de}else if(re.valueDec=parseInt(D,10),isNaN(re.valueDec))return;this.value.length||(re.isFirstSid=!0,Z=!0),this.value.push(re)}}while(-1!==S)}toString(){let c="",v=!1;for(let S=0;S<this.value.length;S++){v=this.value[S].isHexOnly;let D=this.value[S].toString();0!==S&&(c=`${c}.`),v?(D=`{${D}}`,this.value[S].isFirstSid?c=`2.{${D} - 80}`:c+=D):c+=D}return c}toJSON(){const c={...super.toJSON(),value:this.toString(),sidArray:[]};for(let v=0;v<this.value.length;v++)c.sidArray.push(this.value[v].toJSON());return c}}return Fe.NAME="ObjectIdentifierValueBlock",Fe})();class ft extends o{constructor(s={}){super(s,zn),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(s){this.valueBlock.fromString(s)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Be.ObjectIdentifier=ft,ft.NAME="OBJECT IDENTIFIER";let yt=(()=>{class Fe extends(It(Y)){constructor({valueDec:c=0,...v}={}){super(v),this.valueDec=c}fromBER(c,v,S){if(0===S)return v;const D=m.vJ.toUint8Array(c);if(!E(this,D,v,S))return-1;const Z=D.subarray(v,v+S);this.valueHexView=new Uint8Array(S);for(let de=0;de<S&&(this.valueHexView[de]=127&Z[de],this.blockLength++,0!=(128&Z[de]));de++);const re=new Uint8Array(this.blockLength);for(let de=0;de<this.blockLength;de++)re[de]=this.valueHexView[de];return this.valueHexView=re,0!=(128&Z[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=p(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),v+this.blockLength)}toBER(c){if(this.isHexOnly){if(c)return new ArrayBuffer(this.valueHexView.byteLength);const D=this.valueHexView,Z=new Uint8Array(this.blockLength);for(let re=0;re<this.blockLength-1;re++)Z[re]=128|D[re];return Z[this.blockLength-1]=D[this.blockLength-1],Z.buffer}const v=A(this.valueDec,7);if(0===v.byteLength)return this.error="Error during encoding SID value",dt;const S=new Uint8Array(v.byteLength);if(!c){const D=new Uint8Array(v),Z=v.byteLength-1;for(let re=0;re<Z;re++)S[re]=128|D[re];S[Z]=D[Z]}return S.buffer}toString(){let c="";return c=this.isHexOnly?m.ep.ToHex(this.valueHexView):this.valueDec.toString(),c}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return Fe.NAME="relativeSidBlock",Fe})(),ht=(()=>{class Fe extends G{constructor({value:c="",...v}={}){super(v),this.value=[],c&&this.fromString(c)}fromBER(c,v,S){let D=v;for(;S>0;){const Z=new yt;if(D=Z.fromBER(c,D,S),-1===D)return this.blockLength=0,this.error=Z.error,D;this.blockLength+=Z.blockLength,S-=Z.blockLength,this.value.push(Z)}return D}toBER(c,v){const S=[];for(let D=0;D<this.value.length;D++){const Z=this.value[D].toBER(c);if(0===Z.byteLength)return this.error=this.value[D].error,dt;S.push(Z)}return z(S)}fromString(c){this.value=[];let v=0,S=0,D="";do{S=c.indexOf(".",v),D=-1===S?c.substring(v):c.substring(v,S),v=S+1;const Z=new yt;if(Z.valueDec=parseInt(D,10),isNaN(Z.valueDec))return!0;this.value.push(Z)}while(-1!==S);return!0}toString(){let c="",v=!1;for(let S=0;S<this.value.length;S++){v=this.value[S].isHexOnly;let D=this.value[S].toString();0!==S&&(c=`${c}.`),v&&(D=`{${D}}`),c+=D}return c}toJSON(){const c={...super.toJSON(),value:this.toString(),sidArray:[]};for(let v=0;v<this.value.length;v++)c.sidArray.push(this.value[v].toJSON());return c}}return Fe.NAME="RelativeObjectIdentifierValueBlock",Fe})();class zt extends o{constructor(s={}){super(s,ht),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(s){this.valueBlock.fromString(s)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Be.RelativeObjectIdentifier=zt,zt.NAME="RelativeObjectIdentifier";class Zt extends B{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Be.Sequence=Zt,Zt.NAME="SEQUENCE";class vi extends B{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}Be.Set=vi,vi.NAME="SET";let vr=(()=>{class Fe extends(It(G)){constructor({...c}={}){super(c),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return Fe.NAME="StringValueBlock",Fe})(),Rn=(()=>{class Fe extends vr{}return Fe.NAME="SimpleStringValueBlock",Fe})(),yi=(()=>{class Fe extends be{constructor({...c}={}){super(c,Rn)}fromBuffer(c){this.valueBlock.value=String.fromCharCode.apply(null,m.vJ.toUint8Array(c))}fromString(c){const v=c.length,S=this.valueBlock.valueHexView=new Uint8Array(v);for(let D=0;D<v;D++)S[D]=c.charCodeAt(D);this.valueBlock.value=c}}return Fe.NAME="SIMPLE STRING",Fe})(),rr=(()=>{class Fe extends yi{fromBuffer(c){this.valueBlock.valueHexView=m.vJ.toUint8Array(c);try{this.valueBlock.value=m.ep.ToUtf8String(c)}catch(v){this.warnings.push(`Error during "decodeURIComponent": ${v}, using raw string`),this.valueBlock.value=m.ep.ToBinary(c)}}fromString(c){this.valueBlock.valueHexView=new Uint8Array(m.ep.FromUtf8String(c)),this.valueBlock.value=c}}return Fe.NAME="Utf8StringValueBlock",Fe})();class Gi extends rr{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Be.Utf8String=Gi,Gi.NAME="UTF8String";let Di=(()=>{class Fe extends yi{fromBuffer(c){this.valueBlock.value=m.ep.ToUtf16String(c),this.valueBlock.valueHexView=m.vJ.toUint8Array(c)}fromString(c){this.valueBlock.value=c,this.valueBlock.valueHexView=new Uint8Array(m.ep.FromUtf16String(c))}}return Fe.NAME="BmpStringValueBlock",Fe})();class pr extends Di{constructor({...s}={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Be.BmpString=pr,pr.NAME="BMPString";let $i=(()=>{class Fe extends yi{fromBuffer(c){const v=ArrayBuffer.isView(c)?c.slice().buffer:c.slice(0),S=new Uint8Array(v);for(let D=0;D<S.length;D+=4)S[D]=S[D+3],S[D+1]=S[D+2],S[D+2]=0,S[D+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(v))}fromString(c){const v=c.length,S=this.valueBlock.valueHexView=new Uint8Array(4*v);for(let D=0;D<v;D++){const Z=A(c.charCodeAt(D),8),re=new Uint8Array(Z);if(re.length>4)continue;const de=4-re.length;for(let Oe=re.length-1;Oe>=0;Oe--)S[4*D+Oe+de]=re[Oe]}this.valueBlock.value=c}}return Fe.NAME="UniversalStringValueBlock",Fe})();class Fn extends $i{constructor({...s}={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Be.UniversalString=Fn,Fn.NAME="UniversalString";class Yt extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Be.NumericString=Yt,Yt.NAME="NumericString";class Ln extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Be.PrintableString=Ln,Ln.NAME="PrintableString";class Ze extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Be.TeletexString=Ze,Ze.NAME="TeletexString";class ut extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Be.VideotexString=ut,ut.NAME="VideotexString";class un extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Be.IA5String=un,un.NAME="IA5String";class Dn extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Be.GraphicString=Dn,Dn.NAME="GraphicString";class Ii extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Be.VisibleString=Ii,Ii.NAME="VisibleString";class Xn extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Be.GeneralString=Xn,Xn.NAME="GeneralString";class mr extends yi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Be.CharacterString=mr,mr.NAME="CharacterString";class Mi extends Ii{constructor({value:s,valueDate:c,...v}={}){if(super(v),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,s){this.fromString(s),this.valueBlock.valueHexView=new Uint8Array(s.length);for(let S=0;S<s.length;S++)this.valueBlock.valueHexView[S]=s.charCodeAt(S)}c&&(this.fromDate(c),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(s){this.fromString(String.fromCharCode.apply(null,m.vJ.toUint8Array(s)))}toBuffer(){const s=this.toString(),c=new ArrayBuffer(s.length),v=new Uint8Array(c);for(let S=0;S<s.length;S++)v[S]=s.charCodeAt(S);return c}fromDate(s){this.year=s.getUTCFullYear(),this.month=s.getUTCMonth()+1,this.day=s.getUTCDate(),this.hour=s.getUTCHours(),this.minute=s.getUTCMinutes(),this.second=s.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(s){const v=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(s);if(null===v)return void(this.error="Wrong input string for conversion");const S=parseInt(v[1],10);this.year=S>=50?1900+S:2e3+S,this.month=parseInt(v[2],10),this.day=parseInt(v[3],10),this.hour=parseInt(v[4],10),this.minute=parseInt(v[5],10),this.second=parseInt(v[6],10)}toString(s="iso"){if("iso"===s){const c=new Array(7);return c[0]=P(this.year<2e3?this.year-1900:this.year-2e3,2),c[1]=P(this.month,2),c[2]=P(this.day,2),c[3]=P(this.hour,2),c[4]=P(this.minute,2),c[5]=P(this.second,2),c[6]="Z",c.join("")}return super.toString(s)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Be.UTCTime=Mi,Mi.NAME="UTCTime";class Qi extends Mi{constructor(s={}){var c;super(s),null!==(c=this.millisecond)&&void 0!==c||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(s){super.fromDate(s),this.millisecond=s.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(s){let Z,c=!1,v="",S="",D=0,re=0,de=0;if("Z"===s[s.length-1])v=s.substring(0,s.length-1),c=!0;else{const Dt=new Number(s[s.length-1]);if(isNaN(Dt.valueOf()))throw new Error("Wrong input string for conversion");v=s}if(c){if(-1!==v.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==v.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Dt=1,Ht=v.indexOf("+"),pn="";if(-1===Ht&&(Ht=v.indexOf("-"),Dt=-1),-1!==Ht){if(pn=v.substring(Ht+1),v=v.substring(0,Ht),2!==pn.length&&4!==pn.length)throw new Error("Wrong input string for conversion");let Tn=parseInt(pn.substring(0,2),10);if(isNaN(Tn.valueOf()))throw new Error("Wrong input string for conversion");if(re=Dt*Tn,4===pn.length){if(Tn=parseInt(pn.substring(2,4),10),isNaN(Tn.valueOf()))throw new Error("Wrong input string for conversion");de=Dt*Tn}}}let Oe=v.indexOf(".");if(-1===Oe&&(Oe=v.indexOf(",")),-1!==Oe){const Dt=new Number(`0${v.substring(Oe)}`);if(isNaN(Dt.valueOf()))throw new Error("Wrong input string for conversion");D=Dt.valueOf(),S=v.substring(0,Oe)}else S=v;switch(!0){case 8===S.length:if(Z=/(\d{4})(\d{2})(\d{2})/gi,-1!==Oe)throw new Error("Wrong input string for conversion");break;case 10===S.length:if(Z=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==Oe){let Dt=60*D;this.minute=Math.floor(Dt),Dt=60*(Dt-this.minute),this.second=Math.floor(Dt),Dt=1e3*(Dt-this.second),this.millisecond=Math.floor(Dt)}break;case 12===S.length:if(Z=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Oe){let Dt=60*D;this.second=Math.floor(Dt),Dt=1e3*(Dt-this.second),this.millisecond=Math.floor(Dt)}break;case 14===S.length:Z=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Oe&&(this.millisecond=Math.floor(1e3*D));break;default:throw new Error("Wrong input string for conversion")}const gt=Z.exec(S);if(null===gt)throw new Error("Wrong input string for conversion");for(let Dt=1;Dt<gt.length;Dt++)switch(Dt){case 1:this.year=parseInt(gt[Dt],10);break;case 2:this.month=parseInt(gt[Dt],10);break;case 3:this.day=parseInt(gt[Dt],10);break;case 4:this.hour=parseInt(gt[Dt],10)+re;break;case 5:this.minute=parseInt(gt[Dt],10)+de;break;case 6:this.second=parseInt(gt[Dt],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===c){const Dt=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Dt.getUTCFullYear(),this.month=Dt.getUTCMonth(),this.day=Dt.getUTCDay(),this.hour=Dt.getUTCHours(),this.minute=Dt.getUTCMinutes(),this.second=Dt.getUTCSeconds(),this.millisecond=Dt.getUTCMilliseconds()}}toString(s="iso"){if("iso"===s){const c=[];return c.push(P(this.year,4)),c.push(P(this.month,2)),c.push(P(this.day,2)),c.push(P(this.hour,2)),c.push(P(this.minute,2)),c.push(P(this.second,2)),0!==this.millisecond&&(c.push("."),c.push(P(this.millisecond,3))),c.push("Z"),c.join("")}return super.toString(s)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Be.GeneralizedTime=Qi,Qi.NAME="GeneralizedTime";class ts extends Gi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Be.DATE=ts,ts.NAME="DATE";class qs extends Gi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Be.TimeOfDay=qs,qs.NAME="TimeOfDay";class js extends Gi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Be.DateTime=js,js.NAME="DateTime";class bs extends Gi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Be.Duration=bs,bs.NAME="Duration";class ks extends Gi{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Be.TIME=ks,ks.NAME="TIME";class Jr{constructor({name:s="",optional:c=!1}={}){this.name=s,this.optional=c}}class sr extends Jr{constructor({value:s=[],...c}={}){super(c),this.value=s}}class Pi extends Jr{constructor({value:s=new Jr,local:c=!1,...v}={}){super(v),this.value=s,this.local=c}}class vs{constructor({data:s=ct}={}){this.dataView=m.vJ.toUint8Array(s)}get data(){return this.dataView.slice().buffer}set data(s){this.dataView=m.vJ.toUint8Array(s)}fromBER(s,c,v){const S=c+v;return this.dataView=m.vJ.toUint8Array(s).subarray(c,S),S}toBER(s){return this.dataView.slice().buffer}}function Gn(Fe,s,c){if(c instanceof sr){for(let D=0;D<c.value.length;D++)if(Gn(Fe,s,c.value[D]).verified)return{verified:!0,result:Fe};{const D={verified:!1,result:{error:"Wrong values for Choice type"}};return c.hasOwnProperty(_e)&&(D.name=c.name),D}}if(c instanceof Jr)return c.hasOwnProperty(_e)&&(Fe[c.name]=s),{verified:!0,result:Fe};if(!(Fe instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(s instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(c instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in c))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const v=c.idBlock.toBER(!1);if(0===v.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===c.idBlock.fromBER(v,0,v.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===c.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagClass!==s.idBlock.tagClass)return{verified:!1,result:Fe};if(!1===c.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagNumber!==s.idBlock.tagNumber)return{verified:!1,result:Fe};if(!1===c.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isConstructed!==s.idBlock.isConstructed)return{verified:!1,result:Fe};if(!("isHexOnly"in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isHexOnly!==s.idBlock.isHexOnly)return{verified:!1,result:Fe};if(c.idBlock.isHexOnly){if(!(Te in c.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const D=c.idBlock.valueHexView,Z=s.idBlock.valueHexView;if(D.length!==Z.length)return{verified:!1,result:Fe};for(let re=0;re<D.length;re++)if(D[re]!==Z[1])return{verified:!1,result:Fe}}if(c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(Fe[c.name]=s)),c instanceof Be.Constructed){let D=0,Z={verified:!1,result:{error:"Unknown error"}},re=c.valueBlock.value.length;if(re>0&&c.valueBlock.value[0]instanceof Pi&&(re=s.valueBlock.value.length),0===re)return{verified:!0,result:Fe};if(0===s.valueBlock.value.length&&0!==c.valueBlock.value.length){let de=!0;for(let Oe=0;Oe<c.valueBlock.value.length;Oe++)de=de&&(c.valueBlock.value[Oe].optional||!1);return de?{verified:!0,result:Fe}:(c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&delete Fe[c.name]),Fe.error="Inconsistent object length",{verified:!1,result:Fe})}for(let de=0;de<re;de++)if(de-D>=s.valueBlock.value.length){if(!1===c.valueBlock.value[de].optional){const Oe={verified:!1,result:Fe};return Fe.error="Inconsistent length between ASN.1 data and schema",c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(delete Fe[c.name],Oe.name=c.name)),Oe}}else if(c.valueBlock.value[0]instanceof Pi){if(Z=Gn(Fe,s.valueBlock.value[de],c.valueBlock.value[0].value),!1===Z.verified){if(!c.valueBlock.value[0].optional)return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&delete Fe[c.name]),Z;D++}if(_e in c.valueBlock.value[0]&&c.valueBlock.value[0].name.length>0){let Oe={};Oe="local"in c.valueBlock.value[0]&&c.valueBlock.value[0].local?s:Fe,typeof Oe[c.valueBlock.value[0].name]>"u"&&(Oe[c.valueBlock.value[0].name]=[]),Oe[c.valueBlock.value[0].name].push(s.valueBlock.value[de])}}else if(Z=Gn(Fe,s.valueBlock.value[de-D],c.valueBlock.value[de]),!1===Z.verified){if(!c.valueBlock.value[de].optional)return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&delete Fe[c.name]),Z;D++}if(!1===Z.verified){const de={verified:!1,result:Fe};return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(delete Fe[c.name],de.name=c.name)),de}return{verified:!0,result:Fe}}if(c.primitiveSchema&&Te in s.valueBlock){const D=bt(s.valueBlock.valueHexView);if(-1===D.offset){const Z={verified:!1,result:D.result};return c.name&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name&&(delete Fe[c.name],Z.name=c.name)),Z}return Gn(Fe,D.result,c.primitiveSchema)}return{verified:!0,result:Fe}}class Hn{constructor(s={}){this.algorithmId=b(s,"algorithmId",Hn.defaultValues("algorithmId")),"algorithmParams"in s&&(this.algorithmParams=b(s,"algorithmParams",Hn.defaultValues("algorithmParams"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"algorithmId":return"";case"algorithmParams":return new Jr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"algorithmId":return""===c;case"algorithmParams":return c instanceof Jr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",optional:c.optional||!1,value:[new ft({name:c.algorithmIdentifier||""}),new Jr({name:c.algorithmParams||"",optional:!0})]})}fromSchema(s){H(s,["algorithm","params"]);const c=Gn(s,s,Hn.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=c.result.algorithm.valueBlock.toString(),"params"in c.result&&(this.algorithmParams=c.result.params)}toSchema(){const s=[];return s.push(new ft({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof Jr)&&s.push(this.algorithmParams),new Zt({value:s})}toJSON(){const s={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof Jr)&&(s.algorithmParams=this.algorithmParams.toJSON()),s}isEqual(s){return s instanceof Hn&&this.algorithmId===s.algorithmId&&("algorithmParams"in this?"algorithmParams"in s&&JSON.stringify(this.algorithmParams)===JSON.stringify(s.algorithmParams):!("algorithmParams"in s))}}let yr=(()=>{class Fe{static register(c,v,S){this.namedCurves[c.toLowerCase()]=this.namedCurves[v]={name:c,id:v,size:S}}static find(c){return this.namedCurves[c.toLowerCase()]||null}}return Fe.namedCurves={},Fe})();yr.register("P-256","1.2.840.10045.3.1.7",32),yr.register("P-384","1.3.132.0.34",48),yr.register("P-521","1.3.132.0.35",66),yr.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),yr.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),yr.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class Mr{constructor(s={}){this.x=b(s,"x",Mr.defaultValues("x")),this.y=b(s,"y",Mr.defaultValues("y")),this.namedCurve=b(s,"namedCurve",Mr.defaultValues("namedCurve")),"schema"in s&&this.fromSchema(s.schema),"json"in s&&this.fromJSON(s.json)}static defaultValues(s){switch(s){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"x":case"y":return k(c,Mr.defaultValues(s));case"namedCurve":return""===c;default:throw new Error(`Invalid member name for ECCPublicKey class: ${s}`)}}static schema(s={}){return new vs}fromSchema(s){if(!(s instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(s)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const v=yr.find(this.namedCurve);if(!v)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const S=v.size;if(s.byteLength!==2*S+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=s.slice(1,S+1),this.y=s.slice(1+S,2*S+1)}toSchema(){return new vs({data:_(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const s=yr.find(this.namedCurve);return{crv:s?s.name:this.namedCurve,x:O(F(this.x),!0,!0,!1),y:O(F(this.y),!0,!0,!1)}}fromJSON(s){let c=0;if(!("crv"in s))throw new Error('Absent mandatory parameter "crv"');{const v=yr.find(s.crv);v&&(this.namedCurve=v.id,c=v.size)}if(!("x"in s))throw new Error('Absent mandatory parameter "x"');{const v=V(L(s.x,!0));if(v.byteLength<c){this.x=new ArrayBuffer(c);const S=new Uint8Array(this.x),D=new Uint8Array(v);S.set(D,1)}else this.x=v.slice(0,c)}if(!("y"in s))throw new Error('Absent mandatory parameter "y"');{const v=V(L(s.y,!0));if(v.byteLength<c){this.y=new ArrayBuffer(c);const S=new Uint8Array(this.y),D=new Uint8Array(v);S.set(D,1)}else this.y=v.slice(0,c)}}}class os{constructor(s={}){this.modulus=b(s,"modulus",os.defaultValues("modulus")),this.publicExponent=b(s,"publicExponent",os.defaultValues("publicExponent")),"schema"in s&&this.fromSchema(s.schema),"json"in s&&this.fromJSON(s.json)}static defaultValues(s){switch(s){case"modulus":case"publicExponent":return new jt;default:throw new Error(`Invalid member name for RSAPublicKey class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new jt({name:c.modulus||""}),new jt({name:c.publicExponent||""})]})}fromSchema(s){H(s,["modulus","publicExponent"]);const c=Gn(s,s,os.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=c.result.modulus.convertFromDER(256),this.publicExponent=c.result.publicExponent}toSchema(){return new Zt({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:O(F(this.modulus.valueBlock.valueHex),!0,!0,!0),e:O(F(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(s){if(!("n"in s))throw new Error('Absent mandatory parameter "n"');{const c=V(L(s.n,!0));this.modulus=new jt({valueHex:c.slice(0,Math.pow(2,ie(c.byteLength)))})}if(!("e"in s))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new jt({valueHex:V(L(s.e,!0)).slice(0,3)})}}class zr{constructor(s={}){this.algorithm=b(s,"algorithm",zr.defaultValues("algorithm")),this.subjectPublicKey=b(s,"subjectPublicKey",zr.defaultValues("subjectPublicKey")),"parsedKey"in s&&(this.parsedKey=b(s,"parsedKey",zr.defaultValues("parsedKey"))),"schema"in s&&this.fromSchema(s.schema),"json"in s&&this.fromJSON(s.json)}static defaultValues(s){switch(s){case"algorithm":return new Hn;case"subjectPublicKey":return new qt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[Hn.schema(c.algorithm||{}),new qt({name:c.subjectPublicKey||""})]})}fromSchema(s){H(s,["algorithm","subjectPublicKey"]);const c=Gn(s,s,zr.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new Hn({schema:c.result.algorithm}),this.subjectPublicKey=c.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===ft.blockName())try{this.parsedKey=new Mr({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const v=pt(this.subjectPublicKey.valueBlock.valueHex);if(-1!==v.offset)try{this.parsedKey=new os({schema:v.result})}catch{}}}}toSchema(){return new Zt({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const s={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":s.kty="EC";break;case"1.2.840.113549.1.1.1":s.kty="RSA"}const c=this.parsedKey.toJSON();for(const v of Object.keys(c))s[v]=c[v];return s}fromJSON(s){if("kty"in s){switch(s.kty.toUpperCase()){case"EC":this.parsedKey=new Mr({json:s}),this.algorithm=new Hn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new ft({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new os({json:s}),this.algorithm=new Hn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Et});break;default:throw new Error(`Invalid value for "kty" parameter: ${s.kty}`)}this.subjectPublicKey=new qt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(s){let c=Promise.resolve();const v=this;if(typeof s>"u")return Promise.reject("Need to provide publicKey input parameter");const S=As();return typeof S>"u"?Promise.reject("Unable to create WebCrypto object"):(c=c.then(()=>S.exportKey("spki",s)),c=c.then(D=>{const Z=pt(D);try{v.fromSchema(Z.result)}catch{return Promise.reject("Error during initializing object from schema")}},D=>Promise.reject(`Error during exporting public key: ${D}`)),c)}}class Wr{constructor(s={}){this.type=b(s,"type",Wr.defaultValues("type")),this.values=b(s,"values",Wr.defaultValues("values")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"type":return""===c;case"values":return 0===c.length;default:throw new Error(`Invalid member name for Attribute class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.type||""}),new vi({name:c.setName||"",value:[new Pi({name:c.values||"",value:new Jr})]})]})}fromSchema(s){H(s,["type","values"]);const c=Gn(s,s,Wr.schema({names:{type:"type",values:"values"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=c.result.type.valueBlock.toString(),this.values=c.result.values}toSchema(){return new Zt({value:[new ft({value:this.type}),new vi({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,s=>s.toJSON())}}}class Cr{constructor(s={}){this.version=b(s,"version",Cr.defaultValues("version")),this.privateKey=b(s,"privateKey",Cr.defaultValues("privateKey")),"namedCurve"in s&&(this.namedCurve=b(s,"namedCurve",Cr.defaultValues("namedCurve"))),"publicKey"in s&&(this.publicKey=b(s,"publicKey",Cr.defaultValues("publicKey"))),"schema"in s&&this.fromSchema(s.schema),"json"in s&&this.fromJSON(s.json)}static defaultValues(s){switch(s){case"version":return 1;case"privateKey":return new lt;case"namedCurve":return"";case"publicKey":return new Mr;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"version":return c===Cr.defaultValues(s);case"privateKey":return c.isEqual(Cr.defaultValues(s));case"namedCurve":return""===c;case"publicKey":return Mr.compareWithDefault("namedCurve",c.namedCurve)&&Mr.compareWithDefault("x",c.x)&&Mr.compareWithDefault("y",c.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new jt({name:c.version||""}),new lt({name:c.privateKey||""}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ft({name:c.namedCurve||""})]}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new qt({name:c.publicKey||""})]})]})}fromSchema(s){H(s,["version","privateKey","namedCurve","publicKey"]);const c=Gn(s,s,Cr.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=c.result.version.valueBlock.valueDec,this.privateKey=c.result.privateKey,"namedCurve"in c.result&&(this.namedCurve=c.result.namedCurve.valueBlock.toString()),"publicKey"in c.result){const v={schema:c.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(v.namedCurve=this.namedCurve),this.publicKey=new Mr(v)}}toSchema(){const s=[new jt({value:this.version}),this.privateKey];return"namedCurve"in this&&s.push(new B({idBlock:{tagClass:3,tagNumber:0},value:[new ft({value:this.namedCurve})]})),"publicKey"in this&&s.push(new B({idBlock:{tagClass:3,tagNumber:1},value:[new qt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new Zt({value:s})}toJSON(){if(!("namedCurve"in this)||Cr.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let s="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":s="P-256";break;case"1.3.132.0.34":s="P-384";break;case"1.3.132.0.35":s="P-521"}const c={crv:s,d:O(F(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const v=this.publicKey.toJSON();c.x=v.x,c.y=v.y}return c}fromJSON(s){let c=0;if(!("crv"in s))throw new Error('Absent mandatory parameter "crv"');switch(s.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",c=32;break;case"P-384":this.namedCurve="1.3.132.0.34",c=48;break;case"P-521":this.namedCurve="1.3.132.0.35",c=66}if(!("d"in s))throw new Error('Absent mandatory parameter "d"');{const v=V(L(s.d,!0));if(v.byteLength<c){const S=new ArrayBuffer(c),D=new Uint8Array(S),Z=new Uint8Array(v);D.set(Z,1),this.privateKey=new lt({valueHex:S})}else this.privateKey=new lt({valueHex:v.slice(0,c)})}"x"in s&&"y"in s&&(this.publicKey=new Mr({json:s}))}}class cs{constructor(s={}){this.prime=b(s,"prime",cs.defaultValues("prime")),this.exponent=b(s,"exponent",cs.defaultValues("exponent")),this.coefficient=b(s,"coefficient",cs.defaultValues("coefficient")),"schema"in s&&this.fromSchema(s.schema),"json"in s&&this.fromJSON(s.json)}static defaultValues(s){switch(s){case"prime":case"exponent":case"coefficient":return new jt;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new jt({name:c.prime||""}),new jt({name:c.exponent||""}),new jt({name:c.coefficient||""})]})}fromSchema(s){H(s,["prime","exponent","coefficient"]);const c=Gn(s,s,cs.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=c.result.prime.convertFromDER(),this.exponent=c.result.exponent.convertFromDER(),this.coefficient=c.result.coefficient.convertFromDER()}toSchema(){return new Zt({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:O(F(this.prime.valueBlock.valueHex),!0,!0),d:O(F(this.exponent.valueBlock.valueHex),!0,!0),t:O(F(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(s){if(!("r"in s))throw new Error('Absent mandatory parameter "r"');if(this.prime=new jt({valueHex:V(L(s.r,!0))}),!("d"in s))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new jt({valueHex:V(L(s.d,!0))}),!("t"in s))throw new Error('Absent mandatory parameter "t"');this.coefficient=new jt({valueHex:V(L(s.t,!0))})}}class nr{constructor(s={}){this.version=b(s,"version",nr.defaultValues("version")),this.modulus=b(s,"modulus",nr.defaultValues("modulus")),this.publicExponent=b(s,"publicExponent",nr.defaultValues("publicExponent")),this.privateExponent=b(s,"privateExponent",nr.defaultValues("privateExponent")),this.prime1=b(s,"prime1",nr.defaultValues("prime1")),this.prime2=b(s,"prime2",nr.defaultValues("prime2")),this.exponent1=b(s,"exponent1",nr.defaultValues("exponent1")),this.exponent2=b(s,"exponent2",nr.defaultValues("exponent2")),this.coefficient=b(s,"coefficient",nr.defaultValues("coefficient")),"otherPrimeInfos"in s&&(this.otherPrimeInfos=b(s,"otherPrimeInfos",nr.defaultValues("otherPrimeInfos"))),"schema"in s&&this.fromSchema(s.schema),"json"in s&&this.fromJSON(s.json)}static defaultValues(s){switch(s){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new jt;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new jt({name:c.version||""}),new jt({name:c.modulus||""}),new jt({name:c.publicExponent||""}),new jt({name:c.privateExponent||""}),new jt({name:c.prime1||""}),new jt({name:c.prime2||""}),new jt({name:c.exponent1||""}),new jt({name:c.exponent2||""}),new jt({name:c.coefficient||""}),new Zt({optional:!0,value:[new Pi({name:c.otherPrimeInfosName||"",value:cs.schema(c.otherPrimeInfo||{})})]})]})}fromSchema(s){H(s,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const c=Gn(s,s,nr.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=c.result.version.valueBlock.valueDec,this.modulus=c.result.modulus.convertFromDER(256),this.publicExponent=c.result.publicExponent,this.privateExponent=c.result.privateExponent.convertFromDER(256),this.prime1=c.result.prime1.convertFromDER(128),this.prime2=c.result.prime2.convertFromDER(128),this.exponent1=c.result.exponent1.convertFromDER(128),this.exponent2=c.result.exponent2.convertFromDER(128),this.coefficient=c.result.coefficient.convertFromDER(128),"otherPrimeInfos"in c.result&&(this.otherPrimeInfos=Array.from(c.result.otherPrimeInfos,v=>new cs({schema:v})))}toSchema(){const s=[];return s.push(new jt({value:this.version})),s.push(this.modulus.convertToDER()),s.push(this.publicExponent),s.push(this.privateExponent.convertToDER()),s.push(this.prime1.convertToDER()),s.push(this.prime2.convertToDER()),s.push(this.exponent1.convertToDER()),s.push(this.exponent2.convertToDER()),s.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&s.push(new Zt({value:Array.from(this.otherPrimeInfos,c=>c.toSchema())})),new Zt({value:s})}toJSON(){const s={n:O(F(this.modulus.valueBlock.valueHex),!0,!0,!0),e:O(F(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:O(F(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:O(F(this.prime1.valueBlock.valueHex),!0,!0,!0),q:O(F(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:O(F(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:O(F(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:O(F(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(s.oth=Array.from(this.otherPrimeInfos,c=>c.toJSON())),s}fromJSON(s){if(!("n"in s))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new jt({valueHex:V(L(s.n,!0,!0))}),!("e"in s))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new jt({valueHex:V(L(s.e,!0,!0))}),!("d"in s))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new jt({valueHex:V(L(s.d,!0,!0))}),!("p"in s))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new jt({valueHex:V(L(s.p,!0,!0))}),!("q"in s))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new jt({valueHex:V(L(s.q,!0,!0))}),!("dp"in s))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new jt({valueHex:V(L(s.dp,!0,!0))}),!("dq"in s))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new jt({valueHex:V(L(s.dq,!0,!0))}),!("qi"in s))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new jt({valueHex:V(L(s.qi,!0,!0))}),"oth"in s&&(this.otherPrimeInfos=Array.from(s.oth,c=>new cs({json:c})))}}class br{constructor(s={}){this.version=b(s,"version",br.defaultValues("version")),this.privateKeyAlgorithm=b(s,"privateKeyAlgorithm",br.defaultValues("privateKeyAlgorithm")),this.privateKey=b(s,"privateKey",br.defaultValues("privateKey")),"attributes"in s&&(this.attributes=b(s,"attributes",br.defaultValues("attributes"))),"parsedKey"in s&&(this.parsedKey=b(s,"parsedKey",br.defaultValues("parsedKey"))),"schema"in s&&this.fromSchema(s.schema),"json"in s&&this.fromJSON(s.json)}static defaultValues(s){switch(s){case"version":return 0;case"privateKeyAlgorithm":return new Hn;case"privateKey":return new lt;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new jt({name:c.version||""}),Hn.schema(c.privateKeyAlgorithm||{}),new lt({name:c.privateKey||""}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:c.attributes||"",value:Wr.schema()})]})]})}fromSchema(s){H(s,["version","privateKeyAlgorithm","privateKey","attributes"]);const c=Gn(s,s,br.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=c.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new Hn({schema:c.result.privateKeyAlgorithm}),this.privateKey=c.result.privateKey,"attributes"in c.result&&(this.attributes=Array.from(c.result.attributes,v=>new Wr({schema:v}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const v=pt(this.privateKey.valueBlock.valueHex);-1!==v.offset&&(this.parsedKey=new nr({schema:v.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof ft){const v=pt(this.privateKey.valueBlock.valueHex);-1!==v.offset&&(this.parsedKey=new Cr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:v.result}))}}}toSchema(){const s=[new jt({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&s.push(new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,c=>c.toSchema())})),new Zt({value:s})}toJSON(){if(!("parsedKey"in this)){const v={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(v.attributes=Array.from(this.attributes,S=>S.toJSON())),v}const s={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":s.kty="EC";break;case"1.2.840.113549.1.1.1":s.kty="RSA"}const c=this.parsedKey.toJSON();for(const v of Object.keys(c))s[v]=c[v];return s}fromJSON(s){if("kty"in s){switch(s.kty.toUpperCase()){case"EC":this.parsedKey=new Cr({json:s}),this.privateKeyAlgorithm=new Hn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new ft({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new nr({json:s}),this.privateKeyAlgorithm=new Hn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Et});break;default:throw new Error(`Invalid value for "kty" parameter: ${s.kty}`)}this.privateKey=new lt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class us{constructor(s={}){if(this.contentType=b(s,"contentType",us.defaultValues("contentType")),this.contentEncryptionAlgorithm=b(s,"contentEncryptionAlgorithm",us.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in s&&(this.encryptedContent=s.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const c=new lt({idBlock:{isConstructed:!0},isConstructed:!0});let v=0,S=this.encryptedContent.valueBlock.valueHex.byteLength;for(;S>0;){const D=new Uint8Array(this.encryptedContent.valueBlock.valueHex,v,v+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-v:1024),Z=new ArrayBuffer(D.length),re=new Uint8Array(Z);for(let de=0;de<re.length;de++)re[de]=D[de];c.valueBlock.value.push(new lt({valueHex:Z})),S-=D.length,v+=D.length}this.encryptedContent=c}"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"contentType":return"";case"contentEncryptionAlgorithm":return new Hn;case"encryptedContent":return new lt;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"contentType":return""===c;case"contentEncryptionAlgorithm":return""===c.algorithmId&&!("algorithmParams"in c);case"encryptedContent":return c.isEqual(us.defaultValues(s));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.contentType||""}),Hn.schema(c.contentEncryptionAlgorithm||{}),new sr({value:[new B({name:c.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Pi({value:new lt})]}),new Qe({name:c.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(s){H(s,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const c=Gn(s,s,us.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=c.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new Hn({schema:c.result.contentEncryptionAlgorithm}),"encryptedContent"in c.result&&(this.encryptedContent=c.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const s={isIndefiniteForm:!1},c=[];if(c.push(new ft({value:this.contentType})),c.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){s.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const v=this.encryptedContent;v.idBlock.tagClass=3,v.idBlock.tagNumber=0,v.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,c.push(v)}return new Zt({lenBlock:s,value:c})}toJSON(){const s={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(s.encryptedContent=this.encryptedContent.toJSON()),s}}class wr{constructor(s={}){this.hashAlgorithm=b(s,"hashAlgorithm",wr.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=b(s,"maskGenAlgorithm",wr.defaultValues("maskGenAlgorithm")),this.saltLength=b(s,"saltLength",wr.defaultValues("saltLength")),this.trailerField=b(s,"trailerField",wr.defaultValues("trailerField")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"hashAlgorithm":return new Hn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Et});case"maskGenAlgorithm":return new Hn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Hn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Et}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new B({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Hn.schema(c.hashAlgorithm||{})]}),new B({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Hn.schema(c.maskGenAlgorithm||{})]}),new B({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new jt({name:c.saltLength||""})]}),new B({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new jt({name:c.trailerField||""})]})]})}fromSchema(s){H(s,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const c=Gn(s,s,wr.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in c.result&&(this.hashAlgorithm=new Hn({schema:c.result.hashAlgorithm})),"maskGenAlgorithm"in c.result&&(this.maskGenAlgorithm=new Hn({schema:c.result.maskGenAlgorithm})),"saltLength"in c.result&&(this.saltLength=c.result.saltLength.valueBlock.valueDec),"trailerField"in c.result&&(this.trailerField=c.result.trailerField.valueBlock.valueDec)}toSchema(){const s=[];return this.hashAlgorithm.isEqual(wr.defaultValues("hashAlgorithm"))||s.push(new B({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(wr.defaultValues("maskGenAlgorithm"))||s.push(new B({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==wr.defaultValues("saltLength")&&s.push(new B({idBlock:{tagClass:3,tagNumber:2},value:[new jt({value:this.saltLength})]})),this.trailerField!==wr.defaultValues("trailerField")&&s.push(new B({idBlock:{tagClass:3,tagNumber:3},value:[new jt({value:this.trailerField})]})),new Zt({value:s})}toJSON(){const s={};return this.hashAlgorithm.isEqual(wr.defaultValues("hashAlgorithm"))||(s.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(wr.defaultValues("maskGenAlgorithm"))||(s.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==wr.defaultValues("saltLength")&&(s.saltLength=this.saltLength),this.trailerField!==wr.defaultValues("trailerField")&&(s.trailerField=this.trailerField),s}}class Oi{constructor(s={}){this.salt=b(s,"salt",Oi.defaultValues("salt")),this.iterationCount=b(s,"iterationCount",Oi.defaultValues("iterationCount")),"keyLength"in s&&(this.keyLength=b(s,"keyLength",Oi.defaultValues("keyLength"))),"prf"in s&&(this.prf=b(s,"prf",Oi.defaultValues("prf"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new Hn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Et});default:throw new Error(`Invalid member name for PBKDF2Params class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new sr({value:[new lt({name:c.saltPrimitive||""}),Hn.schema(c.saltConstructed||{})]}),new jt({name:c.iterationCount||""}),new jt({name:c.keyLength||"",optional:!0}),Hn.schema(c.prf||{names:{optional:!0}})]})}fromSchema(s){H(s,["salt","iterationCount","keyLength","prf"]);const c=Gn(s,s,Oi.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=c.result.salt,this.iterationCount=c.result.iterationCount.valueBlock.valueDec,"keyLength"in c.result&&(this.keyLength=c.result.keyLength.valueBlock.valueDec),"prf"in c.result&&(this.prf=new Hn({schema:c.result.prf}))}toSchema(){const s=[];return s.push(this.salt),s.push(new jt({value:this.iterationCount})),"keyLength"in this&&Oi.defaultValues("keyLength")!==this.keyLength&&s.push(new jt({value:this.keyLength})),"prf"in this&&!1===Oi.defaultValues("prf").isEqual(this.prf)&&s.push(this.prf.toSchema()),new Zt({value:s})}toJSON(){const s={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&Oi.defaultValues("keyLength")!==this.keyLength&&(s.keyLength=this.keyLength),"prf"in this&&!1===Oi.defaultValues("prf").isEqual(this.prf)&&(s.prf=this.prf.toJSON()),s}}class Xr{constructor(s={}){this.keyDerivationFunc=b(s,"keyDerivationFunc",Xr.defaultValues("keyDerivationFunc")),this.encryptionScheme=b(s,"encryptionScheme",Xr.defaultValues("encryptionScheme")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"keyDerivationFunc":case"encryptionScheme":return new Hn;default:throw new Error(`Invalid member name for PBES2Params class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[Hn.schema(c.keyDerivationFunc||{}),Hn.schema(c.encryptionScheme||{})]})}fromSchema(s){H(s,["keyDerivationFunc","encryptionScheme"]);const c=Gn(s,s,Xr.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new Hn({schema:c.result.keyDerivationFunc}),this.encryptionScheme=new Hn({schema:c.result.encryptionScheme})}toSchema(){return new Zt({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function ps(Fe,s,c,v,S,D){let Z,re;const de=[];switch(s.toUpperCase()){case"SHA-1":Z=20,re=64;break;case"SHA-256":Z=32,re=64;break;case"SHA-384":Z=48,re=128;break;case"SHA-512":Z=64,re=128;break;default:throw new Error("Unsupported hashing algorithm")}const Oe=new Uint8Array(v),gt=new ArrayBuffer(2*v.byteLength+2),Dt=new Uint8Array(gt);for(let $r=0;$r<Oe.length;$r++)Dt[2*$r]=0,Dt[2*$r+1]=Oe[$r];Dt[Dt.length-2]=0,Dt[Dt.length-1]=0,v=gt.slice(0);const Ht=new ArrayBuffer(re),pn=new Uint8Array(Ht);for(let $r=0;$r<Ht.byteLength;$r++)pn[$r]=3;const Tn=S.byteLength,Ti=re*Math.ceil(Tn/re),Hi=new ArrayBuffer(Ti),dr=new Uint8Array(Hi),ys=new Uint8Array(S);for(let $r=0;$r<Ti;$r++)dr[$r]=ys[$r%Tn];const Ms=v.byteLength,Hr=re*Math.ceil(Ms/re),Kr=new ArrayBuffer(Hr),Zs=new Uint8Array(Kr),Ua=new Uint8Array(v);for(let $r=0;$r<Hr;$r++)Zs[$r]=Ua[$r%Ms];let wa=new ArrayBuffer(Hi.byteLength+Kr.byteLength),ll=new Uint8Array(wa);ll.set(dr),ll.set(Zs,dr.length);const gu=Math.ceil((c>>3)/Z);let ko=Promise.resolve(wa);for(let $r=0;$r<=gu;$r++){ko=ko.then(ma=>{const is=new ArrayBuffer(Ht.byteLength+ma.byteLength),Qa=new Uint8Array(is);return Qa.set(pn),Qa.set(ll,pn.length),is});for(let ma=0;ma<D;ma++)ko=ko.then(is=>Fe.digest({name:s},new Uint8Array(is)));ko=ko.then(ma=>{const is=new ArrayBuffer(re),Qa=new Uint8Array(is);for(let Fa=0;Fa<is.byteLength;Fa++)Qa[Fa]=ma[Fa%ma.length];const _u=Math.ceil(Tn/re)+Math.ceil(Ms/re),cl=[];let ga=0,vu=re;for(let Fa=0;Fa<_u;Fa++){const uc=Array.from(new Uint8Array(wa.slice(ga,ga+vu)));ga+=re,ga+re>wa.byteLength&&(vu=wa.byteLength-ga);let ul=511;for(let na=is.byteLength-1;na>=0;na--)ul>>=8,ul+=Qa[na]+uc[na],uc[na]=255&ul;cl.push(...uc)}return wa=new ArrayBuffer(cl.length),ll=new Uint8Array(wa),ll.set(cl),de.push(...new Uint8Array(ma)),wa})}return ko=ko.then(()=>{const $r=new ArrayBuffer(c>>3);return new Uint8Array($r).set(new Uint8Array(de).slice(0,c>>3)),$r}),ko}class Os{constructor(s={}){this.crypto=b(s,"crypto",{}),this.subtle=b(s,"subtle",{}),this.name=b(s,"name","")}importKey(s,c,v,S,D){let Z={};switch(c instanceof Uint8Array&&(c=c.buffer),s.toLowerCase()){case"raw":return this.subtle.importKey("raw",c,v,S,D);case"spki":{const re=pt(c);if(-1===re.offset)return Promise.reject("Incorrect keyData");const de=new zr;try{de.fromSchema(re.result)}catch{return Promise.reject("Incorrect keyData")}switch(v.name.toUpperCase()){case"RSA-PSS":switch(v.hash.name.toUpperCase()){case"SHA-1":Z.alg="PS1";break;case"SHA-256":Z.alg="PS256";break;case"SHA-384":Z.alg="PS384";break;case"SHA-512":Z.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(D=["verify"],Z.kty="RSA",Z.ext=S,Z.key_ops=D,"1.2.840.113549.1.1.1"!==de.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${de.algorithm.algorithmId}`);if(!("alg"in Z))switch(v.hash.name.toUpperCase()){case"SHA-1":Z.alg="RS1";break;case"SHA-256":Z.alg="RS256";break;case"SHA-384":Z.alg="RS384";break;case"SHA-512":Z.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Oe=de.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;case"ECDSA":D=["verify"];case"ECDH":{if(Z={kty:"EC",ext:S,key_ops:D},"1.2.840.10045.2.1"!==de.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${de.algorithm.algorithmId}`);const Oe=de.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;case"RSA-OAEP":{if(Z.kty="RSA",Z.ext=S,Z.key_ops=D,"safari"===this.name.toLowerCase())Z.alg="RSA-OAEP";else switch(v.hash.name.toUpperCase()){case"SHA-1":Z.alg="RSA-OAEP";break;case"SHA-256":Z.alg="RSA-OAEP-256";break;case"SHA-384":Z.alg="RSA-OAEP-384";break;case"SHA-512":Z.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Oe=de.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;case"RSAES-PKCS1-V1_5":{Z.kty="RSA",Z.ext=S,Z.key_ops=D,Z.alg="PS1";const Oe=de.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;default:return Promise.reject(`Incorrect algorithm name: ${v.name.toUpperCase()}`)}}break;case"pkcs8":{const re=new br,de=pt(c);if(-1===de.offset)return Promise.reject("Incorrect keyData");try{re.fromSchema(de.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in re))return Promise.reject("Incorrect keyData");switch(v.name.toUpperCase()){case"RSA-PSS":switch(v.hash.name.toUpperCase()){case"SHA-1":Z.alg="PS1";break;case"SHA-256":Z.alg="PS256";break;case"SHA-384":Z.alg="PS384";break;case"SHA-512":Z.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(D=["sign"],Z.kty="RSA",Z.ext=S,Z.key_ops=D,"1.2.840.113549.1.1.1"!==re.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${re.privateKeyAlgorithm.algorithmId}`);if(!("alg"in Z))switch(v.hash.name.toUpperCase()){case"SHA-1":Z.alg="RS1";break;case"SHA-256":Z.alg="RS256";break;case"SHA-384":Z.alg="RS384";break;case"SHA-512":Z.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Oe=re.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;case"ECDSA":D=["sign"];case"ECDH":{if(Z={kty:"EC",ext:S,key_ops:D},"1.2.840.10045.2.1"!==re.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${re.privateKeyAlgorithm.algorithmId}`);const Oe=re.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;case"RSA-OAEP":{if(Z.kty="RSA",Z.ext=S,Z.key_ops=D,"safari"===this.name.toLowerCase())Z.alg="RSA-OAEP";else switch(v.hash.name.toUpperCase()){case"SHA-1":Z.alg="RSA-OAEP";break;case"SHA-256":Z.alg="RSA-OAEP-256";break;case"SHA-384":Z.alg="RSA-OAEP-384";break;case"SHA-512":Z.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${v.hash.name.toUpperCase()}`)}const Oe=re.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;case"RSAES-PKCS1-V1_5":{D=["decrypt"],Z.kty="RSA",Z.ext=S,Z.key_ops=D,Z.alg="PS1";const Oe=re.toJSON();for(const gt of Object.keys(Oe))Z[gt]=Oe[gt]}break;default:return Promise.reject(`Incorrect algorithm name: ${v.name.toUpperCase()}`)}}break;case"jwk":Z=c;break;default:return Promise.reject(`Incorrect format: ${s}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",V(JSON.stringify(Z)),v,S,D)).then(re=>re,()=>this.subtle.importKey("jwk",Z,v,S,D)):this.subtle.importKey("jwk",Z,v,S,D)}exportKey(s,c){let v=this.subtle.exportKey("jwk",c);switch("safari"===this.name.toLowerCase()&&(v=v.then(S=>S instanceof ArrayBuffer?JSON.parse(F(S)):S)),s.toLowerCase()){case"raw":return this.subtle.exportKey("raw",c);case"spki":v=v.then(S=>{const D=new zr;try{D.fromJSON(S)}catch{return Promise.reject("Incorrect key data")}return D.toSchema().toBER(!1)});break;case"pkcs8":v=v.then(S=>{const D=new br;try{D.fromJSON(S)}catch{return Promise.reject("Incorrect key data")}return D.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${s}`)}return v}convert(s,c,v,S,D,Z){switch(s.toLowerCase()){case"raw":switch(c.toLowerCase()){case"raw":return Promise.resolve(v);case"spki":return Promise.resolve().then(()=>this.importKey("raw",v,S,D,Z)).then(re=>this.exportKey("spki",re));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",v,S,D,Z)).then(re=>this.exportKey("pkcs8",re));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",v,S,D,Z)).then(re=>this.exportKey("jwk",re));default:return Promise.reject(`Incorrect outputFormat: ${c}`)}case"spki":switch(c.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",v,S,D,Z)).then(re=>this.exportKey("raw",re));case"spki":return Promise.resolve(v);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",v,S,D,Z)).then(re=>this.exportKey("jwk",re));default:return Promise.reject(`Incorrect outputFormat: ${c}`)}case"pkcs8":switch(c.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",v,S,D,Z)).then(re=>this.exportKey("raw",re));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(v);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",v,S,D,Z)).then(re=>this.exportKey("jwk",re));default:return Promise.reject(`Incorrect outputFormat: ${c}`)}case"jwk":switch(c.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",v,S,D,Z)).then(re=>this.exportKey("raw",re));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",v,S,D,Z)).then(re=>this.exportKey("spki",re));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",v,S,D,Z)).then(re=>this.exportKey("pkcs8",re));case"jwk":return Promise.resolve(v);default:return Promise.reject(`Incorrect outputFormat: ${c}`)}default:return Promise.reject(`Incorrect inputFormat: ${s}`)}}encrypt(...s){return this.subtle.encrypt(...s)}decrypt(...s){return this.subtle.decrypt(...s)}sign(...s){return this.subtle.sign(...s)}verify(...s){return this.subtle.verify(...s)}digest(...s){return this.subtle.digest(...s)}generateKey(...s){return this.subtle.generateKey(...s)}deriveKey(...s){return this.subtle.deriveKey(...s)}deriveBits(...s){return this.subtle.deriveBits(...s)}wrapKey(...s){return this.subtle.wrapKey(...s)}unwrapKey(...s){return this.subtle.unwrapKey(...s)}getRandomValues(s){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(s)}getAlgorithmByOID(s){switch(s){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(s){let c="";switch(s.name.toUpperCase()){case"RSAES-PKCS1-V1_5":c="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(s.hash.name.toUpperCase()){case"SHA-1":c="1.2.840.113549.1.1.5";break;case"SHA-256":c="1.2.840.113549.1.1.11";break;case"SHA-384":c="1.2.840.113549.1.1.12";break;case"SHA-512":c="1.2.840.113549.1.1.13"}break;case"RSA-PSS":c="1.2.840.113549.1.1.10";break;case"RSA-OAEP":c="1.2.840.113549.1.1.7";break;case"ECDSA":switch(s.hash.name.toUpperCase()){case"SHA-1":c="1.2.840.10045.4.1";break;case"SHA-256":c="1.2.840.10045.4.3.2";break;case"SHA-384":c="1.2.840.10045.4.3.3";break;case"SHA-512":c="1.2.840.10045.4.3.4"}break;case"ECDH":switch(s.kdf.toUpperCase()){case"SHA-1":c="1.3.133.16.840.63.0.2";break;case"SHA-256":c="1.3.132.1.11.1";break;case"SHA-384":c="1.3.132.1.11.2";break;case"SHA-512":c="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(s.length){case 128:c="2.16.840.1.101.3.4.1.2";break;case 192:c="2.16.840.1.101.3.4.1.22";break;case 256:c="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(s.length){case 128:c="2.16.840.1.101.3.4.1.6";break;case 192:c="2.16.840.1.101.3.4.1.26";break;case 256:c="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(s.length){case 128:c="2.16.840.1.101.3.4.1.4";break;case 192:c="2.16.840.1.101.3.4.1.24";break;case 256:c="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(s.length){case 128:c="2.16.840.1.101.3.4.1.5";break;case 192:c="2.16.840.1.101.3.4.1.25";break;case 256:c="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(s.hash.name.toUpperCase()){case"SHA-1":c="1.2.840.113549.2.7";break;case"SHA-256":c="1.2.840.113549.2.9";break;case"SHA-384":c="1.2.840.113549.2.10";break;case"SHA-512":c="1.2.840.113549.2.11"}break;case"DH":c="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":c="1.3.14.3.2.26";break;case"SHA-256":c="2.16.840.1.101.3.4.2.1";break;case"SHA-384":c="2.16.840.1.101.3.4.2.2";break;case"SHA-512":c="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":c="1.2.840.113549.1.5.12";break;case"P-256":c="1.2.840.10045.3.1.7";break;case"P-384":c="1.3.132.0.34";break;case"P-521":c="1.3.132.0.35"}return c}getAlgorithmParameters(s,c){let v={algorithm:{},usages:[]};switch(s.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(c.toLowerCase()){case"generatekey":v={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":v={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(c.toLowerCase()){case"sign":case"verify":v={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":v={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":v={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(c.toLowerCase()){case"encrypt":case"decrypt":v={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":v={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":v={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(c.toLowerCase()){case"generatekey":v={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":v={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":v={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(c.toLowerCase()){case"exportkey":case"importkey":case"generatekey":v={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":v={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":v={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":v={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":v={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(c.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":v={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(c.toLowerCase()){case"sign":case"verify":v={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":v={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==c.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};v={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==c.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};v={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return v}getHashAlgorithm(s){let c="";switch(s.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":c="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":c="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":c="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":c="SHA-512";break;case"1.2.840.113549.1.1.10":try{const v=new wr({schema:s.algorithmParams});if("hashAlgorithm"in v){const S=this.getAlgorithmByOID(v.hashAlgorithm.algorithmId);if(!("name"in S))return"";c=S.name}else c="SHA-1"}catch{}}return c}encryptEncryptedContentInfo(s){if(!(s instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in s))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in s))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in s))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in s))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in s))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in s))return Promise.reject('Absent mandatory parameter "contentType"');const c=this.getOIDByAlgorithm(s.contentEncryptionAlgorithm);if(""===c)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const v=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===v)return Promise.reject("Can not find OID for PBKDF2");const S=this.getOIDByAlgorithm({name:"HMAC",hash:{name:s.hmacHashAlgorithm}});if(""===S)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${s.hmacHashAlgorithm}`);let D=Promise.resolve();const Z=new ArrayBuffer(16),re=new Uint8Array(Z);this.getRandomValues(re);const de=new ArrayBuffer(64),Oe=new Uint8Array(de);this.getRandomValues(Oe);const gt=new Uint8Array(s.contentToEncrypt),Dt=new Oi({salt:new lt({valueHex:de}),iterationCount:s.iterationCount,prf:new Hn({algorithmId:S,algorithmParams:new Et})});return D=D.then(()=>{const Ht=new Uint8Array(s.password);return this.importKey("raw",Ht,"PBKDF2",!1,["deriveKey"])},Ht=>Promise.reject(Ht)),D=D.then(Ht=>this.deriveKey({name:"PBKDF2",hash:{name:s.hmacHashAlgorithm},salt:Oe,iterations:s.iterationCount},Ht,s.contentEncryptionAlgorithm,!1,["encrypt"]),Ht=>Promise.reject(Ht)),D=D.then(Ht=>this.encrypt({name:s.contentEncryptionAlgorithm.name,iv:re},Ht,gt),Ht=>Promise.reject(Ht)),D=D.then(Ht=>{const pn=new Xr({keyDerivationFunc:new Hn({algorithmId:v,algorithmParams:Dt.toSchema()}),encryptionScheme:new Hn({algorithmId:c,algorithmParams:new lt({valueHex:Z})})});return new us({contentType:s.contentType,contentEncryptionAlgorithm:new Hn({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:pn.toSchema()}),encryptedContent:new lt({valueHex:Ht})})},Ht=>Promise.reject(Ht)),D}decryptEncryptedContentInfo(s){if(!(s instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in s))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in s))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let v,S,c=Promise.resolve();try{v=new Xr({schema:s.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{S=new Oi({schema:v.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const D=this.getAlgorithmByOID(v.encryptionScheme.algorithmId);if(!("name"in D))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${v.encryptionScheme.algorithmId}`);const re=new Uint8Array(v.encryptionScheme.algorithmParams.valueBlock.valueHex),Oe=new Uint8Array(S.salt.valueBlock.valueHex),gt=S.iterationCount;let Dt="SHA-1";if("prf"in S){const Ht=this.getAlgorithmByOID(S.prf.algorithmId);if(!("name"in Ht))return Promise.reject("Incorrect OID for HMAC hash algorithm");Dt=Ht.hash.name}return c=c.then(()=>this.importKey("raw",s.password,"PBKDF2",!1,["deriveKey"]),Ht=>Promise.reject(Ht)),c=c.then(Ht=>this.deriveKey({name:"PBKDF2",hash:{name:Dt},salt:Oe,iterations:gt},Ht,D,!1,["decrypt"]),Ht=>Promise.reject(Ht)),c=c.then(Ht=>{let pn=new ArrayBuffer(0);if(!1===s.encryptedContentInfo.encryptedContent.idBlock.isConstructed)pn=s.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const Tn of s.encryptedContentInfo.encryptedContent.valueBlock.value)pn=_(pn,Tn.valueBlock.valueHex);return this.decrypt({name:D.name,iv:re},Ht,pn)},Ht=>Promise.reject(Ht)),c}stampDataWithPassword(s){if(!(s instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in s))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in s))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in s))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in s))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in s))return Promise.reject('Absent mandatory parameter "contentToStamp"');let c;switch(s.hashAlgorithm.toLowerCase()){case"sha-1":c=160;break;case"sha-256":c=256;break;case"sha-384":c=384;break;case"sha-512":c=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${s.hashAlgorithm}`)}let v=Promise.resolve();const S={name:"HMAC",length:c,hash:{name:s.hashAlgorithm}};return v=v.then(()=>ps(this,s.hashAlgorithm,c,s.password,s.salt,s.iterationCount)),v=v.then(D=>this.importKey("raw",new Uint8Array(D),S,!1,["sign"])),v=v.then(D=>this.sign(S,D,new Uint8Array(s.contentToStamp)),D=>Promise.reject(D)),v}verifyDataStampedWithPassword(s){if(!(s instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in s))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in s))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in s))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in s))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in s))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in s))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let c;switch(s.hashAlgorithm.toLowerCase()){case"sha-1":c=160;break;case"sha-256":c=256;break;case"sha-384":c=384;break;case"sha-512":c=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${s.hashAlgorithm}`)}let v=Promise.resolve();const S={name:"HMAC",length:c,hash:{name:s.hashAlgorithm}};return v=v.then(()=>ps(this,s.hashAlgorithm,c,s.password,s.salt,s.iterationCount)),v=v.then(D=>this.importKey("raw",new Uint8Array(D),S,!1,["verify"])),v=v.then(D=>this.verify(S,D,new Uint8Array(s.signatureToVerify),new Uint8Array(s.contentToVerify)),D=>Promise.reject(D)),v}getSignatureParameters(s,c="SHA-1"){if(""===this.getOIDByAlgorithm({name:c}))return Promise.reject(`Unsupported hash algorithm: ${c}`);const S=new Hn,D=this.getAlgorithmParameters(s.algorithm.name,"sign");switch(D.algorithm.hash.name=c,s.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":S.algorithmId=this.getOIDByAlgorithm(D.algorithm);break;case"RSA-PSS":{switch(c.toUpperCase()){case"SHA-256":D.algorithm.saltLength=32;break;case"SHA-384":D.algorithm.saltLength=48;break;case"SHA-512":D.algorithm.saltLength=64}const Z={};if("SHA-1"!==c.toUpperCase()){const de=this.getOIDByAlgorithm({name:c});if(""===de)return Promise.reject(`Unsupported hash algorithm: ${c}`);Z.hashAlgorithm=new Hn({algorithmId:de,algorithmParams:new Et}),Z.maskGenAlgorithm=new Hn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:Z.hashAlgorithm.toSchema()})}20!==D.algorithm.saltLength&&(Z.saltLength=D.algorithm.saltLength);const re=new wr(Z);S.algorithmId="1.2.840.113549.1.1.10",S.algorithmParams=re.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${s.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:S,parameters:D}))}signWithPrivateKey(s,c,v){return this.sign(v.algorithm,c,new Uint8Array(s)).then(S=>("ECDSA"===v.algorithm.name&&(S=function Ps(Fe){if(Fe.byteLength%2!=0)return new ArrayBuffer(0);const s=Fe.byteLength/2,c=new ArrayBuffer(s);new Uint8Array(c).set(new Uint8Array(Fe,0,s));const S=new jt({valueHex:c}),D=new ArrayBuffer(s);new Uint8Array(D).set(new Uint8Array(Fe,s,s));const re=new jt({valueHex:D});return new Zt({value:[S.convertToDER(),re.convertToDER()]}).toBER(!1)}(S)),S),S=>Promise.reject(`Signing error: ${S}`))}fillPublicKeyParameters(s,c){const v={},S=this.getHashAlgorithm(c);if(""===S)return Promise.reject(`Unsupported signature algorithm: ${c.algorithmId}`);let D;D="1.2.840.113549.1.1.10"===c.algorithmId?c.algorithmId:s.algorithm.algorithmId;const Z=this.getAlgorithmByOID(D);if("name"in Z==="")return Promise.reject(`Unsupported public key algorithm: ${c.algorithmId}`);if(v.algorithm=this.getAlgorithmParameters(Z.name,"importkey"),"hash"in v.algorithm.algorithm&&(v.algorithm.algorithm.hash.name=S),"ECDSA"===Z.name){let re=!1;if("algorithmParams"in s.algorithm&&"idBlock"in s.algorithm.algorithmParams&&1===s.algorithm.algorithmParams.idBlock.tagClass&&6===s.algorithm.algorithmParams.idBlock.tagNumber&&(re=!0),!1===re)return Promise.reject("Incorrect type for ECDSA public key parameters");const de=this.getAlgorithmByOID(s.algorithm.algorithmParams.valueBlock.toString());if(!("name"in de))return Promise.reject(`Unsupported named curve algorithm: ${s.algorithm.algorithmParams.valueBlock.toString()}`);v.algorithm.algorithm.namedCurve=de.name}return v}getPublicKey(s,c,v=null){null===v&&(v=this.fillPublicKeyParameters(s,c));const D=s.toSchema().toBER(!1),Z=new Uint8Array(D);return this.importKey("spki",Z,v.algorithm.algorithm,!0,v.algorithm.usages)}verifyWithPublicKey(s,c,v,S,D=null){let Z=Promise.resolve();if(null===D){if(""===(D=this.getHashAlgorithm(S)))return Promise.reject(`Unsupported signature algorithm: ${S.algorithmId}`);Z=Z.then(()=>this.getPublicKey(v,S))}else{const re={};let de;de="1.2.840.113549.1.1.10"===S.algorithmId?S.algorithmId:v.algorithm.algorithmId;const Oe=this.getAlgorithmByOID(de);if("name"in Oe==="")return Promise.reject(`Unsupported public key algorithm: ${S.algorithmId}`);if(re.algorithm=this.getAlgorithmParameters(Oe.name,"importkey"),"hash"in re.algorithm.algorithm&&(re.algorithm.algorithm.hash.name=D),"ECDSA"===Oe.name){let gt=!1;if("algorithmParams"in v.algorithm&&"idBlock"in v.algorithm.algorithmParams&&1===v.algorithm.algorithmParams.idBlock.tagClass&&6===v.algorithm.algorithmParams.idBlock.tagNumber&&(gt=!0),!1===gt)return Promise.reject("Incorrect type for ECDSA public key parameters");const Dt=this.getAlgorithmByOID(v.algorithm.algorithmParams.valueBlock.toString());if(!("name"in Dt))return Promise.reject(`Unsupported named curve algorithm: ${v.algorithm.algorithmParams.valueBlock.toString()}`);re.algorithm.algorithm.namedCurve=Dt.name}Z=Z.then(()=>this.getPublicKey(v,null,re))}return Z=Z.then(re=>{const de=this.getAlgorithmParameters(re.algorithm.name,"verify");"hash"in de.algorithm&&(de.algorithm.hash.name=D);let Oe=c.valueBlock.valueHex;if("ECDSA"===re.algorithm.name&&(Oe=function Ss(Fe){if(!(Fe instanceof Zt))return new ArrayBuffer(0);if(2!==Fe.valueBlock.value.length)return new ArrayBuffer(0);if(!(Fe.valueBlock.value[0]instanceof jt))return new ArrayBuffer(0);if(!(Fe.valueBlock.value[1]instanceof jt))return new ArrayBuffer(0);const s=Fe.valueBlock.value[0].convertFromDER(),c=Fe.valueBlock.value[1].convertFromDER();switch(!0){case s.valueBlock.valueHex.byteLength<c.valueBlock.valueHex.byteLength:{if(c.valueBlock.valueHex.byteLength-s.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const v=c.valueBlock.valueHex.byteLength,S=new Uint8Array(s.valueBlock.valueHex),D=new ArrayBuffer(v),Z=new Uint8Array(D);return Z.set(S,1),Z[0]=0,_(D,c.valueBlock.valueHex)}case s.valueBlock.valueHex.byteLength>c.valueBlock.valueHex.byteLength:{if(s.valueBlock.valueHex.byteLength-c.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const v=s.valueBlock.valueHex.byteLength,S=new Uint8Array(c.valueBlock.valueHex),D=new ArrayBuffer(v),Z=new Uint8Array(D);return Z.set(S,1),Z[0]=0,_(s.valueBlock.valueHex,D)}default:if(s.valueBlock.valueHex.byteLength%2){const v=s.valueBlock.valueHex.byteLength+1,S=new Uint8Array(s.valueBlock.valueHex),D=new ArrayBuffer(v),Z=new Uint8Array(D);Z.set(S,1),Z[0]=0;const re=new Uint8Array(c.valueBlock.valueHex),de=new ArrayBuffer(v),Oe=new Uint8Array(de);return Oe.set(re,1),Oe[0]=0,_(D,de)}}return _(s.valueBlock.valueHex,c.valueBlock.valueHex)}(pt(Oe).result)),"RSA-PSS"===re.algorithm.name){let gt;try{gt=new wr({schema:S.algorithmParams})}catch(Ht){return Promise.reject(Ht)}de.algorithm.saltLength="saltLength"in gt?gt.saltLength:20;let Dt="SHA-1";if("hashAlgorithm"in gt){const Ht=this.getAlgorithmByOID(gt.hashAlgorithm.algorithmId);if(!("name"in Ht))return Promise.reject(`Unrecognized hash algorithm: ${gt.hashAlgorithm.algorithmId}`);Dt=Ht.name}de.algorithm.hash.name=Dt}return this.verify(de.algorithm,re,new Uint8Array(Oe),new Uint8Array(s))}),Z}}let Zr={name:"none",crypto:null,subtle:null};function Zi(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let Fe;try{Fe=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return Fe}return Zr}function As(){const Fe=Zi();if(null!==Fe.subtle)return Fe.subtle}function Ns(Fe){let s=!1,c="";const v=Fe.trim();for(let S=0;S<v.length;S++)32===v.charCodeAt(S)?!1===s&&(s=!0):(s&&(c+=" ",s=!1),c+=v[S]);return c.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let s="webcrypto";const c=self.crypto;let v;if("webkitSubtle"in self.crypto){try{v=self.crypto.webkitSubtle}catch{v=self.crypto.subtle}s="safari"}"subtle"in self.crypto&&(v=self.crypto.subtle),Zr=typeof v>"u"?{name:s,crypto:c,subtle:null}:{name:s,crypto:c,subtle:new Os({name:s,crypto:self.crypto,subtle:v})}}!function Ts(Fe,s,c){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:Fe,crypto:s,subtle:c}}else Zr.name!==Fe&&(Zr={name:Fe,crypto:s,subtle:c})}(Zr.name,Zr.crypto,Zr.subtle)}();class Fi{constructor(s={}){this.type=b(s,"type",Fi.defaultValues("type")),this.value=b(s,"value",Fi.defaultValues("value")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.type||""}),new Jr({name:c.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(s){H(s,["type","typeValue"]);const c=Gn(s,s,Fi.schema({names:{type:"type",value:"typeValue"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=c.result.type.valueBlock.toString(),this.value=c.result.typeValue}toSchema(){return new Zt({value:[new ft({value:this.type}),this.value]})}toJSON(){const s={type:this.type};return s.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,s}isEqual(s){const c=[Gi.blockName(),pr.blockName(),Fn.blockName(),Yt.blockName(),Ln.blockName(),Ze.blockName(),ut.blockName(),un.blockName(),Dn.blockName(),Ii.blockName(),Xn.blockName(),mr.blockName()];if(s.constructor.blockName()===Fi.blockName()){if(this.type!==s.type)return!1;let v=[!1,!1];const S=this.value.constructor.blockName();for(const D of c)S===D&&(v[0]=!0),s.value.constructor.blockName()===D&&(v[1]=!0);if(v[0]^v[1])return!1;if(v=v[0]&&v[1],v){const D=Ns(this.value.valueBlock.value),Z=Ns(s.value.valueBlock.value);if(0!==D.localeCompare(Z))return!1}else if(!1===k(this.value.valueBeforeDecode,s.value.valueBeforeDecode))return!1;return!0}return s instanceof ArrayBuffer&&k(this.value.valueBeforeDecode,s)}}class Tr{constructor(s={}){this.typesAndValues=b(s,"typesAndValues",Tr.defaultValues("typesAndValues")),this.valueBeforeDecode=b(s,"valueBeforeDecode",Tr.defaultValues("valueBeforeDecode")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"typesAndValues":return 0===c.length;case"valueBeforeDecode":return 0===c.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.repeatedSequence||"",value:new vi({value:[new Pi({name:c.repeatedSet||"",value:Fi.schema(c.typeAndValue||{})})]})})]})}fromSchema(s){H(s,["RDN","typesAndValues"]);const c=Gn(s,s,Tr.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in c.result&&(this.typesAndValues=Array.from(c.result.typesAndValues,v=>new Fi({schema:v}))),this.valueBeforeDecode=c.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new Zt({value:[new vi({value:Array.from(this.typesAndValues,c=>c.toSchema())})]}):pt(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,s=>s.toJSON())}}isEqual(s){if(s instanceof Tr){if(this.typesAndValues.length!==s.typesAndValues.length)return!1;for(const[c,v]of this.typesAndValues.entries())if(!1===v.isEqual(s.typesAndValues[c]))return!1;return!0}return s instanceof ArrayBuffer&&k(this.valueBeforeDecode,s)}}class Nr{constructor(s={}){this.type=b(s,"type",Nr.defaultValues("type")),this.value=b(s,"value",Nr.defaultValues("value")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${s}`)}}static schema(s={},c=!1){const v=b(s,"names",{});return new sr({optional:c,value:[new Mi({name:v.utcTimeName||""}),new Qi({name:v.generalTimeName||""})]})}fromSchema(s){H(s,["utcTimeName","generalTimeName"]);const c=Gn(s,s,Nr.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in c.result&&(this.type=0,this.value=c.result.utcTimeName.toDate()),"generalTimeName"in c.result&&(this.type=1,this.value=c.result.generalTimeName.toDate())}toSchema(){let s={};return 0===this.type&&(s=new Mi({valueDate:this.value})),1===this.type&&(s=new Qi({valueDate:this.value})),s}toJSON(){return{type:this.type,value:this.value}}}class si{constructor(s={}){this.attributes=b(s,"attributes",si.defaultValues("attributes")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("attributes"===s)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.attributes||"",value:Wr.schema()})]})}fromSchema(s){H(s,["attributes"]);const c=Gn(s,s,si.schema({names:{attributes:"attributes"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(c.result.attributes,v=>new Wr({schema:v}))}toSchema(){return new Zt({value:Array.from(this.attributes,s=>s.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,s=>s.toJSON())}}}class Ls{constructor(s={}){"notBefore"in s&&(this.notBefore=b(s,"notBefore",Ls.defaultValues("notBefore"))),"notAfter"in s&&(this.notAfter=b(s,"notAfter",Ls.defaultValues("notAfter"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Qe({name:c.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Qe({name:c.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(s){H(s,["notBefore","notAfter"]);const c=Gn(s,s,Ls.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in c.result){const v=new Qi;v.fromBuffer(c.result.notBefore.valueBlock.valueHex),this.notBefore=v.toDate()}if("notAfter"in c.result){const v=new Qi({valueHex:c.result.notAfter.valueBlock.valueHex});v.fromBuffer(c.result.notAfter.valueBlock.valueHex),this.notAfter=v.toDate()}}toSchema(){const s=[];return"notBefore"in this&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:0},valueHex:new Qi({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:1},valueHex:new Qi({valueDate:this.notAfter}).valueBlock.valueHex})),new Zt({value:s})}toJSON(){const s={};return"notBefore"in this&&(s.notBefore=this.notBefore),"notAfter"in this&&(s.notAfter=this.notAfter),s}}function lr(Fe={},s=!1){const c=b(Fe,"names",{});return new Zt({optional:s,value:[new B({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:c.country_name||"",value:[new sr({value:[new Yt,new Ln]})]}),new B({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:c.administration_domain_name||"",value:[new sr({value:[new Yt,new Ln]})]}),new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:c.network_address||"",isHexOnly:!0}),new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:c.terminal_identifier||"",isHexOnly:!0}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:c.private_domain_name||"",value:[new sr({value:[new Yt,new Ln]})]}),new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:c.organization_name||"",isHexOnly:!0}),new Qe({optional:!0,name:c.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new B({optional:!0,name:c.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new Qe({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new B({optional:!0,name:c.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Pi({value:new Ln})]})]})}function Qr(Fe=!1){return new Zt({optional:Fe,value:[new Ln,new Ln]})}function uo(Fe=!1){return new vi({optional:Fe,value:[new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Jr]})]})}class Ni{constructor(s={}){this.type=b(s,"type",Ni.defaultValues("type")),this.value=b(s,"value",Ni.defaultValues("value")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"type":return c===Ni.defaultValues(s);case"value":return 0===Object.keys(c).length;default:throw new Error(`Invalid member name for GeneralName class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new sr({value:[new B({idBlock:{tagClass:3,tagNumber:0},name:c.blockName||"",value:[new ft,new B({idBlock:{tagClass:3,tagNumber:0},value:[new Jr]})]}),new Qe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new Qe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new B({idBlock:{tagClass:3,tagNumber:3},name:c.blockName||"",value:[lr(c.builtInStandardAttributes||{},!1),Qr(!0),uo(!0)]}),new B({idBlock:{tagClass:3,tagNumber:4},name:c.blockName||"",value:[Tr.schema(c.directoryName||{})]}),new B({idBlock:{tagClass:3,tagNumber:5},name:c.blockName||"",value:[new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new sr({value:[new Ze,new Ln,new Fn,new Gi,new pr]})]}),new B({idBlock:{tagClass:3,tagNumber:1},value:[new sr({value:[new Ze,new Ln,new Fn,new Gi,new pr]})]})]}),new Qe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new Qe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new Qe({name:c.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(s){H(s,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const c=Gn(s,s,Ni.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=c.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=c.result.blockName;break;case 1:case 2:case 6:{const v=c.result.blockName;v.idBlock.tagClass=1,v.idBlock.tagNumber=22;const S=v.toBER(!1);this.value=pt(S).result.valueBlock.value}break;case 4:this.value=new Tr({schema:c.result.directoryName});break;case 5:this.value=c.result.ediPartyName;break;case 7:this.value=new lt({valueHex:c.result.blockName.valueBlock.valueHex});break;case 8:{const v=c.result.blockName;v.idBlock.tagClass=1,v.idBlock.tagNumber=6;const S=v.toBER(!1);this.value=pt(S).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new B({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const s=new un({value:this.value});return s.idBlock.tagClass=3,s.idBlock.tagNumber=this.type,s}case 4:return new B({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const s=this.value;return s.idBlock.tagClass=3,s.idBlock.tagNumber=this.type,s}case 8:{const s=new ft({value:this.value});return s.idBlock.tagClass=3,s.idBlock.tagNumber=this.type,s}default:return Ni.schema()}}toJSON(){const s={type:this.type,value:""};if("string"==typeof this.value)s.value=this.value;else try{s.value=this.value.toJSON()}catch{}return s}}class Ar{constructor(s={}){this.altNames=b(s,"altNames",Ar.defaultValues("altNames")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("altNames"===s)return[];throw new Error(`Invalid member name for AltName class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.altNames||"",value:Ni.schema()})]})}fromSchema(s){H(s,["altNames"]);const c=Gn(s,s,Ar.schema({names:{altNames:"altNames"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in c.result&&(this.altNames=Array.from(c.result.altNames,v=>new Ni({schema:v})))}toSchema(){return new Zt({value:Array.from(this.altNames,s=>s.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,s=>s.toJSON())}}}class jr{constructor(s={}){this.cA=b(s,"cA",!1),"pathLenConstraint"in s&&(this.pathLenConstraint=b(s,"pathLenConstraint",0)),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("cA"===s)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new rn({optional:!0,name:c.cA||""}),new jt({optional:!0,name:c.pathLenConstraint||""})]})}fromSchema(s){H(s,["cA","pathLenConstraint"]);const c=Gn(s,s,jr.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in c.result&&(this.cA=c.result.cA.valueBlock.value),"pathLenConstraint"in c.result&&(this.pathLenConstraint=c.result.pathLenConstraint.valueBlock.isHexOnly?c.result.pathLenConstraint:c.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const s=[];return this.cA!==jr.defaultValues("cA")&&s.push(new rn({value:this.cA})),"pathLenConstraint"in this&&s.push(this.pathLenConstraint instanceof jt?this.pathLenConstraint:new jt({value:this.pathLenConstraint})),new Zt({value:s})}toJSON(){const s={};return this.cA!==jr.defaultValues("cA")&&(s.cA=this.cA),"pathLenConstraint"in this&&(s.pathLenConstraint=this.pathLenConstraint instanceof jt?this.pathLenConstraint.toJSON():this.pathLenConstraint),s}}class Rr{constructor(s={}){"distributionPoint"in s&&(this.distributionPoint=b(s,"distributionPoint",Rr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=b(s,"onlyContainsUserCerts",Rr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=b(s,"onlyContainsCACerts",Rr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in s&&(this.onlySomeReasons=b(s,"onlySomeReasons",Rr.defaultValues("onlySomeReasons"))),this.indirectCRL=b(s,"indirectCRL",Rr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=b(s,"onlyContainsAttributeCerts",Rr.defaultValues("onlyContainsAttributeCerts")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new sr({value:[new B({name:c.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:c.distributionPointNames||"",value:Ni.schema()})]}),new B({name:c.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:Tr.schema().valueBlock.value})]})]}),new Qe({name:c.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Qe({name:c.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new Qe({name:c.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new Qe({name:c.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new Qe({name:c.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(s){H(s,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const c=Gn(s,s,Rr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in c.result)switch(!0){case 0===c.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(c.result.distributionPointNames,v=>new Ni({schema:v}));break;case 1===c.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Tr({schema:new Zt({value:c.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in c.result){const v=new Uint8Array(c.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==v[0]}if("onlyContainsCACerts"in c.result){const v=new Uint8Array(c.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==v[0]}if("onlySomeReasons"in c.result){const v=new Uint8Array(c.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=v[0]}if("indirectCRL"in c.result){const v=new Uint8Array(c.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==v[0]}if("onlyContainsAttributeCerts"in c.result){const v=new Uint8Array(c.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==v[0]}}toSchema(){const s=[];if("distributionPoint"in this){let c;this.distributionPoint instanceof Array?c=new B({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,v=>v.toSchema())}):(c=this.distributionPoint.toSchema(),c.idBlock.tagClass=3,c.idBlock.tagNumber=1),s.push(new B({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}if(this.onlyContainsUserCerts!==Rr.defaultValues("onlyContainsUserCerts")&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==Rr.defaultValues("onlyContainsCACerts")&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const c=new ArrayBuffer(1);new Uint8Array(c)[0]=this.onlySomeReasons,s.push(new Qe({idBlock:{tagClass:3,tagNumber:3},valueHex:c}))}return this.indirectCRL!==Rr.defaultValues("indirectCRL")&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==Rr.defaultValues("onlyContainsAttributeCerts")&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new Zt({value:s})}toJSON(){const s={};return"distributionPoint"in this&&(s.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,c=>c.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==Rr.defaultValues("onlyContainsUserCerts")&&(s.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==Rr.defaultValues("onlyContainsCACerts")&&(s.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(s.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==Rr.defaultValues("indirectCRL")&&(s.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==Rr.defaultValues("onlyContainsAttributeCerts")&&(s.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),s}}class _n{constructor(s={}){this.names=b(s,"names",_n.defaultValues("names")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("names"===s)return[];throw new Error(`Invalid member name for GeneralNames class: ${s}`)}static schema(s={},c=!1){const v=b(s,"names",{});return new Zt({optional:c,name:v.blockName||"",value:[new Pi({name:v.generalNames||"",value:Ni.schema()})]})}fromSchema(s){H(s,["names","generalNames"]);const c=Gn(s,s,_n.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(c.result.generalNames,v=>new Ni({schema:v}))}toSchema(){return new Zt({value:Array.from(this.names,s=>s.toSchema())})}toJSON(){return{names:Array.from(this.names,s=>s.toJSON())}}}class oi{constructor(s={}){this.base=b(s,"base",oi.defaultValues("base")),this.minimum=b(s,"minimum",oi.defaultValues("minimum")),"maximum"in s&&(this.maximum=b(s,"maximum",oi.defaultValues("maximum"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"base":return new Ni;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[Ni.schema(c.base||{}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new jt({name:c.minimum||""})]}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new jt({name:c.maximum||""})]})]})}fromSchema(s){H(s,["base","minimum","maximum"]);const c=Gn(s,s,oi.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new Ni({schema:c.result.base}),"minimum"in c.result&&(this.minimum=c.result.minimum.valueBlock.isHexOnly?c.result.minimum:c.result.minimum.valueBlock.valueDec),"maximum"in c.result&&(this.maximum=c.result.maximum.valueBlock.isHexOnly?c.result.maximum:c.result.maximum.valueBlock.valueDec)}toSchema(){const s=[];if(s.push(this.base.toSchema()),0!==this.minimum){let c=0;c=this.minimum instanceof jt?this.minimum:new jt({value:this.minimum}),s.push(new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[c]}))}if("maximum"in this){let c=0;c=this.maximum instanceof jt?this.maximum:new jt({value:this.maximum}),s.push(new B({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[c]}))}return new Zt({value:s})}toJSON(){const s={base:this.base.toJSON()};return 0!==this.minimum&&(s.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(s.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),s}}class fs{constructor(s={}){"permittedSubtrees"in s&&(this.permittedSubtrees=b(s,"permittedSubtrees",fs.defaultValues("permittedSubtrees"))),"excludedSubtrees"in s&&(this.excludedSubtrees=b(s,"excludedSubtrees",fs.defaultValues("excludedSubtrees"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:c.permittedSubtrees||"",value:oi.schema()})]}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Pi({name:c.excludedSubtrees||"",value:oi.schema()})]})]})}fromSchema(s){H(s,["permittedSubtrees","excludedSubtrees"]);const c=Gn(s,s,fs.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in c.result&&(this.permittedSubtrees=Array.from(c.result.permittedSubtrees,v=>new oi({schema:v}))),"excludedSubtrees"in c.result&&(this.excludedSubtrees=Array.from(c.result.excludedSubtrees,v=>new oi({schema:v})))}toSchema(){const s=[];return"permittedSubtrees"in this&&s.push(new B({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,c=>c.toSchema())})),"excludedSubtrees"in this&&s.push(new B({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,c=>c.toSchema())})),new Zt({value:s})}toJSON(){const s={};return"permittedSubtrees"in this&&(s.permittedSubtrees=Array.from(this.permittedSubtrees,c=>c.toJSON())),"excludedSubtrees"in this&&(s.excludedSubtrees=Array.from(this.excludedSubtrees,c=>c.toJSON())),s}}class di{constructor(s={}){"distributionPoint"in s&&(this.distributionPoint=b(s,"distributionPoint",di.defaultValues("distributionPoint"))),"reasons"in s&&(this.reasons=b(s,"reasons",di.defaultValues("reasons"))),"cRLIssuer"in s&&(this.cRLIssuer=b(s,"cRLIssuer",di.defaultValues("cRLIssuer"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new qt;default:throw new Error(`Invalid member name for DistributionPoint class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new sr({value:[new B({name:c.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:c.distributionPointNames||"",value:Ni.schema()})]}),new B({name:c.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Tr.schema().valueBlock.value})]})]}),new Qe({name:c.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new B({name:c.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Pi({name:c.cRLIssuerNames||"",value:Ni.schema()})]})]})}fromSchema(s){H(s,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const c=Gn(s,s,di.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in c.result&&(0===c.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(c.result.distributionPointNames,v=>new Ni({schema:v}))),1===c.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Tr({schema:new Zt({value:c.result.distributionPoint.valueBlock.value})}))),"reasons"in c.result&&(this.reasons=new qt({valueHex:c.result.reasons.valueBlock.valueHex})),"cRLIssuer"in c.result&&(this.cRLIssuer=Array.from(c.result.cRLIssuerNames,v=>new Ni({schema:v})))}toSchema(){const s=[];if("distributionPoint"in this){let c;c=new B(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,v=>v.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),s.push(new B({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}return"reasons"in this&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&s.push(new B({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,c=>c.toSchema())})),new Zt({value:s})}toJSON(){const s={};return"distributionPoint"in this&&(s.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,c=>c.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(s.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(s.cRLIssuer=Array.from(this.cRLIssuer,c=>c.toJSON())),s}}class qi{constructor(s={}){this.distributionPoints=b(s,"distributionPoints",qi.defaultValues("distributionPoints")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("distributionPoints"===s)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.distributionPoints||"",value:di.schema()})]})}fromSchema(s){H(s,["distributionPoints"]);const c=Gn(s,s,qi.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(c.result.distributionPoints,v=>new di({schema:v}))}toSchema(){return new Zt({value:Array.from(this.distributionPoints,s=>s.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,s=>s.toJSON())}}}class Ie{constructor(s={}){this.policyQualifierId=b(s,"policyQualifierId",Ie.defaultValues("policyQualifierId")),this.qualifier=b(s,"qualifier",Ie.defaultValues("qualifier")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"policyQualifierId":return"";case"qualifier":return new Jr;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.policyQualifierId||""}),new Jr({name:c.qualifier||""})]})}fromSchema(s){H(s,["policyQualifierId","qualifier"]);const c=Gn(s,s,Ie.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=c.result.policyQualifierId.valueBlock.toString(),this.qualifier=c.result.qualifier}toSchema(){return new Zt({value:[new ft({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class ge{constructor(s={}){this.policyIdentifier=b(s,"policyIdentifier",ge.defaultValues("policyIdentifier")),"policyQualifiers"in s&&(this.policyQualifiers=b(s,"policyQualifiers",ge.defaultValues("policyQualifiers"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.policyIdentifier||""}),new Zt({optional:!0,value:[new Pi({name:c.policyQualifiers||"",value:Ie.schema()})]})]})}fromSchema(s){H(s,["policyIdentifier","policyQualifiers"]);const c=Gn(s,s,ge.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=c.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in c.result&&(this.policyQualifiers=Array.from(c.result.policyQualifiers,v=>new Ie({schema:v})))}toSchema(){const s=[];return s.push(new ft({value:this.policyIdentifier})),"policyQualifiers"in this&&s.push(new Zt({value:Array.from(this.policyQualifiers,c=>c.toSchema())})),new Zt({value:s})}toJSON(){const s={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(s.policyQualifiers=Array.from(this.policyQualifiers,c=>c.toJSON())),s}}class ne{constructor(s={}){this.certificatePolicies=b(s,"certificatePolicies",ne.defaultValues("certificatePolicies")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("certificatePolicies"===s)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.certificatePolicies||"",value:ge.schema()})]})}fromSchema(s){H(s,["certificatePolicies"]);const c=Gn(s,s,ne.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(c.result.certificatePolicies,v=>new ge({schema:v}))}toSchema(){return new Zt({value:Array.from(this.certificatePolicies,s=>s.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,s=>s.toJSON())}}}class Xe{constructor(s={}){this.issuerDomainPolicy=b(s,"issuerDomainPolicy",Xe.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=b(s,"subjectDomainPolicy",Xe.defaultValues("subjectDomainPolicy")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.issuerDomainPolicy||""}),new ft({name:c.subjectDomainPolicy||""})]})}fromSchema(s){H(s,["issuerDomainPolicy","subjectDomainPolicy"]);const c=Gn(s,s,Xe.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=c.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=c.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Zt({value:[new ft({value:this.issuerDomainPolicy}),new ft({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class nn{constructor(s={}){this.mappings=b(s,"mappings",nn.defaultValues("mappings")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("mappings"===s)return[];throw new Error(`Invalid member name for PolicyMappings class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.mappings||"",value:Xe.schema()})]})}fromSchema(s){H(s,["mappings"]);const c=Gn(s,s,nn.schema({names:{mappings:"mappings"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(c.result.mappings,v=>new Xe({schema:v}))}toSchema(){return new Zt({value:Array.from(this.mappings,s=>s.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,s=>s.toJSON())}}}class Bn{constructor(s={}){"keyIdentifier"in s&&(this.keyIdentifier=b(s,"keyIdentifier",Bn.defaultValues("keyIdentifier"))),"authorityCertIssuer"in s&&(this.authorityCertIssuer=b(s,"authorityCertIssuer",Bn.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in s&&(this.authorityCertSerialNumber=b(s,"authorityCertSerialNumber",Bn.defaultValues("authorityCertSerialNumber"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"keyIdentifier":return new lt;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new jt;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Qe({name:c.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Pi({name:c.authorityCertIssuer||"",value:Ni.schema()})]}),new Qe({name:c.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(s){H(s,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const c=Gn(s,s,Bn.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in c.result&&(this.keyIdentifier=new lt({valueHex:c.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in c.result&&(this.authorityCertIssuer=Array.from(c.result.authorityCertIssuer,v=>new Ni({schema:v}))),"authorityCertSerialNumber"in c.result&&(this.authorityCertSerialNumber=new jt({valueHex:c.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const s=[];return"keyIdentifier"in this&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&s.push(new B({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,c=>c.toSchema())})),"authorityCertSerialNumber"in this&&s.push(new Qe({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new Zt({value:s})}toJSON(){const s={};return"keyIdentifier"in this&&(s.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(s.authorityCertIssuer=Array.from(this.authorityCertIssuer,c=>c.toJSON())),"authorityCertSerialNumber"in this&&(s.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),s}}class Wi{constructor(s={}){"requireExplicitPolicy"in s&&(this.requireExplicitPolicy=b(s,"requireExplicitPolicy",Wi.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in s&&(this.inhibitPolicyMapping=b(s,"inhibitPolicyMapping",Wi.defaultValues("inhibitPolicyMapping"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Qe({name:c.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Qe({name:c.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(s){H(s,["requireExplicitPolicy","inhibitPolicyMapping"]);const c=Gn(s,s,Wi.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in c.result){const v=c.result.requireExplicitPolicy;v.idBlock.tagClass=1,v.idBlock.tagNumber=2;const D=pt(v.toBER(!1));this.requireExplicitPolicy=D.result.valueBlock.valueDec}if("inhibitPolicyMapping"in c.result){const v=c.result.inhibitPolicyMapping;v.idBlock.tagClass=1,v.idBlock.tagNumber=2;const D=pt(v.toBER(!1));this.inhibitPolicyMapping=D.result.valueBlock.valueDec}}toSchema(){const s=[];if("requireExplicitPolicy"in this){const c=new jt({value:this.requireExplicitPolicy});c.idBlock.tagClass=3,c.idBlock.tagNumber=0,s.push(c)}if("inhibitPolicyMapping"in this){const c=new jt({value:this.inhibitPolicyMapping});c.idBlock.tagClass=3,c.idBlock.tagNumber=1,s.push(c)}return new Zt({value:s})}toJSON(){const s={};return"requireExplicitPolicy"in this&&(s.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(s.inhibitPolicyMapping=this.inhibitPolicyMapping),s}}class kr{constructor(s={}){this.keyPurposes=b(s,"keyPurposes",kr.defaultValues("keyPurposes")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("keyPurposes"===s)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.keyPurposes||"",value:new ft})]})}fromSchema(s){H(s,["keyPurposes"]);const c=Gn(s,s,kr.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(c.result.keyPurposes,v=>v.valueBlock.toString())}toSchema(){return new Zt({value:Array.from(this.keyPurposes,s=>new ft({value:s}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class Pr{constructor(s={}){this.accessMethod=b(s,"accessMethod",Pr.defaultValues("accessMethod")),this.accessLocation=b(s,"accessLocation",Pr.defaultValues("accessLocation")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"accessMethod":return"";case"accessLocation":return new Ni;default:throw new Error(`Invalid member name for AccessDescription class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.accessMethod||""}),Ni.schema(c.accessLocation||{})]})}fromSchema(s){H(s,["accessMethod","accessLocation"]);const c=Gn(s,s,Pr.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=c.result.accessMethod.valueBlock.toString(),this.accessLocation=new Ni({schema:c.result.accessLocation})}toSchema(){return new Zt({value:[new ft({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class Yi{constructor(s={}){this.accessDescriptions=b(s,"accessDescriptions",Yi.defaultValues("accessDescriptions")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("accessDescriptions"===s)return[];throw new Error(`Invalid member name for InfoAccess class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.accessDescriptions||"",value:Pr.schema()})]})}fromSchema(s){H(s,["accessDescriptions"]);const c=Gn(s,s,Yi.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(c.result.accessDescriptions,v=>new Pr({schema:v}))}toSchema(){return new Zt({value:Array.from(this.accessDescriptions,s=>s.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,s=>s.toJSON())}}}class mi{constructor(s={}){if("view"in s)this.fromUint8Array(s.view);else if("buffer"in s)this.fromArrayBuffer(s.buffer);else if("string"in s)this.fromString(s.string);else if("hexstring"in s)this.fromHexString(s.hexstring);else if("length"in s&&s.length>0){if(this.length=s.length,s.stub)for(let c=0;c<this._view.length;c++)this._view[c]=s.stub}else this.length=0}set buffer(s){this._buffer=s,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(s){this._buffer=new ArrayBuffer(s.length),this._view=new Uint8Array(this._buffer),this._view.set(s)}get view(){return this._view}get length(){return this.view.byteLength}set length(s){this._buffer=new ArrayBuffer(s),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(s){this._buffer=s,this._view=new Uint8Array(this._buffer)}fromUint8Array(s){this.fromArrayBuffer(new Uint8Array(s).buffer)}fromString(s){const c=s.length;this.length=c;for(let v=0;v<c;v++)this.view[v]=s.charCodeAt(v)}toString(s=0,c=this.view.length-s){let v="";(s>=this.view.length||s<0)&&(s=0),(c>=this.view.length||c<0)&&(c=this.view.length-s);for(let S=s;S<s+c;S++)v+=String.fromCharCode(this.view[S]);return v}fromHexString(s){const c=s.length;this.buffer=new ArrayBuffer(c>>1),this.view=new Uint8Array(this.buffer);const v=new Map;v.set("0",0),v.set("1",1),v.set("2",2),v.set("3",3),v.set("4",4),v.set("5",5),v.set("6",6),v.set("7",7),v.set("8",8),v.set("9",9),v.set("A",10),v.set("a",10),v.set("B",11),v.set("b",11),v.set("C",12),v.set("c",12),v.set("D",13),v.set("d",13),v.set("E",14),v.set("e",14),v.set("F",15),v.set("f",15);let S=0,D=0;for(let Z=0;Z<c;Z++)Z%2?(D|=v.get(s.charAt(Z)),this.view[S]=D,S++):D=v.get(s.charAt(Z))<<4}toHexString(s=0,c=this.view.length-s){let v="";(s>=this.view.length||s<0)&&(s=0),(c>=this.view.length||c<0)&&(c=this.view.length-s);for(let S=s;S<s+c;S++){const D=this.view[S].toString(16).toUpperCase();v=v+(1==D.length?"0":"")+D}return v}copy(s=0,c=this.length-s){if(!s&&!this.length)return new mi;if(s<0||s>this.length-1)throw new Error(`Wrong start position: ${s}`);return new mi({buffer:this._buffer.slice(s,s+c)})}slice(s=0,c=this.length){if(!s&&!this.length)return new mi;if(s<0||s>this.length-1)throw new Error(`Wrong start position: ${s}`);return new mi({buffer:this._buffer.slice(s,c)})}realloc(s){const c=new ArrayBuffer(s);new Uint8Array(c).set(s>this._view.length?this._view:new Uint8Array(this._buffer,0,s)),this._buffer=c,this._view=new Uint8Array(this._buffer)}append(s){const c=this.length,v=s.length,S=s._view.subarray();this.realloc(c+v),this._view.set(S,c)}insert(s,c=0,v=this.length-c){return!(c>this.length-1||(v>this.length-c&&(v=this.length-c),v>s.length&&(v=s.length),this._view.set(v==s.length?s._view:s._view.subarray(0,v),c),0))}isEqual(s){if(this.length!=s.length)return!1;for(let c=0;c<s.length;c++)if(this.view[c]!=s.view[c])return!1;return!0}isEqualView(s){if(s.length!=this.view.length)return!1;for(let c=0;c<s.length;c++)if(this.view[c]!=s[c])return!1;return!0}findPattern(s,c,v,S){const{start:D,length:Z,backward:re}=this.prepareFindParameters(c,v,S),de=s.length;if(de>Z)return-1;const Oe=[];for(let gt=0;gt<de;gt++)Oe.push(s.view[gt]);for(let gt=0;gt<=Z-de;gt++){let Dt=!0;const Ht=re?D-de-gt:D+gt;for(let pn=0;pn<de;pn++)if(this.view[pn+Ht]!=Oe[pn]){Dt=!1;break}if(Dt)return re?D-de-gt:D+de+gt}return-1}findFirstIn(s,c,v,S){const{start:D,length:Z,backward:re}=this.prepareFindParameters(c,v,S),de={id:-1,position:re?0:D+Z,length:0};for(let Oe=0;Oe<s.length;Oe++){const gt=this.findPattern(s[Oe],D,Z,re);if(-1!=gt){let Dt=!1;const Ht=s[Oe].length;re?gt-Ht>=de.position-de.length&&(Dt=!0):gt-Ht<=de.position-de.length&&(Dt=!0),Dt&&(de.position=gt,de.id=Oe,de.length=Ht)}}return de}findAllIn(s,c,v){let{start:S,length:D}=this.prepareFindParameters(c,v);const Z=[];let re={id:-1,position:S};for(;;){const de=re.position;if(re=this.findFirstIn(s,re.position,D),-1==re.id)break;D-=re.position-de,Z.push({id:re.id,position:re.position})}return Z}findAllPatternIn(s,c,v){const{start:S,length:D}=this.prepareFindParameters(c,v),Z=[],re=s.length;if(re>D)return-1;const de=Array.from(s.view);for(let Oe=0;Oe<=D-re;Oe++){let gt=!0;const Dt=S+Oe;for(let Ht=0;Ht<re;Ht++)if(this.view[Ht+Dt]!=de[Ht]){gt=!1;break}gt&&(Z.push(S+re+Oe),Oe+=re-1)}return Z}findFirstNotIn(s,c,v,S){let{start:D,length:Z,backward:re}=this.prepareFindParameters(c,v,S);const de={left:{id:-1,position:D},right:{id:-1,position:0},value:new mi};let Oe=Z;for(;Oe>0;){if(de.right=this.findFirstIn(s,re?D-Z+Oe:D+Z-Oe,Oe,re),-1==de.right.id){Z=Oe,re?D-=Z:D=de.left.position,de.value=new mi({buffer:this._buffer.slice(D,D+Z)});break}if(de.right.position!=(re?de.left.position-s[de.right.id].length:de.left.position+s[de.right.id].length)){re?(D=de.right.position+s[de.right.id].length,Z=de.left.position-de.right.position-s[de.right.id].length):(D=de.left.position,Z=de.right.position-de.left.position-s[de.right.id].length),de.value=new mi({buffer:this._buffer.slice(D,D+Z)});break}de.left=de.right,Oe-=s[de.right.id].length}if(re){const gt=de.right;de.right=de.left,de.left=gt}return de}findAllNotIn(s,c,v){let{start:S,length:D}=this.prepareFindParameters(c,v);const Z=[];let re={left:{id:-1,position:S},right:{id:-1,position:S},value:new mi};do{const de=re.right.position;re=this.findFirstNotIn(s,re.right.position,D),D-=re.right.position-de,Z.push({left:{id:re.left.id,position:re.left.position},right:{id:re.right.id,position:re.right.position},value:re.value})}while(-1!=re.right.id);return Z}findFirstSequence(s,c,v,S){let{start:D,length:Z,backward:re}=this.prepareFindParameters(c,v,S);const de=this.skipNotPatterns(s,D,Z,re);if(-1==de)return{position:-1,value:new mi};const Oe=this.skipPatterns(s,de,Z-(re?D-de:de-D),re);return re?(D=Oe,Z=de-Oe):(D=de,Z=Oe-de),{position:Oe,value:new mi({buffer:this._buffer.slice(D,D+Z)})}}findAllSequences(s,c,v){let{start:S,length:D}=this.prepareFindParameters(c,v);const Z=[];let re={position:S,value:new mi};do{const de=re.position;re=this.findFirstSequence(s,re.position,D),-1!=re.position&&(D-=re.position-de,Z.push({position:re.position,value:re.value}))}while(-1!=re.position);return Z}findPairedPatterns(s,c,v,S){const D=[];if(s.isEqual(c))return D;const{start:Z,length:re}=this.prepareFindParameters(v,S);let de=0;const Oe=this.findAllPatternIn(s,Z,re);if(!Array.isArray(Oe)||0==Oe.length)return D;const gt=this.findAllPatternIn(c,Z,re);if(!Array.isArray(gt)||0==gt.length)return D;for(;de<Oe.length&&0!=gt.length;)if(Oe[0]!=gt[0]){if(Oe[de]>gt[0])break;for(;Oe[de]<gt[0]&&(de++,!(de>=Oe.length)););D.push({left:Oe[de-1],right:gt[0]}),Oe.splice(de-1,1),gt.splice(0,1),de=0}else D.push({left:Oe[0],right:gt[0]}),Oe.splice(0,1),gt.splice(0,1);return D.sort((Dt,Ht)=>Dt.left-Ht.left),D}findPairedArrays(s,c,v,S){const{start:D,length:Z}=this.prepareFindParameters(v,S),re=[];let de=0;const Oe=this.findAllIn(s,D,Z);if(0==Oe.length)return re;const gt=this.findAllIn(c,D,Z);if(0==gt.length)return re;for(;de<Oe.length&&0!=gt.length;)if(Oe[0].position!=gt[0].position){if(Oe[de].position>gt[0].position)break;for(;Oe[de].position<gt[0].position&&(de++,!(de>=Oe.length)););re.push({left:Oe[de-1],right:gt[0]}),Oe.splice(de-1,1),gt.splice(0,1),de=0}else re.push({left:Oe[0],right:gt[0]}),Oe.splice(0,1),gt.splice(0,1);return re.sort((Dt,Ht)=>Dt.left.position-Ht.left.position),re}replacePattern(s,c,v,S,D=null){let re,Z=[];const de={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:Oe,length:gt}=this.prepareFindParameters(v,S);if(null==D){if(Z=this.findAllIn([s],Oe,gt),0==Z.length)return de}else Z=D;de.searchPatternPositions.push(...Array.from(Z,Tn=>Tn.position));const Dt=s.length-c.length,Ht=new ArrayBuffer(this.view.length-Z.length*Dt),pn=new Uint8Array(Ht);for(pn.set(new Uint8Array(this.buffer,0,Oe)),re=0;re<Z.length;re++){const Tn=0==re?Oe:Z[re-1].position;pn.set(new Uint8Array(this.buffer,Tn,Z[re].position-s.length-Tn),Tn-re*Dt),pn.set(c.view,Z[re].position-s.length-re*Dt),de.replacePatternPositions.push(Z[re].position-s.length-re*Dt)}return re--,pn.set(new Uint8Array(this.buffer,Z[re].position,this.length-Z[re].position),Z[re].position-s.length+c.length-re*Dt),this.buffer=Ht,this.view=new Uint8Array(this.buffer),de.status=1,de}skipPatterns(s,c,v,S){const{start:D,length:Z,backward:re}=this.prepareFindParameters(c,v,S);let de=D;for(let Oe=0;Oe<s.length;Oe++){const gt=s[Oe].length,Dt=re?de-gt:de;let Ht=!0;for(let pn=0;pn<gt;pn++)if(this.view[pn+Dt]!=s[Oe].view[pn]){Ht=!1;break}if(Ht)if(Oe=-1,re){if(de-=gt,de<=0)return de}else if(de+=gt,de>=D+Z)return de}return de}skipNotPatterns(s,c,v,S){const{start:D,length:Z,backward:re}=this.prepareFindParameters(c,v,S);let de=-1;for(let Oe=0;Oe<Z;Oe++){for(let gt=0;gt<s.length;gt++){const Dt=s[gt].length,Ht=re?D-Oe-Dt:D+Oe;let pn=!0;for(let Tn=0;Tn<Dt;Tn++)if(this.view[Tn+Ht]!=s[gt].view[Tn]){pn=!1;break}if(pn){de=re?D-Oe:D+Oe;break}}if(-1!=de)break}return de}prepareFindParameters(s=null,c=null,v=!1){return null===s&&(s=v?this.length:0),s>this.length&&(s=this.length),v?(null===c&&(c=s),c>s&&(c=s)):(null===c&&(c=this.length-s),c>this.length-s&&(c=this.length-s)),{start:s,length:c,backward:v}}}let Me=(()=>{class Fe{constructor(c={}){this._stream=new mi,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in c?new mi({view:c.view}):"buffer"in c?new mi({buffer:c.buffer}):"string"in c?new mi({string:c.string}):"hexstring"in c?new mi({hexstring:c.hexstring}):"stream"in c?c.stream.slice():new mi,"backward"in c&&c.backward&&(this.backward=c.backward,this._start=this.stream.length),"length"in c&&c.length>0&&(this._length=c.length),"start"in c&&c.start&&c.start>0&&(this._start=c.start),"appendBlock"in c&&c.appendBlock&&c.appendBlock>0&&(this.appendBlock=c.appendBlock)}set stream(c){this._stream=c,this.prevLength=this._length,this._length=c.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(c){this.prevLength=this._length,this._length=c}get length(){return this.appendBlock?this.start:this._length}set start(c){c>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-c:c-this._start,this._start=c)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(c,v=null){(null==v||v>this.length)&&(v=this.length);const S=this.stream.findPattern(c,this.start,this.length,this.backward);if(-1==S)return S;if(this.backward){if(S<this.start-c.length-v)return-1}else if(S>this.start+c.length+v)return-1;return this.start=S,S}findFirstIn(c,v=null){(null==v||v>this.length)&&(v=this.length);const S=this.stream.findFirstIn(c,this.start,this.length,this.backward);if(-1==S.id)return S;if(this.backward){if(S.position<this.start-c[S.id].length-v)return{id:-1,position:this.backward?0:this.start+this.length}}else if(S.position>this.start+c[S.id].length+v)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=S.position,S}findAllIn(c){return this.stream.findAllIn(c,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(c,v=null){(null==v||v>this._length)&&(v=this._length);const S=this._stream.findFirstNotIn(c,this._start,this._length,this.backward);if(-1==S.left.id&&-1==S.right.id)return S;if(this.backward){if(-1!=S.right.id&&S.right.position<this._start-c[S.right.id].length-v)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new mi}}else if(-1!=S.left.id&&S.left.position>this._start+c[S.left.id].length+v)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new mi};return this.start=this.backward?-1==S.left.id?0:S.left.position:-1==S.right.id?this._start+this._length:S.right.position,S}findAllNotIn(c){return this._stream.findAllNotIn(c,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(c,v=null,S=null){(null==v||v>this._length)&&(v=this._length),(null==S||S>v)&&(S=v);const D=this._stream.findFirstSequence(c,this._start,v,this.backward);if(0==D.value.length)return D;if(this.backward){if(D.position<this._start-D.value.length-S)return{position:-1,value:new mi}}else if(D.position>this._start+D.value.length+S)return{position:-1,value:new mi};return this.start=D.position,D}findAllSequences(c){return this.stream.findAllSequences(c,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(c,v,S=null){(null==S||S>this.length)&&(S=this.length);const Z=this.stream.findPairedPatterns(c,v,this.backward?this.start-this.length:this.start,this.length);if(Z.length)if(this.backward){if(Z[0].right<this.start-v.length-S)return[]}else if(Z[0].left>this.start+c.length+S)return[];return Z}findPairedArrays(c,v,S=null){(null==S||S>this.length)&&(S=this.length);const Z=this.stream.findPairedArrays(c,v,this.backward?this.start-this.length:this.start,this.length);if(Z.length)if(this.backward){if(Z[0].right.position<this.start-v[Z[0].right.id].length-S)return[]}else if(Z[0].left.position>this.start+c[Z[0].left.id].length+S)return[];return Z}replacePattern(c,v){return this.stream.replacePattern(c,v,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(c){const v=this.stream.skipPatterns(c,this.start,this.length,this.backward);return this.start=v,v}skipNotPatterns(c){const v=this.stream.skipNotPatterns(c,this.start,this.length,this.backward);return-1==v?-1:(this.start=v,v)}append(c){this.beforeAppend(c.length),this._stream.view.set(c.view,this._start),this._length+=2*c.length,this.start=this._start+c.length,this.prevLength-=2*c.length}appendView(c){this.beforeAppend(c.length),this._stream.view.set(c,this._start),this._length+=2*c.length,this.start=this._start+c.length,this.prevLength-=2*c.length}appendChar(c){this.beforeAppend(1),this._stream.view[this._start]=c,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(c){this.beforeAppend(2);const v=new Uint16Array([c]),S=new Uint8Array(v.buffer);this.stream.view[this._start]=S[1],this._stream.view[this._start+1]=S[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(c){this.beforeAppend(3);const v=new Uint32Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[2],this._stream.view[this._start+1]=S[1],this._stream.view[this._start+2]=S[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(c){this.beforeAppend(4);const v=new Uint32Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[3],this._stream.view[this._start+1]=S[2],this._stream.view[this._start+2]=S[1],this._stream.view[this._start+3]=S[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(c){this.beforeAppend(2);const v=new Int16Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[1],this._stream.view[this._start+1]=S[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(c){this.beforeAppend(4);const v=new Int32Array([c]),S=new Uint8Array(v.buffer);this._stream.view[this._start]=S[3],this._stream.view[this._start+1]=S[2],this._stream.view[this._start+2]=S[1],this._stream.view[this._start+3]=S[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(c,v=!0){if(this._length<=0)return new Uint8Array(0);let S;if(this._length<c&&(c=this._length),this.backward){const D=this._stream.view.subarray(this._length-c,this._length);S=new Uint8Array(c);for(let Z=0;Z<c;Z++)S[c-1-Z]=D[Z]}else S=this._stream.view.subarray(this._start,this._start+c);return v&&(this.start+=this.backward?-1*c:c),S}getUint16(c=!0){const v=this.getBlock(2,c);if(v.length<2)return 0;const S=new Uint16Array(1),D=new Uint8Array(S.buffer);return D[0]=v[1],D[1]=v[0],S[0]}getInt16(c=!0){const v=this.getBlock(2,c);if(v.length<2)return 0;const S=new Int16Array(1),D=new Uint8Array(S.buffer);return D[0]=v[1],D[1]=v[0],S[0]}getUint24(c=!0){const v=this.getBlock(3,c);if(v.length<3)return 0;const S=new Uint32Array(1),D=new Uint8Array(S.buffer);for(let Z=3;Z>=1;Z--)D[3-Z]=v[Z-1];return S[0]}getUint32(c=!0){const v=this.getBlock(4,c);if(v.length<4)return 0;const S=new Uint32Array(1),D=new Uint8Array(S.buffer);for(let Z=3;Z>=0;Z--)D[3-Z]=v[Z];return S[0]}getInt32(c=!0){const v=this.getBlock(4,c);if(v.length<4)return 0;const S=new Int32Array(1),D=new Uint8Array(S.buffer);for(let Z=3;Z>=0;Z--)D[3-Z]=v[Z];return S[0]}beforeAppend(c){this._start+c>this._stream.length&&(c>this.appendBlock&&(this.appendBlock=c+Fe.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return Fe.APPEND_BLOCK=1e3,Fe})();class Je{constructor(s={}){this.version=b(s,"version",Je.defaultValues("version")),this.logID=b(s,"logID",Je.defaultValues("logID")),this.timestamp=b(s,"timestamp",Je.defaultValues("timestamp")),this.extensions=b(s,"extensions",Je.defaultValues("extensions")),this.hashAlgorithm=b(s,"hashAlgorithm",Je.defaultValues("hashAlgorithm")),this.signatureAlgorithm=b(s,"signatureAlgorithm",Je.defaultValues("signatureAlgorithm")),this.signature=b(s,"signature",Je.defaultValues("signature")),"schema"in s&&this.fromSchema(s.schema),"stream"in s&&this.fromStream(s.stream)}static defaultValues(s){switch(s){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new Jr;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${s}`)}}fromSchema(s){if(!(s instanceof vs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const c=new Me({stream:new mi({buffer:s.data})});this.fromStream(c)}fromStream(s){const c=s.getUint16();if(this.version=s.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(s.getBlock(32)).buffer.slice(0),this.timestamp=new Date(p(new Uint8Array(s.getBlock(8)),8));const v=s.getUint16();switch(this.extensions=new Uint8Array(s.getBlock(v)).buffer.slice(0),s.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(s.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const S=s.getUint16(),Z=pt(new Uint8Array(s.getBlock(S)).buffer.slice(0));if(-1===Z.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=Z.result,c!==47+v+S)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const s=this.toStream();return new vs({data:s.stream.buffer})}toStream(){const s=new Me;s.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),s.appendChar(this.version),s.appendView(new Uint8Array(this.logID));const c=new ArrayBuffer(8),v=new Uint8Array(c),S=A(this.timestamp.valueOf(),8);let D,Z;switch(v.set(new Uint8Array(S),8-S.byteLength),s.appendView(v),s.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&s.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":D=0;break;case"md5":D=1;break;case"sha1":D=2;break;case"sha224":D=3;break;case"sha256":D=4;break;case"sha384":D=5;break;case"sha512":D=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(s.appendChar(D),this.signatureAlgorithm.toLowerCase()){case"anonymous":Z=0;break;case"rsa":Z=1;break;case"dsa":Z=2;break;case"ecdsa":Z=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}s.appendChar(Z);const re=this.signature.toBER(!1);return s.appendUint16(re.byteLength),s.appendView(new Uint8Array(re)),s}toJSON(){return{version:this.version,logID:C(this.logID),timestamp:this.timestamp,extensions:C(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(s,c,v=0){var S=this;return(0,t.Z)(function*(){let re,D=O(F(S.logID)),Z=null,de=new Me;for(const pn of s)if(pn.log_id===D){Z=pn.key;break}if(null===Z)throw new Error(`Public key not found for CT with logId: ${D}`);const Oe=pt(V(L(Z)));if(-1===Oe.offset)throw new Error(`Incorrect key value for CT Log with logId: ${D}`);re=new zr({schema:Oe.result}),de.appendChar(0),de.appendChar(0);const gt=new ArrayBuffer(8),Dt=new Uint8Array(gt),Ht=A(S.timestamp.valueOf(),8);return Dt.set(new Uint8Array(Ht),8-Ht.byteLength),de.appendView(Dt),de.appendUint16(v),0===v&&de.appendUint24(c.byteLength),de.appendView(new Uint8Array(c)),de.appendUint16(S.extensions.byteLength),0!==S.extensions.byteLength&&de.appendView(new Uint8Array(S.extensions)),Zi().subtle.verifyWithPublicKey(de._stream._buffer.slice(0,de._length),{valueBlock:{valueHex:S.signature.toBER(!1)}},re,{algorithmId:""},"SHA-256")})()}}class At{constructor(s={}){this.timestamps=b(s,"timestamps",At.defaultValues("timestamps")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("timestamps"===s)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${s}`)}static compareWithDefault(s,c){if("timestamps"===s)return 0===c.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return"optional"in c||(c.optional=!1),new lt({name:c.blockName||"SignedCertificateTimestampList",optional:c.optional})}fromSchema(s){if(!(s instanceof lt))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const c=new Me({stream:new mi({buffer:s.valueBlock.valueHex})});if(c.getUint16()!==c.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;c.length;)this.timestamps.push(new Je({stream:c}))}toSchema(){const s=new Me;let c=0;const v=[];for(const S of this.timestamps){const D=S.toStream();v.push(D),c+=D.stream.buffer.byteLength}s.appendUint16(c);for(const S of v)s.appendView(S.stream.view);return new lt({valueHex:s.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,s=>s.toJSON())}}}class Vt{constructor(s={}){this.templateID=b(s,"templateID",Vt.defaultValues("templateID")),"templateMajorVersion"in s&&(this.templateMajorVersion=b(s,"templateMajorVersion",Vt.defaultValues("templateMajorVersion"))),"templateMinorVersion"in s&&(this.templateMinorVersion=b(s,"templateMinorVersion",Vt.defaultValues("templateMinorVersion"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.templateID||""}),new jt({name:c.templateMajorVersion||"",optional:!0}),new jt({name:c.templateMinorVersion||"",optional:!0})]})}fromSchema(s){H(s,["templateID","templateMajorVersion","templateMinorVersion"]);let c=Gn(s,s,Vt.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=c.result.templateID.valueBlock.toString(),"templateMajorVersion"in c.result&&(this.templateMajorVersion=c.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in c.result&&(this.templateMinorVersion=c.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const s=[];return s.push(new ft({value:this.templateID})),"templateMajorVersion"in this&&s.push(new jt({value:this.templateMajorVersion})),"templateMinorVersion"in this&&s.push(new jt({value:this.templateMinorVersion})),new Zt({value:s})}toJSON(){const s={extnID:this.templateID};return"templateMajorVersion"in this&&(s.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(s.templateMinorVersion=this.templateMinorVersion),s}}class dn{constructor(s={}){this.certificateIndex=b(s,"certificateIndex",dn.defaultValues("certificateIndex")),this.keyIndex=b(s,"keyIndex",dn.defaultValues("keyIndex")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${s}`)}}static schema(s={}){return new jt}fromSchema(s){if(s.constructor.blockName()!==jt.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let c=s.valueBlock.valueHex.slice(0);const v=new Uint8Array(c);switch(!0){case c.byteLength<4:{const Dt=new ArrayBuffer(4);new Uint8Array(Dt).set(v,4-c.byteLength),c=Dt.slice(0)}break;case c.byteLength>4:{const Dt=new ArrayBuffer(4);new Uint8Array(Dt).set(v.slice(0,4)),c=Dt.slice(0)}}const S=c.slice(0,2),D=new Uint8Array(S);let Z=D[0];D[0]=D[1],D[1]=Z;const re=new Uint16Array(S);this.keyIndex=re[0];const de=c.slice(2),Oe=new Uint8Array(de);Z=Oe[0],Oe[0]=Oe[1],Oe[1]=Z;const gt=new Uint16Array(de);this.certificateIndex=gt[0]}toSchema(){const s=new ArrayBuffer(2);new Uint16Array(s)[0]=this.certificateIndex;const v=new Uint8Array(s);let S=v[0];v[0]=v[1],v[1]=S;const D=new ArrayBuffer(2);new Uint16Array(D)[0]=this.keyIndex;const re=new Uint8Array(D);return S=re[0],re[0]=re[1],re[1]=S,new jt({valueHex:_(D,s)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class bn{constructor(s={}){this.id=b(s,"id",bn.defaultValues("id")),"type"in s&&(this.type=b(s,"type",bn.defaultValues("type"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"id":return"";case"type":return new Et;default:throw new Error(`Invalid member name for QCStatement class: ${s}`)}}static compareWithDefault(s,c){switch(s){case"id":return""===c;case"type":return c instanceof Et;default:throw new Error(`Invalid member name for QCStatement class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.id||""}),new Jr({name:c.type||"",optional:!0})]})}fromSchema(s){H(s,["id","type"]);const c=Gn(s,s,bn.schema({names:{id:"id",type:"type"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=c.result.id.valueBlock.toString(),"type"in c.result&&(this.type=c.result.type)}toSchema(){const s=[new ft({value:this.id})];return"type"in this&&s.push(this.type),new Zt({value:s})}toJSON(){const s={id:this.id};return"type"in this&&(s.type=this.type.toJSON()),s}}class Yn{constructor(s={}){this.values=b(s,"values",Yn.defaultValues("values")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("values"===s)return[];throw new Error(`Invalid member name for QCStatements class: ${s}`)}static compareWithDefault(s,c){if("values"===s)return 0===c.length;throw new Error(`Invalid member name for QCStatements class: ${s}`)}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new Pi({name:c.values||"",value:bn.schema(c.value||{})})]})}fromSchema(s){H(s,["values"]);const c=Gn(s,s,Yn.schema({names:{values:"values"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(c.result.values,v=>new bn({schema:v}))}toSchema(){return new Zt({value:Array.from(this.values,s=>s.toSchema())})}toJSON(){return{extensions:Array.from(this.values,s=>s.toJSON())}}}class Kn{constructor(s={}){this.extnID=b(s,"extnID",Kn.defaultValues("extnID")),this.critical=b(s,"critical",Kn.defaultValues("critical")),this.extnValue="extnValue"in s?new lt({valueHex:s.extnValue}):Kn.defaultValues("extnValue"),"parsedValue"in s&&(this.parsedValue=b(s,"parsedValue",Kn.defaultValues("parsedValue"))),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"extnID":return"";case"critical":return!1;case"extnValue":return new lt;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[new ft({name:c.extnID||""}),new rn({name:c.critical||"",optional:!0}),new lt({name:c.extnValue||""})]})}fromSchema(s){H(s,["extnID","critical","extnValue"]);let c=Gn(s,s,Kn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=c.result.extnID.valueBlock.toString(),"critical"in c.result&&(this.critical=c.result.critical.valueBlock.value),this.extnValue=c.result.extnValue,c=pt(this.extnValue.valueBlock.valueHex),-1!==c.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new si({schema:c.result})}catch{this.parsedValue=new si,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=c.result;break;case"2.5.29.16":try{this.parsedValue=new Ls({schema:c.result})}catch{this.parsedValue=new Ls,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new Ar({schema:c.result})}catch{this.parsedValue=new Ar,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new jr({schema:c.result})}catch{this.parsedValue=new jr,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new Rr({schema:c.result})}catch{this.parsedValue=new Rr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new _n({schema:c.result})}catch{this.parsedValue=new _n,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new fs({schema:c.result})}catch{this.parsedValue=new fs,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new qi({schema:c.result})}catch{this.parsedValue=new qi,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new ne({schema:c.result})}catch{this.parsedValue=new ne,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new nn({schema:c.result})}catch{this.parsedValue=new nn,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new Bn({schema:c.result})}catch{this.parsedValue=new Bn,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new Wi({schema:c.result})}catch{this.parsedValue=new Wi,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new kr({schema:c.result})}catch{this.parsedValue=new kr,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new Yi({schema:c.result})}catch{this.parsedValue=new Yi,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new At({schema:c.result})}catch{this.parsedValue=new At,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new Vt({schema:c.result})}catch{this.parsedValue=new Vt,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new dn({schema:c.result})}catch{this.parsedValue=new dn,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new Yn({schema:c.result})}catch{this.parsedValue=new Yn,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const s=[];return s.push(new ft({value:this.extnID})),this.critical!==Kn.defaultValues("critical")&&s.push(new rn({value:this.critical})),s.push(this.extnValue),new Zt({value:s})}toJSON(){const s={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Kn.defaultValues("critical")&&(s.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(s.parsedValue=this.parsedValue.toJSON()),s}}class cr{constructor(s={}){this.extensions=b(s,"extensions",cr.defaultValues("extensions")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){if("extensions"===s)return[];throw new Error(`Invalid member name for Extensions class: ${s}`)}static schema(s={},c=!1){const v=b(s,"names",{});return new Zt({optional:c,name:v.blockName||"",value:[new Pi({name:v.extensions||"",value:Kn.schema(v.extension||{})})]})}fromSchema(s){H(s,["extensions"]);const c=Gn(s,s,cr.schema({names:{extensions:"extensions"}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(c.result.extensions,v=>new Kn({schema:v}))}toSchema(){return new Zt({value:Array.from(this.extensions,s=>s.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,s=>s.toJSON())}}}function es(Fe={}){const s=b(Fe,"names",{});return new Zt({name:s.blockName||"tbsCertificate",value:[new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new jt({name:s.tbsCertificateVersion||"tbsCertificate.version"})]}),new jt({name:s.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),Hn.schema(s.signature||{names:{blockName:"tbsCertificate.signature"}}),Tr.schema(s.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new Zt({name:s.tbsCertificateValidity||"tbsCertificate.validity",value:[Nr.schema(s.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),Nr.schema(s.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),Tr.schema(s.subject||{names:{blockName:"tbsCertificate.subject"}}),zr.schema(s.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new Qe({name:s.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Qe({name:s.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new B({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[cr.schema(s.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class ur{constructor(s={}){this.tbs=b(s,"tbs",ur.defaultValues("tbs")),this.version=b(s,"version",ur.defaultValues("version")),this.serialNumber=b(s,"serialNumber",ur.defaultValues("serialNumber")),this.signature=b(s,"signature",ur.defaultValues("signature")),this.issuer=b(s,"issuer",ur.defaultValues("issuer")),this.notBefore=b(s,"notBefore",ur.defaultValues("notBefore")),this.notAfter=b(s,"notAfter",ur.defaultValues("notAfter")),this.subject=b(s,"subject",ur.defaultValues("subject")),this.subjectPublicKeyInfo=b(s,"subjectPublicKeyInfo",ur.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in s&&(this.issuerUniqueID=b(s,"issuerUniqueID",ur.defaultValues("issuerUniqueID"))),"subjectUniqueID"in s&&(this.subjectUniqueID=b(s,"subjectUniqueID",ur.defaultValues("subjectUniqueID"))),"extensions"in s&&(this.extensions=b(s,"extensions",ur.defaultValues("extensions"))),this.signatureAlgorithm=b(s,"signatureAlgorithm",ur.defaultValues("signatureAlgorithm")),this.signatureValue=b(s,"signatureValue",ur.defaultValues("signatureValue")),"schema"in s&&this.fromSchema(s.schema)}static defaultValues(s){switch(s){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new jt;case"signature":case"signatureAlgorithm":return new Hn;case"issuer":case"subject":return new Tr;case"notBefore":case"notAfter":return new Nr;case"subjectPublicKeyInfo":return new zr;case"extensions":return[];case"signatureValue":return new qt;default:throw new Error(`Invalid member name for Certificate class: ${s}`)}}static schema(s={}){const c=b(s,"names",{});return new Zt({name:c.blockName||"",value:[es(c.tbsCertificate),Hn.schema(c.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new qt({name:c.signatureValue||"signatureValue"})]})}fromSchema(s){H(s,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const c=Gn(s,s,ur.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===c.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=c.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in c.result&&(this.version=c.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=c.result["tbsCertificate.serialNumber"],this.signature=new Hn({schema:c.result["tbsCertificate.signature"]}),this.issuer=new Tr({schema:c.result["tbsCertificate.issuer"]}),this.notBefore=new Nr({schema:c.result["tbsCertificate.notBefore"]}),this.notAfter=new Nr({schema:c.result["tbsCertificate.notAfter"]}),this.subject=new Tr({schema:c.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new zr({schema:c.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in c.result&&(this.issuerUniqueID=c.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in c.result&&(this.subjectUniqueID=c.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in c.result&&(this.extensions=Array.from(c.result["tbsCertificate.extensions"],v=>new Kn({schema:v}))),this.signatureAlgorithm=new Hn({schema:c.result.signatureAlgorithm}),this.signatureValue=c.result.signatureValue}encodeTBS(){const s=[];return"version"in this&&this.version!==ur.defaultValues("version")&&s.push(new B({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new jt({value:this.version})]})),s.push(this.serialNumber),s.push(this.signature.toSchema()),s.push(this.issuer.toSchema()),s.push(new Zt({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),s.push(this.subject.toSchema()),s.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&s.push(new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&s.push(new Qe({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&s.push(new B({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new Zt({value:Array.from(this.extensions,c=>c.toSchema())})]})),new Zt({value:s})}toSchema(s=!1){let c={};if(!1===s){if(0===this.tbs.length)return ur.schema().value[0];c=pt(this.tbs).result}else c=this.encodeTBS();return new Zt({value:[c,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const s={tbs:C(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==ur.defaultValues("version")&&(s.version=this.version),"issuerUniqueID"in this&&(s.issuerUniqueID=C(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(s.subjectUniqueID=C(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(s.extensions=Array.from(this.extensions,c=>c.toJSON())),s}getPublicKey(s=null){return Zi().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,s)}getKeyHash(s="SHA-1"){const c=As();return typeof c>"u"?Promise.reject("Unable to create WebCrypto object"):c.digest({name:s},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(s,c="SHA-1"){if(typeof s>"u")return Promise.reject("Need to provide a private key for signing");let S,v=Promise.resolve();const D=Zi();return v=v.then(()=>D.subtle.getSignatureParameters(s,c)),v=v.then(Z=>{S=Z.parameters,this.signature=Z.signatureAlgorithm,this.signatureAlgorithm=Z.signatureAlgorithm}),v=v.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),v=v.then(()=>D.subtle.signWithPrivateKey(this.tbs,s,S)),v=v.then(Z=>{this.signatureValue=new qt({valueHex:Z})}),v}verify(s=null){let c={};return null!==s?c=s.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(c=this.subjectPublicKeyInfo),c instanceof zr?Zi().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,c,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function ji(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ni(Fe){if(Fe.idBlock.isConstructed)for(let s=0;s<Fe.valueBlock.value.length;s++)ni(Fe.valueBlock.value[s])&&(Fe.lenBlock.isIndefiniteForm=!0);return!!Fe.lenBlock.isIndefiniteForm}function Co(Fe){let s=0,c=0;for(let D=0;D<Fe.length;D++)s+=Fe[D].byteLength;const v=new ArrayBuffer(s),S=new Uint8Array(v);for(let D=0;D<Fe.length;D++){const Z=Fe[D];S.set(new Uint8Array(Z),c),c+=Z.byteLength}return v}const Xs=[new Uint8Array([1])],he="0123456789",sn="valueHex",$t="isHexOnly",mn="isConstructed",Ri="isIndefiniteForm",ir="optional",Bs="primitiveSchema",Vr="value",Sr="valueDate",io="valueDec",ms=new ArrayBuffer(0);class wo{constructor(){this.items=[]}write(s){this.items.push(s)}final(){return Co(this.items)}}class ds{constructor(s={}){this.blockLength=b(s,"blockLength",0),this.error=b(s,"error",""),this.warnings=b(s,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in s?s.valueBeforeDecode.slice(0):ms}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:C(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const Ds=Fe=>class extends Fe{constructor(c={}){super(c),this.isHexOnly=b(c,$t,!1),this.valueHex=sn in c?c.valueHex.slice(0):ms}static blockName(){return"hexBlock"}fromBER(c,v,S){return!1===g(this,c,v,S)?-1:0===new Uint8Array(c,v,S).length?(this.warnings.push("Zero buffer length"),v):(this.valueHex=c.slice(v,v+S),this.blockLength=S,v+S)}toBER(c=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',ms):!0===c?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let c={};try{c=super.toJSON()}catch{}return c.blockName=this.constructor.blockName(),c.isHexOnly=this.isHexOnly,c.valueHex=C(this.valueHex,0,this.valueHex.byteLength),c}};class To extends(Ds(ds)){constructor(s={}){super(),"idBlock"in s?(this.isHexOnly=b(s.idBlock,$t,!1),this.valueHex=b(s.idBlock,sn,ms),this.tagClass=b(s.idBlock,"tagClass",-1),this.tagNumber=b(s.idBlock,"tagNumber",-1),this.isConstructed=b(s.idBlock,mn,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(s=!1){let v,S,c=0;switch(this.tagClass){case 1:c|=0;break;case 2:c|=64;break;case 3:c|=128;break;case 4:c|=192;break;default:return this.error="Unknown tag class",ms}if(this.isConstructed&&(c|=32),this.tagNumber<31&&!this.isHexOnly){if(v=new ArrayBuffer(1),S=new Uint8Array(v),!s){let D=this.tagNumber;D&=31,c|=D,S[0]=c}return v}if(!1===this.isHexOnly){const D=A(this.tagNumber,7),Z=new Uint8Array(D),re=D.byteLength;if(v=new ArrayBuffer(re+1),S=new Uint8Array(v),S[0]=31|c,!s){for(let de=0;de<re-1;de++)S[de+1]=128|Z[de];S[re]=Z[re-1]}return v}if(v=new ArrayBuffer(this.valueHex.byteLength+1),S=new Uint8Array(v),S[0]=31|c,!1===s){const D=new Uint8Array(this.valueHex);for(let Z=0;Z<D.length-1;Z++)S[Z+1]=128|D[Z];S[this.valueHex.byteLength]=D[D.length-1]}return v}fromBER(s,c,v){if(!1===g(this,s,c,v))return-1;const S=new Uint8Array(s,c,v);if(0===S.length)return this.error="Zero buffer length",-1;switch(192&S[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&S[0]),this.isHexOnly=!1;const Z=31&S[0];if(31!==Z)this.tagNumber=Z,this.blockLength=1;else{let re=1;this.valueHex=new ArrayBuffer(255);let de=255,Oe=new Uint8Array(this.valueHex);for(;128&S[re];){if(Oe[re-1]=127&S[re],re++,re>=S.length)return this.error="End of input reached before message was fully decoded",-1;if(re===de){de+=255;const Ht=new ArrayBuffer(de),pn=new Uint8Array(Ht);for(let Tn=0;Tn<Oe.length;Tn++)pn[Tn]=Oe[Tn];this.valueHex=new ArrayBuffer(de),Oe=new Uint8Array(this.valueHex)}}this.blockLength=re+1,Oe[re-1]=127&S[re];const gt=new ArrayBuffer(re),Dt=new Uint8Array(gt);for(let Ht=0;Ht<re;Ht++)Dt[Ht]=Oe[Ht];this.valueHex=new ArrayBuffer(re),Oe=new Uint8Array(this.valueHex),Oe.set(Dt),this.blockLength<=9?this.tagNumber=p(Oe,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return c+this.blockLength}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.blockName=this.constructor.blockName(),s.tagClass=this.tagClass,s.tagNumber=this.tagNumber,s.isConstructed=this.isConstructed,s}}class Ko extends ds{constructor(s={}){super(),"lenBlock"in s?(this.isIndefiniteForm=b(s.lenBlock,Ri,!1),this.longFormUsed=b(s.lenBlock,"longFormUsed",!1),this.length=b(s.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(s,c,v){if(!1===g(this,s,c,v))return-1;const S=new Uint8Array(s,c,v);if(0===S.length)return this.error="Zero buffer length",-1;if(255===S[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===S[0],!0===this.isIndefiniteForm)return this.blockLength=1,c+this.blockLength;if(this.longFormUsed=!!(128&S[0]),!1===this.longFormUsed)return this.length=S[0],this.blockLength=1,c+this.blockLength;const D=127&S[0];if(D>8)return this.error="Too big integer",-1;if(D+1>S.length)return this.error="End of input reached before message was fully decoded",-1;const Z=new Uint8Array(D);for(let re=0;re<D;re++)Z[re]=S[re+1];return 0===Z[D-1]&&this.warnings.push("Needlessly long encoded length"),this.length=p(Z,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=D+1,c+this.blockLength}toBER(s=!1){let c,v;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return c=new ArrayBuffer(1),!1===s&&(v=new Uint8Array(c),v[0]=128),c;if(!0===this.longFormUsed){const S=A(this.length,8);if(S.byteLength>127)return this.error="Too big length",ms;if(c=new ArrayBuffer(S.byteLength+1),!0===s)return c;const D=new Uint8Array(S);v=new Uint8Array(c),v[0]=128|S.byteLength;for(let Z=0;Z<S.byteLength;Z++)v[Z+1]=D[Z];return c}return c=new ArrayBuffer(1),!1===s&&(v=new Uint8Array(c),v[0]=this.length),c}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.blockName=this.constructor.blockName(),s.isIndefiniteForm=this.isIndefiniteForm,s.longFormUsed=this.longFormUsed,s.length=this.length,s}}class Us extends ds{constructor(s={}){super(s)}static blockName(){return"valueBlock"}fromBER(s,c,v){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(s=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class Br extends ds{constructor(s={},c=Us){super(s),"name"in s&&(this.name=s.name),ir in s&&(this.optional=s.optional),Bs in s&&(this.primitiveSchema=s.primitiveSchema),this.idBlock=new To(s),this.lenBlock=new Ko(s),this.valueBlock=new c(s)}static blockName(){return"BaseBlock"}fromBER(s,c,v){const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}toBER(s=!1,c){const v=c||new wo;c||ni(this);const S=this.idBlock.toBER(s);if(v.write(S),this.lenBlock.isIndefiniteForm)v.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(s,v),v.write(new ArrayBuffer(2));else{const D=this.valueBlock.toBER(!0);this.lenBlock.length=D.byteLength;const Z=this.lenBlock.toBER(s);v.write(Z);const re=s?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(s);v.write(re,v)}if(!c)return v.final()}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.idBlock=this.idBlock.toJSON(),s.lenBlock=this.lenBlock.toJSON(),s.valueBlock=this.valueBlock.toJSON(),"name"in this&&(s.name=this.name),ir in this&&(s.optional=this.optional),Bs in this&&(s.primitiveSchema=this.primitiveSchema.toJSON()),s}toString(){return`${this.constructor.blockName()} : ${C(this.valueBlock.valueHex)}`}}class $o extends Us{constructor(s={}){super(s),this.valueHex=sn in s?s.valueHex.slice(0):ms,this.isHexOnly=b(s,$t,!0)}fromBER(s,c,v){if(!1===g(this,s,c,v))return-1;const S=new Uint8Array(s,c,v);if(0===S.length)return this.warnings.push("Zero buffer length"),c;this.valueHex=new ArrayBuffer(S.length);const D=new Uint8Array(this.valueHex);for(let Z=0;Z<S.length;Z++)D[Z]=S[Z];return this.blockLength=v,c+v}toBER(s=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.valueHex=C(this.valueHex,0,this.valueHex.byteLength),s.isHexOnly=this.isHexOnly,s}}class ro extends Br{constructor(s={}){super(s,$o),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class ho extends Us{constructor(s={}){super(s),this.value=b(s,Vr,[]),this.isIndefiniteForm=b(s,Ri,!1)}fromBER(s,c,v){const S=c,D=v;if(!1===g(this,s,c,v))return-1;if(0===new Uint8Array(s,c,v).length)return this.warnings.push("Zero buffer length"),c;let de=c;for(;(!0===this.isIndefiniteForm?1:v)>0;){const Oe=Is(s,de,v);if(-1===Oe.offset)return this.error=Oe.result.error,this.warnings.concat(Oe.result.warnings),-1;if(de=Oe.offset,this.blockLength+=Oe.result.blockLength,v-=Oe.result.blockLength,this.value.push(Oe.result),!0===this.isIndefiniteForm&&Oe.result.constructor.blockName()===_o.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===_o.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=s.slice(S,S+D),de}toBER(s=!1,c){const v=c||new wo;for(let S=0;S<this.value.length;S++)this.value[S].toBER(s,v);if(!c)return v.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}s.isIndefiniteForm=this.isIndefiniteForm,s.value=[];for(let c=0;c<this.value.length;c++)s.value.push(this.value[c].toJSON());return s}}class to extends Br{constructor(s={}){super(s,ho),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(s,c,v){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}toString(){const s=[];for(const v of this.valueBlock.value)s.push(v.toString().split("\n").map(S=>`  ${S}`).join("\n"));const c=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return s.length?`${c} :\n${s.join("\n")}`:`${c} :`}}class ua extends Us{constructor(s={}){super(s)}fromBER(s,c,v){return c}toBER(s=!1){return ms}static blockName(){return"EndOfContentValueBlock"}}class _o extends Br{constructor(s={}){super(s,ua),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class zo extends Us{constructor(s={}){super(s),this.value=b(s,Vr,!1),this.isHexOnly=b(s,$t,!1),sn in s?this.valueHex=s.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(s,c,v){if(!1===g(this,s,c,v))return-1;const S=new Uint8Array(s,c,v);v>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(S.length);const D=new Uint8Array(this.valueHex);for(let Z=0;Z<S.length;Z++)D[Z]=S[Z];return this.value=0!==N.call(this),this.blockLength=v,c+v}toBER(s=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.value=this.value,s.isHexOnly=this.isHexOnly,s.valueHex=C(this.valueHex,0,this.valueHex.byteLength),s}}class Ao extends Br{constructor(s={}){super(s,zo),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class pi extends to{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class Ks extends to{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class No extends Br{constructor(s={}){super(s,ds),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(s,c,v){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=v,c+v>s.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):c+v}toBER(s=!1,c){const v=new ArrayBuffer(2);if(!s){const S=new Uint8Array(v);S[0]=5,S[1]=0}return c&&c.write(v),v}toString(){return`${this.constructor.blockName()}`}}class Ee extends(Ds(ho)){constructor(s={}){super(s),this.isConstructed=b(s,mn,!1)}fromBER(s,c,v){let S=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,S=ho.prototype.fromBER.call(this,s,c,v),-1===S)return S;for(let D=0;D<this.value.length;D++){const Z=this.value[D].constructor.blockName();if(Z===_o.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(Z!==W.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,S=super.fromBER(s,c,v),this.blockLength=v;return S}toBER(s=!1,c){if(!0===this.isConstructed)return ho.prototype.toBER.call(this,s,c);let v=new ArrayBuffer(this.valueHex.byteLength);return!0===s||0===this.valueHex.byteLength||(v=this.valueHex.slice(0)),v}static blockName(){return"OctetStringValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.isConstructed=this.isConstructed,s.isHexOnly=this.isHexOnly,s.valueHex=C(this.valueHex,0,this.valueHex.byteLength),s}}class W extends Br{constructor(s={}){super(s,Ee),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(s,c,v){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===v)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),c;if(!this.valueBlock.isConstructed){const S=s.slice(c,c+v);try{const D=fa(S);-1!==D.offset&&D.offset===v&&(this.valueBlock.value=[D.result])}catch{}}return super.fromBER(s,c,v)}static blockName(){return"OCTET STRING"}isEqual(s){return!(!(s instanceof W)||JSON.stringify(this)!==JSON.stringify(s))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?to.prototype.toString.call(this):`${this.constructor.blockName()} : ${C(this.valueBlock.valueHex)}`}}class Ae extends(Ds(ho)){constructor(s={}){super(s),this.unusedBits=b(s,"unusedBits",0),this.isConstructed=b(s,mn,!1),this.blockLength=this.valueHex.byteLength}fromBER(s,c,v){if(0===v)return c;let S=-1;if(!0===this.isConstructed){if(S=ho.prototype.fromBER.call(this,s,c,v),-1===S)return S;for(let re=0;re<this.value.length;re++){const de=this.value[re].constructor.blockName();if(de===_o.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(de!==Ue.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[re].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[re].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return S}if(!1===g(this,s,c,v))return-1;const D=new Uint8Array(s,c,v);if(this.unusedBits=D[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const re=s.slice(c+1,c+v);try{const de=fa(re);-1!==de.offset&&de.offset===v-1&&(this.value=[de.result])}catch{}}this.valueHex=new ArrayBuffer(D.length-1);const Z=new Uint8Array(this.valueHex);for(let re=0;re<v-1;re++)Z[re]=D[re+1];return this.blockLength=D.length,c+v}toBER(s=!1,c){if(!0===this.isConstructed)return ho.prototype.toBER.call(this,s,c);if(!0===s)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return ms;const v=new Uint8Array(this.valueHex),S=new ArrayBuffer(this.valueHex.byteLength+1),D=new Uint8Array(S);D[0]=this.unusedBits;for(let Z=0;Z<this.valueHex.byteLength;Z++)D[Z+1]=v[Z];return S}static blockName(){return"BitStringValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.unusedBits=this.unusedBits,s.isConstructed=this.isConstructed,s.isHexOnly=this.isHexOnly,s.valueHex=C(this.valueHex,0,this.valueHex.byteLength),s}}class Ue extends Br{constructor(s={}){super(s,Ae),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(s,c,v){return 0===v?c:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(s,c,v))}isEqual(s){return!(!(s instanceof Ue)||JSON.stringify(this)!==JSON.stringify(s))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return to.prototype.toString.call(this);{const s=[],c=new Uint8Array(this.valueBlock.valueHex);for(const v of c)s.push(v.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${s.join("")}`}}}class mt extends(Ds(Us)){constructor(s={}){super(s),Vr in s&&(this.valueDec=s.value)}set valueHex(s){this._valueHex=s.slice(0),s.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,s.byteLength>0&&(this._valueDec=N.call(this)))}get valueHex(){return this._valueHex}set valueDec(s){this._valueDec=s,this.isHexOnly=!1,this._valueHex=a(s)}get valueDec(){return this._valueDec}fromDER(s,c,v,S=0){const D=this.fromBER(s,c,v);if(-1===D)return D;const Z=new Uint8Array(this._valueHex);if(0===Z[0]&&0!=(128&Z[1])){const re=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(re).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=re.slice(0)}else if(0!==S&&this._valueHex.byteLength<S){S-this._valueHex.byteLength>1&&(S=this._valueHex.byteLength+1);const re=new ArrayBuffer(S);new Uint8Array(re).set(Z,S-this._valueHex.byteLength),this._valueHex=re.slice(0)}return D}toDER(s=!1){const c=new Uint8Array(this._valueHex);switch(!0){case 0!=(128&c[0]):{const v=new ArrayBuffer(this._valueHex.byteLength+1),S=new Uint8Array(v);S[0]=0,S.set(c,1),this._valueHex=v.slice(0)}break;case 0===c[0]&&0==(128&c[1]):{const v=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(v).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=v.slice(0)}}return this.toBER(s)}fromBER(s,c,v){const S=super.fromBER(s,c,v);return-1===S?S:(this.blockLength=v,c+v)}toBER(s=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.valueDec=this.valueDec,s}toString(){function s(Dt,Ht){const pn=new Uint8Array([0]);let Tn=new Uint8Array(Dt),Ti=new Uint8Array(Ht),Hi=Tn.slice(0);const dr=Hi.length-1;let ys=Ti.slice(0);const Ms=ys.length-1;let Hr=0,Zs=0;for(let Ua=Ms<dr?dr:Ms;Ua>=0;Ua--,Zs++)Hr=1==Zs<ys.length?Hi[dr-Zs]+ys[Ms-Zs]+pn[0]:Hi[dr-Zs]+pn[0],pn[0]=Hr/10,1==Zs>=Hi.length?Hi=R(new Uint8Array([Hr%10]),Hi):Hi[dr-Zs]=Hr%10;return pn[0]>0&&(Hi=R(pn,Hi)),Hi.slice(0)}function c(Dt){if(Dt>=Xs.length)for(let Ht=Xs.length;Ht<=Dt;Ht++){const pn=new Uint8Array([0]);let Tn=Xs[Ht-1].slice(0);for(let Ti=Tn.length-1;Ti>=0;Ti--){const Hi=new Uint8Array([(Tn[Ti]<<1)+pn[0]]);pn[0]=Hi[0]/10,Tn[Ti]=Hi[0]%10}pn[0]>0&&(Tn=R(pn,Tn)),Xs.push(Tn)}return Xs[Dt]}function v(Dt,Ht){let pn=0,Tn=new Uint8Array(Dt),Ti=new Uint8Array(Ht),Hi=Tn.slice(0);const dr=Hi.length-1;let ys=Ti.slice(0);const Ms=ys.length-1;let Hr,Kr=0;for(let Zs=Ms;Zs>=0;Zs--,Kr++)Hr=Hi[dr-Kr]-ys[Ms-Kr]-pn,1==Hr<0?(pn=1,Hi[dr-Kr]=Hr+10):(pn=0,Hi[dr-Kr]=Hr);if(pn>0)for(let Zs=dr-Ms+1;Zs>=0;Zs--,Kr++){if(Hr=Hi[dr-Kr]-pn,!(Hr<0)){pn=0,Hi[dr-Kr]=Hr;break}pn=1,Hi[dr-Kr]=Hr+10}return Hi.slice()}const S=8*this._valueHex.byteLength-1;let re,D=new Uint8Array(8*this._valueHex.byteLength/3),Z=0;const de=new Uint8Array(this._valueHex);let Oe="",gt=!1;for(let Dt=this._valueHex.byteLength-1;Dt>=0;Dt--){re=de[Dt];for(let Ht=0;Ht<8;Ht++)1==(1&re)&&(Z===S?(D=v(c(Z),D),Oe="-"):D=s(D,c(Z))),Z++,re>>=1}for(let Dt=0;Dt<D.length;Dt++)D[Dt]&&(gt=!0),gt&&(Oe+=he.charAt(D[Dt]));return!1===gt&&(Oe+=he.charAt(0)),Oe}}class Lt extends Br{constructor(s={}){super(s,mt),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(s){return s instanceof Lt?this.valueBlock.isHexOnly&&s.valueBlock.isHexOnly?k(this.valueBlock.valueHex,s.valueBlock.valueHex):this.valueBlock.isHexOnly===s.valueBlock.isHexOnly&&this.valueBlock.valueDec===s.valueBlock.valueDec:s instanceof ArrayBuffer&&k(this.valueBlock.valueHex,s)}convertToDER(){const s=new Lt({valueHex:this.valueBlock.valueHex});return s.valueBlock.toDER(),s}convertFromDER(){const s=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,c=new Lt({valueHex:this.valueBlock.valueHex});return c.valueBlock.fromDER(c.valueBlock.valueHex,0,c.valueBlock.valueHex.byteLength,s),c}toString(){ji();const s=C(this.valueBlock.valueHex),c=BigInt(`0x${s}`);return`${this.constructor.blockName()} : ${c.toString()}`}}class Nt extends Lt{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class Qt extends(Ds(ds)){constructor(s={}){super(s),this.valueDec=b(s,io,-1),this.isFirstSid=b(s,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(s,c,v){if(0===v)return c;if(!1===g(this,s,c,v))return-1;const S=new Uint8Array(s,c,v);this.valueHex=new ArrayBuffer(v);let D=new Uint8Array(this.valueHex);for(let de=0;de<v&&(D[de]=127&S[de],this.blockLength++,0!=(128&S[de]));de++);const Z=new ArrayBuffer(this.blockLength),re=new Uint8Array(Z);for(let de=0;de<this.blockLength;de++)re[de]=D[de];return this.valueHex=Z.slice(0),D=new Uint8Array(this.valueHex),0!=(128&S[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===D[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=p(D,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),c+this.blockLength)}set valueBigInt(s){ji();let c=BigInt(s).toString(2);for(;c.length%7;)c="0"+c;const v=new Uint8Array(c.length/7);for(let S=0;S<v.length;S++)v[S]=parseInt(c.slice(7*S,7*S+7),2)+(S+1<v.length?128:0);this.fromBER(v.buffer,0,v.length)}toBER(s=!1){let c,v;if(this.isHexOnly){if(!0===s)return new ArrayBuffer(this.valueHex.byteLength);const D=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength),v=new Uint8Array(c);for(let Z=0;Z<this.blockLength-1;Z++)v[Z]=128|D[Z];return v[this.blockLength-1]=D[this.blockLength-1],c}const S=A(this.valueDec,7);if(0===S.byteLength)return this.error="Error during encoding SID value",ms;if(c=new ArrayBuffer(S.byteLength),!1===s){const D=new Uint8Array(S);v=new Uint8Array(c);for(let Z=0;Z<S.byteLength-1;Z++)v[Z]=128|D[Z];v[S.byteLength-1]=D[S.byteLength-1]}return c}toString(){let s="";if(!0===this.isHexOnly)s=C(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let c=this.valueDec;this.valueDec<=39?s="0.":this.valueDec<=79?(s="1.",c-=40):(s="2.",c-=80),s+=c.toString()}else s=this.valueDec.toString();return s}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.valueDec=this.valueDec,s.isFirstSid=this.isFirstSid,s}}class pe extends Us{constructor(s={}){super(s),this.fromString(b(s,Vr,""))}fromBER(s,c,v){let S=c;for(;v>0;){const D=new Qt;if(S=D.fromBER(s,S,v),-1===S)return this.blockLength=0,this.error=D.error,S;0===this.value.length&&(D.isFirstSid=!0),this.blockLength+=D.blockLength,v-=D.blockLength,this.value.push(D)}return S}toBER(s=!1){const c=[];for(let v=0;v<this.value.length;v++){const S=this.value[v].toBER(s);if(0===S.byteLength)return this.error=this.value[v].error,ms;c.push(S)}return Co(c)}fromString(s){this.value=[];let c=0,v=0,S="",D=!1;do{if(v=s.indexOf(".",c),S=-1===v?s.substr(c):s.substr(c,v-c),c=v+1,D){const Z=this.value[0];let re=0;switch(Z.valueDec){case 0:break;case 1:re=40;break;case 2:re=80;break;default:return this.value=[],!1}const de=parseInt(S,10);if(isNaN(de))return!0;Z.valueDec=de+re,D=!1}else{const Z=new Qt;if(S>Number.MAX_SAFE_INTEGER){ji();const re=BigInt(S);Z.valueBigInt=re}else if(Z.valueDec=parseInt(S,10),isNaN(Z.valueDec))return!0;0===this.value.length&&(Z.isFirstSid=!0,D=!0),this.value.push(Z)}}while(-1!==v);return!0}toString(){let s="",c=!1;for(let v=0;v<this.value.length;v++){c=this.value[v].isHexOnly;let S=this.value[v].toString();0!==v&&(s=`${s}.`),c?(S=`{${S}}`,this.value[v].isFirstSid?s=`2.{${S} - 80}`:s+=S):s+=S}return s}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}s.value=this.toString(),s.sidArray=[];for(let c=0;c<this.value.length;c++)s.sidArray.push(this.value[c].toJSON());return s}}class nt extends Br{constructor(s={}){super(s,pe),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class le extends(Ds(ds)){constructor(s={}){super(s),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.value=this.value,s}}class Le extends Br{constructor(s={}){super(s,le),Vr in s&&this.fromString(s.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(s,c,v){const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(s){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(s));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(c){this.warnings.push(`Error during "decodeURIComponent": ${c}, using raw string`)}}fromString(s){const c=unescape(encodeURIComponent(s)),v=c.length;this.valueBlock.valueHex=new ArrayBuffer(v);const S=new Uint8Array(this.valueBlock.valueHex);for(let D=0;D<v;D++)S[D]=c.charCodeAt(D);this.valueBlock.value=s}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Bt extends(Ds(ds)){constructor(s={}){super(s),this.valueDec=b(s,io,-1)}static blockName(){return"relativeSidBlock"}fromBER(s,c,v){if(0===v)return c;if(!1===g(this,s,c,v))return-1;const S=new Uint8Array(s,c,v);this.valueHex=new ArrayBuffer(v);let D=new Uint8Array(this.valueHex);for(let de=0;de<v&&(D[de]=127&S[de],this.blockLength++,0!=(128&S[de]));de++);const Z=new ArrayBuffer(this.blockLength),re=new Uint8Array(Z);for(let de=0;de<this.blockLength;de++)re[de]=D[de];return this.valueHex=Z.slice(0),D=new Uint8Array(this.valueHex),0!=(128&S[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===D[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=p(D,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),c+this.blockLength)}toBER(s=!1){let c,v;if(this.isHexOnly){if(!0===s)return new ArrayBuffer(this.valueHex.byteLength);const D=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength),v=new Uint8Array(c);for(let Z=0;Z<this.blockLength-1;Z++)v[Z]=128|D[Z];return v[this.blockLength-1]=D[this.blockLength-1],c}const S=A(this.valueDec,7);if(0===S.byteLength)return this.error="Error during encoding SID value",ms;if(c=new ArrayBuffer(S.byteLength),!1===s){const D=new Uint8Array(S);v=new Uint8Array(c);for(let Z=0;Z<S.byteLength-1;Z++)v[Z]=128|D[Z];v[S.byteLength-1]=D[S.byteLength-1]}return c}toString(){let s="";return s=!0===this.isHexOnly?C(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),s}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.valueDec=this.valueDec,s}}class on extends Us{constructor(s={}){super(s),this.fromString(b(s,Vr,""))}fromBER(s,c,v){let S=c;for(;v>0;){const D=new Bt;if(S=D.fromBER(s,S,v),-1===S)return this.blockLength=0,this.error=D.error,S;this.blockLength+=D.blockLength,v-=D.blockLength,this.value.push(D)}return S}toBER(s=!1){let c=[];for(let v=0;v<this.value.length;v++){const S=this.value[v].toBER(s);if(0===S.byteLength)return this.error=this.value[v].error,ms;c.push(S)}return Co(c)}fromString(s){this.value=[];let c=0,v=0,S="";do{v=s.indexOf(".",c),S=-1===v?s.substr(c):s.substr(c,v-c),c=v+1;const D=new Bt;if(D.valueDec=parseInt(S,10),isNaN(D.valueDec))return!0;this.value.push(D)}while(-1!==v);return!0}toString(){let s="",c=!1;for(let v=0;v<this.value.length;v++){c=this.value[v].isHexOnly;let S=this.value[v].toString();0!==v&&(s=`${s}.`),c&&(S=`{${S}}`),s+=S}return s}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}s.value=this.toString(),s.sidArray=[];for(let c=0;c<this.value.length;c++)s.sidArray.push(this.value[c].toJSON());return s}}class Un extends Br{constructor(s={}){super(s,on),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class wi extends(Ds(ds)){constructor(s={}){super(s),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.value=this.value,s}}class ls extends Br{constructor(s={}){super(s,wi),Vr in s&&this.fromString(s.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(s,c,v){const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(s){const c=s.slice(0),v=new Uint8Array(c);for(let S=0;S<v.length;S+=2){const D=v[S];v[S]=v[S+1],v[S+1]=D}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(c))}fromString(s){const c=s.length;this.valueBlock.valueHex=new ArrayBuffer(2*c);const v=new Uint8Array(this.valueBlock.valueHex);for(let S=0;S<c;S++){const D=A(s.charCodeAt(S),8),Z=new Uint8Array(D);if(Z.length>2)continue;const re=2-Z.length;for(let de=Z.length-1;de>=0;de--)v[2*S+de+re]=Z[de]}this.valueBlock.value=s}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class qr extends(Ds(ds)){constructor(s={}){super(s),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.value=this.value,s}}class xr extends Br{constructor(s={}){super(s,qr),Vr in s&&this.fromString(s.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(s,c,v){const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(s){const c=s.slice(0),v=new Uint8Array(c);for(let S=0;S<v.length;S+=4)v[S]=v[S+3],v[S+1]=v[S+2],v[S+2]=0,v[S+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(c))}fromString(s){const c=s.length;this.valueBlock.valueHex=new ArrayBuffer(4*c);const v=new Uint8Array(this.valueBlock.valueHex);for(let S=0;S<c;S++){const D=A(s.charCodeAt(S),8),Z=new Uint8Array(D);if(Z.length>4)continue;const re=4-Z.length;for(let de=Z.length-1;de>=0;de--)v[4*S+de+re]=Z[de]}this.valueBlock.value=s}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class So extends(Ds(ds)){constructor(s={}){super(s),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.value=this.value,s}}class gs extends Br{constructor(s={}){super(s,So),Vr in s&&this.fromString(s.value)}static blockName(){return"SIMPLESTRING"}fromBER(s,c,v){const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(s){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(s))}fromString(s){const c=s.length;this.valueBlock.valueHex=new ArrayBuffer(c);const v=new Uint8Array(this.valueBlock.valueHex);for(let S=0;S<c;S++)v[S]=s.charCodeAt(S);this.valueBlock.value=s}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class xo extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class $s extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class so extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Fs extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class Ro extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class da extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class me extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class Tt extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class j extends gs{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class Se extends me{constructor(s={}){if(super(s),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,Vr in s){this.fromString(s.value),this.valueBlock.valueHex=new ArrayBuffer(s.value.length);const c=new Uint8Array(this.valueBlock.valueHex);for(let v=0;v<s.value.length;v++)c[v]=s.value.charCodeAt(v)}Sr in s&&(this.fromDate(s.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(s,c,v){const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(s){this.fromString(String.fromCharCode.apply(null,new Uint8Array(s)))}toBuffer(){const s=this.toString(),c=new ArrayBuffer(s.length),v=new Uint8Array(c);for(let S=0;S<s.length;S++)v[S]=s.charCodeAt(S);return c}fromDate(s){this.year=s.getUTCFullYear(),this.month=s.getUTCMonth()+1,this.day=s.getUTCDate(),this.hour=s.getUTCHours(),this.minute=s.getUTCMinutes(),this.second=s.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(s){const v=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(s);if(null===v)return void(this.error="Wrong input string for conversion");const S=parseInt(v[1],10);this.year=S>=50?1900+S:2e3+S,this.month=parseInt(v[2],10),this.day=parseInt(v[3],10),this.hour=parseInt(v[4],10),this.minute=parseInt(v[5],10),this.second=parseInt(v[6],10)}toString(){const s=new Array(7);return s[0]=P(this.year<2e3?this.year-1900:this.year-2e3,2),s[1]=P(this.month,2),s[2]=P(this.day,2),s[3]=P(this.hour,2),s[4]=P(this.minute,2),s[5]=P(this.second,2),s[6]="Z",s.join("")}static blockName(){return"UTCTime"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.year=this.year,s.month=this.month,s.day=this.day,s.hour=this.hour,s.minute=this.minute,s.second=this.second,s}}class Rt extends me{constructor(s={}){if(super(s),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,Vr in s){this.fromString(s.value),this.valueBlock.valueHex=new ArrayBuffer(s.value.length);const c=new Uint8Array(this.valueBlock.valueHex);for(let v=0;v<s.value.length;v++)c[v]=s.value.charCodeAt(v)}Sr in s&&(this.fromDate(s.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(s,c,v){const S=this.valueBlock.fromBER(s,c,!0===this.lenBlock.isIndefiniteForm?v:this.lenBlock.length);return-1===S?(this.error=this.valueBlock.error,S):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),S)}fromBuffer(s){this.fromString(String.fromCharCode.apply(null,new Uint8Array(s)))}toBuffer(){const s=this.toString(),c=new ArrayBuffer(s.length),v=new Uint8Array(c);for(let S=0;S<s.length;S++)v[S]=s.charCodeAt(S);return c}fromDate(s){this.year=s.getUTCFullYear(),this.month=s.getUTCMonth()+1,this.day=s.getUTCDate(),this.hour=s.getUTCHours(),this.minute=s.getUTCMinutes(),this.second=s.getUTCSeconds(),this.millisecond=s.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(s){let Z,c=!1,v="",S="",D=0,re=0,de=0;if("Z"===s[s.length-1])v=s.substr(0,s.length-1),c=!0;else{const Dt=new Number(s[s.length-1]);if(isNaN(Dt.valueOf()))throw new Error("Wrong input string for conversion");v=s}if(c){if(-1!==v.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==v.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Dt=1,Ht=v.indexOf("+"),pn="";if(-1===Ht&&(Ht=v.indexOf("-"),Dt=-1),-1!==Ht){if(pn=v.substr(Ht+1),v=v.substr(0,Ht),2!==pn.length&&4!==pn.length)throw new Error("Wrong input string for conversion");let Tn=new Number(pn.substr(0,2));if(isNaN(Tn.valueOf()))throw new Error("Wrong input string for conversion");if(re=Dt*Tn,4===pn.length){if(Tn=new Number(pn.substr(2,2)),isNaN(Tn.valueOf()))throw new Error("Wrong input string for conversion");de=Dt*Tn}}}let Oe=v.indexOf(".");if(-1===Oe&&(Oe=v.indexOf(",")),-1!==Oe){const Dt=new Number(`0${v.substr(Oe)}`);if(isNaN(Dt.valueOf()))throw new Error("Wrong input string for conversion");D=Dt.valueOf(),S=v.substr(0,Oe)}else S=v;switch(!0){case 8===S.length:if(Z=/(\d{4})(\d{2})(\d{2})/gi,-1!==Oe)throw new Error("Wrong input string for conversion");break;case 10===S.length:if(Z=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==Oe){let Dt=60*D;this.minute=Math.floor(Dt),Dt=60*(Dt-this.minute),this.second=Math.floor(Dt),Dt=1e3*(Dt-this.second),this.millisecond=Math.floor(Dt)}break;case 12===S.length:if(Z=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Oe){let Dt=60*D;this.second=Math.floor(Dt),Dt=1e3*(Dt-this.second),this.millisecond=Math.floor(Dt)}break;case 14===S.length:Z=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==Oe&&(this.millisecond=Math.floor(1e3*D));break;default:throw new Error("Wrong input string for conversion")}const gt=Z.exec(S);if(null===gt)throw new Error("Wrong input string for conversion");for(let Dt=1;Dt<gt.length;Dt++)switch(Dt){case 1:this.year=parseInt(gt[Dt],10);break;case 2:this.month=parseInt(gt[Dt],10);break;case 3:this.day=parseInt(gt[Dt],10);break;case 4:this.hour=parseInt(gt[Dt],10)+re;break;case 5:this.minute=parseInt(gt[Dt],10)+de;break;case 6:this.second=parseInt(gt[Dt],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===c){const Dt=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Dt.getUTCFullYear(),this.month=Dt.getUTCMonth(),this.day=Dt.getUTCDay(),this.hour=Dt.getUTCHours(),this.minute=Dt.getUTCMinutes(),this.second=Dt.getUTCSeconds(),this.millisecond=Dt.getUTCMilliseconds()}}toString(){const s=[];return s.push(P(this.year,4)),s.push(P(this.month,2)),s.push(P(this.day,2)),s.push(P(this.hour,2)),s.push(P(this.minute,2)),s.push(P(this.second,2)),0!==this.millisecond&&(s.push("."),s.push(P(this.millisecond,3))),s.push("Z"),s.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let s={};try{s=super.toJSON()}catch{}return s.year=this.year,s.month=this.month,s.day=this.day,s.hour=this.hour,s.minute=this.minute,s.second=this.second,s.millisecond=this.millisecond,s}}class On extends Le{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class Wn extends Le{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class or extends Le{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class Ur extends Le{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class ha extends Le{constructor(s={}){super(s),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function Is(Fe,s,c){const v=s;let D=new Br({},Object);const Z=new ds;if(!1===g(Z,Fe,s,c))return D.error=Z.error,{offset:-1,result:D};if(0===new Uint8Array(Fe,s,c).length)return D.error="Zero buffer length",{offset:-1,result:D};let de=D.idBlock.fromBER(Fe,s,c);if(D.warnings.concat(D.idBlock.warnings),-1===de)return D.error=D.idBlock.error,{offset:-1,result:D};if(de=D.lenBlock.fromBER(Fe,s=de,c-=D.idBlock.blockLength),D.warnings.concat(D.lenBlock.warnings),-1===de)return D.error=D.lenBlock.error,{offset:-1,result:D};if(s=de,c-=D.lenBlock.blockLength,!1===D.idBlock.isConstructed&&!0===D.lenBlock.isIndefiniteForm)return D.error="Indefinite length form used for primitive encoding form",{offset:-1,result:D};let Oe=Br;if(1===D.idBlock.tagClass){if(D.idBlock.tagNumber>=37&&!1===D.idBlock.isHexOnly)return D.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:D};switch(D.idBlock.tagNumber){case 0:if(!0===D.idBlock.isConstructed&&D.lenBlock.length>0)return D.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:D};Oe=_o;break;case 1:Oe=Ao;break;case 2:Oe=Lt;break;case 3:Oe=Ue;break;case 4:Oe=W;break;case 5:Oe=No;break;case 6:Oe=nt;break;case 10:Oe=Nt;break;case 12:Oe=Le;break;case 13:Oe=Un;break;case 14:Oe=ha;break;case 15:return D.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:D};case 16:Oe=pi;break;case 17:Oe=Ks;break;case 18:Oe=xo;break;case 19:Oe=$s;break;case 20:Oe=so;break;case 21:Oe=Fs;break;case 22:Oe=Ro;break;case 23:Oe=Se;break;case 24:Oe=Rt;break;case 25:Oe=da;break;case 26:Oe=me;break;case 27:Oe=Tt;break;case 28:Oe=xr;break;case 29:Oe=j;break;case 30:Oe=ls;break;case 31:Oe=On;break;case 32:Oe=Wn;break;case 33:Oe=or;break;case 34:Oe=Ur;break;default:{let gt;gt=!0===D.idBlock.isConstructed?new to:new ro,gt.idBlock=D.idBlock,gt.lenBlock=D.lenBlock,gt.warnings=D.warnings,D=gt}}}else Oe=!0===D.idBlock.isConstructed?to:ro;return D=function S(gt,Dt){if(gt instanceof Dt)return gt;const Ht=new Dt;return Ht.idBlock=gt.idBlock,Ht.lenBlock=gt.lenBlock,Ht.warnings=gt.warnings,Ht.valueBeforeDecode=gt.valueBeforeDecode.slice(0),Ht}(D,Oe),de=D.fromBER(Fe,s,!0===D.lenBlock.isIndefiniteForm?c:D.lenBlock.length),D.valueBeforeDecode=Fe.slice(v,v+D.blockLength),{offset:de,result:D}}function fa(Fe){if(0===Fe.byteLength){const s=new Br({},Object);return s.error="Input buffer has zero length",{offset:-1,result:s}}return Is(Fe,0,Fe.byteLength)}var oo=f(3172),Yo=f(1935),al=f(4650);let Ga=(()=>{class Fe{convertStringToArrayBuffer(c){const v=new oo.lW(c,"base64").toString("binary"),S=new ArrayBuffer(2*v.length),D=new Uint8Array(S);for(let Z=0,re=v.length;Z<re;Z++)D[Z]=v.charCodeAt(Z);return S}buildCertModelFromArrayBuffer(c,v){var S=this;return(0,t.Z)(function*(){const D=fa(c),Z=new ur({schema:D.result}),re=new e,de=S.getSubject(Z),Oe=yield S.calculateCertificateThumbprint(v);return re.base64Cert=v,re.subject=de,re.thumbprint=Oe,re})()}verifyCertFilePassword(c,v,S){let D=new FileReader;D.onload=Z=>{try{const re=oo.lW.from(D.result),de=this.arrayBufferToBase64(re);(0,Yo.KG)(re,v),S.next(de)}catch(re){console.log("Invalid cert!"),S.error(re)}},D.onerror=Z=>{S.error(Z)},D.readAsArrayBuffer(c)}getSubject(c){const v={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},S=new Array;for(const Z of c.subject.typesAndValues){let re=v[Z.type];typeof re>"u"&&(re=Z.type),S.push(`${re}=${Z.value.valueBlock.value}`)}return S.reverse().join(", ")}calculateCertificateThumbprint(c){var v=this;return(0,t.Z)(function*(){const S=new oo.lW(c,"base64"),D=yield crypto.subtle.digest("SHA-1",S);return v.computeHex(D)})()}computeHex(c){return[].map.call(new Uint8Array(c),v=>("00"+v.toString(16)).slice(-2)).join("")}arrayBufferToBase64(c){for(var v="",S=new Uint8Array(c),D=S.byteLength,Z=0;Z<D;Z++)v+=String.fromCharCode(S[Z]);return window.btoa(v)}}return Fe.\u0275fac=function(c){return new(c||Fe)},Fe.\u0275prov=al.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})()},146:(st,ye,f)=>{"use strict";f.d(ye,{M:()=>C});var t=f(529),e=f(4707),m=f(8176),w=f(4650),b=f(8564);let C=(()=>{class g{constructor(A,_){this.http=A,this.claimTypeSubject=new e.t(1),this.actionUrl="ClaimTypes",this.headers=_.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(A){return this.http.get(`${this.actionUrl}/${A}`,{headers:this.headers})}getClaimTypes(A,_,R=!1){let N=new t.LE;return(0,m.Ew)(A)||(N=N.append("name",A)),N=N.append("sort",(0,m.Ew)(_)?"name":_),this.http.get(R?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:N})}addClaimType(A){const _=`${this.actionUrl}`,R=JSON.stringify(A);return this.http.post(_,R,{headers:this.headers})}updateClaimType(A){const _=`${this.actionUrl}/${A.id}`,R=JSON.stringify(A);return this.http.put(_,R,{headers:this.headers})}deleteClaimType(A){return this.http.delete(`${this.actionUrl}/${A.id}`,{headers:this.headers})}getAllowedValues(A,_,R){let N=new t.LE;return(0,m.Ew)(_)||(N=N.append("query",_)),R&&(N=N.append("resultThreshold",R)),this.http.get(`${this.actionUrl}/AllowedValues/${A}`,{headers:this.headers,params:N})}}return g.\u0275fac=function(A){return new(A||g)(w.LFG(t.eN),w.LFG(b.s))},g.\u0275prov=w.Yz7({token:g,factory:g.\u0275fac}),g})()},8190:(st,ye,f)=>{"use strict";f.d(ye,{F:()=>p});var t=f(515),e=f(4004),m=f(262),w=f(4879),b=f(4650),C=f(146),g=f(4889);let p=(()=>{class A{constructor(R,N){this.claimTypeService=R,this.errorService=N}resolve(R,N){return this.claimTypeService.getClaimType(R.params.Id).pipe((0,e.U)(k=>(k&&this.claimTypeService.getCachedClaimType().next(k),k)),(0,m.K)((k,P)=>(404===k.status?this.errorService.resourceNotFound(w._.claimType):this.errorService.handleError(k),(0,t.c)())))}}return A.\u0275fac=function(R){return new(R||A)(b.LFG(C.M),b.LFG(g.T))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac}),A})()},4608:(st,ye,f)=>{"use strict";f.d(ye,{Z:()=>m});var t=f(1135),e=f(4650);let m=(()=>{class w{constructor(){this.unsavedCache=new t.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},6297:(st,ye,f)=>{"use strict";f.d(ye,{Zy:()=>b,rJ:()=>C,wf:()=>w});var t=f(4650),e=f(529),m=f(8564);let w=(()=>{class p{constructor(_,R){this.http=_,this.headersService=R,this.actionUrl="clients/import"}validateImportFile(_){const a=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,_,{headers:a})}completeImport(_,R){const N=this.appendImportConfiguration(_,R),k=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,N,{headers:k})}appendImportConfiguration(_,R){const N=JSON.parse(_);return N.importConfiguration={clients:R.clients,protectedResources:R.protectedResources},JSON.stringify(N)}}return p.\u0275fac=function(_){return new(_||p)(t.LFG(e.eN),t.LFG(m.s))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class b{}class C{constructor(){this.certificates=new g}}class g{}},9470:(st,ye,f)=>{"use strict";f.d(ye,{a:()=>b});var t=f(9848),e=f(8895),m=f(4650),w=f(4608);let b=(()=>{class ${constructor(E){this.cache=E,this.defaultClientGrantTypeMap=new Map([[t.B.BrowserBased,e.q.AuthorizationCode],[t.B.ServerSidePKCE,e.q.AuthorizationCode],[t.B.ServerSide,e.q.Hybrid],[t.B.Native,e.q.Hybrid],[t.B.Machine,e.q.ClientCredentials],[t.B.CIBAMachine,e.q.CIBA],[t.B.Device,e.q.Device],[t.B.LegacyClientSide,e.q.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(X=>{this.initClientViews(X)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(E){this.resetTabs(),this.isStandardClientFormat(E)||E.clientType===t.B.Saml||E.clientType===t.B.WsFed?this.initUsingClientType(E.clientType):0!==E.allowedGrantTypes.length?this.initUsingGrantTypes(E.allowedGrantTypes):this.initDefaults()}resetTabs(){this.details=new C,this.applicationUrls=new g,this.secrets=new p,this.resources=new A,this.tokens=new ie,this.claims=new R,this.grantTypes=new N,this.refreshTokens=new L,this.identityProviders=new a,this.properties=new k,this.other=new P,this.pkce=new U,this.deviceFlow=new J,this.singleSignOut=new O,this.consent=new F,this.saml=new V,this.wsFed=new q,this.ciba=new _,this.dpop=new H}isStandardClientFormat(E){if(E.clientType===t.B.Unknown||E.allowedGrantTypes.length>1)return!1;const X=this.defaultClientGrantTypeMap.get(E.clientType);return E.allowedGrantTypes[0]===X}initUsingClientType(E){switch(E){case t.B.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.B.ServerSide:case t.B.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.B.Native:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.B.Machine:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0;break;case t.B.CIBAMachine:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case t.B.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.B.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case t.B.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case t.B.LegacyClientSide:this.consent.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(E){this.saml.display=!1,this.wsFed.display=!1,E.forEach(X=>{switch(X){case e.q.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0;break;case e.q.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.q.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}return $.\u0275fac=function(E){return new(E||$)(m.LFG(w.Z))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})();class C{}class g{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class p{constructor(){this.display=!1}}class A{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class _{constructor(){this.display=!1}}class R{constructor(){this.display=!1}}class N{constructor(){this.display=!1}}class a{constructor(){this.display=!1}}class k{constructor(){this.display=!1}}class P{constructor(){this.display=!1,this.userSSOLifetime=!1}}class U{constructor(){this.display=!1}}class J{constructor(){this.display=!1}}class O{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class L{constructor(){this.display=!1}}class F{constructor(){this.display=!1}}class V{constructor(){this.display=!1}}class q{constructor(){this.display=!1}}class ie{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class H{constructor(){this.display=!0}}},9012:(st,ye,f)=>{"use strict";f.d(ye,{a:()=>g});var t=f(529),e=f(4707),m=f(8176),w=f(9848),b=f(4650),C=f(8564);let g=(()=>{class p{constructor(_,R){this.http=_,this.headersService=R,this.clientSubject=new e.t(1),this.actionUrl="clients",this.headers=R.setHeaders()}getClients(_,R,N){let a=new t.LE;return(0,m.Ew)(_)||(a=a.append("name",_)),R&&(a=a.append("page",R)),N&&(a=a.append("pageSize",N)),this.http.get(this.actionUrl,{headers:this.headers,params:a})}getClient(_){return this.http.get(`${this.actionUrl}/${_}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(_){let R;switch(_.clientType){case w.B.Saml:R=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case w.B.WsFed:R=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:R=this.headersService.setHeaders()}const N=`${this.actionUrl}/`,a=JSON.stringify(_);return this.http.post(N,a,{headers:R})}updateClient(_){return this.http.put(`${this.actionUrl}/${_.id}`,_,{headers:this.headers})}addClientSecret(_,R){return this.http.post(`${this.actionUrl}/${_}/secrets`,R,{headers:this.headers})}removeClientSecret(_,R){return this.http.delete(`${this.actionUrl}/${_}/secrets/${R.id}`,{headers:this.headers})}deleteClient(_){return this.http.delete(`${this.actionUrl}/${_}`,{headers:this.headers})}cloneClient(_,R){const N=`${this.actionUrl}/${_}/clone`,a=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(N,R,{headers:a,observe:"response"})}}return p.\u0275fac=function(_){return new(_||p)(b.LFG(t.eN),b.LFG(C.s))},p.\u0275prov=b.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},9881:(st,ye,f)=>{"use strict";f.d(ye,{E:()=>R});var t=f(529),e=f(9646),m=f(7579),w=f(5188);function C(N){return{...N,dynamicAuthenticationFlag:w.u[N.dynamicAuthenticationFlag]}}class A{}var _=f(4650);let R=(()=>{class N{constructor(k){this.http=k,this.headers=new t.WM,this.actionUrl="UIConfiguration"}getConfig(k=!1){const P=new A;if(P.addUserPassword=!1,P.resetPasswordConfigured=!1,P.isDemo=!1,P.targetIdentityServer4=!1,P.resetMfaConfigured=!1,P.featureFlagOptions=new w.O,this.uiOptions&&!k)return(0,e.of)(this.uiOptions);const U=new m.x;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:J=>{this.uiOptions=function p(N){return{...N,featureFlagOptions:C(N.featureFlagOptions)}}(J),U.next(this.uiOptions)},error:J=>U.next(P)}),U.asObservable()}}return N.\u0275fac=function(k){return new(k||N)(_.LFG(t.eN))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})()},4995:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>A});var t=f(515),e=f(4004),m=f(262),w=f(4879),b=f(4650),C=f(3499),g=f(5150),p=f(4889);let A=(()=>{class _{constructor(N,a,k){this.wsfedClientService=N,this.relyingPartyCache=a,this.errorService=k}resolve(N,a){const k=N.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(k).pipe((0,e.U)(P=>{const U=JSON.parse(JSON.stringify(P.claimMappings)),J=new Map;for(const O in U)U.hasOwnProperty(O)&&J.set(O,U[O]);return P.claimMappings=J,this.relyingPartyCache.unsavedCache.next(P),P}),(0,m.K)(P=>(404===P.status?this.errorService.resourceNotFound(w._.relyingParty):this.errorService.handleError(P),(0,t.c)())));this.relyingPartyCache.unsavedCache$.subscribe(P=>P)}}return _.\u0275fac=function(N){return new(N||_)(b.LFG(C.K),b.LFG(g.N),b.LFG(p.T))},_.\u0275prov=b.Yz7({token:_,factory:_.\u0275fac}),_})()},1428:(st,ye,f)=>{"use strict";f.d(ye,{d:()=>_});var t=f(515),e=f(4004),m=f(262),w=f(4879),b=f(4650),C=f(1339),g=f(9536),p=f(8185),A=f(4889);let _=(()=>{class R{constructor(a,k,P,U){this.serviceProviderService=a,this.serviceproviderCache=k,this.router=P,this.errorSerivce=U}resolve(a,k){const P=a.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(P).pipe((0,e.U)(U=>{const J=JSON.parse(JSON.stringify(U.claimMappings)),O=new Map;for(const L in J)J.hasOwnProperty(L)&&O.set(L,J[L]);return U.claimMappings=O,this.serviceproviderCache.unsavedCache.next(U),this.serviceproviderCache.savedCache.next(U),U}),(0,m.K)((U,J)=>(404===U.status?this.errorSerivce.resourceNotFound(w._.serviceProvider):this.errorSerivce.handleError(U),(0,t.c)())));this.serviceproviderCache.unsavedCache$.subscribe(U=>U)}}return R.\u0275fac=function(a){return new(a||R)(b.LFG(C.G),b.LFG(g.S),b.LFG(p.F0),b.LFG(A.T))},R.\u0275prov=b.Yz7({token:R,factory:R.\u0275fac}),R})()},3883:(st,ye,f)=>{"use strict";f.d(ye,{i:()=>C});var t=f(590),e=f(4650),m=f(1339),w=f(9536),b=f(4889);let C=(()=>{class g{constructor(A,_,R){this.serviceProviderService=A,this.cache=_,this.errorService=R}uploadFile(A,_){return this.serviceProviderService.setEncryptionCertificateViaFile(A,_)}uploadViaMetaData(A,_){return this.serviceProviderService.setEncryptionCertificateViaMetadata(A,_)}updateCertCache(A){this.serviceProviderService.getServiceProvider(A).subscribe(_=>{this.cache.unsavedCache$.pipe((0,t.P)()).subscribe(R=>{R.encryptionCertificate=_.encryptionCertificate,this.cache.unsavedCache.next(R)})},_=>{this.errorService.handleError(_)})}}return g.\u0275fac=function(A){return new(A||g)(e.LFG(m.G),e.LFG(w.S),e.LFG(b.T))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac}),g})()},4889:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>A});var t=f(8176),e=f(4879),m=f(160),w=f(4650),b=f(8185),C=f(2979),g=f(7185),p=f(9383);let A=(()=>{class _{constructor(N,a,k,P){this.router=N,this.localize=a,this.toast=k,this.translate=P}resourceNotFound(N){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e._[N])])}handleError(N,a,k){let P=m.s.NotHandled;const U=this.getDefaultNavigationPath(N);if(U)this.router.navigate([this.localize.translateRoute(U)]),P|=m.s.Navigate;else{const J=this.getOptionsToastBody(N,a)||this.getDefaultToastBody(N),O=this.getOptionsToastTitle(N,a)||this.getDefaultToastTitle(N);J&&O&&(k?this.toast.error(J,O,k):this.toast.error(J,O),P|=m.s.Toast)}return P}getOptionsToastBody(N,a){if(!a)return;const k="number"==typeof N.status&&a.statusToastOptions?a.statusToastOptions[N.status]:a;return k&&k.toastBody}getOptionsToastTitle(N,a){if(!a)return;const k="number"==typeof N.status&&a.statusToastOptions?a.statusToastOptions[N.status]:a;return k&&k.toastTitle}getDefaultNavigationPath(N){switch(N.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(N){switch(N.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(N){return 500===N.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:N.error&&N.error.errors&&N.error.errors.length>0?N.error.errors[0]:(0,t.Ew)(N._body)&&(0,t.Ew)(N.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,t.Ew)(N.error)?N._body:N.error}}return _.\u0275fac=function(N){return new(N||_)(w.LFG(b.F0),w.LFG(C.An),w.LFG(g._W),w.LFG(p.sK))},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},9002:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>m});var t=f(4650),e=f(1888);let m=(()=>{class w{constructor(C){this.fileDownloader=C,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(C){const g=this.actionUrl+"/specified",p=new Map;p.set("clientIds",C.join(",")),this.fileDownloader.buildFormWithCustomInputs(g,p).submitForm()}}return w.\u0275fac=function(C){return new(C||w)(t.LFG(e.B))},w.\u0275prov=t.Yz7({token:w,factory:w.\u0275fac}),w})()},1888:(st,ye,f)=>{"use strict";f.d(ye,{B:()=>w});class t{constructor(C){this.form=C}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=f(4650),m=f(1060);let w=(()=>{class b{constructor(g){this.securityService=g}buildForm(g){const p=this.buildStandardForm(g);return new t(p)}buildStandardForm(g){const p=document.createElement("form");return p.setAttribute("method","post"),p.setAttribute("action",g),p}appendInput(g,p,A){const _=document.createElement("input");_.setAttribute("type","text"),_.setAttribute("name",g),_.setAttribute("value",p),A.appendChild(_)}buildFormWithCustomInputs(g,p){const A=this.buildStandardForm(g);return p.forEach((_,R)=>{this.appendInput(R,_,A)}),new t(A)}}return b.\u0275fac=function(g){return new(g||b)(e.LFG(m.I))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac}),b})()},9512:(st,ye,f)=>{"use strict";f.d(ye,{n:()=>g});var t=f(590),e=f(4004),m=f(5188),w=f(4650),b=f(8185),C=f(9881);let g=(()=>{class p{constructor(_,R){this.router=_,this.config=R}canActivate(_,R){return this.config.getConfig().pipe((0,t.P)(),(0,e.U)(N=>(N?.featureFlagOptions?.dynamicAuthenticationFlag??m.u.Disabled)!=m.u.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}}return p.\u0275fac=function(_){return new(_||p)(w.LFG(b.F0),w.LFG(C.E))},p.\u0275prov=w.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},7364:(st,ye,f)=>{"use strict";f.d(ye,{f:()=>C});var t=f(590),e=f(4004),m=f(4650),w=f(8185),b=f(9881);let C=(()=>{class g{constructor(A,_){this.router=A,this.config=_}canActivate(A,_){return this.config.getConfig().pipe((0,t.P)(),(0,e.U)(R=>(R?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}}return g.\u0275fac=function(A){return new(A||g)(m.LFG(w.F0),m.LFG(b.E))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},8564:(st,ye,f)=>{"use strict";f.d(ye,{s:()=>m});var t=f(529),e=f(4650);let m=(()=>{class w{setHeaders(C,g){return(new t.WM).set("Content-Type",C||"application/json").set("Accept",g||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},4946:(st,ye,f)=>{"use strict";f.d(ye,{G:()=>w});var t=f(4707),e=f(4650),m=f(529);let w=(()=>{class b{constructor(g){this.http=g,this.idsReady=!1,this.idsHealthCheckComplete=new t.t(1),this.uiReady=!1,this.uiHealthCheckComplete=new t.t(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}}return b.\u0275fac=function(g){return new(g||b)(e.LFG(m.eN))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac}),b})()},8506:(st,ye,f)=>{"use strict";f.d(ye,{Q:()=>C});var t=f(529),e=f(4707),m=f(8176),w=f(4650),b=f(8564);let C=(()=>{class g{constructor(A,_){this.http=A,this.headersService=_,this.identityResourceSubject=new e.t(1),this.actionUrl="IdentityResources",this.headers=_.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(A){let _=new t.LE;return(0,m.Ew)(A)||(_=_.append("name",A)),this.http.get(this.actionUrl,{headers:this.headers,params:_})}addResource(A){const _=`${this.actionUrl}/`,R=JSON.stringify(A);return this.http.post(_,R,{headers:this.headers})}getResource(A){return this.http.get(`${this.actionUrl}/${A}`,{headers:this.headers})}updateResource(A){return this.http.put(`${this.actionUrl}/${A.id}`,A,{headers:this.headers})}deleteIdentityResource(A){return this.http.delete(`${this.actionUrl}/${A}`,{headers:this.headers})}}return g.\u0275fac=function(A){return new(A||g)(w.LFG(t.eN),w.LFG(b.s))},g.\u0275prov=w.Yz7({token:g,factory:g.\u0275fac}),g})()},9659:(st,ye,f)=>{"use strict";f.d(ye,{o:()=>J});var t=f(7579),e=f(4707),m=f(3334),w=f(590),b=f(3111),C=f(6126),g=f(8255),p=f(7243),A=f(7363),_=f(6068),R=f(8176),N=f(6679),a=f(7393),k=f(4650),P=f(1501),U=f(7481);let J=(()=>{class O{constructor(F,V){this.importWizardProvider=F,this.importWizardService=V,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new t.x}setupInitialStep(){const F=this.importWizardProvider.getStep(m.K.clientSummary);this.stepsAhead.push(F)}goToNextStep(){const F=this.stepsAhead.pop();this.stepsCompleted.push(F),F.component===C.j&&F.data.includes(b.JR.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(F.component===A.$&&F.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(F):F.component===N.V7&&F.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(F)),this.move.next(!1))}applyCertificateRememberDecision(F){const V=[];return this.stepsAhead.forEach(q=>{q.component!==N.V7||q.data.existingHasCertificates!==F.data.existingHasCertificates||(F.data.certificateAction===N.R6.DoNotSet?q.data.certificates=new a.w:F.data.certificateAction===N.R6.UseExisting&&(q.data.certificates=new a.w,q.data.useExistingCertificates=!0),V.push(q),this.stepsCompleted.push(q))}),this.stepsAhead.filter(q=>!V.includes(q))}applyRememberDecision(F){const V=[];return this.stepsAhead.forEach(q=>{if(q.component===A.$&&q.data.resourceType===F.data.resourceType&&q.data.existingHasSecrets===F.data.existingHasSecrets){if(F.data.secretsAction===A.C.DoNotSet)q.data.secrets=[];else if(F.data.secretsAction===A.C.UseExistingSecret)q.data.useExistingSecrets=!0;else if(F.data.secretsAction===A.C.Generate){const ie=new _.u;ie.value=(0,R.qs)(),ie.type="Shared Secret",ie.description="",q.data.secrets=[ie]}V.push(q),this.stepsCompleted.push(q)}}),this.stepsAhead.filter(q=>!V.includes(q))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(m.K.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const V=this.stepsCompleted[this.stepsCompleted.length-1];if(V.component===A.$)this.goToLastRememberedDecision(V.component,q=>q.data.rememberSecretAction);else if(V.component===N.V7)this.goToLastRememberedDecision(V.component,q=>q.data.rememberCertificateAction&&q.data.existingHasCertificates===V.data.existingHasCertificates);else{const q=this.stepsCompleted.pop();this.stepsAhead.push(q)}this.move.next(!1)}goToLastRememberedDecision(F,V){const q=this.stepsCompleted.filter(ie=>ie.component===F);if(q.length>1){const ie=q.filter(V);if(ie){const $=this.stepsCompleted.indexOf(ie[ie.length-1]),z=this.stepsCompleted.splice($,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...z.reverse()]}else{const H=this.stepsCompleted.pop();this.stepsAhead.push(H)}}else{const ie=this.stepsCompleted.pop();this.stepsAhead.push(ie)}}goToFinalSummary(){const F=this.stepsAhead.findIndex(q=>q.component===g.o),V=this.stepsAhead.splice(F+1);for(;V.length>0;){const q=V.pop();this.stepsCompleted.push(q)}this.move.next(!1)}goToSummaryStep(F){const V=this.stepsCompleted.findIndex(ie=>ie.component===C.j&&ie.data.includes(F)),q=this.stepsCompleted.splice(V);for(;q.length>0;){const ie=q.pop();this.stepsAhead.push(ie)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const F=this.getCurrentStep();F.component===p.l?this.quit():F.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(m.K.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(F,V){const q=this.stepsAhead.pop();this.stepsCompleted.push(q);const ie=this.importWizardProvider.getStep(F);ie.data=V,this.stepsAhead.push(ie),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const F=new e.t;return this.importWizardService.cache.pipe((0,w.P)()).subscribe(V=>{this.stepsAhead.push(this.importWizardProvider.getStep(m.K.importComplete)),this.showFinalSummary(V)&&this.stepsAhead.push(this.importWizardProvider.getStep(m.K.finalSummary));const q=this.sortImportResources(V),ie=[],H=[];for(let $=q.length;$>0;$--){const z=q[$-1];let E=!1;z.resourceType===b.JR.ProtectedResource&&z.dependantClients.forEach(X=>{E=V.some(Q=>Q.identifier===X.identifier&&Q.resourceState!==b.vZ.Duplicate)}),(z.selected||E)&&(z.existingHasSecrets&&ie.push(this.importWizardProvider.getSecretStep(z)),z.hadSecrets&&!z.existingHasSecrets&&ie.push(this.importWizardProvider.getSecretStep(z)),z.existingHasCertificates&&H.push(this.importWizardProvider.getCertificateStep(z)),z.hadCertificates&&!z.existingHasCertificates&&H.push(this.importWizardProvider.getCertificateStep(z)))}this.stepsAhead.push(...ie),this.stepsAhead.push(...H),this.showClaimTypeSummary(V)&&this.stepsAhead.push(this.importWizardProvider.getStep(m.K.claimTypeSummary)),this.showResourceSummary(V)&&this.stepsAhead.push(this.importWizardProvider.getStep(m.K.resourcesSummary)),F.next()}),F}sortImportResources(F){F=(F=F.sort((q,ie)=>q.displayName.toUpperCase().localeCompare(ie.displayName.toUpperCase()))).sort((q,ie)=>+q.conflictedByDependencies-+ie.conflictedByDependencies);const V=[b.vZ.Conflicted,b.vZ.New,b.vZ.Duplicate];return F.sort((q,ie)=>V.indexOf(q.resourceState)-V.indexOf(ie.resourceState))}showResourceSummary(F){const V=F.filter(ie=>ie.resourceType===b.JR.Client&&!0===ie.selected).map(ie=>ie.identifier),q=F.filter(ie=>(ie.resourceType===b.JR.IdentityResource||ie.resourceType===b.JR.ProtectedResource)&&ie.dependantClients.map(H=>H.identifier).some(H=>V.includes(H)));return q.length>0&&q.some(ie=>ie.resourceState===b.vZ.Conflicted)}showClaimTypeSummary(F){const V=F.filter(ie=>ie.resourceType===b.JR.Client&&!0===ie.selected).map(ie=>ie.identifier),q=F.filter(ie=>ie.resourceType===b.JR.ClaimType&&ie.dependantClients.map(H=>H.identifier).some(H=>V.includes(H)));return q.length>0&&q.some(ie=>ie.resourceState===b.vZ.Conflicted)}showFinalSummary(F){return F.some(V=>V.resourceType!==b.JR.Client)}}return O.\u0275fac=function(F){return new(F||O)(k.LFG(P.o),k.LFG(U.U))},O.\u0275prov=k.Yz7({token:O,factory:O.\u0275fac}),O})()},1501:(st,ye,f)=>{"use strict";f.d(ye,{o:()=>H});var t=f(3111),e=f(6126),m=f(7331),w=f(5744),b=f(9506),C=f(4650),g=f(7481),p=f(9383);let A=(()=>{class z extends b.n{constructor(X){super(),this.importWizardService=X,this.isWarningModal=!0,this.resetOnClose=!1}set data(X){null!==X&&(this.resetOnClose=X)}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}}return z.\u0275fac=function(X){return new(X||z)(C.Y36(g.U))},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-import-close-warning"]],features:[C.qOj],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(X,Q){1&X&&(C.TgZ(0,"div",0)(1,"p"),C._uU(2),C.ALo(3,"translate"),C.ALo(4,"translate"),C.qZA()(),C.TgZ(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),C.NdJ("click",function(){return Q.no()}),C._uU(9),C.ALo(10,"translate"),C.qZA()(),C.TgZ(11,"button",5),C.NdJ("click",function(){return Q.yes()}),C._uU(12),C.ALo(13,"translate"),C.qZA()()()),2&X&&(C.xp6(2),C.AsE("",C.lcZ(3,4,"Clients.Import.Wizard.Warning.Text1")," ",C.lcZ(4,6,"Clients.Import.Wizard.Warning.Text2"),""),C.xp6(7),C.Oqu(C.lcZ(10,8,"Notifications.StayHere")),C.xp6(3),C.Oqu(C.lcZ(13,10,"Notifications.DiscardChanges")))},dependencies:[p.X$],encapsulation:2}),z})();var _=f(3334),R=f(5669),N=f(6895);function a(z,E){1&z&&(C.TgZ(0,"p"),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&z&&(C.xp6(1),C.Oqu(C.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let k=(()=>{class z extends b.n{constructor(X){super(),this.importWizardService=X,this.isWarningModal=!0}set data(X){this.resource=X,this.summaryDisplayType=R.m.getSummaryDisplayType(X.resourceType)}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}}return z.\u0275fac=function(X){return new(X||z)(C.Y36(g.U))},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-conflicts-confirmation"]],features:[C.qOj],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(X,Q){1&X&&(C.TgZ(0,"div",0)(1,"p"),C._uU(2),C.ALo(3,"translate"),C.qZA(),C.YNc(4,a,3,3,"p",1),C.qZA(),C.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),C.NdJ("click",function(){return Q.no()}),C._uU(9),C.ALo(10,"translate"),C.qZA()(),C.TgZ(11,"button",6),C.NdJ("click",function(){return Q.yes()}),C._uU(12),C.ALo(13,"translate"),C.qZA()()()),2&X&&(C.xp6(2),C.AsE("",C.lcZ(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==Q.resource?null:Q.resource.displayName,""),C.xp6(2),C.Q6J("ngIf","Client"!==Q.summaryDisplayType),C.xp6(5),C.Oqu(C.lcZ(10,7,"Clients.Import.Wizard.Warning.No")),C.xp6(3),C.Oqu(C.lcZ(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[N.O5,p.X$],encapsulation:2}),z})();var P=f(8255),U=f(7363),J=f(7243),O=f(6679),L=f(5861),F=f(1696);const V=["certReader"],q=["nextButton"];let ie=(()=>{class z extends b.n{constructor(X){super(),this.translate=X}get data(){return this._subject}set data(X){this._subject=X}certificateDataLoaded(X){this.nextButton.nativeElement.disabled=!X}goNext(){var X=this;return(0,L.Z)(function*(){const Q=yield X.certReaderComponent.getCertificateModel();X.data.next(Q),X.importWizardController.goToPreviousStep()})()}}return z.\u0275fac=function(X){return new(X||z)(C.Y36(p.sK))},z.\u0275cmp=C.Xpm({type:z,selectors:[["app-import-certificate-picker"]],viewQuery:function(X,Q){if(1&X&&(C.Gf(V,5),C.Gf(q,5)),2&X){let ce;C.iGM(ce=C.CRH())&&(Q.certReaderComponent=ce.first),C.iGM(ce=C.CRH())&&(Q.nextButton=ce.first)}},features:[C.qOj],decls:21,vars:21,consts:[[1,"modal-body"],[3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"],["certReader",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["nextButton",""],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(X,Q){1&X&&(C.TgZ(0,"div",0)(1,"app-cert-reader",1,2),C.NdJ("dataExists",function(_e){return Q.certificateDataLoaded(_e)}),C.ALo(3,"translate"),C.ALo(4,"translate"),C.ALo(5,"translate"),C.ALo(6,"translate"),C.qZA()(),C._UZ(7,"div",3),C.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7,8),C.NdJ("click",function(){return Q.goNext()}),C._uU(13),C.ALo(14,"translate"),C.qZA(),C.TgZ(15,"button",9),C.NdJ("click",function(){return Q.back()}),C._uU(16),C.ALo(17,"translate"),C.qZA()(),C.TgZ(18,"button",10),C.NdJ("click",function(){return Q.cancel()}),C._uU(19),C.ALo(20,"translate"),C.qZA()()()),2&X&&(C.xp6(1),C.Q6J("uploadCert",C.lcZ(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",C.lcZ(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",C.lcZ(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",C.lcZ(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),C.xp6(12),C.hij(" ",C.lcZ(14,15,"Common.Add")," "),C.xp6(3),C.hij(" ",C.lcZ(17,17,"Common.Back")," "),C.xp6(3),C.hij(" ",C.lcZ(20,19,"Common.Cancel")," "))},dependencies:[F.c,p.X$],encapsulation:2}),z})(),H=(()=>{class z{constructor(){this.stepMap=new Map,this.stepMap.set(_.K.clientSummary,new $(e.j,"Clients.Import.Wizard.Summary.Title.Client",[t.JR.Client])),this.stepMap.set(_.K.resourcesSummary,new $(e.j,"Clients.Import.Wizard.Summary.Title.Resource",[t.JR.IdentityResource,t.JR.ProtectedResource])),this.stepMap.set(_.K.claimTypeSummary,new $(e.j,"Clients.Import.Wizard.Summary.Title.ClaimType",[t.JR.ClaimType])),this.stepMap.set(_.K.summaryConflicts,new $(w.Gz,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(_.K.importComplete,new $(m.l,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(_.K.importCloseWarning,new $(A,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(_.K.summaryConflictsConfirmation,new $(k,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(_.K.finalSummary,new $(P.o,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(_.K.importDownloadWarning,new $(J.l,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(_.K.importUploadCertificate,new $(ie,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(X){return this.stepMap.get(X)}getSecretStep(X){return new $(U.$,"Clients.Import.Wizard.Secrets.Title",X)}getCertificateStep(X){return new $(O.V7,"Clients.Import.Wizard.Certificates.Title",X)}}return z.\u0275fac=function(X){return new(X||z)},z.\u0275prov=C.Yz7({token:z,factory:z.\u0275fac}),z})();class ${constructor(E,X,Q,ce=!1){this.component=E,this.stepTitle=X,this.data=Q,this.isDeadEnd=ce}}},7481:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>b});var t=f(3111),e=f(4707),m=f(590),w=f(4650);let b=(()=>{class C{constructor(){this.importResourceTypeMap=new Map([[t.JR.Client,"Client"],[t.JR.ClaimType,"Claim Type"],[t.JR.ProtectedResource,"Protected Resource"],[t.JR.IdentityResource,"Identity Resource"]]),this.cache=new e.t(1),this.resetImport=new e.t(1)}updateSelectedClients(p){this.cache.pipe((0,m.P)()).subscribe(A=>{p=p.filter(_=>_.resourceType===t.JR.Client),A.forEach(_=>{const R=p.find(N=>N.identifier===_.identifier);void 0!==R&&(_.selected=R.selected)}),this.cache.next(A)})}selectResource(p){this.setResourcesSelected(p,!0)}deselectResource(p){this.setResourcesSelected(p,!1)}setResourcesSelected(p,A){this.cache.pipe((0,m.P)()).subscribe(_=>{let R;R=p.resourceType===t.JR.Client?[p.identifier]:p.dependantClients.filter(a=>a.state===t.CP.Importing).map(a=>a.identifier),R.forEach(N=>{_.find(a=>a.identifier===N&&a.resourceType===t.JR.Client).selected=A}),this.cache.next(_)})}downloadClientSecretsFromCache(){const p=new e.t;return this.cache.pipe((0,m.P)()).subscribe(A=>{const _=A.filter(k=>k.secrets&&k.secrets.length>0);let R="Type,Id,Name,Secret\r\n";_.forEach(k=>{k.secrets.forEach(P=>{R+=this.importResourceTypeMap.get(k.resourceType)+","+k.identifier+","+k.displayName+","+P.value+"\r\n"})});const N=new Blob([R],{type:"application/csv"}),a=document.createElement("a");a.download="import-secrets.csv",a.href=window.URL.createObjectURL(N),a.click(),a.remove(),p.next()}),p}}return C.\u0275fac=function(p){return new(p||C)},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac}),C})()},3334:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>t});let t=(()=>{class e{}return e.importUploadCertificate="CertificateUpload",e.clientSummary="ClientSummary",e.resourcesSummary="ResourcesSummary",e.summaryConflicts="SummaryConflicts",e.claimTypeSummary="ClaimTypeSummary",e.importComplete="ImportComplete",e.importCloseWarning="ImportCloseWarning",e.summaryConflictsConfirmation="SummaryConflictsConfirmation",e.finalSummary="FinalSummary",e.importDownloadWarning="ImportDownloadWarning",e})()},7047:(st,ye,f)=>{"use strict";f.d(ye,{E:()=>A});var t=f(529),e=f(1837),m=f(765);class b{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==m.o.Demo}isStarterLicense(){return this.licenseType==m.o.Starter}hasExpired(){var R=e.ou.fromISO(this.gracePeriodExpiry).toUTC();return e.ou.now().toUTC()>R}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var C=f(590),g=f(4004),p=f(4650);let A=(()=>{class _{constructor(N){this.http=N,this.headers=new t.WM,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,C.P)(),(0,g.U)(N=>{var a=new b;return a.organisation=N.organisation,a.licenseType=N.licenseType,a.isExpired=N.isExpired,a.isInGracePeriod=N.isInGracePeriod,a.gracePeriodExpiry=N.gracePeriodExpiry,a.maxUsers=N.maxUsers,a.maxClients=N.maxClients,a.userQuotaRemaining=N.userQuotaRemaining,a.clientQuotaRemaining=N.clientQuotaRemaining,a}))}}return _.\u0275fac=function(N){return new(N||_)(p.LFG(t.eN))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})()},6548:(st,ye,f)=>{"use strict";f.d(ye,{$:()=>m});var t=f(529),e=f(4650);let m=(()=>{class w{constructor(C){this.http=C,this.headers=new t.WM,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}}return w.\u0275fac=function(C){return new(C||w)(e.LFG(t.eN))},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},7733:(st,ye,f)=>{"use strict";f.d(ye,{m:()=>C});var t=f(529),e=f(4707),m=f(8176),w=f(4650),b=f(8564);let C=(()=>{class g{constructor(A,_){this.http=A,this.headersService=_,this.protectedResourceSubject=new e.t(1),this.actionUrl="ProtectedResources",this.headers=_.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(A){let _=new t.LE;return(0,m.Ew)(A)||(_=_.set("name",A)),this.http.get(this.actionUrl,{headers:this.headers,params:_})}getResourcesPaginated(A,_,R){const N=`${this.actionUrl}/getPaginated`;let a=new t.LE;return(0,m.Ew)(A)||(a=a.set("name",A)),_&&(a=a.append("page",_)),R&&(a=a.append("pageSize",R)),this.http.get(N,{headers:this.headers,params:a})}addResource(A){const _=`${this.actionUrl}/`,R=JSON.stringify(A);return this.http.post(_,R,{headers:this.headers})}getResource(A){return this.http.get(`${this.actionUrl}/${A}`,{headers:this.headers})}updateResource(A){return this.http.put(`${this.actionUrl}/${A.id}`,A,{headers:this.headers})}updateResourceSecret(A,_){return this.http.put(`${this.actionUrl}/${A}/secrets/${_.id}`,_,{headers:this.headers})}removeResourceSecret(A,_){return this.http.delete(`${this.actionUrl}/${A}/secrets/${_}`,{headers:this.headers})}addResourceSecret(A,_){return this.http.post(`${this.actionUrl}/${A}/secrets`,_,{headers:this.headers})}updateResourceScope(A,_,R){const N=encodeURIComponent(R);return this.http.put(`${this.actionUrl}/${A}/scopes/${N}`,_,{headers:this.headers})}addResourceScope(A,_){return this.http.post(`${this.actionUrl}/${A}/scopes`,_,{headers:this.headers})}deleteProtectedResource(A){return this.http.delete(`${this.actionUrl}/${A}`,{headers:this.headers})}deleteScope(A,_){const R=encodeURIComponent(_);return this.http.delete(`${this.actionUrl}/${A}/scopes/${R}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}}return g.\u0275fac=function(A){return new(A||g)(w.LFG(t.eN),w.LFG(b.s))},g.\u0275prov=w.Yz7({token:g,factory:g.\u0275fac}),g})()},927:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>A});var t=f(515),e=f(4004),m=f(262),w=f(4879),b=f(4650),C=f(9883),g=f(8185),p=f(4889);let A=(()=>{class _{constructor(N,a,k){this.roleService=N,this.router=a,this.errorService=k}resolve(N,a){const k=N.paramMap.get("Id");return this.roleService.getRole(k).pipe((0,e.U)(P=>(P&&this.roleService.getCachedRole().next(P),P)),(0,m.K)((P,U)=>(404===P.status?this.errorService.resourceNotFound(w._.role):this.errorService.handleError(P),(0,t.c)())))}}return _.\u0275fac=function(N){return new(N||_)(b.LFG(C.f),b.LFG(g.F0),b.LFG(p.T))},_.\u0275prov=b.Yz7({token:_,factory:_.\u0275fac}),_})()},9883:(st,ye,f)=>{"use strict";f.d(ye,{f:()=>C});var t=f(529),e=f(4707),m=f(8176),w=f(4650),b=f(8564);let C=(()=>{class g{constructor(A,_){this.http=A,this.RoleSubject=new e.t(1),this.actionUrl="roles",this.headers=_.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(A){this.RoleSubject.next(A)}getRoles(A,_){let R=new t.LE;return(0,m.Ew)(A)||(R=R.append("name",A)),R=R.append("sort",(0,m.Ew)(_)?"name":_),this.http.get(this.actionUrl,{headers:this.headers,params:R})}getRole(A){return this.http.get(`${this.actionUrl}/${A}`,{headers:this.headers})}deleteRole(A){return this.http.delete(`${this.actionUrl}/${A.id}`,{headers:this.headers})}addRole(A){const _=`${this.actionUrl}/`,R=JSON.stringify(A);return this.http.post(_,R,{headers:this.headers})}updateRole(A){const _=JSON.stringify(A);return this.http.put(`${this.actionUrl}/${A.id}`,_,{headers:this.headers})}getUsersInRole(A,_,R,N){let a=new t.LE;return(0,m.Ew)(N)||(a=a.append("q",N)),_&&(a=a.append("page",String(_))),R&&(a=a.append("pageSize",String(R))),this.http.get(`${this.actionUrl}/${A}/users`,{headers:this.headers,params:a})}addAndRemoveUsers(A,_){const R=JSON.stringify(_);return this.http.put(`${this.actionUrl}/${A}/users`,R,{headers:this.headers})}}return g.\u0275fac=function(A){return new(A||g)(w.LFG(t.eN),w.LFG(b.s))},g.\u0275prov=w.Yz7({token:g,factory:g.\u0275fac}),g})()},8677:(st,ye,f)=>{"use strict";f.d(ye,{B:()=>U});var t=f(9646),e=f(1848),m=f(7579),w=f(3900),b=f(5373),C=f(4650),g=f(1060),p=f(4946),A=f(1228),_=f(2979),R=f(4889),N=f(1058),a=f(8185),k=f(9881),P=f(9455);let U=(()=>{class J{constructor(L,F,V,q,ie,H,$,z,E){this.securityService=L,this.healthCheckService=F,this.authService=V,this.localizeRouter=q,this.errorService=ie,this.loginTrackingService=H,this.router=$,this.configService=z,this.appComponentViewService=E}canActivate(L,F){return this.healthCheckService.uiReady?this.authDecision(L,F):this.healthCheckService.uiHealthCheckComplete.pipe((0,w.w)(V=>this.authDecision(L,F)))}authDecision(L,F){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==b.n.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(V=>{if(V.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const q=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([q])}}),void 0!==this.securityService.userPermissions?(0,t.of)(this.permissionAuthDecision(L)):this.permissionAuthDecisionAsObservable(L)):(this.securityService.startLogin(F.url),e.C)}permissionAuthDecision(L){const F=L.data.permissions;if(void 0===F)return!0;for(let V=0;V<F.length;V++)if(this.securityService.userPermissions.includes(F[V]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(L){const F=new m.x;return this.securityService.init().subscribe(()=>{F.next(this.permissionAuthDecision(L))}),F.asObservable()}}return J.\u0275fac=function(L){return new(L||J)(C.LFG(g.I),C.LFG(p.G),C.LFG(A.e),C.LFG(_.An),C.LFG(R.T),C.LFG(N.U),C.LFG(a.F0),C.LFG(k.E),C.LFG(P.t))},J.\u0275prov=C.Yz7({token:J,factory:J.\u0275fac}),J})()},1060:(st,ye,f)=>{"use strict";f.d(ye,{I:()=>F});var t=f(7579);class e extends t.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(q){const{hasError:ie,_hasValue:H,_value:$,thrownError:z,isStopped:E,_isComplete:X}=this;ie?q.error(z):(E||X)&&(H&&q.next($),q.complete())}next(q){this.isStopped||(this._value=q,this._hasValue=!0)}complete(){const{_hasValue:q,_value:ie,_isComplete:H}=this;H||(this._isComplete=!0,q&&super.next(ie),super.complete())}}var m=f(4128),w=f(1206),b=f(4004),C=f(5698),g=f(8176),p=f(2976),A=f(765),_=f(4650),R=f(8185),N=f(2979),a=f(9881),k=f(1228),P=f(6548),U=f(7047),J=f(4889),O=f(1058),L=f(9383);let F=(()=>{class V{constructor(ie,H,$,z,E,X,Q,ce,_e){this.router=ie,this.localize=H,this.configService=$,this.authService=z,this.permissionService=E,this.licenseService=X,this.errorService=Q,this.loginTrackingService=ce,this.translate=_e,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(ie){let $=ie??this.router.url;$=$.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",$),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(ie){if(ie.isAuthenticated){let H=this.storage.getItem("redirectUrl");null==H&&(H="/home");const $=this.localize.translateRoute(H);this.handleSuccessfulAuthorization($)}else this.handleUnsuccessfulAuthorization(ie.username)}handleSuccessfulAuthorization(ie){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(ie)},H=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(H,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:p.de.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(ie){if((0,g.Ew)(ie))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:p.de.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const H=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(H)}isNonProd(){return this.licenseType===A.o.Demo||this.licenseType===A.o.NonProduction}init(){const ie=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,m.D)(ie)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,b.U)(ie=>{this.userPermissions=ie.permissions,this.policyClaims=ie.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(w.y[w.y.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(w.y[w.y.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(w.y[w.y.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(w.y[w.y.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(w.y[w.y.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(w.y[w.y.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(w.y[w.y.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(ie.permissions),this.userPermissions$.complete()},ie=>{this.errorService.handleError(ie)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,b.U)(ie=>{this.licenseType=ie.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=A.o.NonProduction),ie.isStarterLicense()&&(this.licenseType=A.o.Starter),this.nonProduction=ie.licenseType!==A.o.Production,this.organisation=ie.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,C.q)(1))}}return V.\u0275fac=function(ie){return new(ie||V)(_.LFG(R.F0),_.LFG(N.An),_.LFG(a.E),_.LFG(k.e),_.LFG(P.$),_.LFG(U.E),_.LFG(J.T),_.LFG(O.U),_.LFG(L.sK))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})()},1339:(st,ye,f)=>{"use strict";f.d(ye,{G:()=>b});var t=f(4707),e=f(4650),m=f(529),w=f(8564);let b=(()=>{class C{constructor(p,A){this.http=p,this.headersService=A,this.ServiceProviderSubject=new t.t(1),this.actionUrl="clients",this.headers=A.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(p){return this.http.get(`${this.actionUrl}/${p}/saml`,{headers:this.headers})}updateServiceProvider(p,A){const _=`${this.actionUrl}/${p}/saml`,R={allowIdpInitiatedSso:A.allowIdpInitiatedSso,assertionConsumerServices:A.assertionConsumerServices,artifactResolutionServices:A.artifactResolutionServices,claimMappings:A.claimMappings,encryptAssertions:A.encryptAssertions,requireSamlMessageDestination:A.requireSamlMessageDestination,signAssertions:A.signAssertions,singleLogoutServices:A.singleLogoutServices,requireAuthenticationRequestsSigned:A.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:A.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:A.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:A.requireSignedArtifactResponses,nameIdentifierFormat:A.nameIdentifierFormat},N=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(_,R,{headers:N})}setEncryptionCertificateViaFile(p,A){const _=`${this.actionUrl}/${p}/saml/certificates/encryption`,R=A,N=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(_,R,{headers:N})}setEncryptionCertificateViaMetadata(p,A){const _=`${this.actionUrl}/${p}/saml/certificates/encryption`,R=A,N=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(_,R,{headers:N})}deleteEncryptionCertificate(p){return this.http.delete(`${this.actionUrl}/${p}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(p,A){const _=`${this.actionUrl}/${p}/saml/certificates/signing`,R=A,N=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(_,R,{headers:N})}addSigningCertificateViaMetadata(p,A){const _=`${this.actionUrl}/${p}/saml/certificates/signing`,R=A,N=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(_,R,{headers:N})}deleteSigningCertificate(p,A){return this.http.delete(`${this.actionUrl}/${p}/saml/certificates/signing/${A}`,{headers:this.headers})}}return C.\u0275fac=function(p){return new(p||C)(e.LFG(m.eN),e.LFG(w.s))},C.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},5302:(st,ye,f)=>{"use strict";f.d(ye,{L:()=>C});var t=f(590),e=f(4650),m=f(1339),w=f(9536),b=f(4889);let C=(()=>{class g{constructor(A,_,R){this.serviceProviderService=A,this.cache=_,this.errorService=R}uploadFile(A,_){return this.serviceProviderService.addSigningCertificateViaFile(A,_)}uploadViaMetaData(A,_){return this.serviceProviderService.addSigningCertificateViaMetadata(A,_)}updateCertCache(A){this.serviceProviderService.getServiceProvider(A).subscribe(_=>{this.cache.unsavedCache$.pipe((0,t.P)()).subscribe(R=>{R.signingCertificates=_.signingCertificates,this.cache.unsavedCache.next(R)})},_=>{this.errorService.handleError(_)})}}return g.\u0275fac=function(A){return new(A||g)(e.LFG(m.G),e.LFG(w.S),e.LFG(b.T))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac}),g})()},4100:(st,ye,f)=>{"use strict";f.d(ye,{N:()=>m});var t=f(1837),e=f(4650);let m=(()=>{class w{now(){return t.ou.now()}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},9260:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>m});var t=f(1837),e=f(4650);let m=(()=>{class w{now(){return t.ou.now()}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},9490:(st,ye,f)=>{"use strict";f.d(ye,{o:()=>m});var t=f(4650),e=f(7185);let m=(()=>{class w{constructor(C){this.inner=C}success_noduplicate(C,g){return this.showToast(C,g,(p,A)=>this.inner.success(p,A))}error_noduplicate(C,g){return this.showToast(C,g,(p,A)=>this.inner.error(p,A))}showToast(C,g,p){var A=this.inner.findDuplicate(g,C,!1,!1);return A&&this.inner.remove(A.toastId),p(C,g)}}return w.\u0275fac=function(C){return new(C||w)(t.LFG(e._W))},w.\u0275prov=t.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},8783:(st,ye,f)=>{"use strict";f.d(ye,{L:()=>p});var t=f(515),e=f(4004),m=f(262),w=f(4879),b=f(4650),C=f(4961),g=f(4889);let p=(()=>{class A{constructor(R,N){this.userService=R,this.errorService=N}resolve(R,N){return this.userService.getUser(R.params.Id).pipe((0,e.U)(k=>(k&&this.userService.getCachedUser().next(k),k)),(0,m.K)((k,P)=>(404===k.status?this.errorService.resourceNotFound(w._.user):this.errorService.handleError(k),(0,t.c)())))}}return A.\u0275fac=function(R){return new(R||A)(b.LFG(C.K),b.LFG(g.T))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac}),A})()},4961:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>A});var t=f(529),e=f(4707),m=f(9646),w=f(4004),b=f(262),C=f(8176),g=f(4650),p=f(8564);let A=(()=>{class _{constructor(N,a){this.http=N,this.headersService=a,this.userSubject=new e.t(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,w.U)(()=>!0),(0,b.K)(a=>(0,m.of)(!1)))}getUser(N){return this.http.get(`${this.actionUrl}/${N}`,{headers:this.headers}).pipe((0,w.U)(k=>(this.userSubject.next(k),k),k=>(this.userSubject.error(k),k)))}getCachedUser(){return this.userSubject}getUsers(N,a,k,P,U){let J=new t.LE;return(0,C.Ew)(N)||(J=J.append("q",N)),a&&(J=J.append("page",String(a))),k&&(J=J.append("pageSize",String(k))),P&&(J=J.append("state",P.toString())),U&&(J=J.append("sort",U.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:J})}getUsersLightweight(N,a,k,P,U){let J=new t.LE;return(0,C.Ew)(N)||(J=J.append("q",N)),a&&(J=J.append("page",String(a))),k&&(J=J.append("pageSize",String(k))),P&&(J=J.append("state",P.toString())),U&&(J=J.append("advancedFilters",U.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:J})}addUser(N){const a=`${this.actionUrl}/`,k=JSON.stringify(N);return this.http.post(a,k,{headers:this.headers,observe:"response"})}addInitialAdministrator(N){const a=`${this.actionUrl}/initialadmin`,k=JSON.stringify(N);return this.http.post(a,k,{headers:this.headers,observe:"response"})}getUserApps(N){return this.http.get(`${this.actionUrl}/${N}/apps`,{headers:this.headers})}revokeAllUserApps(N){return this.http.delete(`${this.actionUrl}/${N}/apps`,{headers:this.headers})}revokeSingleUserApp(N,a){return this.http.delete(`${this.actionUrl}/${N}/apps/${a}`,{headers:this.headers})}updateUser(N){const a=`${this.actionUrl}/${N.subject}`,k=JSON.stringify(N);return this.http.put(a,k,{headers:this.headers})}deleteUser(N){return this.http.delete(`${this.actionUrl}/${N.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(N,a){return this.http.post(`${this.actionUrl}/${N}/roles`,a,{headers:this.headers})}deleteUserRoles(N,a){return this.http.request("delete",`${this.actionUrl}/${N}/roles`,{headers:this.headers,body:a})}addUserClaim(N,a){return this.http.post(`${this.actionUrl}/${N}/claims`,a,{headers:this.headers})}updateUserClaim(N,a){return this.http.put(`${this.actionUrl}/${N}/claims`,a,{headers:this.headers})}deleteUserClaim(N,a){return this.http.request("delete",`${this.actionUrl}/${N}/claims`,{headers:this.headers,body:a})}resetPassword(N){return this.http.get(`${this.actionUrl}/${N}/password/reset`,{headers:this.headers})}resetMfa(N){return this.http.get(`${this.actionUrl}/${N}/mfa/reset`,{headers:this.headers})}getUserLogins(N){return this.http.get(`${this.actionUrl}/${N}/logins`,{headers:this.headers})}revokeUserLogin(N,a){return this.http.request("delete",`${this.actionUrl}/${N}/logins`,{headers:this.headers,body:a})}getLightweightUsersAndIfInRole(N,a,k,P,U){let J=new t.LE;a&&(J=J.append("state",a.toString()));const O=`${this.actionUrl}/lightweight/isinrole/${N}`;return(0,C.Ew)(k)||(J=J.append("searchTerm",k)),P&&(J=J.append("page",String(P))),U&&(J=J.append("pageSize",String(U))),this.http.get(O,{headers:this.headers,params:J})}}return _.\u0275fac=function(N){return new(N||_)(g.LFG(t.eN),g.LFG(p.s))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac}),_})()},3499:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>w});var t=f(4650),e=f(529),m=f(8564);let w=(()=>{class b{constructor(g,p){this.http=g,this.headersService=p,this.actionUrl="clients"}getRelyingParty(g){const p=`${this.actionUrl}/${g}/wsfed`,A=this.headersService.setHeaders();return this.http.get(p,{headers:A})}updateRelyingParty(g,p){const A=`${this.actionUrl}/${g}/wsfed`,_=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(A,p,{headers:_})}}return b.\u0275fac=function(g){return new(g||b)(t.LFG(e.eN),t.LFG(m.s))},b.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac}),b})()},8163:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>w});var t=f(4650);const e=[[["","left",""]],[["","right",""]]],m=["[left]","[right]"];let w=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-action-bar"]],ngContentSelectors:m,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(g,p){1&g&&(t.F$t(e),t.TgZ(0,"div",0),t.Hsn(1),t.TgZ(2,"div",1),t.Hsn(3,1),t.qZA()())},encapsulation:2}),b})()},4022:(st,ye,f)=>{"use strict";f.d(ye,{p:()=>C});var t=f(6895),e=f(8185),m=f(5503),w=f(9383),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[t.ez,e.Bz,m.D,w.aw]}),g})()},6055:(st,ye,f)=>{"use strict";f.d(ye,{Ic:()=>e,zS:()=>m});var t=f(7340);function e(){return(0,t.X$)("fadeInOut",[(0,t.eR)(":enter",[(0,t.oB)({opacity:0}),(0,t.jt)("250ms",(0,t.oB)({opacity:1}))]),(0,t.eR)(":leave",[(0,t.oB)({opacity:1}),(0,t.jt)("250ms",(0,t.oB)({opacity:0}))])])}function m(){return(0,t.X$)("initLoad",[(0,t.eR)(":enter",[(0,t.oB)({opacity:0}),(0,t.jt)("250ms",(0,t.oB)({opacity:1}))]),(0,t.eR)(":leave",[(0,t.oB)({opacity:1}),(0,t.jt)("250ms",(0,t.oB)({opacity:0}))])])}},8192:(st,ye,f)=>{"use strict";f.d(ye,{h:()=>_});var t=f(4006),e=f(8265),m=f(2320),w=f(9241),b=f(9383),C=f(9650),g=f(6493),p=f(6895),A=f(4650);let _=(()=>{class R{}return R.\u0275fac=function(a){return new(a||R)},R.\u0275mod=A.oAB({type:R}),R.\u0275inj=A.cJS({imports:[p.ez,e.j,t.UX,w.P4,b.aw,m.z8,C.I,g.l]}),R})()},7356:(st,ye,f)=>{"use strict";f.d(ye,{$:()=>je});var t=f(7579),e=f(8675),m=f(5577),w=f(4006);class b{constructor(Qe,We,bt,pt){this.auditAction=Qe||"",this.subject=We||"",this.resourceName=bt||"",this.source=pt||""}}class C{constructor(Qe){this.auditAction=Qe.auditSearch.auditAction,this.subject=Qe.auditSearch.subject,this.resourceName=Qe.auditSearch.resourceName,this.source=Qe.auditSearch.source,this.fromDate=Qe.fromDate.toString(),this.toDate=Qe.toDate.toString(),this.page=Qe.page,this.pageSize=Qe.pageSize,this.sortCriteria=Qe.sortCriteria,this.success=Qe.success}}class g{constructor(Qe,We,bt,pt,He,ae,te){this.auditSearch=Qe,this.fromDate=We,this.toDate=bt,this.page=pt,this.pageSize=He,this.sortCriteria=ae,this.success=te}}var p=f(8176),A=f(1837),_=f(4650),R=f(3212),N=f(2979),a=f(8185),k=f(1060),P=f(1888),U=f(9260),J=f(6895),O=f(2320),L=f(7696),F=f(8163),V=f(5925),q=f(4225),ie=f(9383),H=f(3110);function $(et,Qe){1&et&&(_.TgZ(0,"span",62),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&et&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Auditing.FromDateWarning")," "))}function z(et,Qe){1&et&&(_.TgZ(0,"span",63),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&et&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Auditing.ToDateBehindWarning")," "))}function E(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"li",67)(1,"button",68),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw(2);return _.KtG(pt.removeFilter("source"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&et){const We=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Source"),":"),_.xp6(3),_.Oqu(We.filterForm.get("auditSearch").get("source").value)}}function X(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"li",67)(1,"button",71),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw(2);return _.KtG(pt.removeFilter("subject"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&et){const We=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Subject"),":"),_.xp6(3),_.Oqu(We.filterForm.get("auditSearch").get("subject").value)}}function Q(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"li",67)(1,"button",71),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw(2);return _.KtG(pt.removeFilter("auditAction"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&et){const We=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Action"),":"),_.xp6(3),_.Oqu(We.filterForm.get("auditSearch").get("auditAction").value)}}function ce(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"li",67)(1,"button",71),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw(2);return _.KtG(pt.removeFilter("resourceName"))}),_.TgZ(2,"b",69),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA(),_._UZ(7,"span",70),_.qZA()()}if(2&et){const We=_.oxw(2);_.xp6(3),_.hij("",_.lcZ(4,2,"Auditing.Resource"),":"),_.xp6(3),_.Oqu(We.filterForm.get("auditSearch").get("resourceName").value)}}function _e(et,Qe){if(1&et&&(_.TgZ(0,"div",64)(1,"p",47),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"ul",65),_.YNc(5,E,8,4,"li",66),_.YNc(6,X,8,4,"li",66),_.YNc(7,Q,8,4,"li",66),_.YNc(8,ce,8,4,"li",66),_.qZA()()),2&et){const We=_.oxw();_.xp6(2),_.Oqu(_.lcZ(3,5,"Auditing.ActiveFilters")),_.xp6(3),_.Q6J("ngIf",We.filterForm.get("auditSearch").get("source").value),_.xp6(1),_.Q6J("ngIf",We.filterForm.get("auditSearch").get("subject").value),_.xp6(1),_.Q6J("ngIf",We.filterForm.get("auditSearch").get("auditAction").value),_.xp6(1),_.Q6J("ngIf",We.filterForm.get("auditSearch").get("resourceName").value&&!We.resourceOnly)}}function Te(et,Qe){1&et&&(_.TgZ(0,"span"),_._UZ(1,"span",72),_._uU(2),_.ALo(3,"translate"),_.qZA()),2&et&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Auditing.ShowFilters")," "))}function ve(et,Qe){1&et&&(_.TgZ(0,"span"),_._UZ(1,"span",73),_._uU(2),_.ALo(3,"translate"),_.qZA()),2&et&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Auditing.HideFilters")," "))}function Ke(et,Qe){1&et&&(_.TgZ(0,"option",74),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&et&&(_.xp6(1),_.Oqu(_.lcZ(2,1,"Auditing.Resource")))}function xe(et,Qe){1&et&&(_.TgZ(0,"p",75),_._UZ(1,"span",76),_._uU(2),_.ALo(3,"translate"),_.qZA()),2&et&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Auditing.UpdateWarning")," "))}function Ge(et,Qe){1&et&&(_.TgZ(0,"span",81)(1,"span",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&et&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Common.Loading")))}function we(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"app-action-bar"),_.ynx(1,77),_.YNc(2,Ge,4,3,"span",78),_.TgZ(3,"button",79),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw();return _.KtG(pt.getCSV())}),_.ALo(4,"translate"),_.TgZ(5,"span"),_._UZ(6,"span",80),_.qZA(),_.TgZ(7,"span",47),_._uU(8),_.ALo(9,"translate"),_.qZA()(),_.BQk(),_.qZA()}if(2&et){const We=_.oxw();_.xp6(2),_.Q6J("ngIf",We.loadingCSV),_.xp6(1),_.Q6J("tooltip",_.lcZ(4,4,"Auditing.DownloadResults"))("disabled",(null==We.pagedResult?null:We.pagedResult.results.length)<1&&!We.isLoading||We.loadingCSV),_.xp6(5),_.Oqu(_.lcZ(9,6,"Auditing.DownloadResults"))}}function Ye(et,Qe){1&et&&_._UZ(0,"app-simple-loader")}function rt(et,Qe){1&et&&(_.TgZ(0,"div",82)(1,"div"),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&et&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Auditing.NoAuditsFound")))}function Ct(et,Qe){1&et&&(_.TgZ(0,"th",95),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&et&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Auditing.Resource")," "))}function at(et,Qe){if(1&et&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&et){const We=_.oxw().$implicit;_.xp6(1),_.Oqu(We.subject.name)}}function dt(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"span")(1,"a",108),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw().$implicit,He=_.oxw(2);return _.KtG(!!He.resourceNavigate(pt.subject))}),_._uU(2),_.qZA()()}if(2&et){const We=_.oxw().$implicit,bt=_.oxw(2);_.xp6(1),_.s9C("href",bt.buildLink(We.subject),_.LSH),_.xp6(1),_.hij(" ",We.subject.name," ")}}function ct(et,Qe){if(1&et&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&et){const We=_.oxw(2).$implicit;_.xp6(1),_.hij(" ",We.resource.name," ")}}function Gt(et,Qe){if(1&et&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&et){const We=_.oxw(3).$implicit;_.xp6(1),_.Oqu(We.resource.identifier)}}function ln(et,Qe){if(1&et&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&et){const We=_.oxw(3).$implicit;_.xp6(1),_.Oqu(We.resource.name)}}function Mt(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"span")(1,"a",108),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw(2).$implicit,He=_.oxw(2);return _.KtG(!!He.resourceNavigate(pt.resource))}),_.YNc(2,Gt,2,1,"span",29),_.YNc(3,ln,2,1,"span",29),_.qZA()()}if(2&et){const We=_.oxw(2).$implicit,bt=_.oxw(2);_.xp6(1),_.s9C("href",bt.buildLink(We.resource),_.LSH),_.xp6(1),_.Q6J("ngIf",""==We.name),_.xp6(1),_.Q6J("ngIf",""!=We.name)}}function It(et,Qe){if(1&et&&(_.TgZ(0,"td",109),_.YNc(1,ct,2,1,"span",29),_.YNc(2,Mt,4,3,"span",29),_.qZA()),2&et){const We=_.oxw().$implicit,bt=_.oxw(2);_.xp6(1),_.Q6J("ngIf","*"==We.resource.name||""==bt.buildLink(We.resource)),_.xp6(1),_.Q6J("ngIf","*"!=We.resource.name&&""!=bt.buildLink(We.resource))}}function Y(et,Qe){1&et&&(_.TgZ(0,"span",110)(1,"span",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&et&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Common.Yes")))}function G(et,Qe){1&et&&(_.TgZ(0,"span",111)(1,"span",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&et&&(_.xp6(2),_.Oqu(_.lcZ(3,1,"Common.No")))}function oe(et,Qe){1&et&&_._UZ(0,"span",118)}function Ve(et,Qe){1&et&&_._UZ(0,"span",119)}function Be(et,Qe){if(1&et&&(_.TgZ(0,"tr",112),_._UZ(1,"td"),_.TgZ(2,"td",113)(3,"div",114)(4,"span",115),_.YNc(5,oe,1,0,"span",116),_.YNc(6,Ve,1,0,"span",117),_.qZA(),_.TgZ(7,"span"),_._uU(8),_.qZA()()()()),2&et){const We=_.oxw().$implicit;_.xp6(5),_.Q6J("ngIf",We.succeeded),_.xp6(1),_.Q6J("ngIf",!We.succeeded),_.xp6(2),_.Oqu(We.description)}}function o(et,Qe){if(1&et){const We=_.EpF();_.ynx(0,null,96),_.TgZ(2,"tr")(3,"td",97)(4,"button",98),_.NdJ("click",function(){_.CHM(We);const pt=_.MAs(1);return _.KtG(pt.isOpen=!pt.isOpen)}),_._UZ(5,"span",99),_.TgZ(6,"span",47),_._uU(7),_.ALo(8,"translate"),_.qZA()()(),_.TgZ(9,"td"),_._uU(10),_.ALo(11,"standardDateTime"),_._UZ(12,"div"),_.qZA(),_.TgZ(13,"td",100),_._uU(14),_.qZA(),_.TgZ(15,"td",101),_.YNc(16,at,2,1,"span",29),_.YNc(17,dt,3,2,"span",29),_.qZA(),_.TgZ(18,"td",102),_._uU(19),_.qZA(),_.YNc(20,It,3,2,"td",103),_.TgZ(21,"td",104),_.YNc(22,Y,4,3,"span",105),_.YNc(23,G,4,3,"span",106),_.qZA()(),_.YNc(24,Be,9,3,"tr",107),_.BQk()}if(2&et){const We=Qe.$implicit,bt=_.MAs(1),pt=_.oxw(2);_.xp6(5),_.ekj("fa-caret-right",!bt.isOpen),_.xp6(2),_.hij(" ",_.lcZ(8,12,"Auditing.ToggleDetails")," "),_.xp6(3),_.hij(" ",_.lcZ(11,14,We.when)," "),_.xp6(4),_.hij(" ",We.source," "),_.xp6(2),_.Q6J("ngIf",""==pt.buildLink(We.subject)),_.xp6(1),_.Q6J("ngIf",""!=pt.buildLink(We.subject)),_.xp6(2),_.hij(" ",We.action," "),_.xp6(1),_.Q6J("ngIf",!pt.resourceOnly),_.xp6(2),_.Q6J("ngIf",We.succeeded),_.xp6(1),_.Q6J("ngIf",!We.succeeded),_.xp6(1),_.Q6J("ngIf",bt.isOpen)}}function De(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"table",83)(1,"thead")(2,"tr")(3,"th",84)(4,"span",47),_._uU(5),_.ALo(6,"translate"),_.qZA()(),_.TgZ(7,"th",85),_.NdJ("click",function(){_.CHM(We);const pt=_.oxw();return _.KtG(pt.sortResults())}),_.TgZ(8,"span",86),_._uU(9),_.ALo(10,"translate"),_.qZA(),_._UZ(11,"span",87),_.qZA(),_.TgZ(12,"th",88),_._uU(13),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"th",89),_._uU(16),_.ALo(17,"translate"),_.qZA(),_.TgZ(18,"th",90),_._uU(19),_.ALo(20,"translate"),_.qZA(),_.YNc(21,Ct,3,3,"th",91),_.TgZ(22,"th",92),_._uU(23),_.ALo(24,"translate"),_.qZA()()(),_.TgZ(25,"tbody",93),_.YNc(26,o,25,16,"ng-container",94),_.qZA()()}if(2&et){const We=_.oxw();_.xp6(5),_.Oqu(_.lcZ(6,10,"Common.Actions")),_.xp6(4),_.Oqu(_.lcZ(10,12,"Auditing.When")),_.xp6(2),_.ekj("fa-caret-up","when"==We.filterSort),_.xp6(2),_.Oqu(_.lcZ(14,14,"Auditing.Source")),_.xp6(3),_.Oqu(_.lcZ(17,16,"Auditing.Subject")),_.xp6(3),_.Oqu(_.lcZ(20,18,"Auditing.Action")),_.xp6(2),_.Q6J("ngIf",!We.resourceOnly),_.xp6(2),_.hij(" ",_.lcZ(24,20,"Notifications.Success")," "),_.xp6(3),_.Q6J("ngForOf",We.pagedResult.results)}}function be(et,Qe){if(1&et){const We=_.EpF();_.TgZ(0,"app-pager",120),_.NdJ("onGoToPage",function(pt){_.CHM(We);const He=_.oxw();return _.KtG(He.goToPage(pt))}),_.qZA()}if(2&et){const We=_.oxw();_.Q6J("totalResults",null==We.pagedResult?null:We.pagedResult.totalCount)("currentPage",We.filterForm.get("page").value)("lastPage",null==We.pagedResult?null:We.pagedResult.pageCount)}}let je=(()=>{class et{constructor(We,bt,pt,He,ae,te,B,ee){this.auditingService=We,this.localizeRouter=bt,this.router=pt,this.fb=He,this.activatedRoute=ae,this.securityService=te,this.fileDownloader=B,this.timeService=ee,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new t.x}get resourceOnly(){return!(0,p.Ew)(this.resourceName)}userManagerReadOnly(){return(0,p.ub)(this.securityService.userPermissions)}identityServerManagerReadOnly(){return(0,p.gR)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,e.O)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success}),(0,m.z)(bt=>(this.isLoading=!0,this.auditingService.getAudits(bt.auditSearch,bt.toDate.toString(),bt.fromDate.toString(),bt.page,bt.pageSize,bt.sortCriteria,bt.success)))).subscribe(bt=>{this.isLoading=!1,this.pagedResult=bt;const pt=new C(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:pt})})}applyForm(We){We&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(We){this.filterForm.patchValue({page:We}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({hours:24}),toDate:this.timeService.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day").minus({hours:24}),toDate:this.timeService.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({weeks:1}).startOf("day"),toDate:this.timeService.now().endOf("day")})}goToResource(We){this.router.config.find(pt=>void 0!==pt.children)}auditSearch(We,bt){this.filterForm.patchValue({auditSearch:{[We]:bt.value}})}selectFilterType(We,bt){const pt=this.filterForm.get("auditSearch").get(We).value;bt.value=pt}removeFilter(We){this.filterForm.patchValue({auditSearch:{[We]:""}})}checkQuickDate(We){switch(We){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"))}}stripSecondsFromString(We){return this.stripSecondsFromDateTime(A.ou.fromISO(We))}stripSecondsFromDateTime(We){return We.set({second:0,millisecond:0}).toString()}setShowing(We,bt){this.successfulFilter=We,this.unsuccessfulFilter=bt,this.filter()}showActiveFilters(){const We=this.filterForm.get("auditSearch");return!!(We.get("source").value||We.get("subject").value||We.get("auditAction").value||We.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let We=`${this.auditingService.actionUrl}`;const bt=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(We+=`/${this.resourceName}/auditedEvents`),We+=`?sort=${bt.sortCriteria}`,(0,p.Ew)(bt.auditAction)||(We+=`&auditAction=${bt.auditAction}`),(0,p.Ew)(bt.subject)||(We+=`&subject=${bt.subject}`),(0,p.Ew)(bt.resourceName)||(We+=`&resource=${bt.resourceName}`),(0,p.Ew)(bt.source)||(We+=`&source=${bt.source}`),null!=bt.success&&(We+=`&success=${bt.success}`),null!=bt.toDate&&(We+=`&to=${bt.toDate}`),null!=bt.fromDate&&(We+=`&from=${bt.fromDate}`),We}sortResults(){const We=this.activatedRoute.snapshot.queryParams,bt=new b(We.auditAction,We.subject,We.resourceName,We.source),pt=void 0===We.fromDate?this.timeService.now().startOf("day"):A.ou.fromISO(We.fromDate),He=void 0===We.toDate?this.timeService.now().startOf("day"):A.ou.fromISO(We.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const ae=new g(bt,pt,He,We.page,We.pageSize,this.filterSort,We.success);this.auditStream.next(ae),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now(),auditSearch:{auditAction:"",resourceName:this.resourceName||"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(We){const bt=void 0===We.fromDate?this.timeService.now().startOf("day"):A.ou.fromISO(We.fromDate),pt=void 0===We.toDate?this.timeService.now().endOf("day"):A.ou.fromISO(We.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[bt,[w.kI.required,p.eC]],toDate:[pt],auditSearch:this.fb.group({auditAction:[We.auditAction||""],resourceName:[this.resourceName||We.resourceName||""],subject:[We.subject||""],source:[We.source||""]}),page:[We.page||1],pageSize:[We.pageSize>1e3?1e3:We.pageSize||25],sortCriteria:[We.sortCriteria||this.sortDesc],success:[We.success||null]},{validators:p.sY}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(We,bt){this.router.navigate([We,bt])}resourceNavigate(We){const bt=this.buildTranslatedRoute(We);"*"!==We.name&&this.Navigate(bt,We.identifier)}buildLink(We){let bt=this.buildTranslatedRoute(We);return bt+=`/${We.identifier}`,bt}buildTranslatedRoute(We){switch(We.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}}return et.\u0275fac=function(We){return new(We||et)(_.Y36(R._),_.Y36(N.An),_.Y36(a.F0),_.Y36(w.qu),_.Y36(a.gz),_.Y36(k.I),_.Y36(P.B),_.Y36(U.O))},et.\u0275cmp=_.Xpm({type:et,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},decls:130,vars:106,consts:[["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/4"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-w-40"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],["pageLength",""],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["filterType",""],["value","source"],["value","subject"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["filterValue",""],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["sortCriteria",""],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"tooltip","disabled","click"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],[1,"tw-hidden","xl:tw-table-cell"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],["group",""],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[3,"href","click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(We,bt){if(1&We){const pt=_.EpF();_.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),_._uU(7),_.ALo(8,"translate"),_.qZA(),_.TgZ(9,"div"),_._UZ(10,"app-date-time",7),_.YNc(11,$,3,3,"span",8),_.qZA()()(),_.TgZ(12,"div",4)(13,"div",5)(14,"label",9),_._uU(15),_.ALo(16,"translate"),_.qZA(),_.TgZ(17,"div"),_._UZ(18,"app-date-time",10),_.YNc(19,z,3,3,"span",11),_.qZA()()(),_.TgZ(20,"div",12)(21,"div",5)(22,"label",13),_._uU(23,"\xa0"),_.qZA(),_.TgZ(24,"ul",14)(25,"li")(26,"button",15),_.NdJ("click",function(){return bt.setDateToday()}),_.ALo(27,"translate"),_._uU(28),_.ALo(29,"translate"),_.qZA()(),_.TgZ(30,"li")(31,"button",16),_.NdJ("click",function(){return bt.setDateLast24Hours()}),_.ALo(32,"translate"),_._uU(33),_.ALo(34,"translate"),_.qZA()(),_.TgZ(35,"li")(36,"button",17),_.NdJ("click",function(){return bt.setDateYesterday()}),_.ALo(37,"translate"),_._uU(38),_.ALo(39,"translate"),_.qZA()(),_.TgZ(40,"li")(41,"button",18),_.NdJ("click",function(){return bt.setDateLastWeek()}),_.ALo(42,"translate"),_._uU(43),_.ALo(44,"translate"),_.qZA()()()()(),_.TgZ(45,"div",19)(46,"div",5)(47,"label",20),_._uU(48),_.ALo(49,"translate"),_.qZA(),_.TgZ(50,"div",21)(51,"select",22,23)(53,"option",24),_._uU(54,"25 "),_.qZA(),_.TgZ(55,"option",24),_._uU(56,"50"),_.qZA(),_.TgZ(57,"option",24),_._uU(58,"100"),_.qZA()()()()()(),_.TgZ(59,"form",25),_.YNc(60,_e,9,7,"div",26),_.TgZ(61,"div",27)(62,"button",28),_.NdJ("click",function(){return bt.showAddFilter=!bt.showAddFilter}),_.YNc(63,Te,4,3,"span",29),_.YNc(64,ve,4,3,"span",29),_.qZA(),_.TgZ(65,"div",30)(66,"div",31)(67,"div",32)(68,"div",5)(69,"label",33),_._uU(70),_.ALo(71,"translate"),_.qZA(),_.TgZ(72,"div",34)(73,"div",35)(74,"div",21)(75,"select",36,37),_.NdJ("change",function(){_.CHM(pt);const ae=_.MAs(76),te=_.MAs(89);return _.KtG(bt.selectFilterType(ae.value,te))}),_.TgZ(77,"option",38),_._uU(78),_.ALo(79,"translate"),_.qZA(),_.TgZ(80,"option",39),_._uU(81),_.ALo(82,"translate"),_.qZA(),_.TgZ(83,"option",40),_._uU(84),_.ALo(85,"translate"),_.qZA(),_.YNc(86,Ke,3,3,"option",41),_.qZA()()(),_.TgZ(87,"div",42),_._UZ(88,"input",43,44),_.ALo(90,"translate"),_.ALo(91,"translate"),_.TgZ(92,"button",45),_.NdJ("click",function(){_.CHM(pt);const ae=_.MAs(76),te=_.MAs(89);return _.KtG(bt.auditSearch(ae.value,te))}),_._UZ(93,"span",46),_.TgZ(94,"span",47),_._uU(95),_.ALo(96,"translate"),_.qZA()()()()()(),_.TgZ(97,"div",48)(98,"div",5)(99,"p",49),_._uU(100),_.ALo(101,"translate"),_.qZA(),_.TgZ(102,"ul",14)(103,"li")(104,"button",50),_.NdJ("click",function(){return bt.setShowing(!1,!1)}),_._uU(105),_.ALo(106,"translate"),_.qZA()(),_.TgZ(107,"li")(108,"button",51),_.NdJ("click",function(){return bt.setShowing(!0,!1)}),_._uU(109),_.ALo(110,"translate"),_.qZA()(),_.TgZ(111,"li")(112,"button",52),_.NdJ("click",function(){return bt.setShowing(!1,!0)}),_._uU(113),_.ALo(114,"translate"),_.qZA()()()()()()()(),_.TgZ(115,"div",53),_._UZ(116,"input",54,55),_.TgZ(118,"button",56),_.NdJ("click",function(){return bt.applyForm(!0)}),_._uU(119),_.ALo(120,"translate"),_.qZA(),_.TgZ(121,"button",57),_.NdJ("click",function(){return bt.resetForm()}),_._uU(122),_.ALo(123,"translate"),_.qZA(),_.YNc(124,xe,4,3,"p",58),_.qZA()()()(),_.YNc(125,we,10,8,"app-action-bar",29),_.YNc(126,Ye,1,0,"app-simple-loader",29),_.YNc(127,rt,4,3,"div",59),_.YNc(128,De,27,22,"table",60),_.YNc(129,be,1,3,"app-pager",61),_.qZA()}if(2&We){let pt;_.xp6(1),_.Q6J("formGroup",bt.filterForm),_.xp6(6),_.Oqu(_.lcZ(8,58,"Auditing.FromDate")),_.xp6(3),_.Q6J("displayType","date"),_.xp6(1),_.Q6J("ngIf",bt.filterForm.get("fromDate").hasError("dateInFuture")),_.xp6(4),_.Oqu(_.lcZ(16,60,"Auditing.ToDate")),_.xp6(3),_.Q6J("displayType","date"),_.xp6(1),_.Q6J("ngIf",bt.filterForm.hasError("fromDateIsAfterToDate")),_.xp6(7),_.ekj("tw-btn-link",!bt.checkQuickDate("today")),_.uIk("aria-label",_.lcZ(27,62,"Auditing.SetDateToday")),_.xp6(2),_.hij(" ",_.lcZ(29,64,"Auditing.Today")," "),_.xp6(3),_.ekj("tw-btn-link",!bt.checkQuickDate("24hours")),_.uIk("aria-label",_.lcZ(32,66,"Auditing.SetDateLast24Hours")),_.xp6(2),_.hij(" ",_.lcZ(34,68,"Auditing.24Hours")," "),_.xp6(3),_.ekj("tw-btn-link",!bt.checkQuickDate("yesterday")),_.uIk("aria-label",_.lcZ(37,70,"Auditing.SetDateYesterday")),_.xp6(2),_.hij(" ",_.lcZ(39,72,"Auditing.Yesterday")," "),_.xp6(3),_.ekj("tw-btn-link",!bt.checkQuickDate("week")),_.uIk("aria-label",_.lcZ(42,74,"Auditing.SetDateLastWeek")),_.xp6(2),_.hij(" ",_.lcZ(44,76,"Auditing.Week")," "),_.xp6(5),_.Oqu(_.lcZ(49,78,"Auditing.ResultsPerPage")),_.xp6(5),_.Q6J("value",25),_.xp6(2),_.Q6J("value",50),_.xp6(2),_.Q6J("value",100),_.xp6(3),_.Q6J("ngIf",bt.showActiveFilters()),_.xp6(3),_.Q6J("ngIf",!bt.showAddFilter),_.xp6(1),_.Q6J("ngIf",bt.showAddFilter),_.xp6(1),_.Q6J("hidden",!bt.showAddFilter),_.xp6(5),_.Oqu(_.lcZ(71,80,"Auditing.AddFilter")),_.xp6(8),_.Oqu(_.lcZ(79,82,"Auditing.Source")),_.xp6(3),_.Oqu(_.lcZ(82,84,"Auditing.Subject")),_.xp6(3),_.Oqu(_.lcZ(85,86,"Auditing.Action")),_.xp6(2),_.Q6J("ngIf",!bt.resourceOnly),_.xp6(2),_.uIk("placeholder",_.lcZ(90,88,"Auditing.FilterTermPlaceholder"))("aria-label",_.lcZ(91,90,"Auditing.AddFilterTerm")),_.xp6(7),_.Oqu(_.lcZ(96,92,"Common.Add")),_.xp6(5),_.Oqu(_.lcZ(101,94,"Auditing.Showing")),_.xp6(4),_.ekj("tw-btn-link",!(!bt.successfulFilter&&!bt.unsuccessfulFilter)),_.xp6(1),_.hij(" ",_.lcZ(106,96,"Permission.All")," "),_.xp6(3),_.ekj("tw-btn-link",!(bt.successfulFilter&&!bt.unsuccessfulFilter)),_.xp6(1),_.hij(" ",_.lcZ(110,98,"Notifications.Success")," "),_.xp6(3),_.ekj("tw-btn-link",!(bt.unsuccessfulFilter&&!bt.successfulFilter)),_.xp6(1),_.hij(" ",_.lcZ(114,100,"Notifications.Failure")," "),_.xp6(5),_.Q6J("disabled",(null==bt.filterForm?null:bt.filterForm.errors)||(null==(pt=bt.filterForm.get("fromDate"))?null:pt.hasError("dateInFuture"))),_.xp6(1),_.hij(" ",_.lcZ(120,102,"Auditing.ExecuteAndDisplay")," "),_.xp6(3),_.hij(" ",_.lcZ(123,104,"Auditing.Reset")," "),_.xp6(2),_.Q6J("ngIf",bt.filterHasChanged),_.xp6(1),_.Q6J("ngIf",!bt.isLoading),_.xp6(1),_.Q6J("ngIf",bt.isLoading),_.xp6(1),_.Q6J("ngIf",(null==bt.pagedResult?null:bt.pagedResult.results.length)<1&&!bt.isLoading),_.xp6(1),_.Q6J("ngIf",(null==bt.pagedResult?null:bt.pagedResult.results.length)>0&&!bt.isLoading),_.xp6(1),_.Q6J("ngIf",(null==bt.pagedResult?null:bt.pagedResult.results.length)>0&&!bt.isLoading)}},dependencies:[J.sg,J.O5,w._Y,w.YN,w.Kr,w.EJ,w.JJ,w.JL,w.F,w.sg,w.u,w.x0,O.i9,L.P,F.K,V.w,q.j,ie.X$,H.C9],encapsulation:2}),et})()},4362:(st,ye,f)=>{"use strict";f.d(ye,{l:()=>k});var t=f(6895),e=f(2979),m=f(4006),w=f(2320),b=f(5241),C=f(9383),g=f(5785),p=f(4022),A=f(5971),_=f(5898),R=f(5503),N=f(9260),a=f(4650);let k=(()=>{class P{}return P.\u0275fac=function(J){return new(J||P)},P.\u0275mod=a.oAB({type:P}),P.\u0275inj=a.cJS({providers:[N.O],imports:[t.ez,m.u5,m.UX,e.fQ,C.aw,b.fx,w.z8,g.U,p.p,A.s,_.T,R.D]}),P})()},1216:(st,ye,f)=>{"use strict";f.d(ye,{N:()=>w});var t=f(4650);const e=["*",[["","right",""]]],m=["*","[right]"];let w=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-button-bar"]],ngContentSelectors:m,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(g,p){1&g&&(t.F$t(e),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.Hsn(4),t.qZA(),t.Hsn(5,1),t.qZA()()())},encapsulation:2}),b})()},6980:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>m});var t=f(6895),e=f(4650);let m=(()=>{class w{}return w.\u0275fac=function(C){return new(C||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[t.ez]}),w})()},3570:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>m});var t=f(7579),e=f(4650);let m=(()=>{class w{constructor(){this.emitter=new t.x,this.eventStream=new t.x}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac}),w})()},9658:(st,ye,f)=>{"use strict";f.d(ye,{J:()=>g});var t=f(4650),e=f(3570),m=f(9383),w=f(388);const b=["canDeactivate"],C=function(){return{animated:!1,backdrop:"static"}};let g=(()=>{class p{constructor(_,R){this.service=_,this.translate=R,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(_=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}}return p.\u0275fac=function(_){return new(_||p)(t.Y36(e.x),t.Y36(m.sK))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-can-deactivate"]],viewQuery:function(_,R){if(1&_&&t.Gf(b,7),2&_){let N;t.iGM(N=t.CRH())&&(R.modal=N.first)}},decls:28,vars:20,consts:[["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["canDeactivate","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(_,R){1&_&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return R.stay()}),t._UZ(9,"span",7),t.TgZ(10,"span",8),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",9)(14,"p"),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA()(),t._UZ(18,"div",10),t.TgZ(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),t.NdJ("click",function(){return R.stay()}),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"button",15),t.NdJ("click",function(){return R.leave()}),t._uU(26),t.ALo(27,"translate"),t.qZA()()()()()()),2&_&&(t.Q6J("config",t.DdM(19,C)),t.xp6(6),t.Oqu(t.lcZ(7,7,"Notifications.UnsavedChangesTitle")),t.xp6(5),t.Oqu(t.lcZ(12,9,"Common.Close")),t.xp6(4),t.AsE("",t.lcZ(16,11,"Notifications.UnsavedChanges")," ",t.lcZ(17,13,"Notifications.ContinueWithoutSaving"),""),t.xp6(8),t.Oqu(t.lcZ(24,15,"Notifications.StayHere")),t.xp6(3),t.Oqu(t.lcZ(27,17,"Notifications.DiscardChanges")))},dependencies:[w.oB,m.X$],encapsulation:2}),p})()},7023:(st,ye,f)=>{"use strict";f.d(ye,{_:()=>g});var t=f(388),e=f(8024),m=f(3570),w=f(9383),b=f(6895),C=f(4650);let g=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({providers:[e.I,m.x],imports:[b.ez,t.zk,w.aw]}),p})()},8024:(st,ye,f)=>{"use strict";f.d(ye,{I:()=>e});var t=f(4650);let e=(()=>{class m{canDeactivate(b){return!b.canDeactivate||b.canDeactivate()}}return m.\u0275fac=function(b){return new(b||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac}),m})()},1696:(st,ye,f)=>{"use strict";f.d(ye,{c:()=>A});var t=f(5861),e=f(4650),m=f(8117),w=f(7185),b=f(9383),C=f(4006),g=f(7608);const p=["fileInput"];let A=(()=>{class _{constructor(N,a,k){this.certPickerService=N,this.toastr=a,this.translate=k,this.metadata="",this.dataExists=new e.vpe}ngOnInit(){}handleFileInput(N){this.fileToUpload=N.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var N=this;return(0,t.Z)(function*(){let a="";if(N.fileToUpload){const P=N.fileToUpload.slice(0),U=new FileReader,O=new Promise(function(L,F){U.onloadend=function(){const q=U.result.split("base64,");L(q[1])}});U.readAsDataURL(P),a=yield O}else""!==N.metadata&&(a=N.metadata);const k=yield N.tryBuildCertModel(a);return N.resetForm(N),k})()}resetForm(N){N.fileToUpload=null,N.fileInput.nativeElement.value="",N.metadata="",N.dataExists.emit(N.hasData())}tryBuildCertModel(N){var a=this;return(0,t.Z)(function*(){let k;try{const P=a.certPickerService.convertStringToArrayBuffer(N);k=yield a.certPickerService.buildCertModelFromArrayBuffer(P,N)}catch(P){throw a.toastr.error(a.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),a.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),P}return k})()}}return _.\u0275fac=function(N){return new(N||_)(e.Y36(m.S),e.Y36(w._W),e.Y36(b.sK))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-cert-reader"]],viewQuery:function(N,a){if(1&N&&e.Gf(p,7),2&N){let k;e.iGM(k=e.CRH())&&(a.fileInput=k.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"disabled","change"],["fileInput",""],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"disabled","ngModel","ngModelChange","keyup"]],template:function(N,a){1&N&&(e.TgZ(0,"app-form-row",0)(1,"div",1)(2,"input",2,3),e.NdJ("change",function(P){return a.handleFileInput(P.target.files)}),e.qZA()()(),e.TgZ(4,"div",4)(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"app-form-row",0)(9,"textarea",6),e.NdJ("ngModelChange",function(P){return a.metadata=P})("keyup",function(){return a.metaDataKeyDown()}),e._uU(10,"  "),e.qZA()()),2&N&&(e.Q6J("id","fileInput")("label",a.uploadCert)("help",a.uploadCertHelp)("isLast",!0),e.xp6(2),e.Q6J("disabled",""!=a.metadata),e.xp6(4),e.Oqu(e.lcZ(7,12,"Common.Or")),e.xp6(2),e.Q6J("id","metaData")("label",a.certMetaData)("help",a.certMetaDataHelp)("isLast",!0),e.xp6(1),e.Q6J("disabled",null!=a.fileToUpload)("ngModel",a.metadata))},dependencies:[C.Fj,C.JJ,C.On,g.L,b.X$],encapsulation:2}),_})()},2699:(st,ye,f)=>{"use strict";f.d(ye,{Y:()=>g});var t=f(5503),e=f(6895),m=f(9383),w=f(4006),b=f(9650),C=f(4650);let g=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[t.D,e.ez,m.aw,w.u5,b.I]}),p})()},8098:(st,ye,f)=>{"use strict";f.d(ye,{v:()=>U});var t=f(7579),e=f(4650),m=f(6895),w=f(4006);let b=(()=>{class J{transform(L,F){let V=L;return F&&(V=L.filter(q=>q.name.toUpperCase().includes(F))),V}}return J.\u0275fac=function(L){return new(L||J)},J.\u0275pipe=e.Yjl({name:"search",type:J,pure:!0}),J})();var C=f(9383);function g(J,O){if(1&J){const L=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._UZ(2,"span",21),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"input",22),e.NdJ("ngModelChange",function(V){e.CHM(L);const q=e.oxw();return e.KtG(q.availableSearchValue=V)}),e.qZA()()}if(2&J){const L=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.Search")),e.xp6(2),e.Q6J("ngModel",L.availableSearchValue)}}function p(J,O){1&J&&e._UZ(0,"span",30)}function A(J,O){if(1&J&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&J){const L=e.oxw().$implicit;e.xp6(1),e.hij(" ",L.description," ")}}const _=function(J){return{"tw-text-grey-600":J}};function R(J,O){if(1&J){const L=e.EpF();e.TgZ(0,"li",23)(1,"label",24)(2,"input",25),e.NdJ("change",function(){const q=e.CHM(L).$implicit,ie=e.oxw();return e.KtG(ie.selectAvailable(q))}),e.qZA(),e.TgZ(3,"span",26)(4,"span",27),e.YNc(5,p,1,0,"span",28),e._uU(6),e.qZA(),e.YNc(7,A,2,1,"span",29),e.qZA()()()}if(2&J){const L=O.$implicit,F=e.oxw();let V;e.xp6(1),e.Q6J("htmlFor",F.prefix+L.name),e.xp6(1),e.s9C("id",F.prefix+L.name),e.s9C("name",L.name),e.Q6J("checked",L.selected)("disabled",F.isRestricted(L)||F.isReadOnly),e.xp6(2),e.Q6J("ngClass",e.VKq(10,_,F.isReadOnly)),e.xp6(1),e.Q6J("ngIf",F.isRestricted(L)),e.xp6(1),e.AsE(" ",null!==(V=L.displayName)&&void 0!==V?V:L.name," ",L.shared?"*":""," "),e.xp6(1),e.Q6J("ngIf",(null==L.description?null:L.description.length)>0)}}function N(J,O){if(1&J){const L=e.EpF();e.TgZ(0,"div",32)(1,"label",33),e._UZ(2,"span",21),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(V){e.CHM(L);const q=e.oxw();return e.KtG(q.assignedSearchValue=V)}),e.qZA()()}if(2&J){const L=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.Search")),e.xp6(2),e.Q6J("ngModel",L.assignedSearchValue)}}function a(J,O){1&J&&e._UZ(0,"span",30)}function k(J,O){if(1&J&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&J){const L=e.oxw().$implicit;e.xp6(1),e.hij(" ",L.description," ")}}function P(J,O){if(1&J){const L=e.EpF();e.TgZ(0,"li",35)(1,"label",24)(2,"input",25),e.NdJ("change",function(){const q=e.CHM(L).$implicit,ie=e.oxw();return e.KtG(ie.selectAssigned(q))}),e.qZA(),e.TgZ(3,"span",26)(4,"span",27),e.YNc(5,a,1,0,"span",28),e._uU(6),e.qZA(),e.YNc(7,k,2,1,"span",29),e.qZA()()()}if(2&J){const L=O.$implicit,F=e.oxw();let V;e.xp6(1),e.Q6J("htmlFor",F.prefix+L.name),e.xp6(1),e.s9C("id",F.prefix+L.name),e.s9C("name",L.name),e.Q6J("checked",L.selected)("disabled",F.isRestricted(L)||F.isReadOnly),e.xp6(2),e.Q6J("ngClass",e.VKq(10,_,F.isReadOnly)),e.xp6(1),e.Q6J("ngIf",F.isRestricted(L)),e.xp6(1),e.AsE(" ",null!==(V=L.displayName)&&void 0!==V?V:L.name," ",L.shared?"*":""," "),e.xp6(1),e.Q6J("ngIf",(null==L.description?null:L.description.length)>0)}}let U=(()=>{class J{constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new t.x,this.assignedStream=new t.x}set availableInput(L){this.available=this.sortArray(L)}set assignedInput(L){this.assigned=this.sortArray(L)}set isReadOnly(L){this._isReadOnly=L||!1}get isReadOnly(){return this._isReadOnly}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray(L){if(L&&L.length>0)for(const F of L)F.selected=!1;return L.sort((F,V)=>F.name<V.name?-1:1)}selectAvailable(L){L.selected?this.availableCount-=1:this.availableCount+=1,L.selected=!L.selected}selectAssigned(L){L.selected?this.assignedCount-=1:this.assignedCount+=1,L.selected=!L.selected}assignItems(){let L=this.available.filter(F=>F.selected);this.assignedStream.next(L),this.available.forEach(F=>{F.selected=!1}),this.assigned.forEach(F=>{F.selected=!1}),L=[]}unAssignItems(){let L=this.assigned.filter(F=>F.selected);this.unAssignedStream.next(L),this.available.forEach(F=>{F.selected=!1}),this.assigned.forEach(F=>{F.selected=!1}),L=[]}isRestricted(L){if(this.restrictedInput)for(let F=0;F<this.restrictedInput.length;F++)if(this.restrictedInput[F].value===L.name)return!0}}return J.\u0275fac=function(L){return new(L||J)},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"disabled","click"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"disabled","click"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModel","ngModelChange"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"id","name","checked","disabled","change"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModel","ngModelChange"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(L,F){1&L&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,g,7,4,"div",4),e.qZA(),e.TgZ(7,"ul",5),e.YNc(8,R,8,12,"li",6),e.ALo(9,"search"),e.ALo(10,"uppercase"),e.qZA()(),e.TgZ(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.NdJ("click",function(){return F.assignItems()}),e._UZ(15,"span",11)(16,"span",12),e.TgZ(17,"span",13),e._uU(18),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"li",9)(21,"button",14),e.NdJ("click",function(){return F.unAssignItems()}),e._UZ(22,"span",15)(23,"span",16),e.TgZ(24,"span",13),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()(),e.TgZ(27,"div",1)(28,"div",2)(29,"h2",3),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.YNc(32,N,7,4,"div",17),e.qZA(),e.TgZ(33,"ul",5),e.YNc(34,P,8,12,"li",18),e.ALo(35,"search"),e.ALo(36,"uppercase"),e.qZA()()()),2&L&&(e.xp6(4),e.Oqu(e.lcZ(5,10,"UserDetails.Available")),e.xp6(2),e.Q6J("ngIf",F.availableSearch||!F.isReadOnly),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,12,F.available,e.lcZ(10,15,F.availableSearchValue))),e.xp6(6),e.Q6J("disabled",F.availableCount<1||F.isReadOnly),e.xp6(4),e.Oqu(e.lcZ(19,17,"Common.Unassign")),e.xp6(3),e.Q6J("disabled",F.assignedCount<1||F.isReadOnly),e.xp6(4),e.Oqu(e.lcZ(26,19,"Common.Assign")),e.xp6(5),e.Oqu(e.lcZ(31,21,"UserDetails.Assigned")),e.xp6(2),e.Q6J("ngIf",F.assignedSearch||!F.isReadOnly),e.xp6(2),e.Q6J("ngForOf",e.xi3(35,23,F.assigned,e.lcZ(36,26,F.assignedSearchValue))))},dependencies:[m.mk,m.sg,m.O5,w.Fj,w.JJ,w.On,m.gd,b,C.X$],encapsulation:2}),J})()},8265:(st,ye,f)=>{"use strict";f.d(ye,{j:()=>C});var t=f(4006),e=f(5503),m=f(6895),w=f(9383),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[m.ez,t.u5,e.D,w.aw]}),g})()},1230:(st,ye,f)=>{"use strict";f.d(ye,{M:()=>b});var t=f(6895),e=f(9383),m=f(8185),w=f(4650);let b=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=w.oAB({type:C}),C.\u0275inj=w.cJS({imports:[t.ez,e.aw,m.Bz]}),C})()},6478:(st,ye,f)=>{"use strict";f.d(ye,{v:()=>w});var t=f(4650),e=f(8185);const m=["*"];let w=(()=>{class b{constructor(g){this.activatedRoute=g,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const g=this.activatedRoute.snapshot;null!==g.firstChild&&null!==g.firstChild.routeConfig&&g.firstChild.routeConfig.path===this.value&&(this.active=!0)}}return b.\u0275fac=function(g){return new(g||b)(t.Y36(e.gz))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-custom-tab"]],inputs:{title:["tabTitle","title"],value:["tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:m,decls:1,vars:0,template:function(g,p){1&g&&(t.F$t(),t.Hsn(0))},encapsulation:2}),b})()},7073:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>R});var t=f(6478),e=f(4650),m=f(8185),w=f(6895),b=f(9383);function C(N,a){1&N&&(e.TgZ(0,"span",5)(1,"span",6),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"span",7),e.qZA()),2&N&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"StarterMode.RequiresUpgrade")))}const g=function(N,a){return{tabs__item:N,"pill-tabs__item":a}},p=function(N,a){return{tabs__link:N,"pill-tabs__link":a}};function A(N,a){if(1&N){const k=e.EpF();e.TgZ(0,"li",2)(1,"button",3),e.NdJ("click",function(){const J=e.CHM(k).$implicit,O=e.oxw();return e.KtG(O.changeTab(J))}),e._uU(2),e.ALo(3,"translate"),e.YNc(4,C,5,3,"span",4),e.qZA()()}if(2&N){const k=a.$implicit,P=a.index,U=e.oxw();e.Q6J("ngClass",e.WLB(11,g,!U.pillMode,U.pillMode)),e.xp6(1),e.ekj("active",k.active),e.Q6J("id","customTab"+P)("ngClass",e.WLB(14,p,!U.pillMode,U.pillMode)),e.uIk("data-value",k.value)("aria-selected",k.active),e.xp6(1),e.hij(" ",e.lcZ(3,9,k.title)," "),e.xp6(2),e.Q6J("ngIf",k.restrictedStarter)}}const _=function(N,a){return{tabs:N,"pill-tabs":a}};let R=(()=>{class N{constructor(k,P){this.router=k,this.activatedRoute=P,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const k=this.tabs.filter(P=>P.active);k&&!k.length&&this.changeTab(this.tabs.first)}changeTab(k){!this.tabs||!this.tabs.length||k.active||(this.setActiveTab(k),this.router.navigate([k.value],{relativeTo:this.activatedRoute}))}setActiveTab(k){this.tabs.toArray().forEach(P=>P.active=!1),k.active=!0}}return N.\u0275fac=function(k){return new(k||N)(e.Y36(m.F0),e.Y36(m.gz))},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-custom-tabs"]],contentQueries:function(k,P,U){if(1&k&&e.Suo(U,t.v,4),2&k){let J;e.iGM(J=e.CRH())&&(P.tabs=J)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"id","ngClass","click"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(k,P){1&k&&(e.TgZ(0,"ul",0),e.ALo(1,"translate"),e.YNc(2,A,5,17,"li",1),e.qZA()),2&k&&(e.Q6J("ngClass",e.WLB(5,_,!P.pillMode,P.pillMode)),e.uIk("aria-label",e.lcZ(1,3,"Nav.SubMenu")),e.xp6(2),e.Q6J("ngForOf",P.tabs))},dependencies:[w.mk,w.sg,w.O5,b.X$],encapsulation:2}),N})()},2808:(st,ye,f)=>{"use strict";f.d(ye,{E:()=>g,X:()=>C});var t=f(4650),e=f(3110),m=f(4837),w=f(4456),b=f(8285);class C{constructor(A=w.T.standardDate,_="Common.NoDateSet"){this._datePipe=new e.g9,this.noDateLabel=_??"Common.NoDateSet",this._datePipe=(()=>{switch(A){case w.T.standardDate:return new e.g9;case w.T.standardDateTime:return new e.C9;case w.T.prettyDateTime:return new e.Xm;default:return new e.g9}})()}get datePipe(){return this._datePipe}}let g=(()=>{class p{constructor(_){this.dataTableService=_,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new t.vpe}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(_=>{null!=this.sort&&this.setSort(_)})}get dateColumn(){return"boolean"==typeof this.date?new C:this.date}format(_){return void 0!==this.formatter?this.formatter(_):_}get sortClass(){if(null==this.sort)return"";switch(this.sort){case m.JN.None:return"fad fa-sort";case m.JN.Ascending:return"fas fa-caret-up";case m.JN.Descending:return"fas fa-caret-down"}}setSort(_){this.sort=_==this.prop?this.sort==m.JN.Descending?m.JN.Ascending:m.JN.Descending:m.JN.None}}return p.\u0275fac=function(_){return new(_||p)(t.Y36(b.n))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(_,R){},encapsulation:2}),p})()},572:(st,ye,f)=>{"use strict";f.d(ye,{Qj:()=>Ke,Xz:()=>xe});var t=f(4650),e=f(2808),m=f(8185),w=f(8285),b=f(6895),C=f(9383);const g=["selectButton"],p=["deleteButton"];function A(we,Ye){if(1&we&&(t.TgZ(0,"div",2),t._UZ(1,"div",3),t.ALo(2,"translate"),t.qZA()),2&we){const rt=t.oxw();t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,rt.noRowsLabel),t.oJD)}}function _(we,Ye){if(1&we&&t._UZ(0,"span",9),2&we){const rt=t.oxw().$implicit;t.Q6J("ngClass",rt.sortClass)}}const R=function(we){return{"tw-mr-2":we}};function N(we,Ye){if(1&we){const rt=t.EpF();t.TgZ(0,"th",8),t.NdJ("click",function(){const dt=t.CHM(rt).$implicit,ct=t.oxw(2);return t.KtG(ct.sortColumn(dt))}),t.TgZ(1,"span",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,_,1,1,"span",10),t.qZA()}if(2&we){const rt=Ye.$implicit;t.Q6J("className",rt.headClasses),t.xp6(1),t.Q6J("ngClass",t.VKq(6,R,null!=rt.sort)),t.xp6(1),t.Oqu(t.lcZ(3,4,rt.title)),t.xp6(2),t.Q6J("ngIf",null!=rt.sort)}}function a(we,Ye){1&we&&(t.TgZ(0,"th",11)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&we&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Common.Actions")))}function k(we,Ye){if(1&we&&(t.ynx(0),t._uU(1),t.BQk()),2&we){const rt=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",rt," ")}}function P(we,Ye){if(1&we&&(t.ynx(0),t._uU(1),t.BQk()),2&we){const rt=t.oxw(4).$implicit,Ct=t.oxw().$implicit;t.xp6(1),t.hij(" ",rt.dateColumn.datePipe.transform(Ct[rt.prop])," ")}}function U(we,Ye){if(1&we&&(t._uU(0),t.ALo(1,"translate")),2&we){const rt=t.oxw(4).$implicit;t.hij(" ",t.lcZ(1,1,rt.dateColumn.noDateLabel)," ")}}function J(we,Ye){if(1&we&&(t.ynx(0),t.YNc(1,P,2,1,"ng-container",16),t.YNc(2,U,2,3,"ng-template",null,18,t.W1O),t.BQk()),2&we){const rt=t.MAs(3),Ct=t.oxw(3).$implicit,at=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",at[Ct.prop])("ngIfElse",rt)}}function O(we,Ye){if(1&we){const rt=t.EpF();t.ynx(0),t.TgZ(1,"a",20),t.NdJ("click",function(){t.CHM(rt);const at=t.oxw(5).$implicit,dt=t.oxw(2);return t.KtG(!!dt.clickLinkCell(at.link))}),t._uU(2),t.qZA(),t.BQk()}if(2&we){const rt=t.oxw(4).$implicit,Ct=t.oxw().$implicit;t.xp6(1),t.s9C("href",Ct.routeLink,t.LSH),t.xp6(1),t.hij(" ",Ct[rt.prop]," ")}}function L(we,Ye){if(1&we&&t._UZ(0,"span",21),2&we){const rt=t.oxw(4).$implicit,Ct=t.oxw().$implicit;t.Q6J("innerHTML",rt.format(Ct[rt.prop]),t.oJD)}}function F(we,Ye){if(1&we&&(t.YNc(0,O,3,2,"ng-container",16),t.YNc(1,L,1,1,"ng-template",null,19,t.W1O)),2&we){const rt=t.MAs(2),Ct=t.oxw(3).$implicit;t.Q6J("ngIf",Ct.link)("ngIfElse",rt)}}function V(we,Ye){if(1&we&&(t.ynx(0),t.YNc(1,J,4,2,"ng-container",16),t.YNc(2,F,3,2,"ng-template",null,17,t.W1O),t.BQk()),2&we){const rt=t.MAs(3),Ct=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",Ct.date)("ngIfElse",rt)}}function q(we,Ye){if(1&we&&(t.ynx(0),t.YNc(1,k,2,1,"ng-container",15),t.YNc(2,V,4,2,"ng-container",15),t.BQk()),2&we){const rt=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==rt.prop),t.xp6(1),t.Q6J("ngIf",null!=rt.prop)}}function ie(we,Ye){if(1&we&&(t.ynx(0),t.TgZ(1,"span",22),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&we){const rt=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,1,rt.placeholder))}}function H(we,Ye){1&we&&(t.TgZ(0,"span",25)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&we&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Common.Yes")))}function $(we,Ye){1&we&&(t.TgZ(0,"span",26)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&we&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Common.No")))}function z(we,Ye){if(1&we&&(t.ynx(0),t.YNc(1,H,4,3,"span",23),t.YNc(2,$,4,3,"span",24),t.BQk()),2&we){const rt=t.oxw().$implicit,Ct=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",Ct[rt.prop]),t.xp6(1),t.Q6J("ngIf",!Ct[rt.prop])}}function E(we,Ye){if(1&we&&(t.TgZ(0,"td",14),t.YNc(1,q,3,2,"ng-container",15),t.YNc(2,ie,4,3,"ng-container",15),t.YNc(3,z,3,2,"ng-container",15),t.qZA()),2&we){const rt=Ye.$implicit;t.Q6J("className",rt.cellClasses),t.uIk("data-label",rt.title),t.xp6(1),t.Q6J("ngIf",!rt.isPlaceholder&&!rt.isBoolean),t.xp6(1),t.Q6J("ngIf",rt.isPlaceholder),t.xp6(1),t.Q6J("ngIf",rt.isBoolean)}}function X(we,Ye){if(1&we){const rt=t.EpF();t.TgZ(0,"button",30,31),t.NdJ("click",function(){t.CHM(rt);const at=t.oxw(2).$implicit,dt=t.oxw(2);return t.KtG(dt.selectRow(at))}),t._UZ(2,"span",32),t.TgZ(3,"span",12),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&we&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Common.Edit")))}function Q(we,Ye){if(1&we){const rt=t.EpF();t.TgZ(0,"button",33,34),t.NdJ("click",function(){t.CHM(rt);const at=t.oxw(2).index,dt=t.oxw(2);return t.KtG(dt.deleteRow(at))}),t._UZ(2,"span",35),t.TgZ(3,"span",12),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&we&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Common.Remove.Title")))}function ce(we,Ye){if(1&we&&(t.TgZ(0,"td",11)(1,"div",27),t.YNc(2,X,6,3,"button",28),t.YNc(3,Q,6,3,"button",29),t.qZA()()),2&we){const rt=t.oxw(3);t.xp6(2),t.Q6J("ngIf",rt.canSelect),t.xp6(1),t.Q6J("ngIf",rt.canDelete)}}function _e(we,Ye){if(1&we&&(t.TgZ(0,"tr"),t.YNc(1,E,4,5,"td",13),t.YNc(2,ce,4,2,"td",6),t.qZA()),2&we){const rt=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",rt.columns),t.xp6(1),t.Q6J("ngIf",rt.actions)}}const Te=function(we){return{hover:we}};function ve(we,Ye){if(1&we&&(t.TgZ(0,"table",4)(1,"thead")(2,"tr"),t.YNc(3,N,5,8,"th",5),t.YNc(4,a,4,3,"th",6),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,_e,3,2,"tr",7),t.qZA()()),2&we){const rt=t.oxw();t.Q6J("ngClass",t.VKq(4,Te,!rt.isReadOnly)),t.xp6(3),t.Q6J("ngForOf",rt.columns),t.xp6(1),t.Q6J("ngIf",rt.actions),t.xp6(2),t.Q6J("ngForOf",rt.rows)}}let Ke=(()=>{class we{constructor(rt,Ct){this.router=rt,this.dataTableService=Ct,this.onSelect=new t.vpe}set isReadOnly(rt){this._isReadOnly=rt||!1}get isReadOnly(){return this._isReadOnly}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(xe.Delete),this.canSelect=this.actions.includes(xe.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(rt){this.canDelete&&this.dataTableService.deleteRowEvent.next(rt)}selectRow(rt){if(this.canSelect){const Ct=new Ge(rt,this.selectButtonRef);this.onSelect.emit(Ct)}}clickLinkCell(rt){this.router.navigate([`${rt.routeForLink}`,rt.identifier])}sortColumn(rt){(null!=rt.sort||null!=rt.sort)&&this.dataTableService.sortColumnEvent.next(rt)}}return we.\u0275fac=function(rt){return new(rt||we)(t.Y36(m.F0),t.Y36(w.n))},we.\u0275cmp=t.Xpm({type:we,selectors:[["app-data-table"]],contentQueries:function(rt,Ct,at){if(1&rt&&t.Suo(at,e.E,4),2&rt){let dt;t.iGM(dt=t.CRH())&&(Ct.columns=dt)}},viewQuery:function(rt,Ct){if(1&rt&&(t.Gf(g,5),t.Gf(p,5)),2&rt){let at;t.iGM(at=t.CRH())&&(Ct.selectButtonRef=at.first),t.iGM(at=t.CRH())&&(Ct.deleteButtonRef=at.first)}},inputs:{noRowsLabel:["norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect"},decls:2,vars:2,consts:[["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"className","click"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],[3,"href","click"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["selectButton",""],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["deleteButton",""],["aria-hidden","true",1,"fas","fa-times"]],template:function(rt,Ct){1&rt&&(t.YNc(0,A,3,3,"div",0),t.YNc(1,ve,7,6,"table",1)),2&rt&&(t.Q6J("ngIf",(null==Ct.rows?null:Ct.rows.length)<1),t.xp6(1),t.Q6J("ngIf",(null==Ct.rows?null:Ct.rows.length)>0))},dependencies:[b.mk,b.sg,b.O5,C.X$],encapsulation:2}),we})();var xe=(()=>{return(we=xe||(xe={})).Delete="Delete",we.Select="Select",xe;var we})();class Ge{constructor(Ye,rt=null){this.data=Ye,this.element=rt}}},4380:(st,ye,f)=>{"use strict";f.d(ye,{t:()=>g});var t=f(9383),e=f(6895),m=f(2320),w=f(5503),b=f(8285),C=f(4650);let g=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({providers:[b.n],imports:[e.ez,t.aw,m.z8,w.D]}),p})()},8285:(st,ye,f)=>{"use strict";f.d(ye,{n:()=>m});var t=f(7579),e=f(4650);let m=(()=>{class w{constructor(){this.sortColumnEvent=new t.x,this.sortCompletedEvent=new t.x,this.deleteRowEvent=new t.x}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},4225:(st,ye,f)=>{"use strict";f.d(ye,{V:()=>J,j:()=>O});var t=f(4650),e=f(4006),m=f(1837),w=f(8176),b=f(6895);function C(L,F){1&L&&t.GkF(0)}function g(L,F){if(1&L&&(t.TgZ(0,"div",4),t.YNc(1,C,1,0,"ng-container",5),t.qZA()),2&L){t.oxw();const V=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",V)}}function p(L,F){1&L&&t.GkF(0)}function A(L,F){1&L&&t.GkF(0)}function _(L,F){if(1&L&&(t.TgZ(0,"div",6)(1,"div",7),t.YNc(2,p,1,0,"ng-container",5),t.qZA(),t.TgZ(3,"div",8),t.YNc(4,A,1,0,"ng-container",5),t.qZA()()),2&L){t.oxw();const V=t.MAs(7),q=t.MAs(5);t.xp6(2),t.Q6J("ngTemplateOutlet",V),t.xp6(2),t.Q6J("ngTemplateOutlet",q)}}function R(L,F){1&L&&t.GkF(0)}function N(L,F){if(1&L&&(t.TgZ(0,"div",6),t.YNc(1,R,1,0,"ng-container",5),t.qZA()),2&L){t.oxw();const V=t.MAs(7);t.xp6(1),t.Q6J("ngTemplateOutlet",V)}}function a(L,F){if(1&L&&(t.TgZ(0,"option",15),t._uU(1),t.ALo(2,"number"),t.qZA()),2&L){const V=F.index;t.Q6J("value",V),t.xp6(1),t.Oqu(t.xi3(2,2,V,"2.0"))}}function k(L,F){if(1&L&&(t.TgZ(0,"option",15),t._uU(1),t.ALo(2,"number"),t.qZA()),2&L){const V=F.index;t.Q6J("value",V),t.xp6(1),t.Oqu(t.xi3(2,2,V,"2.0"))}}function P(L,F){if(1&L){const V=t.EpF();t.TgZ(0,"label",9),t._uU(1,"Hours"),t.qZA(),t.TgZ(2,"div",10)(3,"select",11),t.NdJ("ngModelChange",function(ie){t.CHM(V);const H=t.oxw();return t.KtG(H.onHoursChange(ie))}),t.TgZ(4,"option",12),t._uU(5,"HH"),t.qZA(),t.YNc(6,a,3,5,"option",13),t.qZA()(),t.TgZ(7,"span",14),t._uU(8,":"),t.qZA(),t.TgZ(9,"label",9),t._uU(10,"Minutes"),t.qZA(),t.TgZ(11,"div",10)(12,"select",11),t.NdJ("ngModelChange",function(ie){t.CHM(V);const H=t.oxw();return t.KtG(H.onMinutesChange(ie))}),t.TgZ(13,"option",12),t._uU(14,"MM"),t.qZA(),t.YNc(15,k,3,5,"option",13),t.qZA()()}if(2&L){const V=t.oxw();t.Q6J("for",V.id+"-time-hours"),t.xp6(3),t.Q6J("id",V.id+"-time-hours")("ngModel",V.hours),t.xp6(1),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",V.counter(23)),t.xp6(3),t.Q6J("for",V.id+"-time-minutes"),t.xp6(3),t.Q6J("id",V.id+"-time-minutes")("ngModel",V.minutes),t.xp6(1),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",V.counter(59))}}function U(L,F){if(1&L){const V=t.EpF();t.TgZ(0,"input",16),t.NdJ("ngModelChange",function(ie){t.CHM(V);const H=t.oxw();return t.KtG(H.onDateChange(ie))})("keyup",function(ie){t.CHM(V);const H=t.oxw();return t.KtG(H.onKeyUp(ie))}),t.qZA()}if(2&L){const V=t.oxw();t.Q6J("id",V.id+"-date")("ngModel",V.stringDate),t.uIk("required",V.required?"":null)("min",V.minDate)("max",V.maxDate)}}var J=(()=>{return(L=J||(J={})).Date="date",L.Time="time",L.DateTime="datetime",J;var L})();let O=(()=>{class L{constructor(){this.id=(0,w.qs)(),this.displayType=J.DateTime,this.required=!1,this.disabled=!1,this.keyup=new t.vpe,this.onChange=V=>{},this.onTouched=()=>{}}set value(V){this.setDate(V)}set min(V){this.minDate=this.toMinMaxDateString(V)}set max(V){this.maxDate=this.toMinMaxDateString(V)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(V){this.setDate(V)}registerOnChange(V){this.onChange=V}registerOnTouched(V){this.onTouched=V}setDisabledState(V){this.disabled=V}get opacity(){return this.disabled?.25:1}validate(V){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(V){this.keyup.emit(V)}onHoursChange(V){this.date=this.date?this.date.set({hour:V}):m.ou.now().set({hour:V}),this.onChange(this.date.toString())}onMinutesChange(V){this.date=this.date?this.date.set({minute:V}):m.ou.now().set({minute:V}),this.onChange(this.date.toString())}onDateChange(V){this.stringDate=V;let q=m.ou.fromFormat(V,"yyyy-MM-dd");q.isValid&&(this.date=this.date?this.date.set({year:q.year,month:q.month,day:q.day}):q,this.onChange(this.date.toString()))}counter(V){return new Array(V+1)}setDate(V){if(V){if(V instanceof m.ou&&(this.date=V),"string"==typeof V){const q=m.ou.fromISO(V);this.date=q.isValid?q:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(V){let q;return q=V instanceof m.ou?V:m.ou.fromISO(V.toString()),q.toFormat("yyyy-MM-dd")}}return L.\u0275fac=function(V){return new(V||L)},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(V,q){2&V&&t.Udp("opacity",q.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[t._Bn([{provide:e.JU,useExisting:(0,t.Gpc)(()=>L),multi:!0},{provide:e.Cf,useExisting:(0,t.Gpc)(()=>L),multi:!0}])],decls:8,vars:3,consts:[["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],["timeTemplate",""],["dateTemplate",""],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"id","ngModel","ngModelChange"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"id","ngModel","ngModelChange","keyup"]],template:function(V,q){1&V&&(t.TgZ(0,"div"),t.YNc(1,g,2,1,"div",0),t.YNc(2,_,5,2,"div",1),t.YNc(3,N,2,1,"div",1),t.YNc(4,P,16,10,"ng-template",null,2,t.W1O),t.YNc(6,U,1,5,"ng-template",null,3,t.W1O),t.qZA()),2&V&&(t.xp6(1),t.Q6J("ngIf","time"==q.displayType),t.xp6(1),t.Q6J("ngIf","datetime"==q.displayType),t.xp6(1),t.Q6J("ngIf","date"==q.displayType))},dependencies:[b.sg,b.O5,b.tP,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.Q7,e.On,b.JJ],encapsulation:2}),L})()},5898:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>C});var t=f(6895),e=f(5503),m=f(9383),w=f(4006),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[t.ez,w.u5,e.D,m.aw]}),g})()},7005:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>w});var t=f(4006),e=f(8176),m=f(4650);let w=(()=>{class b{validate(g){return this.regex?(0,e.ry)(new RegExp(this.regex,"i"))(g):null}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275dir=m.lG2({type:b,selectors:[["","appClaimRegex",""]],inputs:{regex:["appClaimRegex","regex"]},features:[m._Bn([{provide:t.Cf,useExisting:b,multi:!0}])]}),b})()},85:(st,ye,f)=>{"use strict";f.d(ye,{e:()=>C});var t=f(7185),e=f(8185),m=f(9383),w=f(4650),b=f(2979);let C=(()=>{class g{constructor(A){this.injector=A}handleError(A){if((0,w.X6Q)())console.log(A);else{const _=this.injector.get(e.F0),R=this.injector.get(t._W),N=this.injector.get(m.sK),a=this.injector.get(b.An);R.info(N.instant("Notifications.Support")),R.info(N.instant("Notifications.Apology"),N.instant("Notifications.Sorry"));const k=a.translateRoute("/home");_.navigateByUrl(k)}}}return g.\u0275fac=function(A){return new(A||g)(w.LFG(w.zs3))},g.\u0275prov=w.Yz7({token:g,factory:g.\u0275fac}),g})()},274:(st,ye,f)=>{"use strict";f.d(ye,{V:()=>F});var t=f(4650),e=f(7579),m=f(9751),w=f(3900),b=f(4004),C=f(9646),g=f(5963),p=f(146),A=f(4006),_=f(1191),R=f(6895),N=f(9383);function a(V,q){if(1&V&&(t.TgZ(0,"option",11),t._uU(1),t.qZA()),2&V){const ie=q.$implicit;t.Q6J("value",ie),t.xp6(1),t.Oqu(ie)}}function k(V,q){if(1&V){const ie=t.EpF();t.TgZ(0,"select",8,9),t.NdJ("ngModelChange",function($){t.CHM(ie);const z=t.oxw();return t.KtG(z.valueChanged.emit($))})("keyup",function(){t.CHM(ie);const $=t.oxw();return t.KtG($.keyupEvent.emit())}),t.YNc(2,a,2,2,"option",10),t.qZA()}if(2&V){const ie=t.MAs(1),H=t.oxw();t.Q6J("id",H.forId)("ngModel",H.value)("disabled",H.disabled&&!ie.dirty),t.xp6(2),t.Q6J("ngForOf",H.allowedValues)}}function P(V,q){if(1&V){const ie=t.EpF();t.TgZ(0,"input",12,9),t.NdJ("ngModelChange",function($){t.CHM(ie);const z=t.oxw();return t.KtG(z.valueChanged.emit($))})("focus",function($){t.CHM(ie);const z=t.oxw();return t.KtG(z.onFocus($))}),t.ALo(2,"translate"),t.qZA()}if(2&V){const ie=t.MAs(1),H=t.oxw(),$=t.MAs(5);t.s9C("placeholder",t.lcZ(2,9,"ClaimTypes.TypeaheadHelp")),t.Q6J("id",H.forId)("container",H.hostingModal)("ngModel",H.value)("typeahead",H.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",$)("disabled",H.disabled&&!ie.dirty)}}function U(V,q){if(1&V&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&V){const ie=q.item;t.xp6(1),t.Oqu(ie.length>20?t.Dn7(2,1,ie,0,20)+"...":ie)}}function J(V,q){1&V&&(t.TgZ(0,"div",13),t._UZ(1,"span",14),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&V&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"Common.LoadingPleaseWait")))}function O(V,q){1&V&&(t.TgZ(0,"div",15),t._UZ(1,"span",16),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&V&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function L(V,q){if(1&V&&(t.TgZ(0,"div",17),t._UZ(1,"span",16),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&V){const ie=t.oxw();t.xp6(3),t.AsE("",t.lcZ(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",ie.totalValues,")")}}let F=(()=>{class V{constructor(ie){this.claimTypesService=ie,this.valueChanged=new t.vpe,this.disabled=!1,this.keyupEvent=new t.vpe,this.typeIdSub=new e.x,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(H=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe($=>{this.totalValues=$.totalAllowedValues,this.allowedValues=$.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}set hostingModal(ie){this._hostingModal=ie}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(ie){this._typeId=ie,this.typeIdSub.next(ie)}get typeId(){return this._typeId}initDataSrc(){return new m.y(ie=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,ie.next(this.value)}).pipe((0,w.w)(ie=>ie?this.claimTypesService.getAllowedValues(this.typeId,ie,this.threshold).pipe((0,b.U)(H=>(this.totalValues=H.totalAllowedValues,this.allowedValues=H.allowedValues,this.loading=!1,this.nothingFound=H.totalAllowedValues<=0,this.tooManyResults=H.totalAllowedValues>=this.threshold,H.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,C.of)([]))))}onFocus(ie){ie.stopPropagation(),(0,g.H)(1).subscribe(()=>{const H=new Event("input");ie.target?.dispatchEvent(H)})}}return V.\u0275fac=function(ie){return new(ie||V)(t.Y36(p.M))},V.\u0275cmp=t.Xpm({type:V,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:["id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["customItemTemplate",""],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"id","ngModel","disabled","ngModelChange","keyup"],["claimvalue","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(ie,H){1&ie&&(t.TgZ(0,"div",0),t.YNc(1,k,3,4,"select",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,P,3,11,"input",3),t.qZA(),t.YNc(4,U,3,5,"ng-template",null,4,t.W1O),t.YNc(6,J,5,3,"div",5),t.YNc(7,O,5,3,"div",6),t.YNc(8,L,5,4,"div",7)),2&ie&&(t.xp6(1),t.Q6J("ngIf",!H.typeahead),t.xp6(2),t.Q6J("ngIf",H.typeahead),t.xp6(3),t.Q6J("ngIf",H.typeahead&&H.loading),t.xp6(1),t.Q6J("ngIf",H.typeahead&&H.nothingFound),t.xp6(1),t.Q6J("ngIf",H.typeahead&&H.tooManyResults))},dependencies:[A.YN,A.Kr,A.Fj,A.EJ,A.JJ,A.Q7,A.On,_.Bp,R.sg,R.O5,R.OU,N.X$],encapsulation:2}),V})()},9650:(st,ye,f)=>{"use strict";f.d(ye,{I:()=>g});var t=f(6895),e=f(9383),m=f(4006),w=f(5898),b=f(1191),C=f(4650);let g=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[m.u5,m.UX,b.H3,t.ez,e.aw,w.T]}),p})()},4234:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>F});var t=f(4225),e=f(8176),m=f(4650),w=f(4006),b=f(6895),C=f(7608),g=f(799),p=f(7005),A=f(274);const _=["claimsForm"];function R(V,q){if(1&V){const ie=m.EpF();m.TgZ(0,"input",10,11),m.NdJ("keyup",function(){m.CHM(ie);const $=m.oxw().$implicit,z=m.oxw();return m.KtG(z.checkForPolicyClaimForm($.type,$))})("ngModelChange",function($){m.CHM(ie);const z=m.oxw().$implicit;return m.KtG(z.value=$)}),m.qZA()}if(2&V){const ie=m.MAs(1),H=m.oxw(),$=H.index,z=H.$implicit,E=m.oxw();m.MGl("id","claim-",$,""),m.Q6J("name",z.type)("ngModel",z.value)("appClaimRegex",z.regex)("disabled",E.notAllowedToEditClaim(z)&&!ie.dirty)}}function N(V,q){if(1&V){const ie=m.EpF();m.TgZ(0,"input",12,11),m.NdJ("keyup",function(){m.CHM(ie);const $=m.oxw().$implicit,z=m.oxw();return m.KtG(z.checkForPolicyClaimForm($.type,$))})("ngModelChange",function($){m.CHM(ie);const z=m.oxw().$implicit;return m.KtG(z.value=$)}),m.qZA()}if(2&V){const ie=m.MAs(1),H=m.oxw(),$=H.index,z=H.$implicit,E=m.oxw();m.MGl("id","claim-",$,""),m.Q6J("name",z.type)("ngModel",z.value)("disabled",E.notAllowedToEditClaim(z)&&!ie.dirty)}}function a(V,q){if(1&V){const ie=m.EpF();m.TgZ(0,"app-form-toggle",13)(1,"input",14),m.NdJ("keyup",function(){m.CHM(ie);const $=m.oxw().$implicit,z=m.oxw();return m.KtG(z.checkForPolicyClaimForm($.type,$))})("ngModelChange",function($){m.CHM(ie);const z=m.oxw().$implicit;return m.KtG(z.value=$?"true":"false")}),m.qZA()()}if(2&V){const ie=m.oxw(),H=ie.index,$=ie.$implicit,z=m.oxw();m.Q6J("id","claim-"+H)("isTraffic",!0)("isAlt",!1),m.xp6(1),m.Q6J("id","claim-"+H)("name",$.type)("disabled",z.notAllowedToEditClaim($)&&!z.claimvalue.dirty)("ngModel","true"==$.value)}}function k(V,q){if(1&V){const ie=m.EpF();m.ynx(0),m.TgZ(1,"app-date-time",17,11),m.NdJ("ngModelChange",function($){m.CHM(ie);const z=m.oxw(2).$implicit;return m.KtG(z.value=$)})("keyup",function(){m.CHM(ie);const $=m.oxw(2).$implicit,z=m.oxw();return m.KtG(z.checkForPolicyClaimForm($.type,$))})("change",function(){m.CHM(ie);const $=m.oxw(3);return m.KtG($.makeFormDirty())}),m.qZA(),m.BQk()}if(2&V){const ie=m.MAs(2),H=m.oxw(2),$=H.index,z=H.$implicit,E=m.oxw();m.xp6(1),m.MGl("id","claim-",$,""),m.Q6J("name",z.type)("ngModel",z.value)("disabled",E.notAllowedToEditClaim(z)&&!ie.dirty)}}function P(V,q){if(1&V){const ie=m.EpF();m.ynx(0),m.TgZ(1,"app-date-time",18,11),m.NdJ("ngModelChange",function($){m.CHM(ie);const z=m.oxw(2).$implicit;return m.KtG(z.value=$)})("keyup",function(){m.CHM(ie);const $=m.oxw(2).$implicit,z=m.oxw();return m.KtG(z.checkForPolicyClaimForm($.type,$))})("change",function(){m.CHM(ie);const $=m.oxw(3);return m.KtG($.makeFormDirty())}),m.qZA(),m.BQk()}if(2&V){const ie=m.MAs(2),H=m.oxw(2),$=H.index,z=H.$implicit,E=m.oxw();m.xp6(1),m.MGl("id","claim-",$,""),m.Q6J("name",z.type)("displayType",E.dateTimeDisplayType.Date)("ngModel",z.value)("disabled",E.notAllowedToEditClaim(z)&&!ie.dirty)}}function U(V,q){if(1&V&&(m.TgZ(0,"div",15),m.YNc(1,k,3,4,"ng-container",16),m.YNc(2,P,3,5,"ng-container",16),m.qZA()),2&V){const ie=m.oxw().$implicit;m.xp6(1),m.Q6J("ngIf","birthdate"!=ie.type),m.xp6(1),m.Q6J("ngIf","birthdate"==ie.type)}}function J(V,q){if(1&V){const ie=m.EpF();m.TgZ(0,"div",19)(1,"app-enum-claim-type-input",20),m.NdJ("valueChanged",function($){m.CHM(ie);const z=m.oxw().$implicit,E=m.oxw();return z.value=$,m.KtG(E.makeFormDirty())})("keyupEvent",function(){m.CHM(ie);const $=m.oxw().$implicit,z=m.oxw();return m.KtG(z.checkForPolicyClaimForm($.type,$))}),m.qZA()()}if(2&V){const ie=m.oxw(),H=ie.index,$=ie.$implicit,z=m.oxw();m.xp6(1),m.Q6J("id","claim-"+H)("typeId",z.getClaimType($).id)("value",$.value)("disabled",z.notAllowedToEditClaim($))}}function O(V,q){if(1&V&&(m.TgZ(0,"span",21),m._uU(1),m.qZA()),2&V){const ie=m.oxw().$implicit;m.xp6(1),m.Oqu(ie.failureMessage)}}function L(V,q){if(1&V&&(m.TgZ(0,"app-form-row",3),m.YNc(1,R,2,5,"input",4),m.YNc(2,N,2,4,"input",5),m.YNc(3,a,2,7,"app-form-toggle",6),m.YNc(4,U,3,2,"div",7),m.YNc(5,J,2,4,"div",8),m.YNc(6,O,2,1,"span",9),m.qZA()),2&V){const ie=q.$implicit,H=q.index,$=m.oxw();let z;m.Q6J("id","claim-"+H)("label",null!==(z=ie.displayName)&&void 0!==z?z:ie.type)("help",$.getHelpTextString(ie)),m.xp6(1),m.Q6J("ngIf","String"==ie.format),m.xp6(1),m.Q6J("ngIf","Int"==ie.format),m.xp6(1),m.Q6J("ngIf","Boolean"==ie.format),m.xp6(1),m.Q6J("ngIf","DateTime"==ie.format),m.xp6(1),m.Q6J("ngIf","Enum"==ie.format),m.xp6(1),m.Q6J("ngIf",$.claimDirtyAndInvalid(ie.type))}}let F=(()=>{class V{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=t.V}ngOnChanges(){for(const ie of this.claimTypes??[])if(ie.required){let H="Boolean"===ie.valueType?"false":null,$=this.claims?.filter(E=>E.type===ie.name)??[];$.length>0&&!(0,e.le)($[0].value)&&(H=$[0].value);const z={typeId:ie.id,format:ie.valueType,value:H,type:ie.name,displayName:ie.displayName,editing:!1,required:ie.required};ie.rule&&(z.regex=ie.rule,z.failureMessage=ie.ruleValidationFailureDescription),this.requiredClaims.push(z)}}getHelpTextString(ie){return this.isPolicyClaim(ie)?"DateTime"==ie.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==ie.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(ie,H){this.notAllowedToEditClaim(H)&&this.claimsForm.form.controls[ie].setErrors({incorrect:!0})}isClaimInValid(ie){return this.claimsForm.form.get(ie)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(ie){let H=this.claimsForm.form.get(ie)??{invalid:!1,dirty:!1};return H.invalid&&H.dirty}resetForm(){this.claimsForm.reset()}getClaimType(ie){return this.claimTypes.find(H=>H.name===ie.type)}}return V.\u0275fac=function(ie){return new(ie||V)},V.\u0275cmp=m.Xpm({type:V,selectors:[["app-required-claims-form"]],viewQuery:function(ie,H){if(1&ie&&m.Gf(_,7),2&ie){let $;m.iGM($=m.CRH())&&(H.claimsForm=$.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[m.TTD],decls:3,vars:1,consts:[["id","requiredClaims"],["claimsForm","ngForm"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange"],["claimvalue","ngModel"],["type","number","required","",1,"tw-form-control",3,"name","ngModel","id","disabled","keyup","ngModelChange"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"id","name","disabled","ngModel","keyup","ngModelChange"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"id","name","ngModel","disabled","ngModelChange","keyup","change"],[3,"id","name","displayType","ngModel","disabled","ngModelChange","keyup","change"],[1,""],[3,"id","typeId","value","disabled","valueChanged","keyupEvent"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(ie,H){1&ie&&(m.TgZ(0,"form",0,1),m.YNc(2,L,7,9,"app-form-row",2),m.qZA()),2&ie&&(m.xp6(2),m.Q6J("ngForOf",H.requiredClaims))},dependencies:[w._Y,w.Fj,w.wV,w.Wl,w.JJ,w.JL,w.Q7,w.On,w.F,b.sg,b.O5,t.j,C.L,g.O,p.x,A.V],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),V})()},1651:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>w});var t=f(4650);const e=[[["","left",""]],[["","right",""]]],m=["[left]","[right]"];let w=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-row-bar"]],ngContentSelectors:m,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(g,p){1&g&&(t.F$t(e),t.TgZ(0,"div",0),t.Hsn(1),t.TgZ(2,"div",1),t.Hsn(3,1),t.qZA()())},encapsulation:2}),b})()},7608:(st,ye,f)=>{"use strict";f.d(ye,{L:()=>_});var t=f(4650),e=f(6895),m=f(9383);function w(R,N){if(1&R&&(t._UZ(0,"span",7),t.ALo(1,"translate")),2&R){const a=t.oxw(2);t.Q6J("innerHtml",t.lcZ(1,1,a.helpText),t.oJD)}}function b(R,N){if(1&R&&(t.TgZ(0,"label",4)(1,"span",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,w,2,3,"span",6),t.qZA()),2&R){const a=t.oxw();t.Q6J("for",a.idFor),t.xp6(2),t.Oqu(t.lcZ(3,3,a.labelText)),t.xp6(2),t.Q6J("ngIf",a.showHelpText)}}function C(R,N){if(1&R&&(t._UZ(0,"span",7),t.ALo(1,"translate")),2&R){const a=t.oxw(2);t.Q6J("innerHtml",t.lcZ(1,1,a.helpText),t.oJD)}}function g(R,N){if(1&R&&(t.TgZ(0,"p",8)(1,"span",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,C,2,3,"span",6),t.qZA()),2&R){const a=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,a.labelText)),t.xp6(2),t.Q6J("ngIf",a.showHelpText)}}const p=function(R){return{"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":R}},A=["*"];let _=(()=>{class R{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}}return R.\u0275fac=function(a){return new(a||R)},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-form-row"]],inputs:{idFor:["id","idFor"],labelText:["label","labelText"],helpText:["help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:A,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(a,k){1&a&&(t.F$t(),t.TgZ(0,"div",0),t.YNc(1,b,5,5,"label",1),t.YNc(2,g,5,4,"p",2),t.TgZ(3,"div",3),t.Hsn(4),t.qZA()()),2&a&&(t.Q6J("ngClass",t.VKq(3,p,k.isLast)),t.xp6(1),t.Q6J("ngIf",k.idFor&&k.hasLabel),t.xp6(1),t.Q6J("ngIf",!k.idFor&&k.hasLabel))},dependencies:[e.mk,e.O5,m.X$],encapsulation:2}),R})()},799:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>C});var t=f(4650),e=f(6895);const m=function(g,p){return{"tw-form-switch__slider--traffic":g,"tw-form-switch__slider--alt":p}},w=function(g,p){return{"tw-form-switch__state--traffic":g,"tw-form-switch__state--alt":p}},b=["*"];let C=(()=>{class g{constructor(){this.isAlt=!1,this.isTraffic=!1}}return g.\u0275fac=function(A){return new(A||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-form-toggle"]],inputs:{idFor:["id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:b,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(A,_){1&A&&(t.F$t(),t.TgZ(0,"label",0),t.Hsn(1),t.TgZ(2,"span",1),t._UZ(3,"span",2),t.qZA()()),2&A&&(t.Q6J("for",_.idFor),t.xp6(2),t.Q6J("ngClass",t.WLB(3,m,_.isTraffic,_.isAlt)),t.xp6(1),t.Q6J("ngClass",t.WLB(6,w,_.isTraffic,_.isAlt)))},dependencies:[e.mk],encapsulation:2}),g})()},8176:(st,ye,f)=>{"use strict";f.d(ye,{AZ:()=>p,Ew:()=>b,Fd:()=>k,GA:()=>O,Hr:()=>$,RW:()=>C,SV:()=>L,X1:()=>m,Zr:()=>H,eC:()=>P,gR:()=>F,hC:()=>V,le:()=>w,lm:()=>A,mn:()=>_,qs:()=>N,ry:()=>a,sY:()=>U,ub:()=>q});var t=f(1206),e=f(1837);function m(z,E){return`${e.ou.fromISO(z).toFormat(E)} UTC`}function w(z){return null==z}function b(z){return null==z||"string"!=typeof z||""===z||null!==z.match(/^ *$/)}function C(z){const E=document.createElement("a");return E.href=z,E.protocol+"//"+decodeURIComponent(E.host)}function p(z){const X=new RegExp("(^https?://|urn:|tcp://)").exec(z);if(X){if("urn:"===X[0])return!1}else z="http://"+z;const Q=z.split("/");return z.endsWith("/")?Q.length>4:Q.length>3}function A(z){const X=new RegExp("https?://|urn:|tcp://").exec(z);return X?X[0]:null}function _(z,E){const X=JSON.parse(JSON.stringify(z));return E.forEach(Q=>{let ce=X.length;for(;ce--;)X[ce].name===Q.name&&X.splice(ce,1)}),X}function N(){let z=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(z+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(E){const X=(z+16*Math.random())%16|0;return z=Math.floor(z/16),("x"===E?X:3&X|8).toString(16)})}function a(z){return E=>z.test(E.value)?null:{regex:{value:E.value}}}function k(){return z=>0===(z.value||"").trim().length?{whitespace:{value:z.value}}:null}function P(z){const E=e.ou.now();return e.ou.fromISO(z.value).diff(E).milliseconds>1?{dateInFuture:!0}:null}function U(z){const E=e.ou.fromISO(z.get("fromDate").value);return e.ou.fromISO(z.get("toDate").value).diff(E,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function O(z){if(z&&z.size>0){const E={};return z.forEach((X,Q)=>{E[Q]=X}),E}return{}}function L(){const z=document.getElementsByTagName("base")[0].attributes.href.value;return b(z)?"/":z.endsWith("/")?z:`${z}/`}function F(z){return!(!z||0===z.length)&&(z.includes(t.y.IdentityServerManagerReadOnly)||z.includes(t.y.AllReadOnly))&&!(z.includes(t.y.IdentityServerManager)||z.includes(t.y.All))}function V(z){return!(!z||0===z.length)&&(z.includes(t.y.IdentityServerManager)||z.includes(t.y.All))}function q(z){return!(!z||0===z.length)&&(z.includes(t.y.UserManagerReadOnly)||z.includes(t.y.AllReadOnly))&&!(z.includes(t.y.UserManager)||z.includes(t.y.All))}function H(z){return!(!z||0===z.length)&&z.includes(t.y.All)}function $(z){return!(!z||0===z.length)&&z.includes(t.y.AllReadOnly)&&!z.includes(t.y.All)}},9465:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>ie});var t=f(4650),e=f(4006),m=f(9748),w=f(2329),b=f(6502),C=f(8176),g=f(6895),p=f(9383);function A(H,$){if(1&H&&(t.TgZ(0,"div"),t._UZ(1,"input",7),t.qZA()),2&H){const z=t.oxw();t.xp6(1),t.s9C("id",z.id+"-input"),t.Q6J("ngModel",z.value)}}function _(H,$){if(1&H){const z=t.EpF();t.TgZ(0,"div")(1,"input",8),t.NdJ("keydown",function(X){t.CHM(z);const Q=t.oxw();return t.KtG(Q.onKeyDown(X))})("paste",function(X){t.CHM(z);const Q=t.oxw();return t.KtG(Q.onPaste(X))})("ngModelChange",function(X){t.CHM(z);const Q=t.oxw();return t.KtG(Q.onValueChange(X))}),t.qZA()()}if(2&H){const z=t.oxw();t.xp6(1),t.s9C("id",z.id+"-input"),t.Q6J("ngModel",z.value)}}function R(H,$){if(1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H){const z=t.oxw(2);t.xp6(1),t.AsE(" ",z.timeSpan.years," ",t.lcZ(2,2,z.displayTimeSpanUnit(z.timeSpan.years,"Year"))," ")}}function N(H,$){if(1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H){const z=t.oxw(2);t.xp6(1),t.AsE(" ",z.timeSpan.months," ",t.lcZ(2,2,z.displayTimeSpanUnit(z.timeSpan.months,"Month"))," ")}}function a(H,$){if(1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H){const z=t.oxw(2);t.xp6(1),t.AsE(" ",z.timeSpan.weeks," ",t.lcZ(2,2,z.displayTimeSpanUnit(z.timeSpan.weeks,"Week"))," ")}}function k(H,$){if(1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H){const z=t.oxw(2);t.xp6(1),t.AsE(" ",z.timeSpan.days," ",t.lcZ(2,2,z.displayTimeSpanUnit(z.timeSpan.days,"Day"))," ")}}function P(H,$){if(1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H){const z=t.oxw(2);t.xp6(1),t.AsE(" ",z.timeSpan.hours," ",t.lcZ(2,2,z.displayTimeSpanUnit(z.timeSpan.hours,"Hour"))," ")}}function U(H,$){if(1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H){const z=t.oxw(2);t.xp6(1),t.AsE(" ",z.timeSpan.minutes," ",t.lcZ(2,2,z.displayTimeSpanUnit(z.timeSpan.minutes,"Minute"))," ")}}function J(H,$){if(1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H){const z=t.oxw(2);t.xp6(1),t.AsE(" ",z.timeSpan.seconds," ",t.lcZ(2,2,z.displayTimeSpanUnit(z.timeSpan.seconds,"Second"))," ")}}function O(H,$){1&H&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&H&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Clients.Tokens.Durations.Unlimited")," "))}function L(H,$){if(1&H&&(t.TgZ(0,"p",9),t._UZ(1,"span",10),t.ALo(2,"translate"),t.TgZ(3,"span",11),t.YNc(4,R,3,4,"span",12),t.YNc(5,N,3,4,"span",12),t.YNc(6,a,3,4,"span",12),t.YNc(7,k,3,4,"span",12),t.YNc(8,P,3,4,"span",12),t.YNc(9,U,3,4,"span",12),t.YNc(10,J,3,4,"span",12),t.YNc(11,O,3,3,"span",12),t.qZA()()),2&H){const z=t.oxw();t.s9C("id",z.id+"-longTimeLabel"),t.xp6(1),t.uIk("aria-label",t.lcZ(2,10,"Clients.Tokens.DurationTitle")),t.xp6(3),t.Q6J("ngIf",z.timeSpan.years>0),t.xp6(1),t.Q6J("ngIf",z.timeSpan.months>0),t.xp6(1),t.Q6J("ngIf",z.timeSpan.weeks>0),t.xp6(1),t.Q6J("ngIf",z.timeSpan.days>0),t.xp6(1),t.Q6J("ngIf",z.timeSpan.hours>0),t.xp6(1),t.Q6J("ngIf",z.timeSpan.minutes>0),t.xp6(1),t.Q6J("ngIf",z.timeSpan.seconds>0),t.xp6(1),t.Q6J("ngIf",z.showUnlimitedTimeSpan())}}function F(H,$){if(1&H&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&H){const z=t.oxw().$implicit;t.xp6(1),t.Oqu(z.duration)}}const V=function(H,$){return{"tw-btn active":H,"tw-btn-link":$}};function q(H,$){if(1&H){const z=t.EpF();t.TgZ(0,"li")(1,"button",14),t.NdJ("click",function(){const Q=t.CHM(z).$implicit,ce=t.oxw();return t.KtG(ce.setInput(Q))}),t.YNc(2,F,2,1,"span",15),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}if(2&H){const z=$.$implicit,E=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(6,V,E.checkSelected(z),!E.checkSelected(z)))("disabled",E.disabled),t.xp6(1),t.Q6J("ngIf",z.duration),t.xp6(2),t.Oqu(t.lcZ(5,4,"Clients.Tokens.Durations."+z.unit+"Short"))}}let ie=(()=>{class H{constructor(){this.id=(0,C.qs)(),this.allowUnlimited=!1,this.disabled=!1,this.required=!1,this.unitMap=m.S.getUnitMap(),this.LifetimeUnit=w.f,this.onChange=z=>{},this.onTouched=()=>{}}set value(z){this.setValue(z,!1)}get value(){return this._value}setValue(z,E=!0){!Number.isInteger(z)||(this._value=z,this.timeSpan?this.timeSpan.formatSeconds(z):this.timeSpan=new b.i(z),E&&this.onChange(z))}onValueChange(z){this.setValue(z)}onKeyDown(z){return 69!==z.keyCode&&189!==z.keyCode&&190!==z.keyCode}onPaste(z){const X=z.clipboardData?.getData("text"),Q=Number(X);Number.isInteger(Q)&&(Q>0||Q>=0&&this.allowUnlimited)||z.preventDefault()}writeValue(z){this.setValue(z,!1)}registerOnChange(z){this.onChange=z}registerOnTouched(z){this.onTouched=z}setDisabledState(z){this.disabled=z}validate(z){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}setInput(z){const E=z.duration*this.unitMap.get(z.unit);this.setValue(E)}checkSelected(z){return this.value===z.duration*this.unitMap.get(z.unit)}displayTimeSpanUnit(z,E){return"Clients.Tokens.Durations."+E+(z>1?"s":"")}showUnlimitedTimeSpan(){return!(!this.allowUnlimited||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}}return H.\u0275fac=function(z){return new(z||H)},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowUnlimited:"allowUnlimited",disabled:"disabled",required:"required"},features:[t._Bn([{provide:e.JU,useExisting:(0,t.Gpc)(()=>H),multi:!0},{provide:e.Cf,useExisting:(0,t.Gpc)(()=>H),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"id","ngModel","keydown","paste","ngModelChange"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"ngClass","disabled","click"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(z,E){1&z&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,A,2,2,"div",2),t.YNc(3,_,2,2,"div",2),t.YNc(4,L,12,12,"p",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5),t.YNc(7,q,6,9,"li",6),t.qZA()()()),2&z&&(t.xp6(2),t.Q6J("ngIf",E.disabled),t.xp6(1),t.Q6J("ngIf",!E.disabled),t.xp6(1),t.Q6J("ngIf",E.value>0||E.value>=0&&E.allowUnlimited),t.xp6(2),t.s9C("id",E.id+"-buttonList"),t.xp6(1),t.Q6J("ngForOf",E.buttons))},dependencies:[g.mk,g.sg,g.O5,e.Fj,e.wV,e.JJ,e.qQ,e.On,p.X$],encapsulation:2}),H})()},1274:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>C});var t=f(6895),e=f(2979),m=f(4006),w=f(9383),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[t.ez,m.u5,m.UX,e.fQ,w.aw]}),g})()},8975:(st,ye,f)=>{"use strict";f.d(ye,{d:()=>C});var t=f(6895),e=f(9383),m=f(6980),w=f(4022),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[t.ez,e.aw,m.K,w.p]}),g})()},965:(st,ye,f)=>{"use strict";f.d(ye,{R:()=>H});var t=f(4650),e=f(6895),m=f(7579),w=f(4968),b=f(2722),C=f(4004),g=f(8675),p=f(9300),A=f(1365);const _=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var a=f(5259),k=f(1923),P=f(6219),U=f(9383);function J($,z){if(1&$){const E=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(E);const Q=t.oxw();return t.KtG(Q.cancel())}),t._UZ(1,"span",17),t.TgZ(2,"span",18),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&$&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"Common.Close")))}function O($,z){if(1&$){const E=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(E);const Q=t.oxw();return t.KtG(Q.save())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&$){const E=t.oxw();t.Q6J("disabled",E.addDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,2,E.saveText)," ")}}function L($,z){if(1&$){const E=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(E);const Q=t.oxw();return t.KtG(Q.delete())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&$){const E=t.oxw();t.Q6J("disabled",E.deleteDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,2,E.deleteText)," ")}}function F($,z){if(1&$){const E=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(E);const Q=t.oxw();return t.KtG(Q.saveAndReAdd())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&$){const E=t.oxw();t.xp6(1),t.Q6J("disabled",E.addDisabled),t.xp6(1),t.hij(" ",t.lcZ(3,2,E.saveAndReAddText)," ")}}function V($,z){if(1&$){const E=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(E);const Q=t.oxw();return t.KtG(Q.cancel())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&$&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.Cancel")," "))}function q($,z){1&$&&t._UZ(0,"div",24)}const ie=["*"];let H=(()=>{class ${constructor(E,X,Q){this.document=E,this.elRef=X,this.modalService=Q,this.hideCancel=!1,this.modalType=k.w.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new t.vpe,this.onSaveAndReAdd=new t.vpe,this.onDelete=new t.vpe,this.onCancel=new t.vpe,this.isVisible=!1,this.isVisible$=new m.x,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(a.n.Delete),this.canSave=this.actions.includes(a.n.Save),this.canSaveAndReAdd=this.actions.includes(a.n.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function R($,z){const E=function N($){const z=Array.from($.querySelectorAll(_)).filter(E=>-1!==E.tabIndex);return[z[0],z[z.length-1]]}($),[X,Q]=E,ce=(0,w.R)($,"focusin").pipe((0,b.R)(z),(0,C.U)(_e=>_e.target),(0,g.O)(X));X.focus(),(0,w.R)($,"keydown").pipe((0,b.R)(z),(0,p.h)(_e=>"Tab"===_e.key),(0,A.M)(ce)).subscribe(([_e,Te])=>{(Te===X||Te===$)&&_e.shiftKey&&(Q.focus(),_e.preventDefault()),Te===Q&&!_e.shiftKey&&(X.focus(),_e.preventDefault())}),(0,w.R)(document,"click").pipe((0,b.R)(z),(0,A.M)(ce),(0,C.U)(_e=>_e[1])).subscribe(_e=>{_e.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,w.R)(this.document,"keydown").pipe((0,b.R)(this.isVisible$),(0,p.h)(E=>"Esc"===E.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}}return $.\u0275fac=function(E){return new(E||$)(t.Y36(e.K0),t.Y36(t.SBq),t.Y36(P.Z))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:ie,decls:19,vars:14,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(E,X){1&E&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,J,5,3,"button",5),t.qZA(),t.TgZ(8,"div",6),t.Hsn(9),t.qZA(),t._UZ(10,"div",7),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10),t.YNc(14,O,3,4,"button",11),t.YNc(15,L,3,4,"button",12),t.YNc(16,F,4,4,"div",13),t.qZA(),t.YNc(17,V,3,3,"button",14),t.qZA()()()()(),t.YNc(18,q,1,0,"div",15)),2&E&&(t.ekj("show",X.isVisible),t.uIk("aria-hidden",!X.isVisible)("aria-labelledby","modal-title-"+X.modalId),t.xp6(4),t.MGl("id","modal-title-",X.modalId,""),t.xp6(1),t.Oqu(t.lcZ(6,12,X.title)),t.xp6(2),t.Q6J("ngIf",!X.hideCancel),t.xp6(7),t.Q6J("ngIf",X.canSave),t.xp6(1),t.Q6J("ngIf",X.canDelete),t.xp6(1),t.Q6J("ngIf",X.canSaveAndReAdd),t.xp6(1),t.Q6J("ngIf",!X.hideCancel),t.xp6(1),t.Q6J("ngIf",X.showBackdrop))},dependencies:[e.O5,U.X$],encapsulation:2}),$})()},6219:(st,ye,f)=>{"use strict";f.d(ye,{Z:()=>m});var t=f(6895),e=f(4650);let m=(()=>{class w{constructor(C){this.document=C,this.modalList=[]}add(C){this.modalList.push(C)}remove(C){const g=this.modalList.indexOf(C);this.modalList.splice(g)}visibleModals(){return this.modalList.filter(C=>C.isVisible).length}showById(C,g){null!=g&&null!=g.nativeElement&&(this.lastClickedEl=g.nativeElement),this.modalList.find(A=>A.modalId===C).show()}hideById(C){const g=this.modalList.find(p=>p.modalId===C);g&&(g.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}}return w.\u0275fac=function(C){return new(C||w)(e.LFG(t.K0))},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},7696:(st,ye,f)=>{"use strict";f.d(ye,{P:()=>g});var t=f(4650),e=f(6895),m=f(9383);function w(p,A){if(1&p&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&p){const _=t.oxw();t.xp6(1),t.Oqu(_.pageXofX)}}function b(p,A){1&p&&(t.TgZ(0,"span",7),t._uU(1,"\u2022"),t.qZA())}function C(p,A){if(1&p){const _=t.EpF();t.TgZ(0,"nav",8),t.ALo(1,"translate"),t.TgZ(2,"ul",9)(3,"li")(4,"button",10),t.NdJ("click",function(){t.CHM(_);const N=t.oxw();return t.KtG(N.goToPage(1))}),t.TgZ(5,"span"),t._UZ(6,"span",11),t.qZA(),t.TgZ(7,"span",12),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"li",13)(11,"button",14),t.NdJ("click",function(){t.CHM(_);const N=t.oxw();return t.KtG(N.goToPage(N.currentPage-1))}),t.TgZ(12,"span"),t._UZ(13,"span",15),t.qZA(),t.TgZ(14,"span",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()(),t.TgZ(17,"li",13)(18,"button",16),t.NdJ("click",function(){t.CHM(_);const N=t.oxw();return t.KtG(N.goToPage(N.currentPage+1))}),t.TgZ(19,"span"),t._UZ(20,"span",17),t.qZA(),t.TgZ(21,"span",12),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"li",13)(25,"button",18),t.NdJ("click",function(){t.CHM(_);const N=t.oxw();return t.KtG(N.goToPage(N.lastPage))}),t.TgZ(26,"span"),t._UZ(27,"span",19),t.qZA(),t.TgZ(28,"span",12),t._uU(29),t.ALo(30,"translate"),t.qZA()()()()()}if(2&p){const _=t.oxw();t.uIk("aria-label",t.lcZ(1,9,"Nav.Page")),t.xp6(4),t.Q6J("disabled",1==_.currentPage),t.xp6(4),t.Oqu(t.lcZ(9,11,"Nav.First")),t.xp6(3),t.Q6J("disabled",1==_.currentPage),t.xp6(4),t.Oqu(t.lcZ(16,13,"Nav.Previous")),t.xp6(3),t.Q6J("disabled",_.currentPage==_.lastPage),t.xp6(4),t.Oqu(t.lcZ(23,15,"Nav.Next")),t.xp6(3),t.Q6J("disabled",_.currentPage==_.lastPage),t.xp6(4),t.Oqu(t.lcZ(30,17,"Nav.Last"))}}let g=(()=>{class p{constructor(_,R){this.translate=_,this.decimalPipe=R,this.onGoToPage=new t.vpe}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let _=this.translate.instant("Nav.PageXofX");_=_.replace("{0}",this.decimalPipe.transform(this.currentPage)),_=_.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=_}goToPage(_){void 0!==this.onGoToPage&&(_<1?_=1:_>this.lastPage&&(_=this.lastPage),this.onGoToPage.emit(_))}}return p.\u0275fac=function(_){return new(_||p)(t.Y36(m.sK),t.Y36(e.JJ))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[t._Bn([e.JJ])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(_,R){1&_&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,w,2,1,"span",2),t.YNc(3,b,2,0,"span",3),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"number"),t.ALo(7,"translate"),t.qZA()(),t.YNc(8,C,31,19,"nav",5),t.qZA()),2&_&&(t.xp6(2),t.Q6J("ngIf",!R.hidePager),t.xp6(1),t.Q6J("ngIf",!R.hidePager),t.xp6(2),t.AsE("",t.lcZ(6,5,R.totalResults)," ",t.lcZ(7,7,"Nav.ResultsFound"),""),t.xp6(3),t.Q6J("ngIf",!R.hidePager))},dependencies:[e.O5,e.JJ,m.X$],encapsulation:2}),p})()},5785:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>C});var t=f(6895),e=f(8185),m=f(5503),w=f(9383),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[t.ez,e.Bz,m.D,w.aw]}),g})()},2147:(st,ye,f)=>{"use strict";f.d(ye,{l:()=>m});var t=f(6895),e=f(4650);let m=(()=>{class w{}return w.\u0275fac=function(C){return new(C||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[t.ez]}),w})()},6001:(st,ye,f)=>{"use strict";f.d(ye,{s:()=>F});var t=f(4650);class e{constructor(){this.key="",this.value=""}}class m extends e{constructor(){super()}}var w=f(572),b=f(5259),C=f(7185),g=f(9383),p=f(6219),A=f(8285),_=f(6895),R=f(4006),N=f(2808),a=f(8163),k=f(965),P=f(7608);const U=["addButton"];function J(V,q){if(1&V){const ie=t.EpF();t.TgZ(0,"app-action-bar"),t.ynx(1,4),t.TgZ(2,"button",5,6),t.NdJ("click",function(){t.CHM(ie);const $=t.oxw();return t.KtG($.openAddModal())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk(),t.qZA()}2&V&&(t.xp6(2),t.Q6J("id","addClaim"),t.xp6(2),t.hij(" ",t.lcZ(5,2,"Clients.Properties.AddProperty")," "))}function O(V,q){if(1&V){const ie=t.EpF();t.TgZ(0,"app-custom-modal",7),t.NdJ("onCancel",function(){t.CHM(ie);const $=t.oxw();return t.KtG($.closeAddAndReset())})("onSave",function(){t.CHM(ie);const $=t.oxw();return t.KtG($.addProperty())}),t.TgZ(1,"app-form-row",8)(2,"input",9),t.NdJ("ngModelChange",function($){t.CHM(ie);const z=t.oxw();return t.KtG(z.addProp.key=$)}),t.qZA()(),t.TgZ(3,"app-form-row",10)(4,"input",11),t.NdJ("ngModelChange",function($){t.CHM(ie);const z=t.oxw();return t.KtG(z.addProp.value=$)}),t.qZA()()()}if(2&V){const ie=t.oxw();t.Q6J("title","Clients.Properties.AddProperty")("modalId",ie.addModalId)("actions",ie.addModalActions)("addDisabled",ie.addProp.key.length<1||ie.addProp.value.length<1),t.xp6(1),t.Q6J("label","Common.Key")("id","propertyAddKey"),t.xp6(1),t.Q6J("ngModel",ie.addProp.key),t.xp6(1),t.Q6J("label","Common.Value")("id","propertyAddValue")("isLast",!0),t.xp6(1),t.Q6J("ngModel",ie.addProp.value)}}function L(V,q){if(1&V){const ie=t.EpF();t.TgZ(0,"app-custom-modal",7),t.NdJ("onCancel",function(){t.CHM(ie);const $=t.oxw();return t.KtG($.closeModalAndReset())})("onSave",function(){t.CHM(ie);const $=t.oxw();return t.KtG($.saveEdit())}),t.TgZ(1,"app-form-row",8)(2,"input",12),t.NdJ("ngModelChange",function($){t.CHM(ie);const z=t.oxw();return t.KtG(z.editProp.key=$)}),t.qZA()(),t.TgZ(3,"app-form-row",10)(4,"input",13),t.NdJ("ngModelChange",function($){t.CHM(ie);const z=t.oxw();return t.KtG(z.editProp.value=$)}),t.qZA()()()}if(2&V){const ie=t.oxw();t.Q6J("title","Clients.Properties.EditProperty")("modalId",ie.editModalId)("actions",ie.editModalActions)("addDisabled",ie.editProp.key.length<1||ie.editProp.value.length<1),t.xp6(1),t.Q6J("label","Common.Key")("id","propertyEditKey"),t.xp6(1),t.Q6J("ngModel",ie.editProp.key),t.xp6(1),t.Q6J("label","Common.Value")("id","propertyEditValue")("isLast",!0),t.xp6(1),t.Q6J("ngModel",ie.editProp.value)}}let F=(()=>{class V{constructor(ie,H,$,z){this.toastr=ie,this.translate=H,this.modalService=$,this.dataTableService=z,this.propertiesChanged=new t.vpe,this.addProp=new e,this.editing=!1,this.editProp=new m,this.propertyDataTableActions=[w.Xz.Delete,w.Xz.Select],this.addModalActions=[b.n.Save],this.editModalActions=[b.n.Save],this._properties=[]}set properties(ie){this._properties=ie||[]}get properties(){return this._properties}set isReadOnly(ie){this._isReadOnly=ie||!1}get isReadOnly(){return this._isReadOnly}set modalId(ie){this._addModalId="add_"+ie,this._editModalId="edit_"+ie}get addModalId(){return this._addModalId}get editModalId(){return this._editModalId}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(ie=>{this.deleteProperty(ie)})}ngOnDestroy(){this.dtsSubscription?.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}closeAddAndReset(){this.addProp=new e,this.modalService.hideById(this.addModalId)}editProperty(ie){this.editProp=JSON.parse(JSON.stringify(ie.data)),this.editProp.originalIndex=this.properties.indexOf(ie.data),this.editing=!0,this.modalService.showById(this.editModalId,ie.element)}closeModalAndReset(){this.editProp=new m,this.editing=!1,this.modalService.hideById(this.editModalId)}saveEdit(){const ie=this.properties.slice(),H=ie[this.editProp.originalIndex];H.key=this.editProp.key,H.value=this.editProp.value,this.updateProperties(ie),this.closeModalAndReset()}addProperty(){if(this.properties.find(H=>H.key===this.addProp.key))return void this.toastr.error(this.translate.instant("Clients.UnableToAddProperty"),this.translate.instant("Notifications.Error"));if(null==this.addProp.key||""===this.addProp.key.trim())return void this.toastr.error("Key is Invalid",this.translate.instant("Notifications.Error"));if(null==this.addProp.value||""===this.addProp.value.trim())return void this.toastr.error("Value is Invalid",this.translate.instant("Notifications.Error"));const ie=this.properties.slice();ie.push(this.addProp),this.updateProperties(ie),this.addProp=new e}deleteProperty(ie){const H=this.properties.slice();H.splice(ie,1),this.updateProperties(H)}updateProperties(ie){this.properties=ie,this.propertiesChanged.emit(this.properties)}}return V.\u0275fac=function(ie){return new(ie||V)(t.Y36(C._W),t.Y36(g.sK),t.Y36(p.Z),t.Y36(A.n))},V.\u0275cmp=t.Xpm({type:V,selectors:[["app-properties-editor"]],viewQuery:function(ie,H){if(1&ie&&t.Gf(U,5),2&ie){let $;t.iGM($=t.CRH())&&(H.addButtonRef=$.first)}},inputs:{properties:"properties",isReadOnly:"isReadOnly",modalId:"modalId"},outputs:{propertiesChanged:"propertiesChanged"},decls:6,vars:15,consts:[[4,"ngIf"],[3,"title","modalId","actions","addDisabled","onCancel","onSave",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onSelect"],[3,"prop","title","headClasses","cellClasses"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"title","modalId","actions","addDisabled","onCancel","onSave"],[3,"label","id"],["id","propertyAddKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],[3,"label","id","isLast"],["id","propertyAddValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","propertyEditKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","propertyEditValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"]],template:function(ie,H){1&ie&&(t.YNc(0,J,6,4,"app-action-bar",0),t.YNc(1,O,5,11,"app-custom-modal",1),t.TgZ(2,"app-data-table",2),t.NdJ("onSelect",function(z){return H.editProperty(z)}),t._UZ(3,"app-data-table-column",3)(4,"app-data-table-column",3),t.qZA(),t.YNc(5,L,5,11,"app-custom-modal",1)),2&ie&&(t.Q6J("ngIf",!H.isReadOnly),t.xp6(1),t.Q6J("ngIf",!H.isReadOnly),t.xp6(1),t.Q6J("isReadOnly",H.isReadOnly)("rows",H.properties)("norowslabel","Clients.Properties.None")("actions",H.propertyDataTableActions),t.xp6(1),t.Q6J("prop","key")("title","Common.Key")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),t.xp6(1),t.Q6J("prop","value")("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),t.xp6(1),t.Q6J("ngIf",!H.isReadOnly))},dependencies:[_.O5,R.Fj,R.JJ,R.On,w.Qj,N.E,a.K,k.R,P.L,g.X$],encapsulation:2}),V})()},6493:(st,ye,f)=>{"use strict";f.d(ye,{l:()=>_});var t=f(6895),e=f(5503),m=f(9383),w=f(4380),b=f(4022),C=f(8975),g=f(4006),p=f(9650),A=f(4650);let _=(()=>{class R{}return R.\u0275fac=function(a){return new(a||R)},R.\u0275mod=A.oAB({type:R}),R.\u0275inj=A.cJS({imports:[t.ez,g.u5,e.D,m.aw,w.t,b.p,C.d,p.I]}),R})()},2830:(st,ye,f)=>{"use strict";f.d(ye,{f:()=>X});var t=f(9655),e=f(6502),m=f(4650),w=f(6895),b=f(9383);function C(Q,ce){if(1&Q&&(m.TgZ(0,"div")(1,"p",3),m._uU(2),m.qZA()()),2&Q){const _e=m.oxw(3);m.xp6(2),m.Oqu(_e.displayValue)}}function g(Q,ce){if(1&Q&&(m.TgZ(0,"div"),m.YNc(1,C,3,1,"div",0),m.qZA()),2&Q){const _e=m.oxw(2),Te=m.MAs(2);m.xp6(1),m.Q6J("ngIf",_e.displayValue)("ngIfElse",Te)}}function p(Q,ce){if(1&Q&&(m.TgZ(0,"div",9),m._uU(1),m.TgZ(2,"small",10),m._uU(3),m.qZA()()),2&Q){const _e=m.oxw(),ve=_e.$implicit;m.Q6J("id","multiMainText"+_e.i),m.xp6(1),m.hij(" ",ve.MainText," "),m.xp6(2),m.Oqu(ve.HelpText)}}function A(Q,ce){if(1&Q&&(m.TgZ(0,"li",7),m.YNc(1,p,4,3,"div",8),m.qZA()),2&Q){const _e=ce.$implicit;m.oxw(3);const Te=m.MAs(2);m.xp6(1),m.Q6J("ngIf",_e.MainText)("ngIfElse",Te)}}function _(Q,ce){if(1&Q&&(m.TgZ(0,"div")(1,"div",4)(2,"ul",5),m.YNc(3,A,2,2,"li",6),m.qZA()()()),2&Q){const _e=m.oxw(2);m.xp6(3),m.Q6J("ngForOf",_e.filteredValues)}}function R(Q,ce){1&Q&&m._UZ(0,"div")}function N(Q,ce){if(1&Q&&(m.TgZ(0,"p",22),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q){const _e=m.oxw(5);m.xp6(1),m.AsE(" ",_e.timeSpan.years," ",m.lcZ(2,2,_e.displayTimeSpanUnit(_e.timeSpan.years,"Year"))," ")}}function a(Q,ce){if(1&Q&&(m.TgZ(0,"p",23),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q){const _e=m.oxw(5);m.xp6(1),m.AsE(" ",_e.timeSpan.months," ",m.lcZ(2,2,_e.displayTimeSpanUnit(_e.timeSpan.months,"Month"))," ")}}function k(Q,ce){if(1&Q&&(m.TgZ(0,"p",24),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q){const _e=m.oxw(5);m.xp6(1),m.AsE(" ",_e.timeSpan.weeks," ",m.lcZ(2,2,_e.displayTimeSpanUnit(_e.timeSpan.weeks,"Week"))," ")}}function P(Q,ce){if(1&Q&&(m.TgZ(0,"p",25),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q){const _e=m.oxw(5);m.xp6(1),m.AsE(" ",_e.timeSpan.days," ",m.lcZ(2,2,_e.displayTimeSpanUnit(_e.timeSpan.days,"Day"))," ")}}function U(Q,ce){if(1&Q&&(m.TgZ(0,"p",26),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q){const _e=m.oxw(5);m.xp6(1),m.AsE(" ",_e.timeSpan.hours," ",m.lcZ(2,2,_e.displayTimeSpanUnit(_e.timeSpan.hours,"Hour"))," ")}}function J(Q,ce){if(1&Q&&(m.TgZ(0,"p",27),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q){const _e=m.oxw(5);m.xp6(1),m.AsE(" ",_e.timeSpan.minutes," ",m.lcZ(2,2,_e.displayTimeSpanUnit(_e.timeSpan.minutes,"Minute"))," ")}}function O(Q,ce){if(1&Q&&(m.TgZ(0,"span",28),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q){const _e=m.oxw(5);m.xp6(1),m.AsE(" ",_e.timeSpan.seconds," ",m.lcZ(2,2,_e.displayTimeSpanUnit(_e.timeSpan.seconds,"Second"))," ")}}function L(Q,ce){if(1&Q&&(m.TgZ(0,"div")(1,"div",13),m.YNc(2,N,3,4,"p",14),m.YNc(3,a,3,4,"p",15),m.YNc(4,k,3,4,"p",16),m.YNc(5,P,3,4,"p",17),m.YNc(6,U,3,4,"p",18),m.YNc(7,J,3,4,"p",19),m.YNc(8,O,3,4,"span",20),m.qZA(),m.TgZ(9,"small",21),m._uU(10),m.qZA()()),2&Q){const _e=m.oxw(4);m.xp6(2),m.Q6J("ngIf",_e.timeSpan.years>0),m.xp6(1),m.Q6J("ngIf",_e.timeSpan.months>0),m.xp6(1),m.Q6J("ngIf",_e.timeSpan.weeks>0),m.xp6(1),m.Q6J("ngIf",_e.timeSpan.days>0),m.xp6(1),m.Q6J("ngIf",_e.timeSpan.hours>0),m.xp6(1),m.Q6J("ngIf",_e.timeSpan.minutes>0),m.xp6(1),m.Q6J("ngIf",_e.timeSpan.seconds>0),m.xp6(2),m.Oqu(_e.values[0].MainText)}}function F(Q,ce){1&Q&&(m.TgZ(0,"div")(1,"p",29),m._uU(2),m.ALo(3,"translate"),m.qZA()()),2&Q&&(m.xp6(2),m.AsE("",0," ",m.lcZ(3,2,"Clients.Tokens.Durations.Seconds"),""))}function V(Q,ce){1&Q&&(m.TgZ(0,"div")(1,"p",30),m._uU(2),m.ALo(3,"translate"),m.qZA()()),2&Q&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"Clients.Tokens.Durations.Unlimited")))}function q(Q,ce){if(1&Q&&(m.YNc(0,L,11,8,"div",2),m.YNc(1,F,4,4,"div",2),m.YNc(2,V,4,3,"div",2)),2&Q){const _e=m.oxw(3);m.Q6J("ngIf","Unlimited"!=_e.values[0].MainText&&0!==_e.values[0].MainText&&"0"!==_e.values[0].MainText),m.xp6(1),m.Q6J("ngIf",0===_e.values[0].MainText||"0"===_e.values[0].MainText),m.xp6(1),m.Q6J("ngIf","Unlimited"==_e.values[0].MainText)}}function ie(Q,ce){if(1&Q&&(m.TgZ(0,"div"),m.YNc(1,R,1,0,"div",11),m.YNc(2,q,3,3,"ng-template",null,12,m.W1O),m.qZA()),2&Q){const _e=m.MAs(3),Te=m.oxw(2),ve=m.MAs(2);m.xp6(1),m.Q6J("ngIf",null==Te.values[0].MainText)("ngIfThen",ve)("ngIfElse",_e)}}function H(Q,ce){if(1&Q&&(m.TgZ(0,"div"),m.YNc(1,g,2,2,"div",2),m.YNc(2,_,4,1,"div",2),m.YNc(3,ie,4,3,"div",2),m.qZA()),2&Q){const _e=m.oxw();m.xp6(1),m.Q6J("ngIf",_e.fieldType==_e.ReadOnlyFieldType.Single||_e.fieldType==_e.ReadOnlyFieldType.CommaSeparated),m.xp6(1),m.Q6J("ngIf",_e.fieldType==_e.ReadOnlyFieldType.Multi),m.xp6(1),m.Q6J("ngIf",_e.fieldType==_e.ReadOnlyFieldType.LifetimePicker)}}function $(Q,ce){1&Q&&(m.TgZ(0,"div")(1,"p",32),m._uU(2),m.ALo(3,"translate"),m.qZA()()),2&Q&&(m.xp6(2),m.hij(" ",m.lcZ(3,1,"Common.NoValue")," "))}function z(Q,ce){1&Q&&(m.TgZ(0,"p",33),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&Q&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"Common.NoValues")," "))}function E(Q,ce){if(1&Q&&(m.YNc(0,$,4,3,"div",0),m.YNc(1,z,3,3,"ng-template",null,31,m.W1O)),2&Q){const _e=m.MAs(2),Te=m.oxw();m.Q6J("ngIf",Te.fieldType==Te.ReadOnlyFieldType.Single||Te.fieldType==Te.ReadOnlyFieldType.LifetimePicker)("ngIfElse",_e)}}let X=(()=>{class Q{constructor(){this.filteredValues=[]}ngOnChanges(_e){this.initData()}ngOnInit(){this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(_e=>null!=_e),this.filteredValues.length<1)||(this.fieldType===t.O.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===t.O.CommaSeparated?this.displayValue=this.filteredValues.map(_e=>_e.MainText).join(", ").trimEnd():this.fieldType===t.O.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.i(+this.values[0].MainText)))}displayTimeSpanUnit(_e,Te){return"Clients.Tokens.Durations."+Te+(_e>1?"s":"")}get ReadOnlyFieldType(){return t.O}}return Q.\u0275fac=function(_e){return new(_e||Q)},Q.\u0275cmp=m.Xpm({type:Q,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values"},features:[m.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["valuesEmptyBlock",""],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],["lifetimeHasValueBlock",""],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["multiBlock",""],["id","singleValuesUndefined",1,"tw-italic","tw-text-grey-400"],["id","multiValuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(_e,Te){if(1&_e&&(m.YNc(0,H,4,3,"div",0),m.YNc(1,E,3,2,"ng-template",null,1,m.W1O)),2&_e){const ve=m.MAs(2);m.Q6J("ngIf",(null==Te.filteredValues?null:Te.filteredValues.length)>0)("ngIfElse",ve)}},dependencies:[w.sg,w.O5,b.X$]}),Q})()},4091:(st,ye,f)=>{"use strict";f.d(ye,{G:()=>w});var t=f(6895),e=f(9383),m=f(4650);let w=(()=>{class b{}return b.\u0275fac=function(g){return new(g||b)},b.\u0275mod=m.oAB({type:b}),b.\u0275inj=m.cJS({imports:[e.aw,t.ez]}),b})()},7770:(st,ye,f)=>{"use strict";f.d(ye,{t:()=>C});var t=f(4006),e=f(6895),m=f(8185),w=f(9383),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[e.ez,m.Bz,w.aw,t.u5]}),g})()},1660:(st,ye,f)=>{"use strict";f.d(ye,{P:()=>Ke});var t=f(5861),e=f(4650),m=f(4006),w=f(2976),b=f(7579),C=f(8176),g=f(6055),p=f(572),A=f(5259),_=f(1837),R=f(6219),N=f(8285),a=f(6895),k=f(1696),P=f(7608),U=f(799),J=f(2808),O=f(965),L=f(4225),F=f(9383);const V=["certificateReader"],q=["addCertificateBtn"],ie=["showModalButton"],H=["secretPicker"],$=["certificateReaderNonModal"],z=["addCertificateBtnNonModal"];function E(xe,Ge){if(1&xe&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&xe){const we=Ge.$implicit;e.Q6J("value",we.value),e.xp6(1),e.Oqu(we.value)}}function X(xe,Ge){1&xe&&(e.TgZ(0,"p",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&xe&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Secret Picker.LastWarning")))}function Q(xe,Ge){if(1&xe&&e._UZ(0,"app-date-time",42),2&xe){const we=e.oxw(2);e.Q6J("min",we.minDate)}}function ce(xe,Ge){if(1&xe){const we=e.EpF();e.TgZ(0,"form",11)(1,"div",12)(2,"div",13)(3,"app-form-row",14)(4,"div",15)(5,"select",16),e.YNc(6,E,2,2,"option",17),e.ALo(7,"keyvalue"),e.qZA()()(),e.TgZ(8,"app-form-row",14)(9,"div",18)(10,"div",19),e._UZ(11,"input",20),e.TgZ(12,"button",21),e.NdJ("click",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.generateRandom())}),e._UZ(13,"span",22),e.TgZ(14,"span",23),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e._UZ(17,"input",24),e.TgZ(18,"div",25)(19,"button",26,27),e.NdJ("click",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.openCertificateReaderModel())}),e.TgZ(21,"span"),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.YNc(24,X,3,3,"p",28),e.qZA()(),e.TgZ(25,"app-form-row",29)(26,"div",18)(27,"div",30)(28,"div",31)(29,"app-form-toggle",32)(30,"input",33),e.NdJ("change",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.toggleExpirationDateInput())}),e.qZA()()()(),e.YNc(31,Q,1,1,"app-date-time",34),e.qZA()(),e.TgZ(32,"app-form-row",35),e._UZ(33,"textarea",36),e.qZA()()(),e.TgZ(34,"div",37)(35,"button",38),e.NdJ("click",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.addSecret())}),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"button",39),e.NdJ("click",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.resetForm())}),e._uU(39),e.ALo(40,"translate"),e.qZA()()()}if(2&xe){const we=e.oxw();e.Q6J("formGroup",we.secretForm),e.xp6(3),e.Q6J("id","SecretType")("label","Common.Type"),e.xp6(3),e.Q6J("ngForOf",e.lcZ(7,23,we.secretTypes)),e.xp6(2),e.Q6J("id","SecretValue")("label","Common.Value"),e.xp6(2),e.Q6J("hidden","Shared Secret"!==we.secretForm.controls.type.value),e.xp6(5),e.Oqu(e.lcZ(16,25,"Common.GenerateRandom")),e.xp6(2),e.Q6J("hidden","Shared Secret"===we.secretForm.controls.type.value),e.xp6(2),e.Q6J("hidden","Shared Secret"===we.secretForm.controls.type.value),e.xp6(3),e.Oqu(e.lcZ(23,27,"Common.ReadCertificate")),e.xp6(2),e.Q6J("ngIf",we.displayWarnings),e.xp6(1),e.Q6J("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.xp6(4),e.Q6J("id","expirationDateEnabled"),e.xp6(2),e.Q6J("ngIf",we.expirationDateEnabled),e.xp6(1),e.Q6J("id","SecretDescription")("label","Common.Description")("isLast",!0),e.xp6(3),e.Q6J("disabled",!we.secretForm.valid),e.xp6(1),e.Oqu(e.lcZ(37,29,"Common.Add")),e.xp6(3),e.Oqu(e.lcZ(40,31,"Common.Clear"))}}function _e(xe,Ge){1&xe&&e._UZ(0,"app-data-table-column",43),2&xe&&e.Q6J("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Te(xe,Ge){if(1&xe){const we=e.EpF();e.TgZ(0,"div",44,45)(2,"div",46)(3,"app-cert-reader",47,48),e.NdJ("dataExists",function(rt){e.CHM(we);const Ct=e.oxw();return e.KtG(Ct.certificateDataLoaded(rt))}),e.ALo(5,"translate"),e.ALo(6,"translate"),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",37)(10,"button",49,50),e.NdJ("click",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.hideCertReaderNonModal(!0))}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"button",39),e.NdJ("click",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.hideCertReaderNonModal(!1))}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()}2&xe&&(e.xp6(3),e.Q6J("uploadCert",e.lcZ(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.lcZ(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.lcZ(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.lcZ(8,12,"Secret Picker.MetaDataHelp")),e.xp6(9),e.Oqu(e.lcZ(13,14,"Common.Use")),e.xp6(3),e.Oqu(e.lcZ(16,16,"Common.Cancel")))}function ve(xe,Ge){if(1&xe){const we=e.EpF();e.TgZ(0,"app-custom-modal",51),e.NdJ("onSave",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.CHM(we);const rt=e.oxw();return e.KtG(rt.closeCertificateReaderModel())}),e.TgZ(1,"app-cert-reader",52,48),e.NdJ("dataExists",function(rt){e.CHM(we);const Ct=e.oxw();return e.KtG(Ct.certificateDataLoaded(rt))}),e.ALo(3,"translate"),e.ALo(4,"translate"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()}if(2&xe){const we=e.oxw();e.Q6J("modalId",we.certModalId)("title","Secret Picker.ReadCertificate")("actions",we.modalActions),e.xp6(1),e.Q6J("uploadCert",e.lcZ(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.lcZ(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.lcZ(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.lcZ(6,13,"Secret Picker.MetaDataHelp"))}}let Ke=(()=>{class xe{constructor(we,Ye,rt){this.fb=we,this.modalService=Ye,this.dataTableService=rt,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new w.NA,this.minDate=_.ou.now(),this.secretsAddStream=new b.x,this.secretsRemoveStream=new b.x,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[p.Xz.Delete],this.modalActions=[A.n.Delete,A.n.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.vpe}set clientSecrets(we){this._clientSecrets=we||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(we){this._isReadOnly=we||!1}get isReadOnly(){return this._isReadOnly}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(we){"Enter"===we.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const we=_.ou.now().toISO();this.secretForm=this.fb.group({description:["",m.kI.maxLength(1e3)],value:["",m.kI.required],expiration:[{value:we,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ye=>{this.deleteSecret(Ye)})}selectedDate(we){this.secretForm.controls.expiration.setValue(we)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,C.qs)())}dateSelected(we){this.secretForm.controls.expiration.setValue(we)}addSecret(){const we=this.secretForm.value;we.expiration=this.expirationDateEnabled?_.ou.fromISO(we.expiration).toString():null,this.secretsAddStream.next(we),this.secretForm.reset(),this.resetForm()}updateExpiration(){const we=this.secretForm.controls.expiration;this.expirationDateEnabled?(we.addValidators(m.kI.required),we.enable()):(we.removeValidators(m.kI.required),we.disable()),we.reset()}deleteSecret(we){this.secretsRemoveStream.next(this.clientSecrets[we])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var we=this;return(0,t.Z)(function*(){we.modalService.hideById(we.certModalId),we.filepickerDisplayed.emit(!1),yield we.ReadCertificateModel()})()}ReadCertificateModel(){var we=this;return(0,t.Z)(function*(){const Ye=yield we.certReaderComponent.getCertificateModel();let rt="";switch(we.secretForm.controls.type.value){case"X509 Certificate Base64":rt=Ye.base64Cert;break;case"X509 Name":rt=Ye.subject;break;case"X509 Thumbprint":rt=Ye.thumbprint}we.secretForm.controls.value.setValue(rt)})()}certificateDataLoaded(we){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!we),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!we)}hideCertReaderNonModal(we){var Ye=this;return(0,t.Z)(function*(){Ye.certificateReaderNonModal.nativeElement.hidden=!0,Ye.secretPicker.nativeElement.hidden=!1,we&&(yield Ye.ReadCertificateModel()),Ye.filepickerDisplayed.emit(!1)})()}}return xe.\u0275fac=function(we){return new(we||xe)(e.Y36(m.QS),e.Y36(R.Z),e.Y36(N.n))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["app-secret-picker"]],viewQuery:function(we,Ye){if(1&we&&(e.Gf(V,5),e.Gf(q,5),e.Gf(ie,5),e.Gf(H,5),e.Gf($,5),e.Gf(z,5)),2&we){let rt;e.iGM(rt=e.CRH())&&(Ye.certReaderComponent=rt.first),e.iGM(rt=e.CRH())&&(Ye.addCertificateButton=rt.first),e.iGM(rt=e.CRH())&&(Ye.showModalButton=rt.first),e.iGM(rt=e.CRH())&&(Ye.secretPicker=rt.first),e.iGM(rt=e.CRH())&&(Ye.certificateReaderNonModal=rt.first),e.iGM(rt=e.CRH())&&(Ye.addCertificateBtnNonModal=rt.first)}},hostBindings:function(we,Ye){1&we&&e.NdJ("keydown",function(Ct){return Ye.keydown(Ct)},!1,e.evT)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["id","secretPicker"],["secretPicker",""],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"hidden","click"],["showCertModalButton",""],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"disabled","click"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],["certificateReaderNonModal",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"],["certificateReader",""],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],["addCertificateBtnNonModal",""],[3,"modalId","title","actions","onSave","onCancel"],["id","",3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"]],template:function(we,Ye){1&we&&(e.TgZ(0,"div",0,1),e.YNc(2,ce,41,33,"form",2),e.TgZ(3,"app-data-table",3),e._UZ(4,"app-data-table-column",4)(5,"app-data-table-column",5)(6,"app-data-table-column",6),e.YNc(7,_e,1,5,"app-data-table-column",7),e._UZ(8,"app-data-table-column",8),e.qZA()(),e.YNc(9,Te,17,18,"div",9),e.YNc(10,ve,7,15,"app-custom-modal",10)),2&we&&(e.xp6(2),e.Q6J("ngIf",!Ye.isReadOnly),e.xp6(1),e.Q6J("isReadOnly",Ye.isReadOnly)("rows",Ye.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",Ye.dataTableActions),e.xp6(1),e.Q6J("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.xp6(1),e.Q6J("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.xp6(1),e.Q6J("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.xp6(1),e.Q6J("ngIf",Ye.showCreatedColumn),e.xp6(1),e.Q6J("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.xp6(1),e.Q6J("ngIf",Ye.nonModelCertPicker),e.xp6(1),e.Q6J("ngIf",!1===Ye.nonModelCertPicker))},dependencies:[a.sg,a.O5,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.sg,m.u,k.c,P.L,U.O,p.Qj,J.E,O.R,L.j,a.Nd,F.X$],encapsulation:2,data:{animation:[(0,g.Ic)()]}}),xe})()},8761:(st,ye,f)=>{"use strict";f.d(ye,{W:()=>a});var t=f(4006),e=f(6895),m=f(5503),w=f(9383),b=f(388),C=f(2699),g=f(9650),p=f(4380),A=f(8975),_=f(5898),R=f(8285),N=f(4650);let a=(()=>{class k{}return k.\u0275fac=function(U){return new(U||k)},k.\u0275mod=N.oAB({type:k}),k.\u0275inj=N.cJS({providers:[R.n],imports:[e.ez,t.UX,m.D,w.aw,t.u5,b.zk,C.Y,g.I,p.t,A.d,_.T]}),k})()},9046:(st,ye,f)=>{"use strict";f.d(ye,{bk:()=>A});var t=f(7579),e=f(8372),m=f(1884),w=f(9300),b=f(4004);class A{constructor(R,N,a){this.toastr=R,this.translate=N,this.canSearchEmptyString=a,this.searchTerm="",this.searchTermStream=new t.x,this.enterKeyStream=new t.x,this.searchSource=this.searchTermStream.pipe((0,e.b)(600),(0,m.x)(),(0,w.h)(k=>this.filterSearchTerm(k)),(0,b.U)(k=>this.mapSearchTerm(k))),this.enterKeySource=this.enterKeyStream.pipe((0,e.b)(600),(0,w.h)(()=>this.filterSearchTerm(this.searchTerm)),(0,b.U)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(R){return this.canSearchEmptyString?R.length<50&&1!==R.length:!(R.length<2||R.length>50)&&""!==R.trim()}search(R){"Enter"===R.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},8381:(st,ye,f)=>{"use strict";f.d(ye,{m:()=>A});var t=f(6349),e=f(4650),m=f(6895),w=f(4006),b=f(9383);function C(_,R){if(1&_&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&_){const N=R.$implicit;e.Q6J("value",N),e.xp6(1),e.Oqu(N)}}function g(_,R){if(1&_){const N=e.EpF();e.TgZ(0,"li",12)(1,"button",13),e.NdJ("click",function(){const P=e.CHM(N).$implicit,U=e.oxw();return e.KtG(U.removeAlgorithm(P))}),e._UZ(2,"span",14),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&_){const N=R.$implicit;e.xp6(1),e.uIk("aria-label",N),e.xp6(3),e.Oqu(N)}}const p=function(){return{standalone:!0}};let A=(()=>{class _{constructor(){this.allowedAlgorithms=["ES256","ES384","ES512","PS256","PS384","PS512","RS256","RS384","RS512"]}ngAfterContentInit(){this.allowedAlgorithms=t.zu(this.allowedAlgorithms,...this.form.get(this.algorithmControlName).value),this.selectedAlgorithm=this.allowedAlgorithms[0]}addAlgorithm(){const N=this.form.get(this.algorithmControlName);N.setValue([...N.value,this.selectedAlgorithm]);const a=this.allowedAlgorithms.indexOf(this.selectedAlgorithm);this.allowedAlgorithms.splice(a,1),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}removeAlgorithm(N){const a=this.form.get(this.algorithmControlName),k=a.value.indexOf(N);a.value.splice(k,1),this.allowedAlgorithms.push(N),this.allowedAlgorithms.sort(),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}}return _.\u0275fac=function(N){return new(N||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-signing-algorithm-picker"]],inputs:{form:"form",algorithmControlName:"algorithmControlName"},decls:15,vars:9,consts:[[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex"],[1,"tw-form-select"],["id","client-token-signing-algorithm",1,"tw-form-control","tw-mr-1","tw-rounded-r-none","tw-border-r-0",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","signing-algorithm-add-button",1,"tw-btn","tw-rounded-l-none",3,"disabled","click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],["class","tw-pill","id","signing-algorithm-added-algorithms",4,"ngFor","ngForOf"],[3,"value"],["id","signing-algorithm-added-algorithms",1,"tw-pill"],[3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(N,a){1&N&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"select",5),e.NdJ("ngModelChange",function(P){return a.selectedAlgorithm=P}),e.YNc(7,C,2,2,"option",6),e.qZA()(),e.TgZ(8,"button",7),e.NdJ("click",function(){return a.addAlgorithm()}),e._UZ(9,"span",8),e.TgZ(10,"span",9),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()()(),e.TgZ(13,"ul"),e.YNc(14,g,5,2,"li",10),e.qZA()()),2&N&&(e.xp6(6),e.Q6J("ngModel",a.selectedAlgorithm)("ngModelOptions",e.DdM(8,p)),e.xp6(1),e.Q6J("ngForOf",a.allowedAlgorithms),e.xp6(1),e.Q6J("disabled",0==a.allowedAlgorithms.length),e.xp6(3),e.Oqu(e.lcZ(12,6,"Common.Add")),e.xp6(3),e.Q6J("ngForOf",a.form.get(a.algorithmControlName).value))},dependencies:[m.sg,w.YN,w.Kr,w.EJ,w.JJ,w.On,b.X$]}),_})()},1436:(st,ye,f)=>{"use strict";f.d(ye,{W:()=>g});var t=f(6895),e=f(4006),m=f(5503),w=f(9650),b=f(9383),C=f(4650);let g=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[t.ez,e.u5,e.UX,w.I,m.D,b.aw]}),p})()},5925:(st,ye,f)=>{"use strict";f.d(ye,{w:()=>C});var t=f(4650),e=f(6895),m=f(9383);function w(g,p){1&g&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Common.LoadingPleaseWait")))}function b(g,p){if(1&g&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&g){const A=t.oxw();t.xp6(1),t.Oqu(A.text)}}let C=(()=>{class g{constructor(){this.text=""}}return g.\u0275fac=function(A){return new(A||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(A,_){1&A&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.YNc(2,w,3,3,"span",2),t.YNc(3,b,2,1,"span",2),t.qZA()),2&A&&(t.xp6(2),t.Q6J("ngIf",""==_.text),t.xp6(1),t.Q6J("ngIf",""!=_.text))},dependencies:[e.O5,m.X$],encapsulation:2}),g})()},5971:(st,ye,f)=>{"use strict";f.d(ye,{s:()=>C});var t=f(4006),e=f(6895),m=f(8185),w=f(9383),b=f(4650);let C=(()=>{class g{}return g.\u0275fac=function(A){return new(A||g)},g.\u0275mod=b.oAB({type:g}),g.\u0275inj=b.cJS({imports:[e.ez,m.Bz,w.aw,t.u5]}),g})()},9712:(st,ye,f)=>{"use strict";f.d(ye,{_:()=>b});var t=f(4650),e=f(8176),m=f(6895);function w(C,g){if(1&C){const p=t.EpF();t.TgZ(0,"li",2)(1,"input",3),t.NdJ("click",function(){const R=t.CHM(p).index,N=t.oxw();return t.KtG(N.selectValue(R))}),t.qZA(),t.TgZ(2,"label",4),t.NdJ("click",function(){const R=t.CHM(p).index,N=t.oxw();return t.KtG(N.selectValue(R))}),t.TgZ(3,"span",5),t._uU(4),t.qZA()()()}if(2&C){const p=g.$implicit,A=g.index,_=t.oxw();t.xp6(1),t.MGl("id","enum-val-",A,""),t.Q6J("ngModel",_.activeType),t.xp6(1),t.MT6("tw-state-toggle-btn ",_.borderStyle(A)," ",_.isSelected(p),""),t.MGl("for","enum-val-",A,""),t.uIk("aria-label",_.enumValues),t.xp6(2),t.Oqu(p)}}let b=(()=>{class C{constructor(){this.readonly=!1,this.newValue=new t.vpe}get id(){return this._id}set id(p){this._id=p||(0,e.qs)()}ngOnInit(){}selectValue(p){this.readonly||this.newValue.emit(this.options[p])}borderStyle(p){return 0===p?"tw-rounded-l-lg":p>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(p){return p===this.value?"tw-btn-selected":"tw-btn"}}return C.\u0275fac=function(p){return new(p||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"id","ngModel","click"],["type","button",3,"for","click"],[1,"tw-pl-1"]],template:function(p,A){1&p&&(t.TgZ(0,"ul",0),t.YNc(1,w,5,9,"li",1),t.qZA()),2&p&&(t.s9C("id",A.id+"-enumValues-select"),t.xp6(1),t.Q6J("ngForOf",A.options))},dependencies:[m.sg],encapsulation:2}),C})()},9858:(st,ye,f)=>{"use strict";f.d(ye,{V:()=>m});var t=f(6895),e=f(4650);let m=(()=>{class w{}return w.\u0275fac=function(C){return new(C||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[t.ez]}),w})()},2294:(st,ye,f)=>{"use strict";f.d(ye,{G:()=>U});var t=f(4650),e=f(6895),m=f(8185),w=f(9383),b=f(2979);function C(J,O){if(1&J&&(t.ynx(0),t.TgZ(1,"li",7)(2,"span",17),t._uU(3,"/"),t.qZA(),t.TgZ(4,"a",8),t._uU(5),t.qZA()(),t.BQk()),2&J){const L=O.$implicit;t.xp6(4),t.Q6J("routerLink",L.link),t.xp6(1),t.hij(" ",L.title," ")}}function g(J,O){1&J&&(t.TgZ(0,"span",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&J&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.ReadOnly")," "))}function p(J,O){1&J&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&J&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.Reserved")," "))}function A(J,O){1&J&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&J&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Common.UserTOTPEnabled")," "))}function _(J,O){1&J&&(t.TgZ(0,"div",21),t.Hsn(1,1),t.qZA())}function R(J,O){1&J&&(t.ynx(0),t.TgZ(1,"div",22),t.Hsn(2,2),t.qZA(),t.BQk())}const N=[[["","badge",""]],[["","button",""]],[["","tabs",""]]],a=function(J){return[J]},k=["[badge]","[button]","[tabs]"];let U=(()=>{class J{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}}return J.\u0275fac=function(L){return new(L||J)},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:k,decls:23,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(L,F){1&L&&(t.F$t(N),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),t.ALo(6,"translate"),t.TgZ(7,"ol",6)(8,"li",7)(9,"a",8),t.ALo(10,"localize"),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.YNc(13,C,6,2,"ng-container",9),t.qZA()(),t.TgZ(14,"div",10)(15,"h1",11),t._uU(16),t.qZA(),t.Hsn(17),t.YNc(18,g,3,3,"span",12),t.YNc(19,p,3,3,"span",13),t.YNc(20,A,3,3,"span",14),t.qZA()(),t.YNc(21,_,2,0,"div",15),t.qZA()()(),t.YNc(22,R,3,0,"ng-container",16),t.qZA()),2&L&&(t.xp6(5),t.uIk("aria-label",t.lcZ(6,10,"Nav.Breadcrumbs")),t.xp6(4),t.Q6J("routerLink",t.VKq(16,a,t.lcZ(10,12,"/home"))),t.xp6(2),t.hij(" ",t.lcZ(12,14,"Nav.Home")," "),t.xp6(2),t.Q6J("ngForOf",F.crumbs),t.xp6(3),t.Oqu(F.title),t.xp6(2),t.Q6J("ngIf",F.isReadOnly&&!F.isReserved),t.xp6(1),t.Q6J("ngIf",F.isReserved),t.xp6(1),t.Q6J("ngIf",F.totpEnabled),t.xp6(1),t.Q6J("ngIf",F.hasButton),t.xp6(1),t.Q6J("ngIf",F.hasTabs))},dependencies:[e.sg,e.O5,m.yS,w.X$,b.lO],encapsulation:2}),J})()},5084:(st,ye,f)=>{"use strict";f.d(ye,{y:()=>g});var t=f(6895),e=f(8185),m=f(5503),w=f(2979),b=f(9383),C=f(4650);let g=(()=>{class p{}return p.\u0275fac=function(_){return new(_||p)},p.\u0275mod=C.oAB({type:p}),p.\u0275inj=C.cJS({imports:[t.ez,e.Bz,m.D,b.aw,w.fQ]}),p})()},9141:(st,ye,f)=>{"use strict";f.d(ye,{G:()=>w});var t=f(4650),e=f(5221),m=f(5712);let w=(()=>{class b{constructor(){this.wizardCancel=new t.vpe,this.finish=new t.vpe,this.hide=new t.vpe,this.titleId=m.G.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(g){"Enter"===g.key&&this.canNext()&&this.nextTab()}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const g=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(g.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const p=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,p),p.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(g=>{g?.destroy()}),this.components.clear()}}return b.\u0275fac=function(g){return new(g||b)},b.\u0275dir=t.lG2({type:b,viewQuery:function(g,p){if(1&g&&t.Gf(e.S,7),2&g){let A;t.iGM(A=t.CRH())&&(p.wizardHost=A.first)}},hostBindings:function(g,p){1&g&&t.NdJ("keydown",function(_){return p.keydown(_)},!1,t.evT)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}}),b})()},5221:(st,ye,f)=>{"use strict";f.d(ye,{S:()=>e});var t=f(4650);let e=(()=>{class m{constructor(b){this.viewContainerRef=b}}return m.\u0275fac=function(b){return new(b||m)(t.Y36(t.s_b))},m.\u0275dir=t.lG2({type:m,selectors:[["","appStepHost",""]]}),m})()},6679:(st,ye,f)=>{"use strict";f.d(ye,{R6:()=>H,V7:()=>z});var t=f(9506),e=f(4006),m=f(3334),w=f(7579),b=f(5669),C=f(4650),g=f(7185),p=f(9383),A=f(6895);function _(E,X){if(1&E&&(C.TgZ(0,"li",10)(1,"label",22),C._UZ(2,"input",23),C.TgZ(3,"span"),C._uU(4),C.ALo(5,"translate"),C.qZA()()()),2&E){const Q=C.oxw();C.xp6(2),C.Q6J("value",Q.CertificateAction.DoNotSet),C.xp6(2),C.Oqu(C.lcZ(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function R(E,X){if(1&E&&(C.TgZ(0,"li",10)(1,"label",24),C._UZ(2,"input",25),C.TgZ(3,"span"),C._uU(4),C.ALo(5,"translate"),C.qZA()()()),2&E){const Q=C.oxw();C.xp6(2),C.Q6J("value",Q.CertificateAction.UseExisting),C.xp6(2),C.Oqu(C.lcZ(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function N(E,X){if(1&E){const Q=C.EpF();C.TgZ(0,"tr")(1,"td",39),C._uU(2),C.qZA(),C.TgZ(3,"td")(4,"button",40),C.NdJ("click",function(){const Te=C.CHM(Q).$implicit,ve=C.oxw(5);return C.KtG(ve.deleteCert(Te))}),C._uU(5),C._UZ(6,"span",41),C.TgZ(7,"span",37),C._uU(8),C.ALo(9,"translate"),C.qZA()()()()}if(2&E){const Q=X.$implicit,ce=C.oxw(5);C.xp6(2),C.hij(" ",null==Q?null:Q.subject," "),C.xp6(3),C.hij(" ",ce.deleteDisabled," "),C.xp6(3),C.Oqu(C.lcZ(9,3,"Clients.Saml.DeleteCert"))}}function a(E,X){if(1&E&&(C.ynx(0),C.YNc(1,N,10,5,"tr",38),C.BQk()),2&E){const Q=C.oxw(4);C.xp6(1),C.Q6J("ngForOf",Q.data.certificates.SigningCertificates)}}function k(E,X){if(1&E){const Q=C.EpF();C.ynx(0),C.TgZ(1,"tr")(2,"td",39),C._uU(3),C.qZA(),C.TgZ(4,"td")(5,"button",40),C.NdJ("click",function(){C.CHM(Q);const _e=C.oxw(4);return C.KtG(_e.deleteCert(null))}),C._uU(6),C._UZ(7,"span",41),C.TgZ(8,"span",37),C._uU(9),C.ALo(10,"translate"),C.qZA()()()(),C.BQk()}if(2&E){const Q=C.oxw(4);C.xp6(3),C.hij(" ",Q.data.certificates.EncryptionCertificate.subject," "),C.xp6(3),C.hij(" ",Q.deleteDisabled," "),C.xp6(3),C.Oqu(C.lcZ(10,3,"Clients.Saml.DeleteCert"))}}function P(E,X){if(1&E&&(C.TgZ(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),C._uU(4),C.ALo(5,"translate"),C.qZA(),C.TgZ(6,"th",36)(7,"span",37),C._uU(8),C.ALo(9,"translate"),C.qZA()()()(),C.TgZ(10,"tbody"),C.YNc(11,a,2,1,"ng-container",13),C.YNc(12,k,11,5,"ng-container",13),C.qZA()()),2&E){const Q=C.oxw(3);C.xp6(4),C.Oqu(C.lcZ(5,4,"Common.Subject")),C.xp6(4),C.Oqu(C.lcZ(9,6,"Common.Actions")),C.xp6(3),C.Q6J("ngIf",Q.activeTab===Q.ActiveTab.Request),C.xp6(1),C.Q6J("ngIf",Q.activeTab===Q.ActiveTab.Response)}}function U(E,X){if(1&E&&(C.TgZ(0,"div"),C.YNc(1,P,13,8,"table",33),C.qZA()),2&E){const Q=C.oxw(2);C.xp6(1),C.Q6J("ngIf",Q.activeTab==Q.ActiveTab.Request?Q.data.certificates.SigningCertificates.length>0:Q.data.certificates.EncryptionCertificate)}}function J(E,X){1&E&&(C.TgZ(0,"div",42)(1,"div"),C._uU(2),C.ALo(3,"translate"),C.qZA()()),2&E&&(C.xp6(2),C.Oqu(C.lcZ(3,1,"Clients.NoCertificates")))}function O(E,X){if(1&E){const Q=C.EpF();C.TgZ(0,"button",43),C.NdJ("click",function(){C.CHM(Q);const _e=C.oxw(3);return C.KtG(_e.addCert())}),C._uU(1),C.ALo(2,"translate"),C.qZA()}2&E&&(C.xp6(1),C.Oqu(C.lcZ(2,1,"Clients.Saml.AddCert")))}function L(E,X){if(1&E){const Q=C.EpF();C.TgZ(0,"button",43),C.NdJ("click",function(){C.CHM(Q);const _e=C.oxw(3);return C.KtG(_e.addCert())}),C._uU(1),C.ALo(2,"translate"),C.qZA()}2&E&&(C.xp6(1),C.Oqu(C.lcZ(2,1,"Clients.Saml.ReplaceCertificate")))}function F(E,X){if(1&E&&(C.ynx(0),C.YNc(1,O,3,3,"button",32),C.YNc(2,L,3,3,"button",32),C.BQk()),2&E){const Q=C.oxw(2);C.xp6(1),C.Q6J("ngIf",!Q.data.certificates.EncryptionCertificate||""===Q.data.certificates.EncryptionCertificate),C.xp6(1),C.Q6J("ngIf",Q.data.certificates.EncryptionCertificate&&""!==Q.data.certificates.EncryptionCertificate)}}function V(E,X){if(1&E){const Q=C.EpF();C.TgZ(0,"button",43),C.NdJ("click",function(){C.CHM(Q);const _e=C.oxw(2);return C.KtG(_e.addCert())}),C._uU(1),C.ALo(2,"translate"),C.qZA()}2&E&&(C.xp6(1),C.Oqu(C.lcZ(2,1,"Clients.Saml.AddCert")))}function q(E,X){if(1&E){const Q=C.EpF();C.TgZ(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),C.NdJ("click",function(){C.CHM(Q);const _e=C.oxw();return C.KtG(_e.activeTab=_e.ActiveTab.Request)}),C._uU(4),C.ALo(5,"translate"),C.qZA()(),C.TgZ(6,"li",27)(7,"button",29),C.NdJ("click",function(){C.CHM(Q);const _e=C.oxw();return C.KtG(_e.activeTab=_e.ActiveTab.Response)}),C._uU(8),C.ALo(9,"translate"),C.qZA()()(),C.YNc(10,U,2,1,"div",13),C.YNc(11,J,4,3,"div",30),C.TgZ(12,"div",31),C.YNc(13,F,3,2,"ng-container",13),C.YNc(14,V,3,3,"button",32),C.qZA()()}if(2&E){const Q=C.oxw();C.xp6(3),C.ekj("active",Q.activeTab===Q.ActiveTab.Request),C.xp6(1),C.Oqu(C.lcZ(5,10,"Clients.Saml.Request")),C.xp6(3),C.ekj("active",Q.activeTab===Q.ActiveTab.Response),C.xp6(1),C.Oqu(C.lcZ(9,12,"Clients.Saml.Response")),C.xp6(2),C.Q6J("ngIf",Q.data.certificates),C.xp6(1),C.Q6J("ngIf",Q.activeTab==Q.ActiveTab.Request&&0===Q.data.certificates.SigningCertificates.length||Q.activeTab==Q.ActiveTab.Response&&!Q.data.certificates.EncryptionCertificate),C.xp6(2),C.Q6J("ngIf",Q.activeTab===Q.ActiveTab.Response),C.xp6(1),C.Q6J("ngIf",Q.activeTab===Q.ActiveTab.Request)}}function ie(E,X){if(1&E){const Q=C.EpF();C.TgZ(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),C.NdJ("ngModelChange",function(_e){C.CHM(Q);const Te=C.oxw();return C.KtG(Te.data.rememberCertificateAction=_e)}),C.qZA(),C.TgZ(5,"span",48),C._uU(6),C.ALo(7,"translate"),C.qZA()()()()()}if(2&E){const Q=C.oxw();C.xp6(4),C.Q6J("ngModel",Q.data.rememberCertificateAction),C.xp6(2),C.hij(" ",C.lcZ(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var H=(()=>{return(E=H||(H={}))[E.DoNotSet=0]="DoNotSet",E[E.UseExisting=1]="UseExisting",E[E.ManuallyCreate=2]="ManuallyCreate",H;var E})(),$=(()=>{return(E=$||($={}))[E.Request=0]="Request",E[E.Response=1]="Response",$;var E})();let z=(()=>{class E extends t.n{constructor(Q,ce,_e,Te){super(),this.fb=Q,this.changeDetector=ce,this.toastr=_e,this.translate=Te,this.CertificateAction=H,this.ActiveTab=$}get data(){return this._selectableImportResource}set data(Q){this._selectableImportResource=Q}ngOnInit(){if(this.form=this.fb.group({certificateAction:[H.UseExisting,e.kI.required]}),this.data){const Q=this.data.certificateAction===H.ManuallyCreate;let ce;ce=this.data.existingHasCertificates?Q?H.ManuallyCreate:H.UseExisting:H.DoNotSet,this.data.certificateAction=ce,this.form.get("certificateAction").setValue(ce),this.displayResourceType=b.m.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===H.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=$.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=$.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=$.Response))),this.form.valueChanges.subscribe(()=>{const Q=this.form.value.certificateAction;this.data.certificateAction=Q,Q===H.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=$.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new w.x,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(Q=>{this.activeTab===$.Request?(this.stripContentTypeFromData(Q),this.data.certificates.SigningCertificates.some(ce=>ce.base64Cert===Q.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(Q)):(this.stripContentTypeFromData(Q),this.data.certificates.EncryptionCertificate=Q)}),this.openModal(m.K.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(Q){const ce=Q.base64Cert.split("base64,");ce.length>1&&(Q.base64Cert=ce[1])}deleteCert(Q){if(this.activeTab===$.Request){const ce=this.data.certificates.SigningCertificates.indexOf(Q);this.data.certificates.SigningCertificates.splice(ce,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===H.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===H.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===H.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===H.DoNotSet||this.data.certificateAction===H.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}}return E.\u0275fac=function(Q){return new(Q||E)(C.Y36(e.QS),C.Y36(C.sBO),C.Y36(g._W),C.Y36(p.sK))},E.\u0275cmp=C.Xpm({type:E,selectors:[["app-import-certificates"]],features:[C.qOj],decls:38,vars:29,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],["existingHasCertificates",""],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModel","ngModelChange"],[1,"tw-font-normal"]],template:function(Q,ce){if(1&Q&&(C.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),C._uU(3),C.ALo(4,"translate"),C.qZA(),C.TgZ(5,"span",3),C._uU(6),C.ALo(7,"translate"),C.qZA()(),C.TgZ(8,"div",4)(9,"p",5),C._uU(10),C.ALo(11,"translate"),C.qZA()(),C.TgZ(12,"form",6)(13,"ul",7),C.YNc(14,_,6,4,"li",8),C.YNc(15,R,6,4,"ng-template",null,9,C.W1O),C.TgZ(17,"li",10)(18,"label",11),C._UZ(19,"input",12),C.TgZ(20,"span"),C._uU(21),C.ALo(22,"translate"),C.qZA()()()()(),C.YNc(23,q,15,14,"div",13),C.YNc(24,ie,8,4,"div",14),C.qZA(),C._UZ(25,"div",15),C.TgZ(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),C.NdJ("click",function(){return ce.goNext()}),C._uU(30),C.ALo(31,"translate"),C.qZA(),C.TgZ(32,"button",20),C.NdJ("click",function(){return ce.back()}),C._uU(33),C.ALo(34,"translate"),C.qZA()(),C.TgZ(35,"button",21),C.NdJ("click",function(){return ce.cancel()}),C._uU(36),C.ALo(37,"translate"),C.qZA()()()),2&Q){const _e=C.MAs(16);C.xp6(3),C.hij("",C.lcZ(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),C.xp6(3),C.AsE("",null==ce.data?null:ce.data.displayName," (",C.lcZ(7,17,"Clients.Import.Wizard.Secrets."+ce.displayResourceType),")"),C.xp6(4),C.Oqu(C.lcZ(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),C.xp6(2),C.Q6J("formGroup",ce.form),C.xp6(2),C.Q6J("ngIf",!(null!=ce.data&&ce.data.existingHasCertificates))("ngIfElse",_e),C.xp6(5),C.Q6J("value",ce.CertificateAction.ManuallyCreate),C.xp6(2),C.Oqu(C.lcZ(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),C.xp6(2),C.Q6J("ngIf",ce.showCertificatePicker),C.xp6(1),C.Q6J("ngIf",!ce.showCertificatePicker),C.xp6(5),C.Q6J("disabled",ce.disableNext()),C.xp6(1),C.Oqu(C.lcZ(31,23,"Common.Next")),C.xp6(3),C.Oqu(C.lcZ(34,25,"Common.Back")),C.xp6(3),C.Oqu(C.lcZ(37,27,"Common.Cancel"))}},dependencies:[A.sg,A.O5,e._Y,e.Fj,e.Wl,e._,e.JJ,e.JL,e.On,e.sg,e.u,p.X$],encapsulation:2}),E})()},7243:(st,ye,f)=>{"use strict";f.d(ye,{l:()=>b});var t=f(9506),e=f(4650),m=f(7481),w=f(9383);let b=(()=>{class C extends t.n{constructor(p){super(),this.importWizardService=p,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}}return C.\u0275fac=function(p){return new(p||C)(e.Y36(m.U))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-import-download-warning"]],features:[e.qOj],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(p,A){1&p&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",2),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.NdJ("click",function(){return A.downloadAndQuit()}),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",7),e.NdJ("click",function(){return A.yes()}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()),2&p&&(e.xp6(2),e.AsE(" ",e.lcZ(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.lcZ(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.xp6(4),e.Oqu(e.lcZ(7,9,"Secret Picker.LastWarning")),e.xp6(6),e.Oqu(e.lcZ(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.xp6(3),e.Oqu(e.lcZ(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[w.X$],encapsulation:2}),C})()},7363:(st,ye,f)=>{"use strict";f.d(ye,{$:()=>J,C:()=>U});var t=f(3111),e=f(4006),m=f(6068),w=f(8176),b=f(9506),C=f(5669),g=f(4650),p=f(9383),A=f(6895),_=f(1660);const R=["secretPicker"];function N(O,L){if(1&O&&(g.TgZ(0,"li",10)(1,"label",27),g._UZ(2,"input",28),g.TgZ(3,"span"),g._uU(4),g.ALo(5,"translate"),g.qZA()()()),2&O){const F=g.oxw();g.xp6(2),g.Q6J("value",F.SecretsActions.DoNotSet),g.xp6(2),g.Oqu(g.lcZ(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function a(O,L){if(1&O&&(g.TgZ(0,"li",10)(1,"label",29),g._UZ(2,"input",30),g.TgZ(3,"span"),g._uU(4),g.ALo(5,"translate"),g.qZA()()()),2&O){const F=g.oxw();g.xp6(2),g.Q6J("value",F.SecretsActions.UseExistingSecret),g.xp6(2),g.Oqu(g.lcZ(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function k(O,L){if(1&O&&g._UZ(0,"app-secret-picker",31,32),2&O){const F=g.oxw();g.Q6J("clientSecrets",F.possibleSecrets)("nonModelCertPicker",!1)}}function P(O,L){if(1&O){const F=g.EpF();g.TgZ(0,"div",33)(1,"ul",34)(2,"li",10)(3,"label",35)(4,"input",36),g.NdJ("ngModelChange",function(q){g.CHM(F);const ie=g.oxw();return g.KtG(ie.data.rememberSecretAction=q)}),g.qZA(),g.TgZ(5,"span",37),g._uU(6),g.ALo(7,"translate"),g.qZA()()()()()}if(2&O){const F=g.oxw();g.xp6(4),g.Q6J("ngModel",F.data.rememberSecretAction),g.xp6(2),g.hij(" ",g.lcZ(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var U=(()=>{return(O=U||(U={}))[O.DoNotSet=0]="DoNotSet",O[O.Generate=1]="Generate",O[O.ManuallyCreate=2]="ManuallyCreate",O[O.UseExistingSecret=3]="UseExistingSecret",U;var O})();let J=(()=>{class O extends b.n{constructor(F,V,q){super(),this.translate=F,this.fb=V,this.changeDetector=q,this.SecretsActions=U,this.possibleSecrets=[]}get data(){return this._selectableImportResource}set data(F){this._selectableImportResource=F}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.kI.required]}),this.data){const F=this.data.existingHasSecrets?U.UseExistingSecret:U.DoNotSet;this.form.get("secretAction").setValue(F),this.displayResourceType=this.data.resourceType===t.JR.Client?C.m.client:C.m.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===U.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:U.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:U.Generate})),this.form.valueChanges.subscribe(()=>{const F=this.form.value.secretAction;this.data.secretsAction=F,F===U.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?t.JR[this.data.resourceType]:""}goNext(){const F=this.form.get("secretAction");if(F.value===U.DoNotSet)this.data.secrets=[];else if(F.value===U.UseExistingSecret)this.data.useExistingSecrets=!0;else if(F.value===U.Generate){const V=new m.u;V.value=(0,w.qs)(),V.type="Shared Secret",V.description="",this.data.secrets=[V]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(F=>{this.possibleSecrets.push(F)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(F=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(F),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}}return O.\u0275fac=function(F){return new(F||O)(g.Y36(p.sK),g.Y36(e.QS),g.Y36(g.sBO))},O.\u0275cmp=g.Xpm({type:O,selectors:[["app-import-secrets"]],viewQuery:function(F,V){if(1&F&&g.Gf(R,5),2&F){let q;g.iGM(q=g.CRH())&&(V.secretPicker=q.first)}},features:[g.qOj],decls:51,vars:38,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],["existingHasSecrets",""],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],["secretPicker",""],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModel","ngModelChange"],[1,"tw-font-normal"]],template:function(F,V){if(1&F&&(g.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"span",3),g._uU(6),g.ALo(7,"translate"),g.qZA()(),g.TgZ(8,"div",4)(9,"p",5),g._uU(10),g.ALo(11,"translate"),g.qZA()(),g.TgZ(12,"form",6)(13,"ul",7),g.YNc(14,N,6,4,"li",8),g.YNc(15,a,6,4,"ng-template",null,9,g.W1O),g.TgZ(17,"li",10)(18,"label",11),g._UZ(19,"input",12),g.TgZ(20,"span"),g._uU(21),g.ALo(22,"translate"),g.qZA()()(),g.TgZ(23,"li",10)(24,"label",13),g._UZ(25,"input",14),g.TgZ(26,"span"),g._uU(27),g.ALo(28,"translate"),g.qZA()()()()(),g.TgZ(29,"div",15)(30,"p",16)(31,"b",17),g._uU(32),g.ALo(33,"translate"),g.qZA(),g._uU(34),g.ALo(35,"translate"),g.qZA()(),g.YNc(36,k,2,2,"app-secret-picker",18),g.YNc(37,P,8,4,"div",19),g.qZA(),g._UZ(38,"div",20),g.TgZ(39,"div",21)(40,"div",22)(41,"div",23)(42,"button",24),g.NdJ("click",function(){return V.goNext()}),g._uU(43),g.ALo(44,"translate"),g.qZA(),g.TgZ(45,"button",25),g.NdJ("click",function(){return V.back()}),g._uU(46),g.ALo(47,"translate"),g.qZA()(),g.TgZ(48,"button",26),g.NdJ("click",function(){return V.cancel()}),g._uU(49),g.ALo(50,"translate"),g.qZA()()()),2&F){const q=g.MAs(16);g.xp6(3),g.hij("",g.lcZ(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),g.xp6(3),g.AsE("",null==V.data?null:V.data.displayName," (",g.lcZ(7,20,"Clients.Import.Wizard.Secrets."+V.displayResourceType),")"),g.xp6(4),g.Oqu(g.lcZ(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),g.xp6(2),g.Q6J("formGroup",V.form),g.xp6(2),g.Q6J("ngIf",!(null!=V.data&&V.data.existingHasSecrets))("ngIfElse",q),g.xp6(5),g.Q6J("value",V.SecretsActions.Generate),g.xp6(2),g.Oqu(g.lcZ(22,24,"Clients.Import.Wizard.Secrets.Generate")),g.xp6(4),g.Q6J("value",V.SecretsActions.ManuallyCreate),g.xp6(2),g.Oqu(g.lcZ(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),g.xp6(5),g.hij("",g.lcZ(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),g.xp6(2),g.hij(" ",g.lcZ(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),g.xp6(2),g.Q6J("ngIf",V.showSecretPicker),g.xp6(1),g.Q6J("ngIf",!V.showSecretPicker),g.xp6(6),g.Oqu(g.lcZ(44,32,"Common.Next")),g.xp6(3),g.Oqu(g.lcZ(47,34,"Common.Back")),g.xp6(3),g.Oqu(g.lcZ(50,36,"Common.Cancel"))}},dependencies:[A.O5,e._Y,e.Fj,e.Wl,e._,e.JJ,e.JL,e.On,e.sg,e.u,_.P,p.X$],encapsulation:2}),O})()},8255:(st,ye,f)=>{"use strict";f.d(ye,{o:()=>H});var t=f(3111),e=f(3334),m=f(9506),w=f(4650),b=f(7481),C=f(9383),g=f(6895);function p($,z){1&$&&w.GkF(0)}const A=function($,z,E,X,Q){return{title:$,editable:!0,header1:z,header2:E,header3:X,data:Q}};function _($,z){if(1&$&&(w.TgZ(0,"div"),w.YNc(1,p,1,0,"ng-container",12),w.ALo(2,"translate"),w.ALo(3,"translate"),w.ALo(4,"translate"),w.ALo(5,"translate"),w.qZA()),2&$){const E=w.oxw(),X=w.MAs(9);w.xp6(1),w.Q6J("ngTemplateOutlet",X)("ngTemplateOutletContext",w.qbA(10,A,w.lcZ(2,2,"Nav.Clients"),w.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Client"),w.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),w.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.Client"),E.clients))}}function R($,z){1&$&&w.GkF(0)}const N=function($,z,E,X,Q,ce){return{title:$,editable:z,header1:E,header2:X,header3:Q,data:ce}};function a($,z){if(1&$&&(w.TgZ(0,"div",13),w.YNc(1,R,1,0,"ng-container",12),w.ALo(2,"translate"),w.ALo(3,"translate"),w.ALo(4,"translate"),w.ALo(5,"translate"),w.qZA()),2&$){const E=w.oxw(),X=w.MAs(9);w.xp6(1),w.Q6J("ngTemplateOutlet",X)("ngTemplateOutletContext",w.HTZ(10,N,w.lcZ(2,2,"Nav.Resources"),E.canEdit(E.resources),w.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),w.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),w.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),E.resources))}}function k($,z){1&$&&w.GkF(0)}function P($,z){if(1&$&&(w.TgZ(0,"div",13),w.YNc(1,k,1,0,"ng-container",12),w.ALo(2,"translate"),w.ALo(3,"translate"),w.ALo(4,"translate"),w.ALo(5,"translate"),w.qZA()),2&$){const E=w.oxw(),X=w.MAs(9);w.xp6(1),w.Q6J("ngTemplateOutlet",X)("ngTemplateOutletContext",w.HTZ(10,N,w.lcZ(2,2,"Nav.ClaimTypes"),E.canEdit(E.claims),w.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),w.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),w.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),E.claims))}}function U($,z){if(1&$&&(w.ynx(0),w.TgZ(1,"td",31),w._UZ(2,"span",32),w.qZA(),w.TgZ(3,"td")(4,"span",33),w._uU(5),w.qZA()(),w.BQk()),2&$){const E=w.oxw().$implicit,X=w.oxw(2);w.xp6(5),w.Oqu(X.getConflicts(E))}}function J($,z){1&$&&w._UZ(0,"span",37)}function O($,z){1&$&&w._UZ(0,"span",38)}function L($,z){1&$&&w._UZ(0,"span",32)}function F($,z){if(1&$&&(w.ynx(0),w.TgZ(1,"td",31),w.YNc(2,J,1,0,"span",34),w.YNc(3,O,1,0,"span",35),w.YNc(4,L,1,0,"span",36),w.qZA(),w.TgZ(5,"td")(6,"span",33),w._uU(7),w.qZA()(),w.BQk()),2&$){const E=w.oxw().$implicit,X=w.oxw(2);w.xp6(2),w.Q6J("ngIf",E.resourceState==X.resourceStates.New),w.xp6(1),w.Q6J("ngIf",E.resourceState==X.resourceStates.Duplicate),w.xp6(1),w.Q6J("ngIf",E.conflictedByDependencies),w.xp6(2),w.ekj("tw-italic",E.resourceState===X.resourceStates.Duplicate),w.xp6(1),w.hij(" ",X.getResourceState(E)," ")}}const V=function($){return{"inactive disabled tw-opacity-50 tw-pointer-events-none":$}};function q($,z){if(1&$&&(w.TgZ(0,"tr",27)(1,"td",28)(2,"b"),w._uU(3),w.qZA()(),w.TgZ(4,"td",29),w._uU(5),w.qZA(),w.TgZ(6,"td",30),w._uU(7),w.ALo(8,"translate"),w.qZA(),w.YNc(9,U,6,1,"ng-container",2),w.YNc(10,F,8,6,"ng-container",2),w.qZA()),2&$){const E=z.$implicit,X=w.oxw(2);w.Q6J("ngClass",w.VKq(9,V,E.resourceState===X.resourceStates.Duplicate)),w.xp6(1),w.Q6J("title",E.displayName),w.xp6(2),w.Oqu(E.displayName),w.xp6(2),w.hij(" ",E.identifier," "),w.xp6(2),w.hij(" ",w.lcZ(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+E.displayType)," "),w.xp6(2),w.Q6J("ngIf",E.resourceState===X.resourceStates.Conflicted&&!E.conflictedByDependencies),w.xp6(1),w.Q6J("ngIf",E.resourceState!==X.resourceStates.Conflicted||E.conflictedByDependencies)}}function ie($,z){if(1&$){const E=w.EpF();w.TgZ(0,"h2",14)(1,"span",15),w._uU(2),w.qZA(),w.TgZ(3,"button",16),w.NdJ("click",function(){const ce=w.CHM(E).data,_e=w.oxw();return w.KtG(_e.editResourceSummary(ce))}),w._UZ(4,"span",17),w.TgZ(5,"span",18),w._uU(6),w.ALo(7,"translate"),w.qZA()()(),w.TgZ(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),w._uU(12),w.qZA(),w.TgZ(13,"th",21),w._uU(14),w.qZA(),w.TgZ(15,"th",22),w._uU(16),w.qZA(),w._UZ(17,"td",23),w.TgZ(18,"th",24)(19,"span",25),w._uU(20),w.ALo(21,"translate"),w.qZA()()()(),w.TgZ(22,"tbody"),w.YNc(23,q,11,11,"tr",26),w.qZA()()}if(2&$){const E=z.title,X=z.editable,Q=z.header1,ce=z.header2,_e=z.header3,Te=z.data;w.xp6(2),w.Oqu(E),w.xp6(1),w.Q6J("disabled",!X),w.xp6(3),w.Oqu(w.lcZ(7,8,"Common.Edit")),w.xp6(6),w.Oqu(Q),w.xp6(2),w.Oqu(ce),w.xp6(2),w.Oqu(_e),w.xp6(4),w.Oqu(w.lcZ(21,10,"Common.Status")),w.xp6(3),w.Q6J("ngForOf",Te)}}let H=(()=>{class $ extends m.n{constructor(E,X){super(),this.importWizardService=E,this.translate=X,this.resourceStates=t.vZ,this.resourceTypes=t.JR}ngOnInit(){this.importWizardService.cache.subscribe(E=>{const X=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],Q=E.filter(Te=>Te.resourceType===t.JR.Client&&(Te.selected||Te.resourceState===t.vZ.Duplicate)),ce=[],_e=[];E.forEach(Te=>{Te.resourceType!==t.JR.Client&&Q.some(ve=>Te.dependantClients.some(Ke=>Ke.identifier===ve.identifier))&&(Te.resourceType===t.JR.ClaimType?ce.push(Te):_e.push(Te))}),this.clients=Q.sort((Te,ve)=>X.indexOf(Te.resourceState)-X.indexOf(ve.resourceState)),this.claims=ce.sort((Te,ve)=>X.indexOf(Te.resourceState)-X.indexOf(ve.resourceState)),this.resources=_e.sort((Te,ve)=>X.indexOf(Te.resourceState)-X.indexOf(ve.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(E,X){E.stopPropagation(),this.openModal(e.K.summaryConflicts,X)}getResourceState(E){return E.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[E.resourceState]}canEdit(E){return E.length>0&&E.some(X=>X.resourceState!==t.vZ.Duplicate)}editResourceSummary(E){this.importWizardController.goToSummaryStep(E[0].resourceType)}getConflicts(E){let Q,X=0;return E.conflicts.forEach(ce=>{X+=ce.conflicts.length}),Q=this.translate.instant(1===X?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),X+" "+Q}}return $.\u0275fac=function(E){return new(E||$)(w.Y36(b.U),w.Y36(C.sK))},$.\u0275cmp=w.Xpm({type:$,selectors:[["app-import-summary-all"]],features:[w.qOj],decls:23,vars:16,consts:[[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],["commonDatatable",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"disabled","click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(E,X){1&E&&(w.TgZ(0,"div",0)(1,"div",1)(2,"p"),w._uU(3),w.ALo(4,"translate"),w.qZA()(),w.YNc(5,_,6,16,"div",2),w.YNc(6,a,6,17,"div",3),w.YNc(7,P,6,17,"div",3),w.YNc(8,ie,24,12,"ng-template",null,4,w.W1O),w.qZA(),w._UZ(10,"div",5),w.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),w.NdJ("click",function(){return X.goNext()}),w._uU(15),w.ALo(16,"translate"),w.qZA(),w.TgZ(17,"button",10),w.NdJ("click",function(){return X.back()}),w._uU(18),w.ALo(19,"translate"),w.qZA()(),w.TgZ(20,"button",11),w.NdJ("click",function(){return X.cancel()}),w._uU(21),w.ALo(22,"translate"),w.qZA()()()),2&E&&(w.xp6(3),w.Oqu(w.lcZ(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),w.xp6(2),w.Q6J("ngIf",(null==X.clients?null:X.clients.length)>0),w.xp6(1),w.Q6J("ngIf",(null==X.resources?null:X.resources.length)>0),w.xp6(1),w.Q6J("ngIf",(null==X.claims?null:X.claims.length)>0),w.xp6(7),w.Q6J("disabled",!X.canNext()),w.xp6(1),w.Oqu(w.lcZ(16,10,"Clients.Import.Import")),w.xp6(3),w.Oqu(w.lcZ(19,12,"Common.Back")),w.xp6(3),w.Oqu(w.lcZ(22,14,"Common.Cancel")))},dependencies:[g.mk,g.sg,g.O5,g.tP,C.X$],encapsulation:2}),$})()},5744:(st,ye,f)=>{"use strict";f.d(ye,{Gz:()=>tt});var t=f(3111),e=f(3334),m=f(8176),w=f(5669),b=f(9506);let C=(()=>{class lt{}return lt.RelyingPartyProperty="RelyingParty",lt.RelyingPartyIdentifier="Relying Party",lt.ServiceProviderProperty="ServiceProvider",lt.ServiceProviderIdentifier="Service Provider",lt.ClaimsProperty="Claims",lt.PropertiesProperty="Properties",lt.ScopesProperty="Scopes",lt.UserClaimsProperty="UserClaims",lt.sloProperty="SingleLogoutServices",lt.acsProperty="AssertionConsumerServices",lt.sloIdentifier="Single Logout Services",lt.acsIdentifier="Assertion Consumer Services",lt.ClaimMappingsIdentifier="Claim Mappings",lt.ClaimMappingsKey="ClaimMappings",lt.SamlDisplayType="Saml",lt.WsFedDisplayType="WsFed",lt.Client="Client",lt.Endpoint="Endpoint",lt.ProtectedResources="ProtectedResources",lt.IdentityResources="IdentityResources",lt.ClaimTypes="ClaimTypes",lt.Secrets="Secrets",lt.Certificates="Certificates",lt})();var g=f(4650),p=f(7481),A=f(9383),_=f(2979),R=f(6895);let N=(()=>{class lt{transform(St){if(St){const qt=[...St];let gn="",Vn="";for(let Mn=0;Mn<qt.length;Mn++){const qn=qt[Mn];if(0===gn.length)gn=qn.toUpperCase();else if(Mn+1===qt.length)Vn===Vn.toUpperCase()||qn===qn.toLowerCase()?gn+=qn:gn+=`${qn}`;else if(qn===qn.toUpperCase()){const ui=Vn===Vn.toUpperCase(),ci=qt[Mn+1];ui?ci===ci.toLowerCase()?gn+=` ${qn}`:gn+=qn:gn+=` ${qn}`}else gn+=qn;Vn=qn}St=gn}return St}}return lt.\u0275fac=function(St){return new(St||lt)},lt.\u0275pipe=g.Yjl({name:"beautifyPropertyName",type:lt,pure:!0}),lt})();const a=["importSummaryConflictsModal"];function k(lt,tn){1&lt&&g._UZ(0,"span",24)}function P(lt,tn){1&lt&&g._UZ(0,"span",25)}function U(lt,tn){1&lt&&(g.TgZ(0,"span",35),g._uU(1,", "),g.qZA())}function J(lt,tn){if(1&lt&&(g.TgZ(0,"li",33)(1,"span"),g._uU(2),g.qZA(),g.YNc(3,U,2,0,"span",34),g.qZA()),2&lt){const St=tn.$implicit,qt=tn.last;g.xp6(2),g.Oqu(St.displayName),g.xp6(1),g.Q6J("ngIf",!qt)}}function O(lt,tn){if(1&lt&&(g.TgZ(0,"dl",29)(1,"dt",30),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd")(5,"ul",31),g.YNc(6,J,4,2,"li",32),g.qZA()()()),2&lt){const St=g.oxw(3);g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),g.xp6(4),g.Q6J("ngForOf",St.linkedNewClients)}}function L(lt,tn){1&lt&&(g.TgZ(0,"span",35),g._uU(1,", "),g.qZA())}function F(lt,tn){if(1&lt&&(g.TgZ(0,"li",33)(1,"a",37),g._uU(2),g.qZA(),g.YNc(3,L,2,0,"span",34),g.qZA()),2&lt){const St=tn.$implicit,qt=tn.last,gn=g.oxw(4);g.xp6(1),g.Q6J("href",gn.buildHref(St.existingIdentifier),g.LSH),g.xp6(1),g.hij(" ",St.displayName," "),g.xp6(1),g.Q6J("ngIf",!qt)}}function V(lt,tn){if(1&lt&&(g.TgZ(0,"dl",36)(1,"dt",30),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd",33)(5,"ul",31),g.YNc(6,F,4,3,"li",32),g.qZA()()()),2&lt){const St=g.oxw(3);g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),g.xp6(4),g.Q6J("ngForOf",St.linkedExistingClients)}}function q(lt,tn){if(1&lt&&(g.TgZ(0,"div",26),g.YNc(1,O,7,4,"dl",27),g.YNc(2,V,7,4,"dl",28),g.qZA()),2&lt){const St=g.oxw(2);g.xp6(1),g.Q6J("ngIf",St.linkedNewClients.length>0),g.xp6(1),g.Q6J("ngIf",St.linkedExistingClients.length>0)}}function ie(lt,tn){if(1&lt){const St=g.EpF();g.TgZ(0,"div",17)(1,"div",18)(2,"button",19),g.NdJ("click",function(){g.CHM(St);const gn=g.oxw();return g.KtG(gn.toggleDisplayLinkedClientsDropdown())}),g.TgZ(3,"span"),g._uU(4),g.ALo(5,"translate"),g.qZA(),g.TgZ(6,"span",20),g.YNc(7,k,1,0,"span",21),g.YNc(8,P,1,0,"span",22),g.qZA()(),g.YNc(9,q,3,2,"div",23),g.qZA()()}if(2&lt){const St=g.oxw();g.ekj("tw-alert-warning",St.linkedExistingClients.length>0),g.xp6(4),g.Oqu(g.lcZ(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),g.xp6(3),g.Q6J("ngIf",St.displayLinkedClientsDropdown),g.xp6(1),g.Q6J("ngIf",!St.displayLinkedClientsDropdown),g.xp6(1),g.Q6J("ngIf",St.displayLinkedClientsDropdown)}}function H(lt,tn){if(1&lt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.previous," ")}}function $(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function z(lt,tn){if(1&lt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.new," ")}}function E(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function X(lt,tn){if(1&lt){const St=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(St);const gn=g.oxw(2);return g.KtG(gn.setupTableHeadings())}),g.TgZ(1,"td"),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"td"),g.YNc(5,H,2,1,"span",43),g.YNc(6,$,3,3,"i",44),g.qZA(),g.TgZ(7,"td"),g.YNc(8,z,2,1,"span",45),g.YNc(9,E,3,3,"i",44),g.qZA()()}if(2&lt){const St=tn.$implicit,qt=g.oxw(2);g.xp6(2),g.Oqu(g.lcZ(3,5,St.propertyName)),g.xp6(3),g.Q6J("ngIf",qt.hasValue(St.previous)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.previous)),g.xp6(2),g.Q6J("ngIf",qt.hasValue(St.new)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.new))}}function Q(lt,tn){if(1&lt&&(g.TgZ(0,"div",38)(1,"table",39)(2,"thead")(3,"tr")(4,"th"),g._uU(5),g.ALo(6,"translate"),g.qZA(),g.TgZ(7,"th",40),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA()()(),g.TgZ(13,"tbody"),g.YNc(14,X,10,7,"tr",41),g.qZA()()()),2&lt){const St=g.oxw();g.xp6(5),g.Oqu(g.lcZ(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==St.fieldConflicts?null:St.fieldConflicts.conflicts)}}function ce(lt,tn){if(1&lt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.previous," ")}}function _e(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Te(lt,tn){if(1&lt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.new," ")}}function ve(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Ke(lt,tn){if(1&lt){const St=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(St);const gn=g.oxw(3);return g.KtG(gn.setupTableHeadings())}),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g.YNc(4,ce,2,1,"span",43),g.YNc(5,_e,3,3,"i",44),g.qZA(),g.TgZ(6,"td"),g.YNc(7,Te,2,1,"span",45),g.YNc(8,ve,3,3,"i",44),g.qZA()()}if(2&lt){const St=tn.$implicit,qt=g.oxw(3);g.xp6(2),g.Oqu(St.propertyName),g.xp6(2),g.Q6J("ngIf",qt.hasValue(St.previous)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.previous)),g.xp6(2),g.Q6J("ngIf",qt.hasValue(St.new)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.new))}}function xe(lt,tn){if(1&lt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,Ke,9,5,"tr",41),g.qZA()()()),2&lt){const St=tn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,St.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==St?null:St.conflicts)}}function Ge(lt,tn){if(1&lt&&(g.TgZ(0,"div",49),g.YNc(1,xe,18,13,"div",50),g.qZA()),2&lt){const St=g.oxw();g.xp6(1),g.Q6J("ngForOf",St.clientKeyValueConflicts)}}function we(lt,tn){if(1&lt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.previous," ")}}function Ye(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function rt(lt,tn){if(1&lt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.new," ")}}function Ct(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function at(lt,tn){if(1&lt){const St=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(St);const gn=g.oxw(3);return g.KtG(gn.setupTableHeadings())}),g.TgZ(1,"td"),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"td"),g.YNc(5,we,2,1,"span",43),g.YNc(6,Ye,3,3,"i",44),g.qZA(),g.TgZ(7,"td"),g.YNc(8,rt,2,1,"span",45),g.YNc(9,Ct,3,3,"i",44),g.qZA()()}if(2&lt){const St=tn.$implicit,qt=g.oxw(3);g.xp6(2),g.Oqu(g.lcZ(3,5,St.propertyName)),g.xp6(3),g.Q6J("ngIf",qt.hasValue(St.previous)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.previous)),g.xp6(2),g.Q6J("ngIf",qt.hasValue(St.new)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.new))}}function dt(lt,tn){if(1&lt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,at,10,7,"tr",41),g.qZA()()()),2&lt){const St=tn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,St.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==St?null:St.conflicts)}}function ct(lt,tn){if(1&lt&&(g.TgZ(0,"div",53)(1,"h3",54),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.YNc(4,dt,18,13,"div",50),g.qZA()),2&lt){const St=g.oxw();g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),g.xp6(2),g.Q6J("ngForOf",St.scopeConflicts)}}function Gt(lt,tn){if(1&lt&&(g.TgZ(0,"td"),g._uU(1),g.ALo(2,"beautifyPropertyName"),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.Oqu(g.lcZ(2,1,St.propertyName))}}function ln(lt,tn){if(1&lt&&(g.TgZ(0,"td"),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.Oqu(St.propertyName)}}function Mt(lt,tn){if(1&lt&&(g.TgZ(0,"dl",60)(1,"dt",61),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd",62),g._uU(5),g.qZA(),g.TgZ(6,"dt",61),g._uU(7),g.ALo(8,"translate"),g.qZA(),g.TgZ(9,"dd",62),g._uU(10),g.qZA(),g.TgZ(11,"dt",61),g._uU(12),g.ALo(13,"translate"),g.qZA(),g.TgZ(14,"dd",46),g._uU(15),g.qZA()()),2&lt){const St=g.oxw(2).$implicit;g.xp6(2),g.hij("",g.lcZ(3,6,"Common.URL"),":"),g.xp6(3),g.Oqu(St.previous.location),g.xp6(2),g.hij("",g.lcZ(8,8,"Clients.Saml.BindingType"),":"),g.xp6(3),g.Oqu(St.previous.binding),g.xp6(2),g.hij("",g.lcZ(13,10,"Clients.Saml.Index"),":"),g.xp6(3),g.Oqu(St.previous.index)}}function It(lt,tn){1&lt&&(g.TgZ(0,"dl")(1,"i",47),g._uU(2),g.ALo(3,"translate"),g.qZA()()),2&lt&&(g.xp6(2),g.hij(" ",g.lcZ(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Y(lt,tn){if(1&lt&&(g.TgZ(0,"dl",60)(1,"dt",61),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"dd",63),g._uU(5),g.qZA(),g.TgZ(6,"dt",61),g._uU(7),g.ALo(8,"translate"),g.qZA(),g.TgZ(9,"dd",63),g._uU(10),g.qZA(),g.TgZ(11,"dt",61),g._uU(12),g.ALo(13,"translate"),g.qZA(),g.TgZ(14,"dd",48),g._uU(15),g.qZA()()),2&lt){const St=g.oxw(2).$implicit;g.xp6(2),g.hij("",g.lcZ(3,6,"Common.URL"),":"),g.xp6(3),g.Oqu(St.new.location),g.xp6(2),g.hij("",g.lcZ(8,8,"Clients.Saml.BindingType"),":"),g.xp6(3),g.Oqu(St.new.binding),g.xp6(2),g.hij("",g.lcZ(13,10,"Clients.Saml.Index"),":"),g.xp6(3),g.Oqu(St.new.index)}}function G(lt,tn){1&lt&&(g.TgZ(0,"dl")(1,"i",47),g._uU(2),g.ALo(3,"translate"),g.qZA()()),2&lt&&(g.xp6(2),g.hij(" ",g.lcZ(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function oe(lt,tn){if(1&lt&&(g.ynx(0),g.TgZ(1,"td"),g.YNc(2,Mt,16,12,"dl",59),g.YNc(3,It,4,3,"dl",56),g.qZA(),g.TgZ(4,"td"),g.YNc(5,Y,16,12,"dl",59),g.YNc(6,G,4,3,"dl",56),g.qZA(),g.BQk()),2&lt){const St=g.oxw().$implicit,qt=g.oxw(3);g.xp6(2),g.Q6J("ngIf",qt.hasValue(St.previous)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.previous)),g.xp6(2),g.Q6J("ngIf",qt.hasValue(St.new)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.new))}}function Ve(lt,tn){if(1&lt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&lt){const St=g.oxw(2).$implicit;g.xp6(1),g.hij(" ",St.previous," ")}}function Be(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function o(lt,tn){if(1&lt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&lt){const St=g.oxw(2).$implicit;g.xp6(1),g.hij(" ",St.new," ")}}function De(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function be(lt,tn){if(1&lt&&(g.TgZ(0,"td",64),g.YNc(1,Ve,2,1,"span",43),g.YNc(2,Be,3,3,"i",44),g.qZA(),g.TgZ(3,"td",64),g.YNc(4,o,2,1,"span",45),g.YNc(5,De,3,3,"i",44),g.qZA()),2&lt){const St=g.oxw().$implicit,qt=g.oxw(3);g.xp6(1),g.Q6J("ngIf",qt.hasValue(St.previous)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.previous)),g.xp6(2),g.Q6J("ngIf",qt.hasValue(St.new)),g.xp6(1),g.Q6J("ngIf",!qt.hasValue(St.new))}}function je(lt,tn){if(1&lt){const St=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(St);const gn=g.oxw(3);return g.KtG(gn.setupTableHeadings())}),g.YNc(1,Gt,3,3,"td",56),g.YNc(2,ln,2,1,"td",56),g.YNc(3,oe,7,4,"ng-container",57),g.YNc(4,be,6,4,"ng-template",null,58,g.W1O),g.qZA()}if(2&lt){const St=g.MAs(5),qt=g.oxw().$implicit,gn=g.oxw(2);g.xp6(1),g.Q6J("ngIf",qt.identifier!=gn.summaryConflictsConstants.ClaimMappingsKey),g.xp6(1),g.Q6J("ngIf",qt.identifier==gn.summaryConflictsConstants.ClaimMappingsKey),g.xp6(1),g.Q6J("ngIf",qt.identifier==gn.summaryConflictsConstants.sloProperty||qt.identifier==gn.summaryConflictsConstants.acsProperty)("ngIfElse",St)}}function et(lt,tn){if(1&lt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,je,6,4,"tr",41),g.qZA()()()),2&lt){const St=tn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,St.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==St?null:St.conflicts)}}function Qe(lt,tn){if(1&lt&&(g.TgZ(0,"div",55)(1,"h3",54),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.YNc(4,et,18,13,"div",50),g.qZA()),2&lt){const St=g.oxw();g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),g.xp6(2),g.Q6J("ngForOf",St.serviceProviderConflicts)}}function We(lt,tn){if(1&lt&&(g.TgZ(0,"td"),g._uU(1),g.ALo(2,"beautifyPropertyName"),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.Oqu(g.lcZ(2,1,St.propertyName))}}function bt(lt,tn){if(1&lt&&(g.TgZ(0,"td"),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.Oqu(St.propertyName)}}function pt(lt,tn){if(1&lt&&(g.TgZ(0,"span",46),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.previous," ")}}function He(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function ae(lt,tn){if(1&lt&&(g.TgZ(0,"span",48),g._uU(1),g.qZA()),2&lt){const St=g.oxw().$implicit;g.xp6(1),g.hij(" ",St.new," ")}}function te(lt,tn){1&lt&&(g.TgZ(0,"i",47),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&lt&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function B(lt,tn){if(1&lt){const St=g.EpF();g.TgZ(0,"tr",42),g.NdJ("change",function(){g.CHM(St);const gn=g.oxw(3);return g.KtG(gn.setupTableHeadings())}),g.YNc(1,We,3,3,"td",56),g.YNc(2,bt,2,1,"td",56),g.TgZ(3,"td",64),g.YNc(4,pt,2,1,"span",43),g.YNc(5,He,3,3,"i",44),g.qZA(),g.TgZ(6,"td",64),g.YNc(7,ae,2,1,"span",45),g.YNc(8,te,3,3,"i",44),g.qZA()()}if(2&lt){const St=tn.$implicit,qt=g.oxw().$implicit,gn=g.oxw(2);g.xp6(1),g.Q6J("ngIf",qt.identifier!=gn.summaryConflictsConstants.ClaimMappingsIdentifier),g.xp6(1),g.Q6J("ngIf",qt.identifier==gn.summaryConflictsConstants.ClaimMappingsIdentifier),g.xp6(2),g.Q6J("ngIf",gn.hasValue(St.previous)),g.xp6(1),g.Q6J("ngIf",!gn.hasValue(St.previous)),g.xp6(2),g.Q6J("ngIf",gn.hasValue(St.new)),g.xp6(1),g.Q6J("ngIf",!gn.hasValue(St.new))}}function ee(lt,tn){if(1&lt&&(g.TgZ(0,"div",51)(1,"h4",52),g._uU(2),g.ALo(3,"beautifyPropertyName"),g.qZA(),g.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),g._uU(8),g.ALo(9,"translate"),g.qZA(),g.TgZ(10,"th",40),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"th",40),g._uU(14),g.ALo(15,"translate"),g.qZA()()(),g.TgZ(16,"tbody"),g.YNc(17,B,9,6,"tr",41),g.qZA()()()),2&lt){const St=tn.$implicit;g.xp6(2),g.hij(" ",g.lcZ(3,5,St.identifier)," "),g.xp6(6),g.Oqu(g.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.xp6(3),g.Oqu(g.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.xp6(3),g.Oqu(g.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.xp6(3),g.Q6J("ngForOf",null==St?null:St.conflicts)}}function Re(lt,tn){if(1&lt&&(g.TgZ(0,"div",65)(1,"h3",54),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.YNc(4,ee,18,13,"div",50),g.qZA()),2&lt){const St=g.oxw();g.xp6(2),g.hij(" ",g.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),g.xp6(2),g.Q6J("ngForOf",St.relyingPartyConflicts)}}let tt=(()=>{class lt extends b.n{constructor(St,qt,gn){super(),this.importWizardService=St,this.translate=qt,this.localizeRouterService=gn,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=C}set data(St){const qt=JSON.parse(JSON.stringify(St));this.resource=qt,this.summaryDisplayType=w.m.getSummaryDisplayType(qt.resourceType),this.setupLinkedClients(qt),this.resource.resourceType===t.JR.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(gn=>gn.identifier===C.ClaimTypes)),this.resource.resourceType===t.JR.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(gn=>gn.identifier===C.IdentityResources)),this.resource.resourceType===t.JR.Client&&(this.initClient(),this.resource.displayType===C.SamlDisplayType?this.initServiceProvider():this.resource.displayType===C.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===t.JR.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(gn=>gn.identifier===C.ProtectedResources),this.initScopeConflicts())}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===w.m.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.K.summaryConflictsConfirmation,this.resource)}setupLinkedClients(St){null!==St.dependantClients&&0!==St.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(St.dependantClients.filter(qt=>qt.state===t.CP.Importing)),this.linkedExistingClients=this.sortDependentClients(St.dependantClients.filter(qt=>qt.state===t.CP.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(St){return St.sort((qt,gn)=>qt.displayName.localeCompare(gn.displayName))}buildHref(St){return this.localizeRouterService.translateRoute(`/clients/${St}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(St){return!(null==St||(0,m.Ew)(St.toString()))}initClient(){const St=this.resource.conflicts.find(Vn=>Vn.identifier===C.Client),qt=this.resource.conflicts.find(Vn=>Vn.identifier===C.ClaimsProperty),gn=this.resource.conflicts.find(Vn=>Vn.identifier===C.PropertiesProperty);St&&(this.fieldConflicts=St),qt&&this.clientKeyValueConflicts.push(qt),gn&&this.clientKeyValueConflicts.push(gn)}initRelyingParty(){const St=this.resource.conflicts.find(gn=>gn.identifier===C.RelyingPartyProperty),qt=this.resource.conflicts.find(gn=>gn.identifier===C.ClaimMappingsKey);St&&this.relyingPartyConflicts.push(St),qt&&this.relyingPartyConflicts.push(qt)}initServiceProvider(){const St=this.resource.conflicts.find(Mn=>Mn.identifier===C.ServiceProviderProperty),qt=this.resource.conflicts.find(Mn=>Mn.identifier===C.ClaimMappingsKey),gn=this.resource.conflicts.find(Mn=>Mn.identifier===C.acsProperty),Vn=this.resource.conflicts.find(Mn=>Mn.identifier===C.sloProperty);St&&this.serviceProviderConflicts.push(St),qt&&this.serviceProviderConflicts.push(qt),gn&&this.serviceProviderConflicts.push(gn),Vn&&this.serviceProviderConflicts.push(Vn)}initScopeConflicts(){const St=this.resource.conflicts.filter(qt=>qt.identifier!==C.ProtectedResources);void 0!==St&&(St.forEach(qt=>{const gn=qt.conflicts.find(Vn=>Vn.propertyName===C.UserClaimsProperty);gn&&(gn.new=gn.new.join(", "),gn.previous=gn.previous.join(", "))}),this.scopeConflicts=St)}}return lt.\u0275fac=function(St){return new(St||lt)(g.Y36(p.U),g.Y36(A.sK),g.Y36(_.An))},lt.\u0275cmp=g.Xpm({type:lt,selectors:[["app-import-summary-conflicts"]],viewQuery:function(St,qt){if(1&St&&g.Gf(a,7),2&St){let gn;g.iGM(gn=g.CRH())&&(qt.importSummaryConflictsModal=gn.first)}},features:[g.qOj],decls:30,vars:22,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["normalConflicts",""],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(St,qt){1&St&&(g.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"span"),g._uU(6),g.qZA()(),g.TgZ(7,"div",3)(8,"p"),g._uU(9),g.ALo(10,"translate"),g.qZA()(),g.YNc(11,ie,10,8,"div",4),g.YNc(12,Q,15,10,"div",5),g.YNc(13,Ge,2,1,"div",6),g.YNc(14,ct,5,4,"div",7),g.YNc(15,Qe,5,4,"div",8),g.YNc(16,Re,5,4,"div",9),g.qZA(),g._UZ(17,"div",10),g.TgZ(18,"div",11)(19,"div",12)(20,"div",13)(21,"button",14),g.NdJ("click",function(){return qt.accept()}),g._uU(22),g.ALo(23,"translate"),g.qZA(),g.TgZ(24,"button",15),g.NdJ("click",function(){return qt.decline()}),g._uU(25),g.ALo(26,"translate"),g.qZA()(),g.TgZ(27,"button",16),g.NdJ("click",function(){return qt.back()}),g._uU(28),g.ALo(29,"translate"),g.qZA()()()),2&St&&(g.xp6(3),g.hij("",g.lcZ(4,12,"Clients.Import.Wizard.Summary.Identifier."+qt.summaryDisplayType),":"),g.xp6(3),g.Oqu(null==qt.resource?null:qt.resource.displayName),g.xp6(3),g.Oqu(g.lcZ(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+qt.summaryDisplayType)),g.xp6(2),g.Q6J("ngIf",qt.displayLinkedClients),g.xp6(1),g.Q6J("ngIf",qt.fieldConflicts&&qt.fieldConflicts.conflicts.length>0),g.xp6(1),g.Q6J("ngIf",qt.clientKeyValueConflicts.length>0),g.xp6(1),g.Q6J("ngIf",qt.scopeConflicts.length>0),g.xp6(1),g.Q6J("ngIf",qt.serviceProviderConflicts.length>0),g.xp6(1),g.Q6J("ngIf",qt.relyingPartyConflicts.length>0),g.xp6(6),g.Oqu(g.lcZ(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),g.xp6(3),g.Oqu(g.lcZ(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),g.xp6(3),g.Oqu(g.lcZ(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[R.sg,R.O5,A.X$,N],encapsulation:2}),lt})()},6126:(st,ye,f)=>{"use strict";f.d(ye,{j:()=>z});var t=f(3111),e=f(3334),m=f(5669),w=f(9506),b=f(4650),C=f(7481),g=f(9383),p=f(6895),A=f(4006);function _(E,X){if(1&E){const Q=b.EpF();b.TgZ(0,"th",21)(1,"label",22)(2,"input",23),b.NdJ("ngModelChange",function(_e){b.CHM(Q);const Te=b.oxw();return b.KtG(Te.allSelected=_e)})("change",function(){b.CHM(Q);const _e=b.oxw();return b.KtG(_e.toggleAllSelected())}),b.qZA()()()}if(2&E){const Q=b.oxw();b.xp6(2),b.Q6J("ngModel",Q.allSelected)}}function R(E,X){if(1&E&&(b.TgZ(0,"th",24),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&E){const Q=b.oxw();b.xp6(1),b.Oqu(b.lcZ(2,1,"Clients.Import.Wizard.Summary.Identifier."+Q.summaryDisplayType))}}function N(E,X){1&E&&(b.TgZ(0,"th",25),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&E&&(b.xp6(1),b.hij("",b.lcZ(2,1,"Nav.Clients")," *"))}function a(E,X){if(1&E){const Q=b.EpF();b.TgZ(0,"label",22)(1,"input",23),b.NdJ("ngModelChange",function(_e){b.CHM(Q);const Te=b.oxw(2).$implicit;return b.KtG(Te.selected=_e)})("change",function(){b.CHM(Q);const _e=b.oxw(3);return b.KtG(_e.selectionChanged())}),b.ALo(2,"translate"),b.qZA()()}if(2&E){const Q=b.oxw(2).$implicit;b.xp6(1),b.Q6J("ngModel",Q.selected),b.uIk("aria-label",b.lcZ(2,2,"Common.Add"))}}function k(E,X){if(1&E&&(b.TgZ(0,"td",21),b.YNc(1,a,3,4,"label",32),b.qZA()),2&E){const Q=b.oxw().$implicit;b.xp6(1),b.Q6J("ngIf",Q.isSelectable)}}function P(E,X){if(1&E){const Q=b.EpF();b.TgZ(0,"td",33),b.NdJ("click",function(){b.CHM(Q);const _e=b.oxw().$implicit,Te=b.oxw();return b.KtG(Te.toggle(_e))}),b._uU(1),b.qZA()}if(2&E){const Q=b.oxw().$implicit;b.Q6J("title",Q.identifier),b.xp6(1),b.hij(" ",Q.identifier," ")}}function U(E,X){if(1&E&&(b.TgZ(0,"td",34),b._uU(1),b.qZA()),2&E){const Q=b.oxw().$implicit,ce=b.oxw();b.xp6(1),b.hij(" ",ce.displayLinkedClients(Q)," ")}}function J(E,X){1&E&&b._UZ(0,"span",40)}function O(E,X){if(1&E){const Q=b.EpF();b.ynx(0),b.TgZ(1,"td",35),b.NdJ("click",function(_e){b.CHM(Q);const Te=b.oxw().$implicit,ve=b.oxw();return b.KtG(ve.viewConflicts(_e,Te))}),b.YNc(2,J,1,0,"span",36),b.qZA(),b.TgZ(3,"td",37),b.NdJ("click",function(_e){b.CHM(Q);const Te=b.oxw().$implicit,ve=b.oxw();return b.KtG(ve.viewConflicts(_e,Te))}),b.TgZ(4,"button",38),b.NdJ("click",function(_e){b.CHM(Q);const Te=b.oxw().$implicit,ve=b.oxw();return b.KtG(ve.viewConflicts(_e,Te))}),b.TgZ(5,"span",39),b._uU(6),b.qZA()()(),b.BQk()}if(2&E){const Q=b.oxw().$implicit,ce=b.oxw();b.xp6(2),b.Q6J("ngIf",Q.resourceState==ce.resourceStates.Conflicted),b.xp6(4),b.Oqu(ce.getConflicts(Q))}}function L(E,X){1&E&&b._UZ(0,"span",45)}function F(E,X){1&E&&b._UZ(0,"span",46)}function V(E,X){1&E&&b._UZ(0,"span",40)}function q(E,X){if(1&E){const Q=b.EpF();b.ynx(0),b.TgZ(1,"td",41),b.NdJ("click",function(){b.CHM(Q);const _e=b.oxw().$implicit,Te=b.oxw();return b.KtG(Te.toggle(_e))}),b.YNc(2,L,1,0,"span",42),b.YNc(3,F,1,0,"span",43),b.YNc(4,V,1,0,"span",36),b.qZA(),b.TgZ(5,"td",44),b.NdJ("click",function(){b.CHM(Q);const _e=b.oxw().$implicit,Te=b.oxw();return b.KtG(Te.toggle(_e))}),b.TgZ(6,"span",39),b._uU(7),b.qZA()(),b.BQk()}if(2&E){const Q=b.oxw().$implicit,ce=b.oxw();b.xp6(2),b.Q6J("ngIf",Q.resourceState==ce.resourceStates.New),b.xp6(1),b.Q6J("ngIf",Q.resourceState==ce.resourceStates.Duplicate),b.xp6(1),b.Q6J("ngIf",Q.conflictedByDependencies),b.xp6(2),b.ekj("tw-italic",!Q.isSelectable),b.xp6(1),b.hij(" ",ce.getResourceState(Q)," ")}}const ie=function(E){return{"inactive disabled tw-opacity-50 tw-pointer-events-none":E}};function H(E,X){if(1&E){const Q=b.EpF();b.TgZ(0,"tr",26),b.YNc(1,k,2,1,"td",3),b.TgZ(2,"td",27),b.NdJ("click",function(){const Te=b.CHM(Q).$implicit,ve=b.oxw();return b.KtG(ve.toggle(Te))}),b.TgZ(3,"b"),b._uU(4),b.qZA()(),b.YNc(5,P,2,2,"td",28),b.TgZ(6,"td",29),b.NdJ("click",function(){const Te=b.CHM(Q).$implicit,ve=b.oxw();return b.KtG(ve.toggle(Te))}),b._uU(7),b.ALo(8,"translate"),b.qZA(),b.YNc(9,U,2,1,"td",30),b.YNc(10,O,7,2,"ng-container",31),b.YNc(11,q,8,6,"ng-container",31),b.qZA()}if(2&E){const Q=X.$implicit,ce=b.oxw();b.Q6J("ngClass",b.VKq(11,ie,Q.resourceState===ce.resourceStates.Duplicate)),b.xp6(1),b.Q6J("ngIf",ce.showSelectAll()),b.xp6(1),b.Q6J("title",Q.displayName),b.xp6(2),b.Oqu(Q.displayName),b.xp6(1),b.Q6J("ngIf","ClaimType"!==ce.summaryDisplayType),b.xp6(2),b.hij(" ",b.lcZ(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+Q.displayType)," "),b.xp6(2),b.Q6J("ngIf","Client"!==ce.summaryDisplayType),b.xp6(1),b.Q6J("ngIf",Q.resourceState===ce.resourceStates.Conflicted&&!Q.conflictedByDependencies),b.xp6(1),b.Q6J("ngIf",Q.resourceState!==ce.resourceStates.Conflicted||Q.conflictedByDependencies)}}function $(E,X){1&E&&(b.TgZ(0,"p",47),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&E&&(b.xp6(1),b.hij(" * ",b.lcZ(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let z=(()=>{class E extends w.n{constructor(Q,ce){super(),this.importWizardService=Q,this.translate=ce,this.resourceStates=t.vZ,this.nextImport=!1}get data(){return this._importResourceType}set data(Q){this._importResourceType=Q}ngOnInit(){this.summaryDisplayType=m.m.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(Q=>{Q.every(_e=>_e.resourceType===t.JR.Client)&&(this.nextImport=!0);let ce=Q.filter(_e=>this.data.includes(_e.resourceType));if(!this.data.includes(t.JR.Client)){const _e=Q.filter(Te=>Te.resourceType===t.JR.Client&&!0===Te.selected).map(Te=>Te.identifier);ce=ce.filter(Te=>Te.dependantClients.map(ve=>ve.identifier).some(ve=>_e.includes(ve)))}if(1===this.data.length&&this.data.includes(t.JR.Client)){const _e=ce.filter(ve=>ve.resourceState===t.vZ.Duplicate),Te=Q.filter(ve=>ve.resourceType!==t.JR.Client&&ve.dependantClients.length>0&&ve.resourceState===t.vZ.Conflicted);_e.forEach(ve=>{Te.filter(xe=>xe.dependantClients.some(Ge=>Ge.identifier===ve.identifier)).length>0&&(ve.resourceState=t.vZ.Conflicted,ve.selected=!0,ve.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(ce),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(Q=>Q.selected)||this.displayData.every(Q=>!1===Q.isSelectable)&&this.summaryDisplayType!==m.m.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===m.m.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(Q=>Q.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(Q=>Q.resourceState!==this.resourceStates.Duplicate).every(Q=>!0===Q.selected)}toggle(Q){Q.isSelectable&&(Q.selected=!Q.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(Q=>Q.selected=this.allSelected),this.selectionChanged()}getConflicts(Q){let _e,ce=0;return Q.conflicts.forEach(Te=>{ce+=Te.conflicts.length}),_e=this.translate.instant(1===ce?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),ce+" "+_e}viewConflicts(Q,ce){Q.stopPropagation(),this.openModal(e.K.summaryConflicts,ce)}showSelectAll(){return this.displayData.some(Q=>Q.isSelectable)&&!this.displayData.every(Q=>Q.resourceState===t.vZ.Duplicate)}displayLinkedClients(Q){return null===Q.dependantClients||0===Q.dependantClients.length?"-":Q.dependantClients.length.toString()}getResourceState(Q){return Q.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[Q.resourceState]}}return E.\u0275fac=function(Q){return new(Q||E)(b.Y36(C.U),b.Y36(g.sK))},E.\u0275cmp=b.Xpm({type:E,selectors:[["app-import-summary"]],features:[b.qOj],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModel","ngModelChange","change"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"title","click"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"title","click"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(Q,ce){1&Q&&(b.TgZ(0,"div",0)(1,"div",1)(2,"p"),b._uU(3),b.ALo(4,"translate"),b.qZA()(),b.TgZ(5,"table",2)(6,"thead")(7,"tr"),b.YNc(8,_,3,1,"th",3),b.TgZ(9,"th",4),b._uU(10),b.ALo(11,"translate"),b.qZA(),b.YNc(12,R,3,3,"th",5),b.TgZ(13,"th",6),b._uU(14),b.ALo(15,"translate"),b.qZA(),b.YNc(16,N,3,3,"th",7),b._UZ(17,"td",8),b.TgZ(18,"th",9)(19,"span",10),b._uU(20),b.ALo(21,"translate"),b.qZA()()()(),b.TgZ(22,"tbody",11),b.YNc(23,H,12,13,"tr",12),b.qZA()(),b.YNc(24,$,3,3,"p",13),b.qZA(),b._UZ(25,"div",14),b.TgZ(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),b.NdJ("click",function(){return ce.goNext()}),b._uU(30),b.qZA(),b.TgZ(31,"button",19),b.NdJ("click",function(){return ce.goBack()}),b._uU(32),b.ALo(33,"translate"),b.qZA()(),b.TgZ(34,"button",20),b.NdJ("click",function(){return ce.cancel()}),b._uU(35),b.ALo(36,"translate"),b.qZA()()()),2&Q&&(b.xp6(3),b.Oqu(b.lcZ(4,15,"Clients.Import.Wizard.Summary.Intro."+ce.summaryDisplayType)),b.xp6(2),b.ekj("selectable",ce.showSelectAll()),b.xp6(3),b.Q6J("ngIf",ce.showSelectAll()),b.xp6(2),b.Oqu(b.lcZ(11,17,"Clients.Import.Wizard.Summary.Name."+ce.summaryDisplayType)),b.xp6(2),b.Q6J("ngIf","ClaimType"!==ce.summaryDisplayType),b.xp6(2),b.Oqu(b.lcZ(15,19,"Clients.Import.Wizard.Summary.Type."+ce.summaryDisplayType)),b.xp6(2),b.Q6J("ngIf","Client"!==ce.summaryDisplayType),b.xp6(4),b.Oqu(b.lcZ(21,21,"Common.Status")),b.xp6(3),b.Q6J("ngForOf",ce.displayData),b.xp6(1),b.Q6J("ngIf","Client"!==ce.summaryDisplayType),b.xp6(5),b.Q6J("disabled",!ce.canNext()),b.xp6(1),b.Oqu(ce.getNextText()),b.xp6(2),b.Oqu(b.lcZ(33,23,"Common.Back")),b.xp6(3),b.Oqu(b.lcZ(36,25,"Common.Cancel")))},dependencies:[p.mk,p.sg,p.O5,A.Wl,A.JJ,A.On,g.X$],encapsulation:2}),E})()},9506:(st,ye,f)=>{"use strict";f.d(ye,{n:()=>t});class t{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(m){this._data=m}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(m,w){this.importWizardController.insertAndOpenStep(m,w)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},7305:(st,ye,f)=>{"use strict";f.d(ye,{j:()=>e});var t=f(4650);let e=(()=>{class m{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}}return m.\u0275fac=function(b){return new(b||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1503:(st,ye,f)=>{"use strict";f.d(ye,{q:()=>_});var t=f(4650),e=f(4006),m=f(6895),w=f(9383),b=f(8853);function C(R,N){if(1&R&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&R){const a=N.$implicit;t.xp6(1),t.Oqu(a)}}function g(R,N){if(1&R){const a=t.EpF();t.TgZ(0,"tr",11)(1,"td",12),t.NdJ("click",function(){t.CHM(a);const P=t.oxw().$implicit,U=t.oxw();return t.KtG(U.jumpToTab(P.stepName))}),t.TgZ(2,"b"),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"keyToString"),t.qZA()(),t.TgZ(6,"td",13),t.NdJ("click",function(){t.CHM(a);const P=t.oxw().$implicit,U=t.oxw();return t.KtG(U.jumpToTab(P.stepName))}),t.YNc(7,C,2,1,"span",14),t.qZA(),t.TgZ(8,"td",12),t.NdJ("click",function(){t.CHM(a);const P=t.oxw().$implicit,U=t.oxw();return t.KtG(U.jumpToTab(P.stepName))}),t.TgZ(9,"button",15),t.NdJ("click",function(){t.CHM(a);const P=t.oxw().$implicit,U=t.oxw();return t.KtG(U.jumpToTab(P.stepName))}),t._UZ(10,"span",16),t.TgZ(11,"span",2),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()}if(2&R){const a=N.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,3,t.lcZ(5,5,a.key))),t.xp6(4),t.Q6J("ngForOf",a.value),t.xp6(5),t.Oqu(t.lcZ(13,7,"Common.Edit"))}}function p(R,N){if(1&R&&(t.ynx(0),t.YNc(1,g,14,9,"tr",10),t.ALo(2,"keyvalue"),t.BQk()),2&R){const a=N.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,a.stepData))}}function A(R,N){if(1&R&&(t.TgZ(0,"form",18)(1,"div",19),t._UZ(2,"input",20),t.TgZ(3,"label",21),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&R){const a=t.oxw();t.Q6J("formGroup",a.summaryForm),t.xp6(1),t.Q6J("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),t.xp6(3),t.Oqu(t.lcZ(5,3,"Common.Enabled"))}}let _=(()=>{class R{constructor(a){this.fb=a,this.askIfEnabled=!1,this.emitNavigate=new t.vpe}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(a){this.emitNavigate.emit(a)}isEnabled(){return this.summaryForm.get("enabled").value}}return R.\u0275fac=function(a){return new(a||R)(t.Y36(e.QS))},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(a,k){1&a&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th")(14,"span",2),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.TgZ(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"td",5)(24,"span",6),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t._UZ(27,"td",7),t.qZA(),t.YNc(28,p,3,3,"ng-container",8),t.qZA()(),t.YNc(29,A,6,5,"form",9)),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,8,"Common.Wizards.Review")),t.xp6(6),t.Oqu(t.lcZ(9,10,"Common.Key")),t.xp6(3),t.Oqu(t.lcZ(12,12,"Common.Value")),t.xp6(4),t.Oqu(t.lcZ(16,14,"Common.Actions")),t.xp6(6),t.Oqu(t.lcZ(22,16,"Common.Type")),t.xp6(4),t.Oqu(t.lcZ(26,18,k.summaryTitle)),t.xp6(3),t.Q6J("ngForOf",k.summary),t.xp6(1),t.Q6J("ngIf",k.askIfEnabled))},dependencies:[m.mk,m.sg,m.O5,e._Y,e.Wl,e.JJ,e.JL,e.sg,e.u,m.Nd,w.X$,b.r],encapsulation:2}),R})()},9679:(st,ye,f)=>{"use strict";f.d(ye,{F:()=>L});var t=f(4006),e=f(6895),m=f(9383),w=f(1191),b=f(5503),C=f(8761),g=f(8265),p=f(7481),A=f(5971),_=f(1501),R=f(388),N=f(2320),a=f(9659),k=f(2699),P=f(9650),U=f(7305),J=f(4091),O=f(4650);let L=(()=>{class F{}return F.\u0275fac=function(q){return new(q||F)},F.\u0275mod=O.oAB({type:F}),F.\u0275inj=O.cJS({providers:[U.j,p.U,_.o,a.o],imports:[e.ez,t.u5,t.UX,w.H3,m.aw,N.z8,b.D,R.zk,C.W,g.j,A.s,k.Y,P.I,J.G]}),F})()},365:(st,ye,f)=>{"use strict";function t(e){const m=e.value;if(null==m)return{validEmail:!1};if(m.indexOf(" ")>-1)return{validEmail:!1};let w=!1;for(let b=0;b<m.length;b++)if("@"===e.value[b]){if(w||0===b||b===m.length-1)return{validEmail:!1};w=!0}return w?null:{validEmail:!1}}f.d(ye,{J:()=>t})},5968:(st,ye,f)=>{"use strict";var t=f(1481),e=f(4650),m=f(4006),w=f(529),b=f(7340);function g(l){return new e.vHH(3e3,!1)}function Gt(){return typeof window<"u"&&typeof window.document<"u"}function ln(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Mt(l){switch(l.length){case 0:return new b.ZN;case 1:return l[0];default:return new b.ZE(l)}}function It(l,h,n,u,T=new Map,M=new Map){const ue=[],ke=[];let $e=-1,wt=null;if(u.forEach(Ut=>{const an=Ut.get("offset"),yn=an==$e,An=yn&&wt||new Map;Ut.forEach((Zn,xn)=>{let Qn=xn,ai=Zn;if("offset"!==xn)switch(Qn=h.normalizePropertyName(Qn,ue),ai){case b.k1:ai=T.get(xn);break;case b.l3:ai=M.get(xn);break;default:ai=h.normalizeStyleValue(xn,Qn,ai,ue)}An.set(Qn,ai)}),yn||ke.push(An),wt=An,$e=an}),ue.length)throw function _e(l){return new e.vHH(3502,!1)}();return ke}function Y(l,h,n,u){switch(h){case"start":l.onStart(()=>u(n&&G(n,"start",l)));break;case"done":l.onDone(()=>u(n&&G(n,"done",l)));break;case"destroy":l.onDestroy(()=>u(n&&G(n,"destroy",l)))}}function G(l,h,n){const M=oe(l.element,l.triggerName,l.fromState,l.toState,h||l.phaseName,n.totalTime??l.totalTime,!!n.disabled),ue=l._data;return null!=ue&&(M._data=ue),M}function oe(l,h,n,u,T="",M=0,ue){return{element:l,triggerName:h,fromState:n,toState:u,phaseName:T,totalTime:M,disabled:!!ue}}function Ve(l,h,n){let u=l.get(h);return u||l.set(h,u=n),u}function Be(l){const h=l.indexOf(":");return[l.substring(1,h),l.slice(h+1)]}let o=(l,h)=>!1,De=(l,h,n)=>[],be=null;function je(l){const h=l.parentNode||l.host;return h===be?null:h}(ln()||typeof Element<"u")&&(Gt()?(be=(()=>document.documentElement)(),o=(l,h)=>{for(;h;){if(h===l)return!0;h=je(h)}return!1}):o=(l,h)=>l.contains(h),De=(l,h,n)=>{if(n)return Array.from(l.querySelectorAll(h));const u=l.querySelector(h);return u?[u]:[]});let We=null,bt=!1;const te=o,B=De;let Re=(()=>{class l{validateStyleProperty(n){return function pt(l){We||(We=function ae(){return typeof document<"u"?document.body:null}()||{},bt=!!We.style&&"WebkitAppearance"in We.style);let h=!0;return We.style&&!function Qe(l){return"ebkit"==l.substring(1,6)}(l)&&(h=l in We.style,!h&&bt&&(h="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in We.style)),h}(n)}matchesElement(n,u){return!1}containsElement(n,u){return te(n,u)}getParentElement(n){return je(n)}query(n,u,T){return B(n,u,T)}computeStyle(n,u,T){return T||""}animate(n,u,T,M,ue,ke=[],$e){return new b.ZN(T,M)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),tt=(()=>{class l{}return l.NOOP=new Re,l})();const wn="ng-enter",rn="ng-leave",fn="ng-trigger",cn=".ng-trigger",lt="ng-animating",tn=".ng-animating";function St(l){if("number"==typeof l)return l;const h=l.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:qt(parseFloat(h[1]),h[2])}function qt(l,h){return"s"===h?1e3*l:l}function gn(l,h,n){return l.hasOwnProperty("duration")?l:function Vn(l,h,n){let T,M=0,ue="";if("string"==typeof l){const ke=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ke)return h.push(g()),{duration:0,delay:0,easing:""};T=qt(parseFloat(ke[1]),ke[2]);const $e=ke[3];null!=$e&&(M=qt(parseFloat($e),ke[4]));const wt=ke[5];wt&&(ue=wt)}else T=l;if(!n){let ke=!1,$e=h.length;T<0&&(h.push(function p(){return new e.vHH(3100,!1)}()),ke=!0),M<0&&(h.push(function A(){return new e.vHH(3101,!1)}()),ke=!0),ke&&h.splice($e,0,g())}return{duration:T,delay:M,easing:ue}}(l,h,n)}function Mn(l,h={}){return Object.keys(l).forEach(n=>{h[n]=l[n]}),h}function qn(l){const h=new Map;return Object.keys(l).forEach(n=>{h.set(n,l[n])}),h}function jt(l,h=new Map,n){if(n)for(let[u,T]of n)h.set(u,T);for(let[u,T]of l)h.set(u,T);return h}function $n(l,h,n){return n?h+":"+n+";":""}function In(l){let h="";for(let n=0;n<l.style.length;n++){const u=l.style.item(n);h+=$n(0,u,l.style.getPropertyValue(u))}for(const n in l.style)l.style.hasOwnProperty(n)&&!n.startsWith("_")&&(h+=$n(0,ti(n),l.style[n]));l.setAttribute("style",h)}function Pn(l,h,n){l.style&&(h.forEach((u,T)=>{const M=Zt(T);n&&!n.has(T)&&n.set(T,l.style[M]),l.style[M]=u}),ln()&&In(l))}function zn(l,h){l.style&&(h.forEach((n,u)=>{const T=Zt(u);l.style[T]=""}),ln()&&In(l))}function ii(l){return Array.isArray(l)?1==l.length?l[0]:(0,b.vP)(l):l}const yt=new RegExp("{{\\s*(.+?)\\s*}}","g");function ht(l){let h=[];if("string"==typeof l){let n;for(;n=yt.exec(l);)h.push(n[1]);yt.lastIndex=0}return h}function xt(l,h,n){const u=l.toString(),T=u.replace(yt,(M,ue)=>{let ke=h[ue];return null==ke&&(n.push(function R(l){return new e.vHH(3003,!1)}()),ke=""),ke.toString()});return T==u?l:T}function zt(l){const h=[];let n=l.next();for(;!n.done;)h.push(n.value),n=l.next();return h}const vn=/-+([a-z0-9])/g;function Zt(l){return l.replace(vn,(...h)=>h[1].toUpperCase())}function ti(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Rn(l,h,n){switch(h.type){case 7:return l.visitTrigger(h,n);case 0:return l.visitState(h,n);case 1:return l.visitTransition(h,n);case 2:return l.visitSequence(h,n);case 3:return l.visitGroup(h,n);case 4:return l.visitAnimate(h,n);case 5:return l.visitKeyframes(h,n);case 6:return l.visitStyle(h,n);case 8:return l.visitReference(h,n);case 9:return l.visitAnimateChild(h,n);case 10:return l.visitAnimateRef(h,n);case 11:return l.visitQuery(h,n);case 12:return l.visitStagger(h,n);default:throw function N(l){return new e.vHH(3004,!1)}()}}function yi(l,h){return window.getComputedStyle(l)[h]}function Fn(l,h){const n=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(u=>function kt(l,h,n){if(":"==l[0]){const $e=function Yt(l,h){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,u)=>parseFloat(u)>parseFloat(n);case":decrement":return(n,u)=>parseFloat(u)<parseFloat(n);default:return h.push(function E(l){return new e.vHH(3016,!1)}()),"* => *"}}(l,n);if("function"==typeof $e)return void h.push($e);l=$e}const u=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==u||u.length<4)return n.push(function z(l){return new e.vHH(3015,!1)}()),h;const T=u[1],M=u[2],ue=u[3];h.push(ki(T,ue));"<"==M[0]&&!("*"==T&&"*"==ue)&&h.push(ki(ue,T))}(u,n,h)):n.push(l),n}const En=new Set(["true","1"]),Ln=new Set(["false","0"]);function ki(l,h){const n=En.has(l)||Ln.has(l),u=En.has(h)||Ln.has(h);return(T,M)=>{let ue="*"==l||l==T,ke="*"==h||h==M;return!ue&&n&&"boolean"==typeof T&&(ue=T?En.has(l):Ln.has(l)),!ke&&u&&"boolean"==typeof M&&(ke=M?En.has(h):Ln.has(h)),ue&&ke}}const qe=new RegExp("s*:selfs*,?","g");function ut(l,h,n,u){return new un(l).build(h,n,u)}class un{constructor(h){this._driver=h}build(h,n,u){const T=new Nn(n);return this._resetContextStyleTimingState(T),Rn(this,ii(h),T)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,n){let u=n.queryCount=0,T=n.depCount=0;const M=[],ue=[];return"@"==h.name.charAt(0)&&n.errors.push(function k(){return new e.vHH(3006,!1)}()),h.definitions.forEach(ke=>{if(this._resetContextStyleTimingState(n),0==ke.type){const $e=ke,wt=$e.name;wt.toString().split(/\s*,\s*/).forEach(Ut=>{$e.name=Ut,M.push(this.visitState($e,n))}),$e.name=wt}else if(1==ke.type){const $e=this.visitTransition(ke,n);u+=$e.queryCount,T+=$e.depCount,ue.push($e)}else n.errors.push(function P(){return new e.vHH(3007,!1)}())}),{type:7,name:h.name,states:M,transitions:ue,queryCount:u,depCount:T,options:null}}visitState(h,n){const u=this.visitStyle(h.styles,n),T=h.options&&h.options.params||null;if(u.containsDynamicStyles){const M=new Set,ue=T||{};u.styles.forEach(ke=>{ke instanceof Map&&ke.forEach($e=>{ht($e).forEach(wt=>{ue.hasOwnProperty(wt)||M.add(wt)})})}),M.size&&(zt(M.values()),n.errors.push(function U(l,h){return new e.vHH(3008,!1)}()))}return{type:0,name:h.name,style:u,options:T?{params:T}:null}}visitTransition(h,n){n.queryCount=0,n.depCount=0;const u=Rn(this,ii(h.animation),n);return{type:1,matchers:Fn(h.expr,n.errors),animation:u,queryCount:n.queryCount,depCount:n.depCount,options:Xn(h.options)}}visitSequence(h,n){return{type:2,steps:h.steps.map(u=>Rn(this,u,n)),options:Xn(h.options)}}visitGroup(h,n){const u=n.currentTime;let T=0;const M=h.steps.map(ue=>{n.currentTime=u;const ke=Rn(this,ue,n);return T=Math.max(T,n.currentTime),ke});return n.currentTime=T,{type:3,steps:M,options:Xn(h.options)}}visitAnimate(h,n){const u=function Ci(l,h){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return fr(gn(l,h).duration,0,"");const n=l;if(n.split(/\s+/).some(M=>"{"==M.charAt(0)&&"{"==M.charAt(1))){const M=fr(0,0,"");return M.dynamic=!0,M.strValue=n,M}const T=gn(n,h);return fr(T.duration,T.delay,T.easing)}(h.timings,n.errors);n.currentAnimateTimings=u;let T,M=h.styles?h.styles:(0,b.oB)({});if(5==M.type)T=this.visitKeyframes(M,n);else{let ue=h.styles,ke=!1;if(!ue){ke=!0;const wt={};u.easing&&(wt.easing=u.easing),ue=(0,b.oB)(wt)}n.currentTime+=u.duration+u.delay;const $e=this.visitStyle(ue,n);$e.isEmptyStep=ke,T=$e}return n.currentAnimateTimings=null,{type:4,timings:u,style:T,options:null}}visitStyle(h,n){const u=this._makeStyleAst(h,n);return this._validateStyleAst(u,n),u}_makeStyleAst(h,n){const u=[],T=Array.isArray(h.styles)?h.styles:[h.styles];for(let ke of T)"string"==typeof ke?ke===b.l3?u.push(ke):n.errors.push(new e.vHH(3002,!1)):u.push(qn(ke));let M=!1,ue=null;return u.forEach(ke=>{if(ke instanceof Map&&(ke.has("easing")&&(ue=ke.get("easing"),ke.delete("easing")),!M))for(let $e of ke.values())if($e.toString().indexOf("{{")>=0){M=!0;break}}),{type:6,styles:u,easing:ue,offset:h.offset,containsDynamicStyles:M,options:null}}_validateStyleAst(h,n){const u=n.currentAnimateTimings;let T=n.currentTime,M=n.currentTime;u&&M>0&&(M-=u.duration+u.delay),h.styles.forEach(ue=>{"string"!=typeof ue&&ue.forEach((ke,$e)=>{const wt=n.collectedStyles.get(n.currentQuerySelector),Ut=wt.get($e);let an=!0;Ut&&(M!=T&&M>=Ut.startTime&&T<=Ut.endTime&&(n.errors.push(function L(l,h,n,u,T){return new e.vHH(3010,!1)}()),an=!1),M=Ut.startTime),an&&wt.set($e,{startTime:M,endTime:T}),n.options&&function ft(l,h,n){const u=h.params||{},T=ht(l);T.length&&T.forEach(M=>{u.hasOwnProperty(M)||n.push(function _(l){return new e.vHH(3001,!1)}())})}(ke,n.options,n.errors)})})}visitKeyframes(h,n){const u={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function F(){return new e.vHH(3011,!1)}()),u;let M=0;const ue=[];let ke=!1,$e=!1,wt=0;const Ut=h.steps.map(ai=>{const fi=this._makeStyleAst(ai,n);let Xi=null!=fi.offset?fi.offset:function Ii(l){if("string"==typeof l)return null;let h=null;if(Array.isArray(l))l.forEach(n=>{if(n instanceof Map&&n.has("offset")){const u=n;h=parseFloat(u.get("offset")),u.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const n=l;h=parseFloat(n.get("offset")),n.delete("offset")}return h}(fi.styles),Ei=0;return null!=Xi&&(M++,Ei=fi.offset=Xi),$e=$e||Ei<0||Ei>1,ke=ke||Ei<wt,wt=Ei,ue.push(Ei),fi});$e&&n.errors.push(function V(){return new e.vHH(3012,!1)}()),ke&&n.errors.push(function q(){return new e.vHH(3200,!1)}());const an=h.steps.length;let yn=0;M>0&&M<an?n.errors.push(function ie(){return new e.vHH(3202,!1)}()):0==M&&(yn=1/(an-1));const An=an-1,Zn=n.currentTime,xn=n.currentAnimateTimings,Qn=xn.duration;return Ut.forEach((ai,fi)=>{const Xi=yn>0?fi==An?1:yn*fi:ue[fi],Ei=Xi*Qn;n.currentTime=Zn+xn.delay+Ei,xn.duration=Ei,this._validateStyleAst(ai,n),ai.offset=Xi,u.styles.push(ai)}),u}visitReference(h,n){return{type:8,animation:Rn(this,ii(h.animation),n),options:Xn(h.options)}}visitAnimateChild(h,n){return n.depCount++,{type:9,options:Xn(h.options)}}visitAnimateRef(h,n){return{type:10,animation:this.visitReference(h.animation,n),options:Xn(h.options)}}visitQuery(h,n){const u=n.currentQuerySelector,T=h.options||{};n.queryCount++,n.currentQuery=h;const[M,ue]=function hn(l){const h=!!l.split(/\s*,\s*/).find(n=>":self"==n);return h&&(l=l.replace(qe,"")),l=l.replace(/@\*/g,cn).replace(/@\w+/g,n=>cn+"-"+n.slice(1)).replace(/:animating/g,tn),[l,h]}(h.selector);n.currentQuerySelector=u.length?u+" "+M:M,Ve(n.collectedStyles,n.currentQuerySelector,new Map);const ke=Rn(this,ii(h.animation),n);return n.currentQuery=null,n.currentQuerySelector=u,{type:11,selector:M,limit:T.limit||0,optional:!!T.optional,includeSelf:ue,animation:ke,originalSelector:h.selector,options:Xn(h.options)}}visitStagger(h,n){n.currentQuery||n.errors.push(function H(){return new e.vHH(3013,!1)}());const u="full"===h.timings?{duration:0,delay:0,easing:"full"}:gn(h.timings,n.errors,!0);return{type:12,animation:Rn(this,ii(h.animation),n),timings:u,options:null}}}class Nn{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xn(l){return l?(l=Mn(l)).params&&(l.params=function Dn(l){return l?Mn(l):null}(l.params)):l={},l}function fr(l,h,n){return{duration:l,delay:h,easing:n}}function mr(l,h,n,u,T,M,ue=null,ke=!1){return{type:1,element:l,keyframes:h,preStyleProps:n,postStyleProps:u,duration:T,delay:M,totalTime:T+M,easing:ue,subTimeline:ke}}class Ir{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,n){let u=this._map.get(h);u||this._map.set(h,u=[]),u.push(...n)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Qi=new RegExp(":enter","g"),ts=new RegExp(":leave","g");function Ws(l,h,n,u,T,M=new Map,ue=new Map,ke,$e,wt=[]){return(new qs).buildKeyframes(l,h,n,u,T,M,ue,ke,$e,wt)}class qs{buildKeyframes(h,n,u,T,M,ue,ke,$e,wt,Ut=[]){wt=wt||new Ir;const an=new js(h,n,wt,T,M,Ut,[]);an.options=$e;const yn=$e.delay?St($e.delay):0;an.currentTimeline.delayNextStep(yn),an.currentTimeline.setStyles([ue],null,an.errors,$e),Rn(this,u,an);const An=an.timelines.filter(Zn=>Zn.containsAnimation());if(An.length&&ke.size){let Zn;for(let xn=An.length-1;xn>=0;xn--){const Qn=An[xn];if(Qn.element===n){Zn=Qn;break}}Zn&&!Zn.allowOnlyTimelineStyles()&&Zn.setStyles([ke],null,an.errors,$e)}return An.length?An.map(Zn=>Zn.buildKeyframes()):[mr(n,[],[],[],0,yn,"",!1)]}visitTrigger(h,n){}visitState(h,n){}visitTransition(h,n){}visitAnimateChild(h,n){const u=n.subInstructions.get(n.element);if(u){const T=n.createSubContext(h.options),M=n.currentTimeline.currentTime,ue=this._visitSubInstructions(u,T,T.options);M!=ue&&n.transformIntoNewTimeline(ue)}n.previousNode=h}visitAnimateRef(h,n){const u=n.createSubContext(h.options);u.transformIntoNewTimeline(),this._applyAnimateRefDelay(h.animation,n,u),this.visitReference(h.animation,u),n.transformIntoNewTimeline(u.currentTimeline.currentTime),n.previousNode=h}_applyAnimateRefDelay(h,n,u){var T;const M=null===(T=h.options)||void 0===T?void 0:T.delay;if(!M)return;let ue;var ke,$e;"string"==typeof M?ue=St(xt(M,null!==(ke=null===($e=h.options)||void 0===$e?void 0:$e.params)&&void 0!==ke?ke:{},n.errors)):ue=M;u.delayNextStep(ue)}_visitSubInstructions(h,n,u){let M=n.currentTimeline.currentTime;const ue=null!=u.duration?St(u.duration):null,ke=null!=u.delay?St(u.delay):null;return 0!==ue&&h.forEach($e=>{const wt=n.appendInstructionToTimeline($e,ue,ke);M=Math.max(M,wt.duration+wt.delay)}),M}visitReference(h,n){n.updateOptions(h.options,!0),Rn(this,h.animation,n),n.previousNode=h}visitSequence(h,n){const u=n.subContextCount;let T=n;const M=h.options;if(M&&(M.params||M.delay)&&(T=n.createSubContext(M),T.transformIntoNewTimeline(),null!=M.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=_s);const ue=St(M.delay);T.delayNextStep(ue)}h.steps.length&&(h.steps.forEach(ue=>Rn(this,ue,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>u&&T.transformIntoNewTimeline()),n.previousNode=h}visitGroup(h,n){const u=[];let T=n.currentTimeline.currentTime;const M=h.options&&h.options.delay?St(h.options.delay):0;h.steps.forEach(ue=>{const ke=n.createSubContext(h.options);M&&ke.delayNextStep(M),Rn(this,ue,ke),T=Math.max(T,ke.currentTimeline.currentTime),u.push(ke.currentTimeline)}),u.forEach(ue=>n.currentTimeline.mergeTimelineCollectedStyles(ue)),n.transformIntoNewTimeline(T),n.previousNode=h}_visitTiming(h,n){if(h.dynamic){const u=h.strValue;return gn(n.params?xt(u,n.params,n.errors):u,n.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,n){const u=n.currentAnimateTimings=this._visitTiming(h.timings,n),T=n.currentTimeline;u.delay&&(n.incrementTime(u.delay),T.snapshotCurrentStyles());const M=h.style;5==M.type?this.visitKeyframes(M,n):(n.incrementTime(u.duration),this.visitStyle(M,n),T.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=h}visitStyle(h,n){const u=n.currentTimeline,T=n.currentAnimateTimings;!T&&u.hasCurrentStyleProperties()&&u.forwardFrame();const M=T&&T.easing||h.easing;h.isEmptyStep?u.applyEmptyStep(M):u.setStyles(h.styles,M,n.errors,n.options),n.previousNode=h}visitKeyframes(h,n){const u=n.currentAnimateTimings,T=n.currentTimeline.duration,M=u.duration,ke=n.createSubContext().currentTimeline;ke.easing=u.easing,h.styles.forEach($e=>{ke.forwardTime(($e.offset||0)*M),ke.setStyles($e.styles,$e.easing,n.errors,n.options),ke.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(ke),n.transformIntoNewTimeline(T+M),n.previousNode=h}visitQuery(h,n){const u=n.currentTimeline.currentTime,T=h.options||{},M=T.delay?St(T.delay):0;M&&(6===n.previousNode.type||0==u&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=_s);let ue=u;const ke=n.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!T.optional,n.errors);n.currentQueryTotal=ke.length;let $e=null;ke.forEach((wt,Ut)=>{n.currentQueryIndex=Ut;const an=n.createSubContext(h.options,wt);M&&an.delayNextStep(M),wt===n.element&&($e=an.currentTimeline),Rn(this,h.animation,an),an.currentTimeline.applyStylesToKeyframe(),ue=Math.max(ue,an.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(ue),$e&&(n.currentTimeline.mergeTimelineCollectedStyles($e),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=h}visitStagger(h,n){const u=n.parentContext,T=n.currentTimeline,M=h.timings,ue=Math.abs(M.duration),ke=ue*(n.currentQueryTotal-1);let $e=ue*n.currentQueryIndex;switch(M.duration<0?"reverse":M.easing){case"reverse":$e=ke-$e;break;case"full":$e=u.currentStaggerTime}const Ut=n.currentTimeline;$e&&Ut.delayNextStep($e);const an=Ut.currentTime;Rn(this,h.animation,n),n.previousNode=h,u.currentStaggerTime=T.currentTime-an+(T.startTime-u.currentTimeline.startTime)}}const _s={};class js{constructor(h,n,u,T,M,ue,ke,$e){this._driver=h,this.element=n,this.subInstructions=u,this._enterClassName=T,this._leaveClassName=M,this.errors=ue,this.timelines=ke,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_s,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=$e||new ns(this._driver,n,0),ke.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,n){if(!h)return;const u=h;let T=this.options;null!=u.duration&&(T.duration=St(u.duration)),null!=u.delay&&(T.delay=St(u.delay));const M=u.params;if(M){let ue=T.params;ue||(ue=this.options.params={}),Object.keys(M).forEach(ke=>{(!n||!ue.hasOwnProperty(ke))&&(ue[ke]=xt(M[ke],ue,this.errors))})}}_copyOptions(){const h={};if(this.options){const n=this.options.params;if(n){const u=h.params={};Object.keys(n).forEach(T=>{u[T]=n[T]})}}return h}createSubContext(h=null,n,u){const T=n||this.element,M=new js(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,u||0));return M.previousNode=this.previousNode,M.currentAnimateTimings=this.currentAnimateTimings,M.options=this._copyOptions(),M.updateOptions(h),M.currentQueryIndex=this.currentQueryIndex,M.currentQueryTotal=this.currentQueryTotal,M.parentContext=this,this.subContextCount++,M}transformIntoNewTimeline(h){return this.previousNode=_s,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,n,u){const T={duration:n??h.duration,delay:this.currentTimeline.currentTime+(u??0)+h.delay,easing:""},M=new bs(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,T,h.stretchStartingKeyframe);return this.timelines.push(M),T}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,n,u,T,M,ue){let ke=[];if(T&&ke.push(this.element),h.length>0){h=(h=h.replace(Qi,"."+this._enterClassName)).replace(ts,"."+this._leaveClassName);let wt=this._driver.query(this.element,h,1!=u);0!==u&&(wt=u<0?wt.slice(wt.length+u,wt.length):wt.slice(0,u)),ke.push(...wt)}return!M&&0==ke.length&&ue.push(function $(l){return new e.vHH(3014,!1)}()),ke}}class ns{constructor(h,n,u,T){this._driver=h,this.element=n,this.startTime=u,this._elementTimelineStylesLookup=T,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+h),n&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,n){return this.applyStylesToKeyframe(),new ns(this._driver,h,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,n){this._localTimelineStyles.set(h,n),this._globalTimelineStyles.set(h,n),this._styleSummary.set(h,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[n,u]of this._globalTimelineStyles)this._backFill.set(n,u||b.l3),this._currentKeyframe.set(n,b.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,n,u,T){n&&this._previousKeyframe.set("easing",n);const M=T&&T.params||{},ue=function ks(l,h){const n=new Map;let u;return l.forEach(T=>{if("*"===T){u=u||h.keys();for(let M of u)n.set(M,b.l3)}else jt(T,n)}),n}(h,this._globalTimelineStyles);for(let[$e,wt]of ue){const Ut=xt(wt,M,u);var ke;this._pendingStyles.set($e,Ut),this._localTimelineStyles.has($e)||this._backFill.set($e,null!==(ke=this._globalTimelineStyles.get($e))&&void 0!==ke?ke:b.l3),this._updateStyle($e,Ut)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,n)=>{this._currentKeyframe.set(n,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,h)}))}snapshotCurrentStyles(){for(let[h,n]of this._localTimelineStyles)this._pendingStyles.set(h,n),this._updateStyle(h,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let n in this._currentKeyframe)h.push(n);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((n,u)=>{const T=this._styleSummary.get(u);(!T||n.time>T.time)&&this._updateStyle(u,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,n=new Set,u=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((ke,$e)=>{const wt=jt(ke,new Map,this._backFill);wt.forEach((Ut,an)=>{Ut===b.k1?h.add(an):Ut===b.l3&&n.add(an)}),u||wt.set("offset",$e/this.duration),T.push(wt)});const M=h.size?zt(h.values()):[],ue=n.size?zt(n.values()):[];if(u){const ke=T[0],$e=new Map(ke);ke.set("offset",0),$e.set("offset",1),T=[ke,$e]}return mr(this.element,T,M,ue,this.duration,this.startTime,this.easing,!1)}}class bs extends ns{constructor(h,n,u,T,M,ue,ke=!1){super(h,n,ue.delay),this.keyframes=u,this.preStyleProps=T,this.postStyleProps=M,this._stretchStartingKeyframe=ke,this.timings={duration:ue.duration,delay:ue.delay,easing:ue.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:n,duration:u,easing:T}=this.timings;if(this._stretchStartingKeyframe&&n){const M=[],ue=u+n,ke=n/ue,$e=jt(h[0]);$e.set("offset",0),M.push($e);const wt=jt(h[0]);wt.set("offset",Ys(ke)),M.push(wt);const Ut=h.length-1;for(let an=1;an<=Ut;an++){let yn=jt(h[an]);const An=yn.get("offset");yn.set("offset",Ys((n+An*u)/ue)),M.push(yn)}u=ue,n=0,T="",h=M}return mr(this.element,h,this.preStyleProps,this.postStyleProps,u,n,T,!0)}}function Ys(l,h=3){const n=Math.pow(10,h-1);return Math.round(l*n)/n}class sr{}const vs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gn extends sr{normalizePropertyName(h,n){return Zt(h)}normalizeStyleValue(h,n,u,T){let M="";const ue=u.toString().trim();if(vs.has(n)&&0!==u&&"0"!==u)if("number"==typeof u)M="px";else{const ke=u.match(/^[+-]?[\d\.]+([a-z]*)$/);ke&&0==ke[1].length&&T.push(function a(l,h){return new e.vHH(3005,!1)}())}return ue+M}}function ws(l,h,n,u,T,M,ue,ke,$e,wt,Ut,an,yn){return{type:0,element:l,triggerName:h,isRemovalTransition:T,fromState:n,fromStyles:M,toState:u,toStyles:ue,timelines:ke,queriedElements:$e,preStyleProps:wt,postStyleProps:Ut,totalTime:an,errors:yn}}const Hn={};class yr{constructor(h,n,u){this._triggerName=h,this.ast=n,this._stateStyles=u}match(h,n,u,T){return function os(l,h,n,u,T){return l.some(M=>M(h,n,u,T))}(this.ast.matchers,h,n,u,T)}buildStyles(h,n,u){let T=this._stateStyles.get("*");return void 0!==h&&(T=this._stateStyles.get(h?.toString())||T),T?T.buildStyles(n,u):new Map}build(h,n,u,T,M,ue,ke,$e,wt,Ut){var an;const yn=[],An=this.ast.options&&this.ast.options.params||Hn,xn=this.buildStyles(u,ke&&ke.params||Hn,yn),Qn=$e&&$e.params||Hn,ai=this.buildStyles(T,Qn,yn),fi=new Set,Xi=new Map,Ei=new Map,Si="void"===T,er={params:zr(Qn,An),delay:null===(an=this.ast.options)||void 0===an?void 0:an.delay},zi=Ut?[]:Ws(h,n,this.ast.animation,M,ue,xn,ai,er,wt,yn);let tr=0;if(zi.forEach(Yr=>{tr=Math.max(Yr.duration+Yr.delay,tr)}),yn.length)return ws(n,this._triggerName,u,T,Si,xn,ai,[],[],Xi,Ei,tr,yn);zi.forEach(Yr=>{const rs=Yr.element,yo=Ve(Xi,rs,new Set);Yr.preStyleProps.forEach(Oo=>yo.add(Oo));const Qs=Ve(Ei,rs,new Set);Yr.postStyleProps.forEach(Oo=>Qs.add(Oo)),rs!==n&&fi.add(rs)});const Er=zt(fi.values());return ws(n,this._triggerName,u,T,Si,xn,ai,zi,Er,Xi,Ei,tr)}}function zr(l,h){const n=Mn(h);for(const u in l)l.hasOwnProperty(u)&&null!=l[u]&&(n[u]=l[u]);return n}class Wr{constructor(h,n,u){this.styles=h,this.defaultParams=n,this.normalizer=u}buildStyles(h,n){const u=new Map,T=Mn(this.defaultParams);return Object.keys(h).forEach(M=>{const ue=h[M];null!==ue&&(T[M]=ue)}),this.styles.styles.forEach(M=>{"string"!=typeof M&&M.forEach((ue,ke)=>{ue&&(ue=xt(ue,T,n));const $e=this.normalizer.normalizePropertyName(ke,n);ue=this.normalizer.normalizeStyleValue(ke,$e,ue,n),u.set($e,ue)})}),u}}class cs{constructor(h,n,u){this.name=h,this.ast=n,this._normalizer=u,this.transitionFactories=[],this.states=new Map,n.states.forEach(T=>{this.states.set(T.name,new Wr(T.style,T.options&&T.options.params||{},u))}),br(this.states,"true","1"),br(this.states,"false","0"),n.transitions.forEach(T=>{this.transitionFactories.push(new yr(h,T,this.states))}),this.fallbackTransition=function nr(l,h,n){return new yr(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ue,ke)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,n,u,T){return this.transitionFactories.find(ue=>ue.match(h,n,u,T))||null}matchStyles(h,n,u){return this.fallbackTransition.buildStyles(h,n,u)}}function br(l,h,n){l.has(h)?l.has(n)||l.set(n,l.get(h)):l.has(n)&&l.set(h,l.get(n))}const us=new Ir;class wr{constructor(h,n,u){this.bodyNode=h,this._driver=n,this._normalizer=u,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,n){const u=[],M=ut(this._driver,n,u,[]);if(u.length)throw function Te(l){return new e.vHH(3503,!1)}();this._animations.set(h,M)}_buildPlayer(h,n,u){const T=h.element,M=It(0,this._normalizer,0,h.keyframes,n,u);return this._driver.animate(T,M,h.duration,h.delay,h.easing,[],!0)}create(h,n,u={}){const T=[],M=this._animations.get(h);let ue;const ke=new Map;if(M?(ue=Ws(this._driver,n,M,wn,rn,new Map,new Map,u,us,T),ue.forEach(Ut=>{const an=Ve(ke,Ut.element,new Map);Ut.postStyleProps.forEach(yn=>an.set(yn,null))})):(T.push(function ve(){return new e.vHH(3300,!1)}()),ue=[]),T.length)throw function Ke(l){return new e.vHH(3504,!1)}();ke.forEach((Ut,an)=>{Ut.forEach((yn,An)=>{Ut.set(An,this._driver.computeStyle(an,An,b.l3))})});const wt=Mt(ue.map(Ut=>{const an=ke.get(Ut.element);return this._buildPlayer(Ut,new Map,an)}));return this._playersById.set(h,wt),wt.onDestroy(()=>this.destroy(h)),this.players.push(wt),wt}destroy(h){const n=this._getPlayer(h);n.destroy(),this._playersById.delete(h);const u=this.players.indexOf(n);u>=0&&this.players.splice(u,1)}_getPlayer(h){const n=this._playersById.get(h);if(!n)throw function xe(l){return new e.vHH(3301,!1)}();return n}listen(h,n,u,T){const M=oe(n,"","","");return Y(this._getPlayer(h),u,M,T),()=>{}}command(h,n,u,T){if("register"==u)return void this.register(h,T[0]);if("create"==u)return void this.create(h,n,T[0]||{});const M=this._getPlayer(h);switch(u){case"play":M.play();break;case"pause":M.pause();break;case"reset":M.reset();break;case"restart":M.restart();break;case"finish":M.finish();break;case"init":M.init();break;case"setPosition":M.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(h)}}}const Oi="ng-animate-queued",ps="ng-animate-disabled",Zi=[],As={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},co={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gr="__ng_removed";class as{constructor(h,n=""){this.namespaceId=n;const u=h&&h.hasOwnProperty("value");if(this.value=function go(l){return l??null}(u?h.value:h),u){const M=Mn(h);delete M.value,this.options=M}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(h){const n=h.params;if(n){const u=this.options.params;Object.keys(n).forEach(T=>{null==u[T]&&(u[T]=n[T])})}}}const Ps="void",Ns=new as(Ps);class Ss{constructor(h,n,u){this.id=h,this.hostElement=n,this._engine=u,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,lr(n,this._hostClassName)}listen(h,n,u,T){if(!this._triggers.has(n))throw function Ge(l,h){return new e.vHH(3302,!1)}();if(null==u||0==u.length)throw function we(l){return new e.vHH(3303,!1)}();if(!function Tr(l){return"start"==l||"done"==l}(u))throw function Ye(l,h){return new e.vHH(3400,!1)}();const M=Ve(this._elementListeners,h,[]),ue={name:n,phase:u,callback:T};M.push(ue);const ke=Ve(this._engine.statesByElement,h,new Map);return ke.has(n)||(lr(h,fn),lr(h,fn+"-"+n),ke.set(n,Ns)),()=>{this._engine.afterFlush(()=>{const $e=M.indexOf(ue);$e>=0&&M.splice($e,1),this._triggers.has(n)||ke.delete(n)})}}register(h,n){return!this._triggers.has(h)&&(this._triggers.set(h,n),!0)}_getTrigger(h){const n=this._triggers.get(h);if(!n)throw function rt(l){return new e.vHH(3401,!1)}();return n}trigger(h,n,u,T=!0){const M=this._getTrigger(n),ue=new mo(this.id,n,h);let ke=this._engine.statesByElement.get(h);ke||(lr(h,fn),lr(h,fn+"-"+n),this._engine.statesByElement.set(h,ke=new Map));let $e=ke.get(n);const wt=new as(u,this.id);if(!(u&&u.hasOwnProperty("value"))&&$e&&wt.absorbOptions($e.options),ke.set(n,wt),$e||($e=Ns),wt.value!==Ps&&$e.value===wt.value){if(!function jr(l,h){const n=Object.keys(l),u=Object.keys(h);if(n.length!=u.length)return!1;for(let T=0;T<n.length;T++){const M=n[T];if(!h.hasOwnProperty(M)||l[M]!==h[M])return!1}return!0}($e.params,wt.params)){const xn=[],Qn=M.matchStyles($e.value,$e.params,xn),ai=M.matchStyles(wt.value,wt.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{zn(h,Qn),Pn(h,ai)})}return}const yn=Ve(this._engine.playersByElement,h,[]);yn.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==n&&xn.queued&&xn.destroy()});let An=M.matchTransition($e.value,wt.value,h,wt.params),Zn=!1;if(!An){if(!T)return;An=M.fallbackTransition,Zn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:n,transition:An,fromState:$e,toState:wt,player:ue,isFallbackTransition:Zn}),Zn||(lr(h,Oi),ue.onStart(()=>{Qr(h,Oi)})),ue.onDone(()=>{let xn=this.players.indexOf(ue);xn>=0&&this.players.splice(xn,1);const Qn=this._engine.playersByElement.get(h);if(Qn){let ai=Qn.indexOf(ue);ai>=0&&Qn.splice(ai,1)}}),this.players.push(ue),yn.push(ue),ue}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(n=>n.delete(h)),this._elementListeners.forEach((n,u)=>{this._elementListeners.set(u,n.filter(T=>T.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const n=this._engine.playersByElement.get(h);n&&(n.forEach(u=>u.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,n){const u=this._engine.driver.query(h,cn,!0);u.forEach(T=>{if(T[Gr])return;const M=this._engine.fetchNamespacesByElement(T);M.size?M.forEach(ue=>ue.triggerLeaveAnimation(T,n,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>u.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(h,n,u,T){const M=this._engine.statesByElement.get(h),ue=new Map;if(M){const ke=[];if(M.forEach(($e,wt)=>{if(ue.set(wt,$e.value),this._triggers.has(wt)){const Ut=this.trigger(h,wt,Ps,T);Ut&&ke.push(Ut)}}),ke.length)return this._engine.markElementAsRemoved(this.id,h,!0,n,ue),u&&Mt(ke).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const n=this._elementListeners.get(h),u=this._engine.statesByElement.get(h);if(n&&u){const T=new Set;n.forEach(M=>{const ue=M.name;if(T.has(ue))return;T.add(ue);const $e=this._triggers.get(ue).fallbackTransition,wt=u.get(ue)||Ns,Ut=new as(Ps),an=new mo(this.id,ue,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:ue,transition:$e,fromState:wt,toState:Ut,player:an,isFallbackTransition:!0})})}}removeNode(h,n){const u=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,n),this.triggerLeaveAnimation(h,n,!0))return;let T=!1;if(u.totalAnimations){const M=u.players.length?u.playersByQueriedElement.get(h):[];if(M&&M.length)T=!0;else{let ue=h;for(;ue=ue.parentNode;)if(u.statesByElement.get(ue)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(h),T)u.markElementAsRemoved(this.id,h,!1,n);else{const M=h[Gr];(!M||M===As)&&(u.afterFlush(()=>this.clearElementCache(h)),u.destroyInnerAnimations(h),u._onRemovalComplete(h,n))}}insertNode(h,n){lr(h,this._hostClassName)}drainQueuedTransitions(h){const n=[];return this._queue.forEach(u=>{const T=u.player;if(T.destroyed)return;const M=u.element,ue=this._elementListeners.get(M);ue&&ue.forEach(ke=>{if(ke.name==u.triggerName){const $e=oe(M,u.triggerName,u.fromState.value,u.toState.value);$e._data=h,Y(u.player,ke.phase,$e,ke.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):n.push(u)}),this._queue=[],n.sort((u,T)=>{const M=u.transition.ast.depCount,ue=T.transition.ast.depCount;return 0==M||0==ue?M-ue:this._engine.driver.containsElement(u.element,T.element)?1:-1})}destroy(h){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}elementContainsData(h){let n=!1;return this._elementListeners.has(h)&&(n=!0),n=!!this._queue.find(u=>u.element===h)||n,n}}class Vi{constructor(h,n,u){this.bodyNode=h,this.driver=n,this._normalizer=u,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,M)=>{}}_onRemovalComplete(h,n){this.onRemovalComplete(h,n)}get queuedPlayers(){const h=[];return this._namespaceList.forEach(n=>{n.players.forEach(u=>{u.queued&&h.push(u)})}),h}createNamespace(h,n){const u=new Ss(h,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(u,n):(this.newHostElements.set(n,u),this.collectEnterElement(n)),this._namespaceLookup[h]=u}_balanceNamespaceList(h,n){const u=this._namespaceList,T=this.namespacesByHostElement;if(u.length-1>=0){let ue=!1,ke=this.driver.getParentElement(n);for(;ke;){const $e=T.get(ke);if($e){const wt=u.indexOf($e);u.splice(wt+1,0,h),ue=!0;break}ke=this.driver.getParentElement(ke)}ue||u.unshift(h)}else u.push(h);return T.set(n,h),h}register(h,n){let u=this._namespaceLookup[h];return u||(u=this.createNamespace(h,n)),u}registerTrigger(h,n,u){let T=this._namespaceLookup[h];T&&T.register(n,u)&&this.totalAnimations++}destroy(h,n){if(!h)return;const u=this._fetchNamespace(h);this.afterFlush(()=>{this.namespacesByHostElement.delete(u.hostElement),delete this._namespaceLookup[h];const T=this._namespaceList.indexOf(u);T>=0&&this._namespaceList.splice(T,1)}),this.afterFlushAnimationsDone(()=>u.destroy(n))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const n=new Set,u=this.statesByElement.get(h);if(u)for(let T of u.values())if(T.namespaceId){const M=this._fetchNamespace(T.namespaceId);M&&n.add(M)}return n}trigger(h,n,u,T){if(Fi(n)){const M=this._fetchNamespace(h);if(M)return M.trigger(n,u,T),!0}return!1}insertNode(h,n,u,T){if(!Fi(n))return;const M=n[Gr];if(M&&M.setForRemoval){M.setForRemoval=!1,M.setForMove=!0;const ue=this.collectedLeaveElements.indexOf(n);ue>=0&&this.collectedLeaveElements.splice(ue,1)}if(h){const ue=this._fetchNamespace(h);ue&&ue.insertNode(n,u)}T&&this.collectEnterElement(n)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,n){n?this.disabledNodes.has(h)||(this.disabledNodes.add(h),lr(h,ps)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),Qr(h,ps))}removeNode(h,n,u,T){if(Fi(n)){const M=h?this._fetchNamespace(h):null;if(M?M.removeNode(n,T):this.markElementAsRemoved(h,n,!1,T),u){const ue=this.namespacesByHostElement.get(n);ue&&ue.id!==h&&ue.removeNode(n,T)}}else this._onRemovalComplete(n,T)}markElementAsRemoved(h,n,u,T,M){this.collectedLeaveElements.push(n),n[Gr]={namespaceId:h,setForRemoval:T,hasAnimation:u,removedBeforeQueried:!1,previousTriggersValues:M}}listen(h,n,u,T,M){return Fi(n)?this._fetchNamespace(h).listen(n,u,T,M):()=>{}}_buildInstruction(h,n,u,T,M){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,u,T,h.fromState.options,h.toState.options,n,M)}destroyInnerAnimations(h){let n=this.driver.query(h,cn,!0);n.forEach(u=>this.destroyActiveAnimationsForElement(u)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(h,tn,!0),n.forEach(u=>this.finishActiveQueriedAnimationOnElement(u)))}destroyActiveAnimationsForElement(h){const n=this.playersByElement.get(h);n&&n.forEach(u=>{u.queued?u.markedForDestroy=!0:u.destroy()})}finishActiveQueriedAnimationOnElement(h){const n=this.playersByQueriedElement.get(h);n&&n.forEach(u=>u.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Mt(this.players).onDone(()=>h());h()})}processLeaveNode(h){var n;const u=h[Gr];if(u&&u.setForRemoval){if(h[Gr]=As,u.namespaceId){this.destroyInnerAnimations(h);const T=this._fetchNamespace(u.namespaceId);T&&T.clearElementCache(h)}this._onRemovalComplete(h,u.setForRemoval)}null!==(n=h.classList)&&void 0!==n&&n.contains(ps)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(h=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((u,T)=>this._balanceNamespaceList(u,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let u=0;u<this.collectedEnterElements.length;u++)lr(this.collectedEnterElements[u],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const u=[];try{n=this._flushAnimations(u,h)}finally{for(let T=0;T<u.length;T++)u[T]()}}else for(let u=0;u<this.collectedLeaveElements.length;u++)this.processLeaveNode(this.collectedLeaveElements[u]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(u=>u()),this._flushFns=[],this._whenQuietFns.length){const u=this._whenQuietFns;this._whenQuietFns=[],n.length?Mt(n).onDone(()=>{u.forEach(T=>T())}):u.forEach(T=>T())}}reportError(h){throw function Ct(l){return new e.vHH(3402,!1)}()}_flushAnimations(h,n){const u=new Ir,T=[],M=new Map,ue=[],ke=new Map,$e=new Map,wt=new Map,Ut=new Set;this.disabledNodes.forEach(Jn=>{Ut.add(Jn);const ei=this.driver.query(Jn,".ng-animate-queued",!0);for(let _i=0;_i<ei.length;_i++)Ut.add(ei[_i])});const an=this.bodyNode,yn=Array.from(this.statesByElement.keys()),An=Ls(yn,this.collectedEnterElements),Zn=new Map;let xn=0;An.forEach((Jn,ei)=>{const _i=wn+xn++;Zn.set(ei,_i),Jn.forEach(Ji=>lr(Ji,_i))});const Qn=[],ai=new Set,fi=new Set;for(let Jn=0;Jn<this.collectedLeaveElements.length;Jn++){const ei=this.collectedLeaveElements[Jn],_i=ei[Gr];_i&&_i.setForRemoval&&(Qn.push(ei),ai.add(ei),_i.hasAnimation?this.driver.query(ei,".ng-star-inserted",!0).forEach(Ji=>ai.add(Ji)):fi.add(ei))}const Xi=new Map,Ei=Ls(yn,Array.from(ai));Ei.forEach((Jn,ei)=>{const _i=rn+xn++;Xi.set(ei,_i),Jn.forEach(Ji=>lr(Ji,_i))}),h.push(()=>{An.forEach((Jn,ei)=>{const _i=Zn.get(ei);Jn.forEach(Ji=>Qr(Ji,_i))}),Ei.forEach((Jn,ei)=>{const _i=Xi.get(ei);Jn.forEach(Ji=>Qr(Ji,_i))}),Qn.forEach(Jn=>{this.processLeaveNode(Jn)})});const Si=[],er=[];for(let Jn=this._namespaceList.length-1;Jn>=0;Jn--)this._namespaceList[Jn].drainQueuedTransitions(n).forEach(_i=>{const Ji=_i.player,hs=_i.element;if(Si.push(Ji),this.collectedEnterElements.length){const ss=hs[Gr];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(_i.triggerName)){const Fo=ss.previousTriggersValues.get(_i.triggerName),Zo=this.statesByElement.get(_i.element);if(Zo&&Zo.has(_i.triggerName)){const cc=Zo.get(_i.triggerName);cc.value=Fo,Zo.set(_i.triggerName,cc)}}return void Ji.destroy()}}const Bo=!an||!this.driver.containsElement(an,hs),lo=Xi.get(hs),Uo=Zn.get(hs),hr=this._buildInstruction(_i,u,Uo,lo,Bo);if(hr.errors&&hr.errors.length)return void er.push(hr);if(Bo)return Ji.onStart(()=>zn(hs,hr.fromStyles)),Ji.onDestroy(()=>Pn(hs,hr.toStyles)),void T.push(Ji);if(_i.isFallbackTransition)return Ji.onStart(()=>zn(hs,hr.fromStyles)),Ji.onDestroy(()=>Pn(hs,hr.toStyles)),void T.push(Ji);const ca=[];hr.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||ca.push(ss)}),hr.timelines=ca,u.append(hs,hr.timelines),ue.push({instruction:hr,player:Ji,element:hs}),hr.queriedElements.forEach(ss=>Ve(ke,ss,[]).push(Ji)),hr.preStyleProps.forEach((ss,Fo)=>{if(ss.size){let Zo=$e.get(Fo);Zo||$e.set(Fo,Zo=new Set),ss.forEach((cc,Rl)=>Zo.add(Rl))}}),hr.postStyleProps.forEach((ss,Fo)=>{let Zo=wt.get(Fo);Zo||wt.set(Fo,Zo=new Set),ss.forEach((cc,Rl)=>Zo.add(Rl))})});if(er.length){const Jn=[];er.forEach(ei=>{Jn.push(function dt(l,h){return new e.vHH(3505,!1)}())}),Si.forEach(ei=>ei.destroy()),this.reportError(Jn)}const zi=new Map,tr=new Map;ue.forEach(Jn=>{const ei=Jn.element;u.has(ei)&&(tr.set(ei,ei),this._beforeAnimationBuild(Jn.player.namespaceId,Jn.instruction,zi))}),T.forEach(Jn=>{const ei=Jn.element;this._getPreviousPlayers(ei,!1,Jn.namespaceId,Jn.triggerName,null).forEach(Ji=>{Ve(zi,ei,[]).push(Ji),Ji.destroy()})});const Er=Qn.filter(Jn=>Rr(Jn,$e,wt)),Yr=new Map;si(Yr,this.driver,fi,wt,b.l3).forEach(Jn=>{Rr(Jn,$e,wt)&&Er.push(Jn)});const yo=new Map;An.forEach((Jn,ei)=>{si(yo,this.driver,new Set(Jn),$e,b.k1)}),Er.forEach(Jn=>{var ei,_i;const Ji=Yr.get(Jn),hs=yo.get(Jn);Yr.set(Jn,new Map([...Array.from(null!==(ei=Ji?.entries())&&void 0!==ei?ei:[]),...Array.from(null!==(_i=hs?.entries())&&void 0!==_i?_i:[])]))});const Qs=[],Oo=[],ba={};ue.forEach(Jn=>{const{element:ei,player:_i,instruction:Ji}=Jn;if(u.has(ei)){if(Ut.has(ei))return _i.onDestroy(()=>Pn(ei,Ji.toStyles)),_i.disabled=!0,_i.overrideTotalTime(Ji.totalTime),void T.push(_i);let hs=ba;if(tr.size>1){let lo=ei;const Uo=[];for(;lo=lo.parentNode;){const hr=tr.get(lo);if(hr){hs=hr;break}Uo.push(lo)}Uo.forEach(hr=>tr.set(hr,hs))}const Bo=this._buildAnimation(_i.namespaceId,Ji,zi,M,yo,Yr);if(_i.setRealPlayer(Bo),hs===ba)Qs.push(_i);else{const lo=this.playersByElement.get(hs);lo&&lo.length&&(_i.parentPlayer=Mt(lo)),T.push(_i)}}else zn(ei,Ji.fromStyles),_i.onDestroy(()=>Pn(ei,Ji.toStyles)),Oo.push(_i),Ut.has(ei)&&T.push(_i)}),Oo.forEach(Jn=>{const ei=M.get(Jn.element);if(ei&&ei.length){const _i=Mt(ei);Jn.setRealPlayer(_i)}}),T.forEach(Jn=>{Jn.parentPlayer?Jn.syncPlayerEvents(Jn.parentPlayer):Jn.destroy()});for(let Jn=0;Jn<Qn.length;Jn++){const ei=Qn[Jn],_i=ei[Gr];if(Qr(ei,rn),_i&&_i.hasAnimation)continue;let Ji=[];if(ke.size){let Bo=ke.get(ei);Bo&&Bo.length&&Ji.push(...Bo);let lo=this.driver.query(ei,tn,!0);for(let Uo=0;Uo<lo.length;Uo++){let hr=ke.get(lo[Uo]);hr&&hr.length&&Ji.push(...hr)}}const hs=Ji.filter(Bo=>!Bo.destroyed);hs.length?uo(this,ei,hs):this.processLeaveNode(ei)}return Qn.length=0,Qs.forEach(Jn=>{this.players.push(Jn),Jn.onDone(()=>{Jn.destroy();const ei=this.players.indexOf(Jn);this.players.splice(ei,1)}),Jn.play()}),Qs}elementContainsData(h,n){let u=!1;const T=n[Gr];return T&&T.setForRemoval&&(u=!0),this.playersByElement.has(n)&&(u=!0),this.playersByQueriedElement.has(n)&&(u=!0),this.statesByElement.has(n)&&(u=!0),this._fetchNamespace(h).elementContainsData(n)||u}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,n,u,T,M){let ue=[];if(n){const ke=this.playersByQueriedElement.get(h);ke&&(ue=ke)}else{const ke=this.playersByElement.get(h);if(ke){const $e=!M||M==Ps;ke.forEach(wt=>{wt.queued||!$e&&wt.triggerName!=T||ue.push(wt)})}}return(u||T)&&(ue=ue.filter(ke=>!(u&&u!=ke.namespaceId||T&&T!=ke.triggerName))),ue}_beforeAnimationBuild(h,n,u){const M=n.element,ue=n.isRemovalTransition?void 0:h,ke=n.isRemovalTransition?void 0:n.triggerName;for(const $e of n.timelines){const wt=$e.element,Ut=wt!==M,an=Ve(u,wt,[]);this._getPreviousPlayers(wt,Ut,ue,ke,n.toState).forEach(An=>{const Zn=An.getRealPlayer();Zn.beforeDestroy&&Zn.beforeDestroy(),An.destroy(),an.push(An)})}zn(M,n.fromStyles)}_buildAnimation(h,n,u,T,M,ue){const ke=n.triggerName,$e=n.element,wt=[],Ut=new Set,an=new Set,yn=n.timelines.map(Zn=>{const xn=Zn.element;Ut.add(xn);const Qn=xn[Gr];if(Qn&&Qn.removedBeforeQueried)return new b.ZN(Zn.duration,Zn.delay);const ai=xn!==$e,fi=function Ni(l){const h=[];return Ar(l,h),h}((u.get(xn)||Zi).map(zi=>zi.getRealPlayer())).filter(zi=>!!zi.element&&zi.element===xn),Xi=M.get(xn),Ei=ue.get(xn),Si=It(0,this._normalizer,0,Zn.keyframes,Xi,Ei),er=this._buildPlayer(Zn,Si,fi);if(Zn.subTimeline&&T&&an.add(xn),ai){const zi=new mo(h,ke,xn);zi.setRealPlayer(er),wt.push(zi)}return er});wt.forEach(Zn=>{Ve(this.playersByQueriedElement,Zn.element,[]).push(Zn),Zn.onDone(()=>function Or(l,h,n){let u=l.get(h);if(u){if(u.length){const T=u.indexOf(n);u.splice(T,1)}0==u.length&&l.delete(h)}return u}(this.playersByQueriedElement,Zn.element,Zn))}),Ut.forEach(Zn=>lr(Zn,lt));const An=Mt(yn);return An.onDestroy(()=>{Ut.forEach(Zn=>Qr(Zn,lt)),Pn($e,n.toStyles)}),an.forEach(Zn=>{Ve(T,Zn,[]).push(An)}),An}_buildPlayer(h,n,u){return n.length>0?this.driver.animate(h.element,n,h.duration,h.delay,h.easing,u):new b.ZN(h.duration,h.delay)}}class mo{constructor(h,n,u){this.namespaceId=h,this.triggerName=n,this.element=u,this._player=new b.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((n,u)=>{n.forEach(T=>Y(h,u,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const n=this._player;n.triggerCallback&&h.onStart(()=>n.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,n){Ve(this._queuedCallbacks,h,[]).push(n)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const n=this._player;n.triggerCallback&&n.triggerCallback(h)}}function Fi(l){return l&&1===l.nodeType}function Nr(l,h){const n=l.style.display;return l.style.display=h??"none",n}function si(l,h,n,u,T){const M=[];n.forEach($e=>M.push(Nr($e)));const ue=[];u.forEach(($e,wt)=>{const Ut=new Map;$e.forEach(an=>{const yn=h.computeStyle(wt,an,T);Ut.set(an,yn),(!yn||0==yn.length)&&(wt[Gr]=co,ue.push(wt))}),l.set(wt,Ut)});let ke=0;return n.forEach($e=>Nr($e,M[ke++])),ue}function Ls(l,h){const n=new Map;if(l.forEach(ke=>n.set(ke,[])),0==h.length)return n;const T=new Set(h),M=new Map;function ue(ke){if(!ke)return 1;let $e=M.get(ke);if($e)return $e;const wt=ke.parentNode;return $e=n.has(wt)?wt:T.has(wt)?1:ue(wt),M.set(ke,$e),$e}return h.forEach(ke=>{const $e=ue(ke);1!==$e&&n.get($e).push(ke)}),n}function lr(l,h){var n;null===(n=l.classList)||void 0===n||n.add(h)}function Qr(l,h){var n;null===(n=l.classList)||void 0===n||n.remove(h)}function uo(l,h,n){Mt(n).onDone(()=>l.processLeaveNode(h))}function Ar(l,h){for(let n=0;n<l.length;n++){const u=l[n];u instanceof b.ZE?Ar(u.players,h):h.push(u)}}function Rr(l,h,n){const u=n.get(l);if(!u)return!1;let T=h.get(l);return T?u.forEach(M=>T.add(M)):h.set(l,u),n.delete(l),!0}class _n{constructor(h,n,u){this.bodyNode=h,this._driver=n,this._normalizer=u,this._triggerCache={},this.onRemovalComplete=(T,M)=>{},this._transitionEngine=new Vi(h,n,u),this._timelineEngine=new wr(h,n,u),this._transitionEngine.onRemovalComplete=(T,M)=>this.onRemovalComplete(T,M)}registerTrigger(h,n,u,T,M){const ue=h+"-"+T;let ke=this._triggerCache[ue];if(!ke){const $e=[],Ut=ut(this._driver,M,$e,[]);if($e.length)throw function ce(l,h){return new e.vHH(3404,!1)}();ke=function Cr(l,h,n){return new cs(l,h,n)}(T,Ut,this._normalizer),this._triggerCache[ue]=ke}this._transitionEngine.registerTrigger(n,T,ke)}register(h,n){this._transitionEngine.register(h,n)}destroy(h,n){this._transitionEngine.destroy(h,n)}onInsert(h,n,u,T){this._transitionEngine.insertNode(h,n,u,T)}onRemove(h,n,u,T){this._transitionEngine.removeNode(h,n,T||!1,u)}disableAnimations(h,n){this._transitionEngine.markElementAsDisabled(h,n)}process(h,n,u,T){if("@"==u.charAt(0)){const[M,ue]=Be(u);this._timelineEngine.command(M,n,ue,T)}else this._transitionEngine.trigger(h,n,u,T)}listen(h,n,u,T,M){if("@"==u.charAt(0)){const[ue,ke]=Be(u);return this._timelineEngine.listen(ue,n,ke,M)}return this._transitionEngine.listen(h,n,u,T,M)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fs=(()=>{class l{constructor(n,u,T){this._element=n,this._startStyles=u,this._endStyles=T,this._state=0;let M=l.initialStylesByElement.get(n);M||l.initialStylesByElement.set(n,M=new Map),this._initialStyles=M}start(){this._state<1&&(this._startStyles&&Pn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pn(this._element,this._initialStyles),this._endStyles&&(Pn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(zn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zn(this._element,this._endStyles),this._endStyles=null),Pn(this._element,this._initialStyles),this._state=3)}}return l.initialStylesByElement=new WeakMap,l})();function di(l){let h=null;return l.forEach((n,u)=>{(function qi(l){return"display"===l||"position"===l})(u)&&(h=h||new Map,h.set(u,n))}),h}class Ie{constructor(h,n,u,T){this.element=h,this.keyframes=n,this.options=u,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=u.duration,this._delay=u.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const n=[];return h.forEach(u=>{n.push(Object.fromEntries(u))}),n}_triggerWebAnimation(h,n,u){return h.animate(this._convertKeyframesToObject(n),u)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((u,T)=>{"offset"!==T&&h.set(T,this._finished?u:yi(this.element,T))}),this.currentSnapshot=h}triggerCallback(h){const n="start"===h?this._onStartFns:this._onDoneFns;n.forEach(u=>u()),n.length=0}}class ge{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,n){return!1}containsElement(h,n){return te(h,n)}getParentElement(h){return je(h)}query(h,n,u){return B(h,n,u)}computeStyle(h,n,u){return window.getComputedStyle(h)[n]}animate(h,n,u,T,M,ue=[]){const $e={duration:u,delay:T,fill:0==T?"both":"forwards"};M&&($e.easing=M);const wt=new Map,Ut=ue.filter(An=>An instanceof Ie);(function vi(l,h){return 0===l||0===h})(u,T)&&Ut.forEach(An=>{An.currentSnapshot.forEach((Zn,xn)=>wt.set(xn,Zn))});let an=function ui(l){return l.length?l[0]instanceof Map?l:l.map(h=>qn(h)):[]}(n).map(An=>jt(An));an=function vr(l,h,n){if(n.size&&h.length){let u=h[0],T=[];if(n.forEach((M,ue)=>{u.has(ue)||T.push(ue),u.set(ue,M)}),T.length)for(let M=1;M<h.length;M++){let ue=h[M];T.forEach(ke=>ue.set(ke,yi(l,ke)))}}return h}(h,an,wt);const yn=function oi(l,h){let n=null,u=null;return Array.isArray(h)&&h.length?(n=di(h[0]),h.length>1&&(u=di(h[h.length-1]))):h instanceof Map&&(n=di(h)),n||u?new fs(l,n,u):null}(h,an);return new Ie(h,an,$e,yn)}}var ne=f(6895);let Xe=(()=>{class l extends b._j{constructor(n,u){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(u.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(n){const u=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(n)?(0,b.vP)(n):n;return Wi(this._renderer,null,u,"register",[T]),new nn(u,this._renderer)}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.FYo),e.LFG(ne.K0))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class nn extends b.LC{constructor(h,n){super(),this._id=h,this._renderer=n}create(h,n){return new Bn(this._id,h,n||{},this._renderer)}}class Bn{constructor(h,n,u,T){this.id=h,this.element=n,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",u)}_listen(h,n){return this._renderer.listen(this.element,`@@${this.id}:${h}`,n)}_command(h,...n){return Wi(this._renderer,this.element,this.id,h,n)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){var h,n;return null!==(h=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==h?h:0}}function Wi(l,h,n,u,T){return l.setProperty(h,`@@${n}:${u}`,T)}const Pr="@.disabled";let Yi=(()=>{class l{constructor(n,u,T){this.delegate=n,this.engine=u,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),u.onRemovalComplete=(M,ue)=>{const ke=ue?.parentNode(M);ke&&ue.removeChild(ke,M)}}createRenderer(n,u){const M=this.delegate.createRenderer(n,u);if(!(n&&u&&u.data&&u.data.animation)){let Ut=this._rendererCache.get(M);return Ut||(Ut=new mi("",M,this.engine),this._rendererCache.set(M,Ut)),Ut}const ue=u.id,ke=u.id+"-"+this._currentId;this._currentId++,this.engine.register(ke,n);const $e=Ut=>{Array.isArray(Ut)?Ut.forEach($e):this.engine.registerTrigger(ue,ke,n,Ut.name,Ut)};return u.data.animation.forEach($e),new Me(this,ke,M,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,u,T){n>=0&&n<this._microtaskId?this._zone.run(()=>u(T)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(M=>{const[ue,ke]=M;ue(ke)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([u,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.FYo),e.LFG(_n),e.LFG(e.R0b))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class mi{constructor(h,n,u){this.namespaceId=h,this.delegate=n,this.engine=u,this.destroyNode=this.delegate.destroyNode?T=>n.destroyNode(T):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(h,n){return this.delegate.createElement(h,n)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,n){this.delegate.appendChild(h,n),this.engine.onInsert(this.namespaceId,n,h,!1)}insertBefore(h,n,u,T=!0){this.delegate.insertBefore(h,n,u),this.engine.onInsert(this.namespaceId,n,h,T)}removeChild(h,n,u){this.engine.onRemove(this.namespaceId,n,this.delegate,u)}selectRootElement(h,n){return this.delegate.selectRootElement(h,n)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,n,u,T){this.delegate.setAttribute(h,n,u,T)}removeAttribute(h,n,u){this.delegate.removeAttribute(h,n,u)}addClass(h,n){this.delegate.addClass(h,n)}removeClass(h,n){this.delegate.removeClass(h,n)}setStyle(h,n,u,T){this.delegate.setStyle(h,n,u,T)}removeStyle(h,n,u){this.delegate.removeStyle(h,n,u)}setProperty(h,n,u){"@"==n.charAt(0)&&n==Pr?this.disableAnimations(h,!!u):this.delegate.setProperty(h,n,u)}setValue(h,n){this.delegate.setValue(h,n)}listen(h,n,u){return this.delegate.listen(h,n,u)}disableAnimations(h,n){this.engine.disableAnimations(h,n)}}class Me extends mi{constructor(h,n,u,T){super(n,u,T),this.factory=h,this.namespaceId=n}setProperty(h,n,u){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Pr?this.disableAnimations(h,u=void 0===u||!!u):this.engine.process(this.namespaceId,h,n.slice(1),u):this.delegate.setProperty(h,n,u)}listen(h,n,u){if("@"==n.charAt(0)){const T=function Je(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(h);let M=n.slice(1),ue="";return"@"!=M.charAt(0)&&([M,ue]=function At(l){const h=l.indexOf(".");return[l.substring(0,h),l.slice(h+1)]}(M)),this.engine.listen(this.namespaceId,T,M,ue,ke=>{this.factory.scheduleListenerCallback(ke._data||-1,u,ke)})}return this.delegate.listen(h,n,u)}}const dn=[{provide:b._j,useClass:Xe},{provide:sr,useFactory:function Jt(){return new Gn}},{provide:_n,useClass:(()=>{class l extends _n{constructor(n,u,T,M){super(n.body,u,T)}ngOnDestroy(){this.flush()}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ne.K0),e.LFG(tt),e.LFG(sr),e.LFG(e.z2F))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})()},{provide:e.FYo,useFactory:function Vt(l,h,n){return new Yi(l,h,n)},deps:[t.se,_n,e.R0b]}],bn=[{provide:tt,useFactory:()=>new ge},{provide:e.QbO,useValue:"BrowserAnimations"},...dn],Yn=[{provide:tt,useClass:Re},{provide:e.QbO,useValue:"NoopAnimations"},...dn];let Kn=(()=>{class l{static withConfig(n){return{ngModule:l,providers:n.disableAnimations?Yn:bn}}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:bn,imports:[t.b2]}),l})();var ji=f(7185),ni=f(8185),Co=f(6055),Xs=f(4128),he=f(9300),Pe=f(5698);const Ce="7.1.1";var ze=f(2976),vt=f(8176),Xt=f(5259),sn=f(5373),$t=f(1206),Ui=f(1837),bi=f(5188),gi=f(1060),mn=f(9383),hi=f(2979),Ri=f(4946),gr=f(1228),_r=f(4961),ir=f(6219),Bs=f(5834);let Vr=(()=>{class l{constructor(){let n=new Bs.UAParser,u=n.getBrowser(),T=n.getOS();this.browserName=u.name,this.browserVersion=u.major,this.browserVersionToInt=parseInt(u.major),this.operatingSystem=T.name,this.operatingSystemVersion=T.version}validBrowser(){switch(this.browserName){case Sr.InternetExplorer:return this.verifyInternetExplorer();case Sr.Edge:return this.verifyEdge();case Sr.Firefox:return this.verifyFirefox();case Sr.Chrome:return this.verifyChrome();case Sr.Safari:case Sr.MobileSafari:return this.verifySafari();case Sr.Opera:case Sr.OperaMobile:return this.verifyOpera();case Sr.SamsungBrowser:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==xs.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==xs.Android||this.operatingSystem==xs.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==xs.Android||this.operatingSystem==xs.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const n=parseFloat(this.operatingSystemVersion);return this.browserName==Sr.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&n>=10.14}verifyOpera(){return this.browserName==Sr.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),Sr=(()=>{class l{}return l.InternetExplorer="IE",l.Edge="Edge",l.Firefox="Firefox",l.Chrome="Chrome",l.Safari="Safari",l.MobileSafari="Mobile Safari",l.Opera="Opera",l.OperaMobile="Opera Mobi",l.SamsungBrowser="Samsung Browser",l})(),xs=(()=>{class l{}return l.Windows="Windows",l.Android="Android",l.ApplePhone="iOS",l})();var eo=f(9455),Vo=f(7047),Es=f(9881),io=f(965);const bo=["resourcesMenu"],jo=["sameSiteBrowserNotification"],Lr=["defaultUserResolveButton"];function ms(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",17,18),e.ALo(2,"translate"),e.TgZ(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"b",23),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",24),e.NdJ("click",function(){e.CHM(n);const T=e.oxw(2);return e.KtG(T.closeSameSiteBrowserNotification())}),e.TgZ(11,"b"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()()()}2&l&&(e.uIk("aria-label",e.lcZ(2,3,"Nav.Account")),e.xp6(8),e.hij(" ",e.lcZ(9,5,"Common.SameSiteCookiesBannerError")," "),e.xp6(4),e.Oqu(e.lcZ(13,7,"Common.Close")))}function wo(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",25),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"b",23),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",26,27),e.NdJ("click",function(){e.CHM(n);const T=e.oxw(2);return e.KtG(T.defaultUserDeleteConfirmation())}),e.TgZ(11,"b"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()()()}2&l&&(e.uIk("aria-label",e.lcZ(1,3,"Nav.Account")),e.xp6(7),e.hij(" ",e.lcZ(8,5,"InitialAdminCreation.ReminderMessage")," "),e.xp6(5),e.Oqu(e.lcZ(13,7,"InitialAdminCreation.Resolve")))}function ds(l,h){if(1&l&&(e.TgZ(0,"nav",28),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",29)(6,"b",23),e._uU(7),e.qZA()()()()()()),2&l){const n=e.oxw(2);e.uIk("aria-label",e.lcZ(1,2,"Nav.Account")),e.xp6(7),e.hij(" ",n.licenseIsInStarterModeMessage," ")}}function Ds(l,h){if(1&l&&(e.TgZ(0,"nav",30),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"b",23),e._uU(7),e.qZA()()()()()()),2&l){const n=e.oxw(2);e.uIk("aria-label",e.lcZ(1,2,"Nav.Account")),e.xp6(7),e.hij(" ",n.licenseIsInGracePeriodMessage," ")}}function To(l,h){if(1&l&&(e.TgZ(0,"div",12),e.YNc(1,ms,14,9,"nav",13),e.YNc(2,wo,14,9,"nav",14),e.YNc(3,ds,8,4,"nav",15),e.YNc(4,Ds,8,4,"nav",16),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.noSameSiteSupport),e.xp6(1),e.Q6J("ngIf",n.defaultUserExists),e.xp6(1),e.Q6J("ngIf",n.licenseIsInStarterMode),e.xp6(1),e.Q6J("ngIf",n.licenseIsInGracePeriod)}}const Ko=function(l,h){return{"tw-opacity-75":l,"tw-pill-info":h}};function Us(l,h){if(1&l&&(e.TgZ(0,"div",39),e._uU(1),e.qZA()),2&l){const n=e.oxw(2);e.Q6J("ngClass",e.WLB(2,Ko,n.securityService.isNonProd(),!n.securityService.isNonProd())),e.xp6(1),e.hij(" ",n.securityService.licenseType," ")}}function Br(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",31),e.ALo(1,"translate"),e.TgZ(2,"div",19)(3,"div",32),e.YNc(4,Us,2,5,"div",33),e.TgZ(5,"div",34),e._UZ(6,"span",35),e.TgZ(7,"span",36),e._uU(8),e.qZA(),e.TgZ(9,"span",37),e._uU(10,"\u2022"),e.qZA()(),e.TgZ(11,"button",38),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.logoff())}),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw();e.uIk("aria-label",e.lcZ(1,4,"Nav.Account")),e.xp6(4),e.Q6J("ngIf","Legacy"!=n.securityService.organisation),e.xp6(4),e.Oqu(n.authService.user),e.xp6(4),e.hij(" ",e.lcZ(13,6,"Nav.Logout")," ")}}function $o(l,h){1&l&&e._UZ(0,"span",52)}function ro(l,h){1&l&&e._UZ(0,"span",53)}function ho(l,h){1&l&&e._UZ(0,"div",59)}function to(l,h){1&l&&e.GkF(0)}function ua(l,h){1&l&&e.GkF(0)}function _o(l,h){1&l&&e.GkF(0)}function zo(l,h){1&l&&e.GkF(0)}function Ao(l,h){1&l&&e.GkF(0)}function pi(l,h){1&l&&e.GkF(0)}function Ks(l,h){1&l&&e.GkF(0)}const No=function(l){return{title:l,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/identityresources",display:!0}},Ee=function(l){return{title:l,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/protectedresources",display:!0}};function W(l,h){if(1&l&&(e.TgZ(0,"li",60,61)(2,"button",62)(3,"span",63),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"span",64),e.qZA(),e.TgZ(7,"nav",65),e.ALo(8,"translate"),e.TgZ(9,"ul",66),e.YNc(10,pi,1,0,"ng-container",9),e.ALo(11,"translate"),e.YNc(12,Ks,1,0,"ng-container",9),e.ALo(13,"translate"),e.qZA()()()),2&l){const n=e.oxw(3),u=e.MAs(7);e.xp6(2),e.ekj("tw-nav-active",n.isActiveResourceRoute()),e.xp6(2),e.Oqu(e.lcZ(5,8,"Nav.Resources")),e.xp6(3),e.uIk("aria-label",e.lcZ(8,10,"Nav.Resources")),e.xp6(3),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.VKq(16,No,e.lcZ(11,12,"Nav.IdentityResources"))),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.VKq(18,Ee,e.lcZ(13,14,"Nav.ProtectedResources")))}}function Ae(l,h){1&l&&e.GkF(0)}function Ue(l,h){1&l&&e.GkF(0)}function mt(l,h){1&l&&e.GkF(0)}const Lt=function(l){return{title:l,classes:"lg:tw-hidden",activeClass:"tw-nav-active",route:"/home",display:!0}},Nt=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/users",display:h}},Qt=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/roles",display:h}},pe=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/claim-types",display:h}},nt=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/clients",display:h}},le=function(l,h){return{title:l,id:"tabDynamicAuth",classes:"",activeClass:"tw-nav-active",route:"/dynamic-auth",display:h,starterUpgrade:!0}},Le=function(l,h){return{title:l,id:"tabAudit",classes:"",activeClass:"tw-nav-active",route:"/auditing",display:h,starterUpgrade:!0}},Bt=function(l,h){return{title:l,classes:"",activeClass:"tw-nav-active",route:"/settings/accesspolicy",display:h}};function on(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"nav",54),e.YNc(1,ho,1,0,"div",55),e.TgZ(2,"ul",42),e.YNc(3,to,1,0,"ng-container",9),e.ALo(4,"translate"),e.YNc(5,ua,1,0,"ng-container",9),e.ALo(6,"translate"),e.YNc(7,_o,1,0,"ng-container",9),e.ALo(8,"translate"),e.YNc(9,zo,1,0,"ng-container",9),e.ALo(10,"translate"),e.YNc(11,Ao,1,0,"ng-container",9),e.ALo(12,"translate"),e.YNc(13,W,14,20,"li",56),e.YNc(14,Ae,1,0,"ng-container",9),e.ALo(15,"translate"),e.YNc(16,Ue,1,0,"ng-container",9),e.ALo(17,"translate"),e.YNc(18,mt,1,0,"ng-container",9),e.ALo(19,"translate"),e.TgZ(20,"li",57)(21,"button",58),e.NdJ("click",function(){e.CHM(n);const T=e.oxw(2);return e.KtG(T.logoff())}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw(2),u=e.MAs(7);e.xp6(1),e.Q6J("ngIf",!n.healthCheckService.uiReady),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.VKq(37,Lt,e.lcZ(4,19,"Nav.Home"))),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.WLB(39,Nt,e.lcZ(6,21,"Nav.Users"),n.securityService.userManagerView||n.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.WLB(42,Qt,e.lcZ(8,23,"Nav.Roles"),n.securityService.userManagerView||n.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.WLB(45,pe,e.lcZ(10,25,"Nav.ClaimTypes"),n.securityService.userManagerView||n.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.WLB(48,nt,e.lcZ(12,27,"Nav.Clients"),n.securityService.identityServerManagerView||n.securityService.identityServerManagerReadOnlyView)),e.xp6(2),e.Q6J("ngIf",n.securityService.identityServerManagerView||n.securityService.identityServerManagerReadOnlyView),e.xp6(1),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.WLB(51,le,e.lcZ(15,29,"Nav.DynamicAuth"),(n.securityService.identityServerManagerView||n.securityService.identityServerManagerReadOnlyView)&&n.dynamicAuthEnabled)),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.WLB(54,Le,e.lcZ(17,31,"Nav.Auditing"),n.securityService.auditerView)),e.xp6(2),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.WLB(57,Bt,e.lcZ(19,33,"Nav.Settings"),n.securityService.allView)),e.xp6(4),e.hij(" ",e.lcZ(23,35,"Logout")," ")}}const Un=function(l){return[l]};function wi(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"header",40),e.NdJ("resize",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.detectSize())},!1,e.Jf7),e.TgZ(1,"div",41)(2,"div",42)(3,"h2",43),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",44)(7,"a",45),e.ALo(8,"localize"),e._UZ(9,"img",46),e.TgZ(10,"span",47),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"button",48),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.menuToggle())}),e.TgZ(14,"span",47),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,$o,1,0,"span",49),e.YNc(18,ro,1,0,"span",50),e.qZA()(),e.YNc(19,on,24,60,"nav",51),e.qZA()()()}if(2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"Nav.Menu")),e.xp6(3),e.Q6J("routerLink",e.VKq(18,Un,e.lcZ(8,12,"/home"))),e.xp6(4),e.Oqu(e.lcZ(12,14,"Nav.Home")),e.xp6(2),e.ekj("tw-bg-primary-700",n.openMenu),e.uIk("aria-expanded",1==n.openMenu),e.xp6(2),e.Oqu(e.lcZ(16,16,"Nav.ToggleNavigation")),e.xp6(2),e.Q6J("ngIf",!n.openMenu),e.xp6(1),e.Q6J("ngIf",n.openMenu),e.xp6(1),e.Q6J("ngIf",n.openMenu&&n.appComponentViewConfig.showNav&&!n.expectingStarterModeConsent)}}function ls(l,h){1&l&&(e.TgZ(0,"div",71)(1,"span",47),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"span",72),e.qZA()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"StarterMode.RequiresUpgrade")))}const qr=function(l,h){return{"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":l,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":h}};function xr(l,h){if(1&l&&(e.TgZ(0,"li",68)(1,"a",69),e.ALo(2,"localize"),e._uU(3),e.YNc(4,ls,5,3,"div",70),e.qZA()()),2&l){const n=e.oxw(),u=n.classes,T=n.id,M=n.sub,ue=n.activeClass,ke=n.route,$e=n.title,wt=n.starterUpgrade,Ut=e.oxw();e.Tol(u),e.Q6J("id",T),e.xp6(1),e.Q6J("ngClass",e.WLB(10,qr,M,!M))("routerLinkActive",ue)("routerLink",e.VKq(13,Un,e.lcZ(2,8,ke))),e.xp6(2),e.hij(" ",$e," "),e.xp6(1),e.Q6J("ngIf",wt&&Ut.licenseIsInStarterMode)}}function So(l,h){1&l&&e.YNc(0,xr,5,15,"li",67),2&l&&e.Q6J("ngIf",h.display)}function gs(l,h){1&l&&(e.TgZ(0,"div",73)(1,"div",74)(2,"div")(3,"h1",75),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"Errors.Unauthorized")),e.xp6(3),e.Oqu(e.lcZ(8,4,"Errors.ContactAdmin")))}function xo(l,h){1&l&&e._UZ(0,"router-outlet")}function $s(l,h){1&l&&e.GkF(0)}function so(l,h){if(1&l&&(e.TgZ(0,"div",77)(1,"div",78),e._UZ(2,"span",79),e.TgZ(3,"span",80)(4,"b"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._uU(7),e.qZA()()()),2&l){const n=e.oxw(),T=n.text;e.Q6J("@fadeInOut",n.check),e.xp6(5),e.hij("",e.lcZ(6,3,"Common.Loading"),":"),e.xp6(2),e.hij(" ",T," ")}}function Fs(l,h){1&l&&e.YNc(0,so,8,5,"div",76),2&l&&e.Q6J("ngIf",h.check)}function Ro(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"footer",81)(1,"button",82),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.jumpToTop())}),e._UZ(2,"span",83),e.TgZ(3,"span",47),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",84)(7,"div",85)(8,"p",86)(9,"span",87),e._uU(10),e.qZA(),e._uU(11),e.TgZ(12,"a",88),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"ul",89)(16,"li",90)(17,"a",91),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"span",92),e._uU(21,"\u2022"),e.qZA()(),e.TgZ(22,"li",20)(23,"a",93),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()()()}if(2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Nav.ToTop")),e.xp6(6),e.hij("AdminUI ",n.versionNumber,""),e.xp6(1),e.hij(" \xa9 ",n.appCopyright," "),e.xp6(2),e.hij(" ",e.lcZ(14,8,"Common.CompanyName")," "),e.xp6(5),e.hij(" ",e.lcZ(19,10,"LandingPage.Documentation")," "),e.xp6(6),e.hij(" ",e.lcZ(25,12,"Nav.Support")," ")}}const da=function(l){return{text:"IdentityServer",check:l}};let me=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt,Ut,an,yn,An,Zn,xn){this.securityService=n,this.translate=u,this.localizeRouter=T,this.toastr=M,this.router=ue,this.healthCheckService=ke,this.authService=$e,this.userService=wt,this.localizeParser=Ut,this.modalService=an,this.browserSameSiteService=yn,this.appComponentViewService=An,this.licenseService=Zn,this.configService=xn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[Xt.n.Save],ue.events.pipe((0,he.h)(fi=>fi instanceof ni.m2)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Ce}),Ui.Zr.defaultLocale="utc",Ui.Zr.defaultZone="utc";const Qn=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",Qn);const ai=new Date;this.appCopyright="2017 - "+ai.getFullYear()}ngOnInit(){if(this.detectSize(),this.configService.getConfig().subscribe({next:u=>{this.dynamicAuthEnabled=u.featureFlagOptions.dynamicAuthenticationFlag!=bi.u.Disabled}}),this.router.events.subscribe(u=>{this.desktop||(this.openMenu=!1)}),this.appViewComponentSubscription=this.appComponentViewService.viewConfig$.subscribe(u=>{this.appComponentViewConfig=u}),this.healthCheckService.checkHealthUi().pipe((0,Pe.q)(1)).subscribe({next:u=>{this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof u&&!(0,vt.Ew)(u)&&this.toastr.warning(u,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),(0,Xs.D)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(T=>{T.authentication.isAuthenticated&&T.authentication.username!=sn.n.DefaultAdministratorUsername&&T.permissions.includes($t.y[$t.y.All])&&this.userService.defaultUserExists().subscribe(M=>{this.defaultUserExists=M})}),this.licenseService.getLicenseInfo().subscribe(T=>{if(this.licenseIsInStarterMode=T.isStarterLicense(),this.expectingStarterModeConsent=T.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=T.isInGracePeriod,this.licenseIsInGracePeriod){const M=(0,vt.X1)(T.gracePeriodExpiry,"ccc LLL dd yyyy, T");let ue=this.translate.instant("Common.LicenseIsInGracePeriod");ue=ue.replace("{0}",M),this.licenseIsInGracePeriodMessage=ue}})},error:u=>{this.healthCheckService.uiHealthCheckComplete.next(!0);const T=this.getHealthCheckError(u);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:T?` (${T})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}),this.healthCheckService.checkHealthIdentityServer().pipe((0,Pe.q)(1)).subscribe(u=>{this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)},u=>{this.healthCheckService.idsHealthCheckComplete.next(!0);const T=this.getHealthCheckError(u);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:ze.de.checkHealthIdentityServerDocs,error:T?` (${T})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const u={link:ze.de.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",u),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe(()=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},n=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.appViewComponentSubscription&&this.appViewComponentSubscription.unsubscribe()}isActive(n,u=!1){return this.router.isActive(n,u)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const n=window.matchMedia("(min-width: 1024px)");n.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!n.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(n){if(!n)return"";const u=n.error;if(u){if("string"==typeof u)return u;if(u.errors&&u.errors.length>0)return u.errors[0]}return n.message?n.message:n.statusText?n.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(gi.I),e.Y36(mn.sK),e.Y36(hi.An),e.Y36(ji._W),e.Y36(ni.F0),e.Y36(Ri.G),e.Y36(gr.e),e.Y36(_r.K),e.Y36(hi.DJ),e.Y36(ir.Z),e.Y36(Vr),e.Y36(eo.t),e.Y36(Vo.E),e.Y36(Es.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-root"]],viewQuery:function(n,u){if(1&n&&(e.Gf(bo,5),e.Gf(jo,5),e.Gf(Lr,5)),2&n){let T;e.iGM(T=e.CRH())&&(u.resourcesMenu=T.first),e.iGM(T=e.CRH())&&(u.sameSiteBrowserNotification=T.first),e.iGM(T=e.CRH())&&(u.defaultUserResolveButton=T.first)}},decls:18,vars:18,consts:[["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["commonNavItem",""],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"actions","title","modalId","saveText","onSave","onCancel"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["commonLoader",""],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],[1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],["sameSiteBrowserNotification",""],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],[1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["defaultUserResolveButton",""],["id","licenseStarterModeNotification",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],["class","tw-relative",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[1,"tw-relative"],["resourcesMenu",""],["id","menuResourcesToggle","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","dropdown-toggle","trans"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],[1,"tw-bg-primary-800","tw-relative","lg:tw-bg-primary-500","lg:tw-absolute","dropdown-menu"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["id","upgradeSymbol","class","tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],["id","upgradeSymbol",1,"tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"]],template:function(n,u){if(1&n&&(e.TgZ(0,"a",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,To,5,4,"div",1),e.YNc(4,Br,14,8,"nav",2),e.YNc(5,wi,20,20,"header",3),e.YNc(6,So,1,1,"ng-template",null,4,e.W1O),e.TgZ(8,"main",5)(9,"app-custom-modal",6),e.NdJ("onSave",function(){return u.removeDefaultUser()})("onCancel",function(){return u.cancelDefaultUserDelete()}),e.TgZ(10,"p"),e._uU(11," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.qZA()(),e.YNc(12,gs,9,6,"div",7),e.YNc(13,xo,1,0,"router-outlet",8),e.qZA(),e.YNc(14,$s,1,0,"ng-container",9),e.YNc(15,Fs,1,1,"ng-template",null,10,e.W1O),e.YNc(17,Ro,26,14,"footer",11)),2&n){const T=e.MAs(16);e.Q6J("href",u.skipLinkPath,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(2,14,"Nav.SkipToContent"),"\n"),e.xp6(2),e.Q6J("ngIf",u.appComponentViewConfig.showNav),e.xp6(1),e.Q6J("ngIf",u.appComponentViewConfig.showBanner),e.xp6(1),e.Q6J("ngIf",u.appComponentViewConfig.showNav),e.xp6(4),e.Q6J("actions",u.resolveModalActions)("title","Remove Default Administrator")("modalId",u.defaultUserRemovalModalId)("saveText","Remove User"),e.xp6(3),e.Q6J("ngIf",u.securityService.noPermissions),e.xp6(1),e.Q6J("ngIf",!u.securityService.noPermissions),e.xp6(1),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.VKq(16,da,!u.healthCheckService.idsReady)),e.xp6(3),e.Q6J("ngIf",u.appComponentViewConfig.showFooter)}},dependencies:[ni.lC,ni.yS,ni.Od,ne.mk,ne.O5,ne.tP,io.R,mn.X$,hi.lO],encapsulation:2,data:{animation:[(0,Co.zS)(),(0,Co.Ic)()]}}),l})();var Tt=f(2320),j=f(5241),Se=f(9241),Rt=f(388);let On=(()=>{class l{}return l.DocsLink="documentation/index.html",l.ApiDocsLink="swagger",l.SupportLink="mailto:support@identityserver.com?subject=AdminUI",l})();var Wn=f(765);class or{constructor(){this.rss=new Ur,this.rss.channel=new ha,this.rss.channel.item=new Array}}class Ur{}class ha{}class Go{}var pa=f(317),Qo=f(5925);function Sd(l,h){1&l&&(e.TgZ(0,"div",6),e._UZ(1,"app-simple-loader"),e.qZA())}function Is(l,h){if(1&l&&(e.TgZ(0,"li",8)(1,"a",9)(2,"h3",10),e._uU(3),e.qZA(),e.TgZ(4,"span",11),e._uU(5),e.qZA(),e.TgZ(6,"p",12),e._uU(7),e.qZA()()()),2&l){const n=h.$implicit,u=e.oxw(2);e.xp6(1),e.Q6J("href",u.domSanitizer.bypassSecurityTrustUrl(n.link),e.LSH),e.xp6(2),e.Oqu(n.title),e.xp6(2),e.Oqu(n.pubDate),e.xp6(2),e.Oqu(n.description)}}function fa(l,h){if(1&l&&(e.TgZ(0,"ul"),e.YNc(1,Is,8,4,"li",7),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==n.dto?null:n.dto.rss.channel.item)}}const qo=function(l,h){return{"tw-bg-white":l,"tw-bg-grey-100":h}};let fu=(()=>{class l{constructor(n,u,T){this.http=n,this.domSanitizer=u,this.translate=T,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new Go}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new w.WM({Accept:"application/xml"}),responseType:"text"}).subscribe(n=>{this.dto=(new pa).xml2js(n),Object.setPrototypeOf(this.dto,or.prototype),this.dto.rss.channel.item.forEach(u=>{u.pubDate=this.formatDate(u.pubDate)}),this.isLoading=!1},n=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new or,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(n){return n?Ui.ou.fromHTTP(n).toFormat("DD"):""}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(w.eN),e.Y36(t.H7),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"h2",1),e._UZ(2,"span",2),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3),e.YNc(7,Sd,2,0,"div",4),e.YNc(8,fa,2,1,"ul",5),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,4,"LandingPage.LatestNews")),e.xp6(2),e.Q6J("ngClass",e.WLB(6,qo,!u.altTheme,u.altTheme)),e.xp6(1),e.Q6J("ngIf",u.isLoading),e.xp6(1),e.Q6J("ngIf",!u.isLoading))},dependencies:[ne.mk,ne.sg,ne.O5,Qo.w,mn.X$],encapsulation:2}),l})();function mu(l,h){if(1&l&&(e.TgZ(0,"li",16)(1,"span",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",19),e._uU(5),e.qZA()()),2&l){const n=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"Index.LicensedTo")),e.xp6(3),e.hij(" ",n.securityService.organisation," ")}}const oo=function(l,h){return{"tw-pill":l,"tw-pill-info":h}};function Yo(l,h){if(1&l&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.YNc(5,mu,6,4,"li",15),e.TgZ(6,"li",16)(7,"span",17),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",18),e._uU(11),e.qZA()()()()()()()),2&l){const n=e.oxw();e.xp6(5),e.Q6J("ngIf",n.securityService.organisation),e.xp6(3),e.Oqu(e.lcZ(9,4,"Index.LicenseType")),e.xp6(2),e.Q6J("ngClass",e.WLB(6,oo,n.isNonProd(),!n.isNonProd())),e.xp6(1),e.hij(" ",n.securityService.licenseType," ")}}function al(l,h){1&l&&e.GkF(0)}function Ga(l,h){1&l&&e.GkF(0)}function Fe(l,h){1&l&&e.GkF(0)}function s(l,h){if(1&l&&(e.TgZ(0,"li",20)(1,"a",21),e._UZ(2,"span",22),e.TgZ(3,"span",23),e._uU(4),e.qZA()()()),2&l){const n=h.title,u=h.link,T=h.icon;e.xp6(1),e.Q6J("href",u,e.LSH),e.xp6(1),e.Gre("",T," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.xp6(2),e.Oqu(n)}}const c=function(l,h){return{title:l,link:h,icon:"fad fa-file fa-swap-opacity"}},v=function(l,h){return{title:l,link:h,icon:"fad fa-file-code fa-swap-opacity"}},S=function(l,h){return{title:l,link:h,icon:"fad fa-envelope fa-swap-opacity"}};let D=(()=>{class l{constructor(n,u){this.titleService=n,this.securityService=u,this.titleService.setTitle(`Home - ${ze.de.SITE_TITLE}`)}get LinkConstants(){return On}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===Wn.o.Demo}isNonProd(){return this.securityService.licenseType!==Wn.o.Production}isLegacy(){return"Legacy"===this.securityService.organisation}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(gi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-index"]],decls:18,vars:25,consts:[[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],["commonDocsButton",""],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(n,u){if(1&n&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Yo,12,9,"div",1),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"ul",5),e.YNc(8,al,1,0,"ng-container",6),e.ALo(9,"translate"),e.YNc(10,Ga,1,0,"ng-container",6),e.ALo(11,"translate"),e.YNc(12,Fe,1,0,"ng-container",6),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",7),e._UZ(15,"app-rss-feed",8),e.qZA()(),e.YNc(16,s,5,5,"ng-template",null,9,e.W1O)),2&n){const T=e.MAs(17);e.xp6(1),e.Oqu(e.lcZ(2,8,"Common.AppName")),e.xp6(2),e.Q6J("ngIf",!u.isLegacy()),e.xp6(5),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.WLB(16,c,e.lcZ(9,10,"LandingPage.Documentation"),u.LinkConstants.DocsLink)),e.xp6(2),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.WLB(19,v,e.lcZ(11,12,"LandingPage.APIDocs"),u.LinkConstants.ApiDocsLink)),e.xp6(2),e.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",e.WLB(22,S,e.lcZ(13,14,"Nav.Support"),u.LinkConstants.SupportLink))}},dependencies:[ne.mk,ne.O5,ne.tP,fu,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Z=f(7579),re=f(4004),de=f(8372),Oe=f(1884),gt=f(3635),Dt=f(8675),Ht=f(5577),pn=f(9883),Tn=f(4889),Ti=f(2294),Hi=f(7696),dr=f(8163);let ys=(()=>{class l{constructor(){this.placeholder=null,this.onSearch=new e.vpe}search(n){this.onSearch.emit(n.target.value)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onSearch:"onSearch"},decls:8,vars:4,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"placeholder","keyup"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._UZ(3,"span",3),e.TgZ(4,"span",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"input",5),e.NdJ("keyup",function(M){return u.search(M)}),e.qZA()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Common.Search")),e.xp6(2),e.Q6J("placeholder",u.placeholder))},dependencies:[mn.X$],encapsulation:2}),l})();class Ms{constructor(){this.selected=!1}}var Hr=f(7608);const Kr=["addRoleModal"],Zs=function(){return{animated:!1,backdrop:"static"}};let Ua=(()=>{class l{constructor(n,u,T,M,ue,ke){this.rolesService=n,this.errorService=u,this.translate=T,this.router=M,this.fb=ue,this.toastr=ke,this.added=new e.vpe}keydown(n){"Enter"===n.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",m.kI.required],description:["",m.kI.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let n=new Ms;n=this.addRoleForm.value,n.name=n.name.trim(),this.rolesService.addRole(n).subscribe(u=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+n.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},u=>{this.errorService.handleError(u)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(pn.f),e.Y36(Tn.T),e.Y36(mn.sK),e.Y36(ni.F0),e.Y36(m.QS),e.Y36(ji._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-role"]],viewQuery:function(n,u){if(1&n&&e.Gf(Kr,7),2&n){let T;e.iGM(T=e.CRH())&&(u.addRoleModal=T.first)}},hostBindings:function(n,u){1&n&&e.NdJ("keydown",function(M){return u.keydown(M)},!1,e.evT)},outputs:{added:"added"},decls:33,vars:26,consts:[["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addRoleModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return u.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"app-form-row",13),e._UZ(18,"textarea",14),e.qZA()()(),e._UZ(19,"div",15),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.NdJ("click",function(){return u.addRole(),u.hide()}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"span",20)(27,"button",21),e.NdJ("click",function(){return u.addAnotherRole()}),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.TgZ(30,"button",22),e.NdJ("click",function(){return u.hide()}),e._uU(31),e.ALo(32,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(25,Zs)),e.xp6(6),e.Oqu(e.lcZ(7,15,"Roles.NewRole")),e.xp6(5),e.Oqu(e.lcZ(12,17,"Common.Close")),e.xp6(3),e.Q6J("formGroup",u.addRoleForm),e.xp6(1),e.Q6J("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.xp6(2),e.Q6J("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.xp6(6),e.Q6J("disabled",!u.addRoleForm.valid),e.xp6(1),e.Oqu(e.lcZ(25,19,"Common.Save")),e.xp6(3),e.Q6J("disabled",!u.addRoleForm.valid),e.xp6(1),e.Oqu(e.lcZ(29,21,"Common.SaveAndAdd")),e.xp6(3),e.Oqu(e.lcZ(32,23,"Common.Cancel")))},dependencies:[m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,Rt.oB,Hr.L,mn.X$],encapsulation:2}),l})();function xd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(n),e.oxw();const T=e.MAs(3);return e.KtG(T.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Roles.AddRole")," "))}function wa(l,h){1&l&&e._UZ(0,"app-simple-loader")}function ll(l,h){1&l&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Roles.NoRolesFound")))}function gu(l,h){1&l&&e._UZ(0,"span",23)}function ko(l,h){1&l&&e._UZ(0,"span",24)}function $r(l,h){1&l&&(e.TgZ(0,"span",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function ma(l,h){1&l&&(e.TgZ(0,"span",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const is=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function Qa(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",25)(1,"td",26),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditRole(M))}),e.TgZ(2,"b",27),e._uU(3),e.qZA()(),e.TgZ(4,"td",28),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditRole(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",29),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditRole(M))}),e.YNc(7,$r,3,3,"span",30),e.qZA(),e.TgZ(8,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditRole(M))}),e.YNc(9,ma,3,3,"span",32),e.qZA(),e.TgZ(10,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditRole(M))}),e.TgZ(11,"button",34),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditRole(M))}),e._UZ(12,"span",35),e.TgZ(13,"span",19),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,u=e.oxw(2);e.xp6(3),e.Oqu(n.name),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",u.isPolicyRole(n)),e.xp6(2),e.Q6J("ngIf",n.reserved),e.xp6(3),e.Q6J("ngClass",e.WLB(8,is,!u.isUserManagerReadOnly,u.isUserManagerReadOnly)),e.xp6(2),e.Oqu(e.lcZ(15,6,"Common.Edit"))}}function _u(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.sort())}),e.TgZ(4,"span",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,gu,1,0,"span",15),e.YNc(8,ko,1,0,"span",16),e.qZA(),e.TgZ(9,"th",17),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",18)(13,"span",19),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",20)(17,"span",19),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"th",21)(21,"span",19),e._uU(22),e.ALo(23,"translate"),e.qZA()()()(),e.TgZ(24,"tbody"),e.YNc(25,Qa,16,11,"tr",22),e.qZA()()}if(2&l){const n=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,8,"Common.Name")),e.xp6(2),e.Q6J("ngIf",n.sortIcon),e.xp6(1),e.Q6J("ngIf",!n.sortIcon),e.xp6(2),e.hij(" ",e.lcZ(11,10,"Common.Description")," "),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Policy")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(23,16,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.roles)}}function cl(l,h){if(1&l&&e._UZ(0,"app-pager",38),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.roles?null:n.roles.length)}}let ga=(()=>{class l{constructor(n,u,T,M,ue,ke,$e){this.rolesService=n,this.securityService=u,this.translate=T,this.router=M,this.titleService=ue,this.localize=ke,this.errorService=$e,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new Z.x,this.sortStream=new Z.x}ngOnInit(){const n=this.translate.instant("Nav.Roles")+" - "+ze.de.SITE_TITLE;this.titleService.setTitle(n),this.isLoading=!0;const u=this.sortStream.pipe((0,re.U)(ue=>({search:this.term,sort:ue})));this.searchTermStream.pipe((0,de.b)(300),(0,Oe.x)(),(0,re.U)(ue=>(this.term=ue,{search:ue,sort:this.sortCriteria}))).pipe((0,gt.b)(u),(0,Dt.O)({search:this.term,sort:this.sortCriteria}),(0,Ht.z)(ue=>this.rolesService.getRoles(ue.search,ue.sort))).subscribe({next:ue=>{this.roles=ue,this.isLoading=!1},error:ue=>{this.errorService.handleError(ue),this.isLoading=!1}})}search(n){this.searchTermStream.next(n)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(n){this.isUserManagerReadOnly?this.viewRole(n):this.editRole(n)}editRole(n){const u=[this.localize.translateRoute("/roles"),n.id];this.router.navigate(u)}viewRole(n){const u=[this.localize.translateRoute("/roles/view"),n.id];this.router.navigate(u)}allowedToEditRole(n){return!this.securityService.allView&&this.isPolicyRole(n)}isPolicyRole(n){const u=this.securityService.policyClaims;for(let T=0;T<u.length;T++)if("role"===u[T].type&&u[T].value===n.name)return!0;return!1}get isUserManagerReadOnly(){return(0,vt.ub)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(pn.f),e.Y36(gi.I),e.Y36(mn.sK),e.Y36(ni.F0),e.Y36(t.Dx),e.Y36(hi.An),e.Y36(Tn.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[[3,"title"],[3,"added"],["addRoleModal",""],["id","rolesList",1,"tw-container","mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(n,u){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-role",1,2),e.NdJ("added",function(){return u.update()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return u.search(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,xd,5,3,"app-action-bar",5),e.YNc(8,wa,1,0,"app-simple-loader",5),e.YNc(9,ll,4,3,"div",6),e.YNc(10,_u,26,18,"table",7),e.YNc(11,cl,1,1,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"Nav.Roles")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"Roles.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!u.isLoading&&!u.isUserManagerReadOnly),e.xp6(1),e.Q6J("ngIf",u.isLoading),e.xp6(1),e.Q6J("ngIf",(!u.roles||u.roles.length<=0)&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.roles&&u.roles.length>0&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.roles&&u.roles.length>0&&!u.isLoading))},dependencies:[ne.mk,ne.sg,ne.O5,Ti.G,Hi.P,dr.K,ys,Qo.w,Ua,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();function vu(l,h){1&l&&(e.TgZ(0,"p",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Errors.UnableToCompilePolicy")))}function Fa(l,h){1&l&&(e.TgZ(0,"p",7),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Errors.UnauthenticatedDescription")))}let uc=(()=>{class l{constructor(n){this.isEnforcerCompilationError=!1,this.getNavigationState(n)}getNavigationState(n){const u=n.getCurrentNavigation();if(null!=u&&null!=u.extras.state){const T=u.extras.state;T.enforcer&&(this.isEnforcerCompilationError=T.enforcer)}}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ni.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:5,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["normalError",""],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(n,u){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,vu,3,3,"p",4),e.YNc(8,Fa,3,3,"ng-template",null,5,e.W1O),e.qZA()()()()),2&n){const T=e.MAs(9);e.xp6(5),e.Oqu(e.lcZ(6,3,"Errors.UnauthenticatedTitle")),e.xp6(2),e.Q6J("ngIf",u.isEnforcerCompilationError)("ngIfElse",T)}},dependencies:[ne.O5,mn.X$],encapsulation:2}),l})(),ul=(()=>{class l{constructor(n){this.translate=n}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.ForbiddenTitle")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.ForbiddenDescription")))},dependencies:[mn.X$],encapsulation:2}),l})();var na=f(6478),Ed=f(7073);function dc(l,h){1&l&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function m_(l,h){1&l&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function xp(l,h){if(1&l&&(e.ynx(0,5),e.YNc(1,dc,3,3,"span",6),e.YNc(2,m_,3,3,"span",7),e.BQk()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isPolicyRole()),e.xp6(1),e.Q6J("ngIf",n.role.reserved)}}const hc=function(l,h){return{title:l,link:h}},yu=function(l){return[l]};let Ep=(()=>{class l{constructor(n,u,T,M){this.activatedRoute=n,this.errorService=u,this.router=T,this.securityService=M}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let u=0;u<n.length;u++)if("role"===n[u].type&&n[u].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ni.gz),e.Y36(Tn.T),e.Y36(ni.F0),e.Y36(gi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(n,u){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,xp,3,2,"ng-container",1),e.ynx(4,2),e.TgZ(5,"app-custom-tabs"),e._UZ(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.qZA(),e.BQk(),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"router-outlet"),e.qZA()),2&n&&(e.Q6J("title",u.role.name)("crumbs",e.VKq(15,yu,e.WLB(12,hc,e.lcZ(1,8,"Nav.Roles"),e.lcZ(2,10,"/roles"))))("hasTabs",!0),e.xp6(3),e.Q6J("ngIf",u.isPolicyRole()||u.role.reserved),e.xp6(3),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[ne.O5,ni.lC,Ti.G,na.v,Ed.x,mn.X$,hi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),g_=(()=>{class l{constructor(n){this.translate=n}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.NotFoundTitle")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.NotFoundDescription")))},dependencies:[mn.X$],encapsulation:2}),l})();var Ta=f(8024),Aa=f(5683),po=f(146);class __{}var _a=f(160),kl=f(799);function dC(l,h){1&l&&e._UZ(0,"span",6)}function v_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"li",2)(1,"button",3),e.NdJ("click",function(){const M=e.CHM(n).index,ue=e.oxw();return e.KtG(ue.deleteValue(M))}),e.YNc(2,dC,1,0,"span",4),e.TgZ(3,"span",5),e._uU(4),e.qZA()()()}if(2&l){const n=h.$implicit,u=e.oxw();e.xp6(1),e.uIk("aria-label",u.enumValues),e.xp6(1),e.Q6J("ngIf",!u.readonly),e.xp6(2),e.Oqu(n)}}let y_=(()=>{class l{constructor(){this.readonly=!1,this.onDelete=new e.vpe}get id(){return this._id}set id(n){this._id=n||(0,vt.qs)()}ngOnInit(){}deleteValue(n){this.readonly||this.onDelete.emit(n)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["class","fas fa-times tw-mr-1","aria-hidden","true",4,"ngIf"],[1,"tw-pl-1"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(n,u){1&n&&(e.TgZ(0,"ul",0),e.YNc(1,v_,5,3,"li",1),e.qZA()),2&n&&(e.s9C("id",u.id+"-enumValues-select"),e.xp6(1),e.Q6J("ngForOf",u.values))},dependencies:[ne.sg,ne.O5]}),l})();function C_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"input",6),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.newEnumValue=T)}),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.onAdd())}),e._UZ(4,"span",8),e.TgZ(5,"span",9),e._uU(6),e.ALo(7,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw();e.xp6(2),e.s9C("id",n.id+"-newValue-input"),e.Q6J("ngModel",n.newEnumValue),e.xp6(1),e.s9C("id",n.id+"-newValue-button"),e.Q6J("disabled",n.addDisabled),e.xp6(3),e.Oqu(e.lcZ(7,5,"Common.Add"))}}function Cu(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-pill-list",10),e.NdJ("onDelete",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.onDelete(T))}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("readonly",n.reserved)("id",n.id)("values",n.value)}}function Dp(l,h){if(1&l&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"number"),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.AsE("",e.lcZ(2,2,"ClaimTypes.TooManyAllowedValues")," (",e.lcZ(3,4,n.value.length),")")}}let Ip=(()=>{class l{constructor(){this.id=(0,vt.qs)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=n=>{},this.onTouched=()=>{}}writeValue(n){this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){!this.newEnumValue||(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(n){this.value.splice(n,1),this.onChange(this.value)}isNullOrEmpty(n){return!n||null!==n.match(/^ *$/)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[e._Bn([{provide:m.JU,useExisting:(0,e.Gpc)(()=>l),multi:!0},{provide:m.Cf,useExisting:(0,e.Gpc)(()=>l),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id","ngModel","ngModelChange"],[1,"tw-btn","tw-rounded-l-none",3,"id","disabled","click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"readonly","id","values","onDelete"],["id","too-many-values"]],template:function(n,u){1&n&&(e.YNc(0,C_,8,7,"div",0),e.TgZ(1,"div",1),e.YNc(2,Cu,1,3,"app-pill-list",2),e.YNc(3,Dp,4,6,"span",3),e.qZA()),2&n&&(e.Q6J("ngIf",!u.reserved),e.xp6(2),e.Q6J("ngIf",u.value.length<=50||!u.reserved),e.xp6(1),e.Q6J("ngIf",u.value.length>50&&u.reserved))},dependencies:[ne.O5,m.Fj,m.JJ,m.On,y_,ne.JJ,mn.X$],encapsulation:2}),l})();const Mp=["addClaimTypeModal"];function hC(l,h){if(1&l&&(e.TgZ(0,"app-form-row",37),e._UZ(1,"app-edit-enum-claim-type",38),e.qZA()),2&l){const n=e.oxw();e.Q6J("label","Claims.AllowedValues"),e.xp6(1),e.Q6J("required","Enum"===n.addClaimTypeForm.get("valueType").value)}}function Op(l,h){1&l&&(e.TgZ(0,"app-form-row",14),e._UZ(1,"input",39),e.qZA()),2&l&&e.Q6J("id","rules")("label","Claims.RegexRule")}function pC(l,h){1&l&&(e.TgZ(0,"app-form-row",14),e._UZ(1,"input",40),e.qZA()),2&l&&e.Q6J("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}const Dd=function(){return{animated:!1,backdrop:"static"}};let b_=(()=>{class l{constructor(n,u,T,M,ue,ke){this.cdr=n,this.claimTypeService=u,this.errorService=T,this.translate=M,this.fb=ue,this.toastr=ke,this.onSubmitted=new e.vpe,this.descFocus=!1}keydown(n){"Enter"===n.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",m.kI.required],name:["",m.kI.required],displayName:[""],description:["",m.kI.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,m.kI.required],userEditable:[!1,m.kI.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let n=new __;n=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(n.rule=void 0,n.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(n).subscribe({next:u=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+n.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:u=>{(this.errorService.handleError(u)&_a.s.Toast)!==_a.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const n=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(n?.disable(),this.cdr.detectChanges()):(n?.setValue([]),n?.enable(),this.cdr.detectChanges())}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(e.sBO),e.Y36(po.M),e.Y36(Tn.T),e.Y36(mn.sK),e.Y36(m.QS),e.Y36(ji._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-claimtype"]],viewQuery:function(n,u){if(1&n&&e.Gf(Mp,7),2&n){let T;e.iGM(T=e.CRH())&&(u.addClaimTypeModal=T.first)}},hostBindings:function(n,u){1&n&&e.NdJ("keydown",function(M){return u.keydown(M)},!1,e.evT)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addClaimTypeModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return u.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"app-form-row",11),e._UZ(18,"input",13),e.qZA(),e.TgZ(19,"app-form-row",14)(20,"div",15)(21,"select",16),e.NdJ("change",function(){return u.onValueTypeChanged()}),e.TgZ(22,"option",17),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"option",18),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"option",19),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"option",20),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"option",21),e._uU(35),e.ALo(36,"translate"),e.qZA()()()(),e.YNc(37,hC,2,2,"app-form-row",22),e.TgZ(38,"app-form-row",14)(39,"textarea",23),e.NdJ("focus",function(){return u.descFocus=!u.descFocus})("blur",function(){return u.descFocus=!u.descFocus}),e.qZA()(),e.YNc(40,Op,2,2,"app-form-row",24),e.YNc(41,pC,2,2,"app-form-row",24),e.TgZ(42,"app-form-row",11)(43,"app-form-toggle",25),e._UZ(44,"input",26),e.qZA()(),e.TgZ(45,"app-form-row",27)(46,"app-form-toggle",25),e._UZ(47,"input",28),e.qZA()()()(),e._UZ(48,"div",29),e.TgZ(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),e.NdJ("click",function(){return u.addClaimType()}),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"span",34)(56,"button",35),e.NdJ("click",function(){return u.addAnotherClaimType()}),e._uU(57),e.ALo(58,"translate"),e.qZA()()(),e.TgZ(59,"button",36),e.NdJ("click",function(){return u.hide()}),e._uU(60),e.ALo(61,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(56,Dd)),e.xp6(6),e.Oqu(e.lcZ(7,36,"Claims.New")),e.xp6(5),e.Oqu(e.lcZ(12,38,"Common.Close")),e.xp6(3),e.Q6J("formGroup",u.addClaimTypeForm),e.xp6(1),e.Q6J("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.xp6(2),e.Q6J("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.xp6(2),e.Q6J("id","type")("label","Common.Type"),e.xp6(4),e.Oqu(e.lcZ(24,40,"Common.Types.String")),e.xp6(3),e.Oqu(e.lcZ(27,42,"Common.Types.Int")),e.xp6(3),e.Oqu(e.lcZ(30,44,"Common.Types.DateTime")),e.xp6(3),e.Oqu(e.lcZ(33,46,"Common.Types.Boolean")),e.xp6(3),e.Oqu(e.lcZ(36,48,"Common.Types.Enum")),e.xp6(2),e.Q6J("ngIf","Enum"===u.addClaimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","description")("label","Common.Description"),e.xp6(2),e.Q6J("ngIf","String"===u.addClaimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("ngIf","String"===u.addClaimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.xp6(1),e.Q6J("id","required"),e.xp6(2),e.Q6J("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.xp6(1),e.Q6J("id","userEditable"),e.xp6(6),e.Q6J("disabled",!u.addClaimTypeForm.valid),e.xp6(1),e.Oqu(e.lcZ(54,50,"Common.Save")),e.xp6(3),e.Q6J("disabled",!u.addClaimTypeForm.valid),e.xp6(1),e.Oqu(e.lcZ(58,52,"Common.SaveAndAdd")),e.xp6(3),e.Oqu(e.lcZ(61,54,"Common.Cancel")))},dependencies:[ne.O5,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.Q7,m.sg,m.u,Rt.oB,Hr.L,kl.O,Ip,mn.X$],encapsulation:2}),l})();function Np(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(n),e.oxw();const T=e.MAs(3);return e.KtG(T.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Claims.Add")," "))}function bu(l,h){1&l&&e._UZ(0,"app-simple-loader")}function Id(l,h){1&l&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Claims.NoClaimsFound")))}function Pl(l,h){1&l&&e._UZ(0,"span",25)}function w_(l,h){1&l&&e._UZ(0,"span",26)}function T_(l,h){1&l&&e._UZ(0,"span",27)}function fC(l,h){1&l&&e._UZ(0,"span",25)}function wu(l,h){1&l&&e._UZ(0,"span",26)}function Md(l,h){1&l&&e._UZ(0,"span",27)}function Rp(l,h){1&l&&e._UZ(0,"span",25)}function kp(l,h){1&l&&e._UZ(0,"span",26)}function Pp(l,h){1&l&&e._UZ(0,"span",27)}function dl(l,h){1&l&&e._UZ(0,"span",25)}function A_(l,h){1&l&&e._UZ(0,"span",26)}function S_(l,h){1&l&&e._UZ(0,"span",27)}function x_(l,h){1&l&&(e.TgZ(0,"span",40)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.Yes")))}function E_(l,h){1&l&&(e.TgZ(0,"span",41)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.No")))}function D_(l,h){1&l&&(e.TgZ(0,"span",40)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.Yes")))}function Za(l,h){1&l&&(e.TgZ(0,"span",41)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.No")))}function Ll(l,h){1&l&&(e.TgZ(0,"span",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const I_=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function M_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",28)(1,"td",29),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e.TgZ(2,"b",30),e._uU(3),e.qZA()(),e.TgZ(4,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e.TgZ(5,"b",30),e._uU(6),e.qZA()(),e.TgZ(7,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e.TgZ(8,"code"),e._uU(9),e.qZA()(),e.TgZ(10,"td",32),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e._uU(11),e.qZA(),e.TgZ(12,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e.YNc(13,x_,4,3,"span",34),e.YNc(14,E_,4,3,"span",35),e.qZA(),e.TgZ(15,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e.YNc(16,D_,4,3,"span",34),e.YNc(17,Za,4,3,"span",35),e.qZA(),e.TgZ(18,"td",36),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e.YNc(19,Ll,3,3,"span",37),e.qZA(),e.TgZ(20,"td",36),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e.TgZ(21,"button",38),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditClaimType(M))}),e._UZ(22,"span",39),e.TgZ(23,"span",23),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,u=e.oxw(2);e.xp6(3),e.hij(" ",n.name," "),e.xp6(3),e.hij(" ",n.displayName," "),e.xp6(3),e.Oqu(n.valueType),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",n.required),e.xp6(1),e.Q6J("ngIf",!n.required),e.xp6(2),e.Q6J("ngIf",n.userEditable),e.xp6(1),e.Q6J("ngIf",!n.userEditable),e.xp6(2),e.Q6J("ngIf",n.reserved),e.xp6(3),e.Q6J("ngClass",e.WLB(13,I_,u.isAllPermission&&!u.isAllPermissionReadOnly,!u.isAllPermission)),e.xp6(2),e.Oqu(e.lcZ(25,11,"Common.Edit"))}}function O_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.sort("name"))}),e.TgZ(4,"span",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Pl,1,0,"span",15),e.YNc(8,w_,1,0,"span",16),e.YNc(9,T_,1,0,"span",17),e.qZA(),e.TgZ(10,"th",18),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",19),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.sort("valueType"))}),e.TgZ(14,"span",14),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,fC,1,0,"span",15),e.YNc(18,wu,1,0,"span",16),e.YNc(19,Md,1,0,"span",17),e.qZA(),e.TgZ(20,"th",20),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th",21),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.sort("required"))}),e.TgZ(24,"span",14),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.YNc(27,Rp,1,0,"span",15),e.YNc(28,kp,1,0,"span",16),e.YNc(29,Pp,1,0,"span",17),e.qZA(),e.TgZ(30,"th",21),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.sort("userEditable"))}),e.TgZ(31,"span",14),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.YNc(34,dl,1,0,"span",15),e.YNc(35,A_,1,0,"span",16),e.YNc(36,S_,1,0,"span",17),e.qZA(),e.TgZ(37,"th",22)(38,"span",23),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"th",22)(42,"span",23),e._uU(43),e.ALo(44,"translate"),e.qZA()()()(),e.TgZ(45,"tbody"),e.YNc(46,M_,26,16,"tr",24),e.qZA()()}if(2&l){const n=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,21,"Common.Name")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("name")),e.xp6(1),e.Q6J("ngIf","name"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-name"===n.sortCriteria),e.xp6(2),e.hij(" ",e.lcZ(12,23,"Common.DisplayName")," "),e.xp6(4),e.Oqu(e.lcZ(16,25,"Common.Type")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("valueType")),e.xp6(1),e.Q6J("ngIf","valueType"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-valueType"===n.sortCriteria),e.xp6(2),e.hij(" ",e.lcZ(22,27,"Common.Description")," "),e.xp6(4),e.Oqu(e.lcZ(26,29,"Common.Required")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("required")),e.xp6(1),e.Q6J("ngIf","required"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-required"===n.sortCriteria),e.xp6(3),e.Oqu(e.lcZ(33,31,"Common.UserEditable")),e.xp6(2),e.Q6J("ngIf",!n.sortContains("userEditable")),e.xp6(1),e.Q6J("ngIf","userEditable"===n.sortCriteria),e.xp6(1),e.Q6J("ngIf","-userEditable"===n.sortCriteria),e.xp6(3),e.Oqu(e.lcZ(40,33,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(44,35,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.claimTypes)}}function N_(l,h){if(1&l&&e._UZ(0,"app-pager",43),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.claimTypes?null:n.claimTypes.length)}}let R_=(()=>{class l{constructor(n,u,T,M,ue,ke,$e){this.router=n,this.claimTypeService=u,this.errorService=T,this.translate=M,this.titleService=ue,this.localize=ke,this.securityService=$e,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new Z.x,this.searchStream=new Z.x}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+ze.de.SITE_TITLE);const n=this.searchStream.pipe((0,de.b)(300),(0,Oe.x)(),(0,re.U)(M=>(this.term=M,{search:M,sort:this.sortCriteria})));this.sortStream.pipe((0,re.U)(M=>(this.sortCriteria=M,{search:this.term,sort:M}))).pipe((0,Aa.T)(n),(0,Dt.O)({search:this.term,sort:this.sortCriteria}),(0,Ht.z)(M=>this.claimTypeService.getClaimTypes(M.search,M.sort,!0))).subscribe(M=>{this.claimTypes=M,this.isLoading=!1},M=>{this.errorService.handleError(M),this.isLoading=!1})}search(n){this.searchStream.next(n)}sort(n){this.sortCriteria=this.sortCriteria.startsWith("-")?n:"-"+n,this.sortStream.next(this.sortCriteria)}sortContains(n){return!!this.sortCriteria.includes(n)}onSubmitted(n){n&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(n){this.isAllPermission?this.editClaimType(n):this.viewClaimType(n)}viewClaimType(n){const u=this.localize.translateRoute("/claim-types/view");this.router.navigate([u,n.id])}editClaimType(n){const u=this.localize.translateRoute("/claim-types");this.router.navigate([u,n.id])}get isAllPermission(){return(0,vt.Zr)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,vt.Hr)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,vt.hC)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ni.F0),e.Y36(po.M),e.Y36(Tn.T),e.Y36(mn.sK),e.Y36(t.Dx),e.Y36(hi.An),e.Y36(gi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[[3,"title"],[3,"onSubmitted"],["addClaimTypeModal",""],["id","claimTypeList",1,"tw-container","tw-mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover","id","claimTypesTable",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],["class","group",4,"ngFor","ngForOf"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(n,u){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-claimtype",1,2),e.NdJ("onSubmitted",function(M){return u.onSubmitted(M)}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return u.search(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Np,5,3,"app-action-bar",5),e.YNc(8,bu,1,0,"app-simple-loader",5),e.YNc(9,Id,4,3,"div",6),e.YNc(10,O_,47,37,"table",7),e.YNc(11,N_,1,1,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"Nav.ClaimTypes")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"ClaimTypes.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!u.isLoading&&u.isIdentityServerManager),e.xp6(1),e.Q6J("ngIf",u.isLoading),e.xp6(1),e.Q6J("ngIf",(null==u.claimTypes?null:u.claimTypes.length)<1&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",(null==u.claimTypes?null:u.claimTypes.length)>0&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",(null==u.claimTypes?null:u.claimTypes.length)>0&&!u.isLoading))},dependencies:[ne.mk,ne.sg,ne.O5,Ti.G,Hi.P,dr.K,ys,Qo.w,b_,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Tu=f(9655),qa=f(3570),Bl=f(9658),Ul=f(1216),Au=f(2830),Su=f(6252);function xu(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"select",22),e.NdJ("change",function(){e.CHM(n);const T=e.oxw(2);return e.KtG(T.onValueTypeChanged())}),e.TgZ(1,"option",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"option",24),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"option",25),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"option",26),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",27),e._uU(14),e.ALo(15,"translate"),e.qZA()()}if(2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("selected","String"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(3,9,"Common.Types.String")),e.xp6(2),e.Q6J("selected","Int"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(6,11,"Common.Types.Int")),e.xp6(2),e.Q6J("selected","DateTime"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(9,13,"Common.Types.DateTime")),e.xp6(2),e.Q6J("selected","Boolean"==n.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(12,15,"Common.Types.Boolean")),e.xp6(3),e.Oqu(e.lcZ(15,17,"Common.Types.Enum"))}}const ia=function(l){return[l]};function pc(l,h){if(1&l&&(e._UZ(0,"app-readonly",9),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw(2);e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,ia,e.lcZ(1,2,n.claimType.valueType)))}}function Lp(l,h){if(1&l&&(e.TgZ(0,"app-form-row",28),e._UZ(1,"app-edit-enum-claim-type",29),e.qZA()),2&l){const n=e.oxw(2);e.Q6J("label","Claims.AllowedValues"),e.xp6(1),e.Q6J("reserved",n.claimType.reserved)("required","Enum"===n.claimTypeForm.get("valueType").value)}}function Bp(l,h){1&l&&e._UZ(0,"textarea",30)}function Up(l,h){if(1&l&&(e._UZ(0,"app-readonly",9),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw(2);e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,ia,e.lcZ(1,2,n.claimType.description)))}}function mC(l,h){1&l&&(e.TgZ(0,"app-form-row",11),e._UZ(1,"input",31),e.qZA()),2&l&&e.Q6J("id","rule")("label","Claims.RegexRule")}function gC(l,h){1&l&&(e.TgZ(0,"app-form-row",11),e._UZ(1,"input",32),e.qZA()),2&l&&e.Q6J("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function _C(l,h){if(1&l&&(e.TgZ(0,"div",6)(1,"form",7)(2,"app-form-row",8),e._UZ(3,"app-readonly",9),e.ALo(4,"readOnlyValue"),e.qZA(),e.TgZ(5,"app-form-row",8),e._UZ(6,"input",10),e.qZA(),e.TgZ(7,"app-form-row",11)(8,"div",12),e.YNc(9,xu,16,19,"select",13),e.YNc(10,pc,2,6,"app-readonly",14),e.qZA()(),e.YNc(11,Lp,2,3,"app-form-row",15),e.TgZ(12,"app-form-row",11),e.YNc(13,Bp,1,0,"textarea",16),e.YNc(14,Up,2,6,"app-readonly",14),e.qZA(),e.YNc(15,mC,2,2,"app-form-row",17),e.YNc(16,gC,2,2,"app-form-row",17),e.TgZ(17,"app-form-row",8)(18,"app-form-toggle",18),e._UZ(19,"input",19),e.qZA()(),e.TgZ(20,"app-form-row",20)(21,"app-form-toggle",18),e._UZ(22,"input",21),e.qZA()()()()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.claimTypeForm),e.xp6(1),e.Q6J("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.xp6(1),e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(31,ia,e.lcZ(4,29,n.claimType.name))),e.xp6(2),e.Q6J("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.xp6(2),e.Q6J("id","type")("label","Common.Type"),e.xp6(2),e.Q6J("ngIf",!n.claimType.reserved),e.xp6(1),e.Q6J("ngIf",n.claimType.reserved),e.xp6(1),e.Q6J("ngIf","Enum"===n.claimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","description")("label","Common.Description"),e.xp6(1),e.Q6J("ngIf",!n.claimType.reserved),e.xp6(1),e.Q6J("ngIf",n.claimType.reserved),e.xp6(1),e.Q6J("ngIf","String"===n.claimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("ngIf","String"===n.claimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.xp6(1),e.Q6J("id","required"),e.xp6(2),e.Q6J("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.xp6(1),e.Q6J("id","userEditable")}}const Od=function(){return{backdrop:"static",animated:!1}};function Nd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36)(4,"h5",37),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",38),e._UZ(8,"span",39),e.TgZ(9,"span",40),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",41)(13,"p",42),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"strong"),e._uU(17),e.qZA(),e._uU(18,"?"),e.qZA(),e._UZ(19,"p",43),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"div",44),e.TgZ(22,"div",45)(23,"div",46)(24,"div",47)(25,"button",48),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.delete())}),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"button",49),e._uU(29),e.ALo(30,"translate"),e.qZA()()()()()()}if(2&l){const n=e.oxw();e.Q6J("config",e.DdM(20,Od)),e.xp6(5),e.Oqu(e.lcZ(6,8,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(11,10,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(15,12,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(n.claimType.name),e.xp6(2),e.Q6J("innerHTML",e.lcZ(20,14,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(27,16,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(30,18,"Common.Delete.No"))}}const vC=function(l,h){return{title:l,link:h}};let yC=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt,Ut,an,yn){this.router=n,this.translate=u,this.toastr=T,this.fb=M,this.claimTypeService=ue,this.titleService=ke,this.dialogService=$e,this.localize=wt,this.errorService=Ut,this.securityService=an,this.cdr=yn,this.claimType=null}get ReadOnlyFieldType(){return Tu.O}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:n=>{this.claimType=n,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${ze.de.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(n)},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,m.kI.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[m.kI.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},m.kI.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},m.kI.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,m.kI.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const n=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(n.rule=void 0,n.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(n).subscribe({next:u=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(n),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:u=>{(this.errorService.handleError(u)&_a.s.Toast)!==_a.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:n=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const u=this.localize.translateRoute("/claim-types");this.router.navigate([u])},error:n=>{(this.errorService.handleError(n)&_a.s.Toast)!==_a.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const n=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(n?.disable(),this.cdr.detectChanges()):(n?.setValue(this.claimType.allowedValues||[]),n?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,vt.hC)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ni.F0),e.Y36(mn.sK),e.Y36(ji._W),e.Y36(m.QS),e.Y36(po.M),e.Y36(t.Dx),e.Y36(qa.x),e.Y36(hi.An),e.Y36(Tn.T),e.Y36(gi.I),e.Y36(e.sBO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:14,vars:21,consts:[[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","deleteBtn","type","button","data-toggle","modal","data-target","#deleteClaimTypeModal",1,"tw-btn-danger","tw-mb-3",3,"disabled"],["bsModal","","id","deleteClaimTypeModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"],["bsModal","","id","deleteClaimTypeModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(n,u){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,_C,23,33,"div",1),e.TgZ(4,"app-button-bar")(5,"button",2),e.NdJ("click",function(){return u.submit()}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.ynx(8,3),e.TgZ(9,"button",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(12,"app-can-deactivate"),e.YNc(13,Nd,31,21,"div",5)),2&n&&(e.Q6J("title",u.claimType.name)("crumbs",e.VKq(19,ia,e.WLB(16,vC,e.lcZ(1,8,"Nav.ClaimTypes"),e.lcZ(2,10,"/claim-types")))),e.xp6(3),e.Q6J("ngIf",u.claimType),e.xp6(2),e.Q6J("disabled",!(u.claimTypeForm.dirty&&u.claimTypeForm.valid)),e.xp6(1),e.hij(" ",e.lcZ(7,12,"Common.Save")," "),e.xp6(3),e.Q6J("disabled",u.claimType.reserved||!u.isIdentityServerManager),e.xp6(1),e.hij(" ",e.lcZ(11,14,"Common.Delete.Title")," "),e.xp6(3),e.Q6J("ngIf",u.claimType))},dependencies:[ne.O5,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.Q7,m.sg,m.u,Rt.oB,Bl.J,Ti.G,Ul.N,Hr.L,kl.O,Au.f,Ip,mn.X$,hi.lO,Su.b],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var fc=f(927),Rd=f(8190),Va=f(8506),va=f(6349),hl=f(8098);const Fp=["IdentityResourcePicker"],Eu=["tabs"],Zp=["addIdentityResourceModal"];function kd(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function k_(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.AssignClaims")))}function zs(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",n.identityResourceForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function Vp(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",0==n.assignedClaims.length),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Save"))}}const P_=function(){return{animated:!1,backdrop:"static"}};let Pd=(()=>{class l{constructor(n,u,T,M,ue,ke){this.claimTypesService=n,this.errorService=u,this.identityResourceService=T,this.translate=M,this.fb=ue,this.toastr=ke,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.vpe}keydown(n){"Enter"===n.key&&this.identityResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.availableClaims=n,this.allAvailableClaims=n},error:n=>{this.errorService.handleError(n)}}),this.identityResourceForm=this.fb.group({name:["",m.kI.required],displayName:["",m.kI.required],description:["",m.kI.maxLength(1e3)]})}ngAfterViewInit(){this.resourcesPicker.assignedStream.subscribe(n=>{this.availableClaims=(0,vt.mn)(this.availableClaims.slice(),n);const u=this.assignedClaims.slice();this.assignedClaims=u.concat(n),this.resourcesPicker.availableCount=0}),this.resourcesPicker.unAssignedStream.subscribe(n=>{const u=this.availableClaims;this.assignedClaims=(0,vt.mn)(this.assignedClaims.slice(),n),this.availableClaims=u.concat(n),this.resourcesPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const n=(0,va.UI)(this.assignedClaims,function(T){return T.name}),u=Object.assign(this.identityResourceForm.value,{allowedClaims:n});this.identityResourceService.addResource(u).subscribe(T=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.resetWizard(),this.hide(),this.onSubmit.emit()},T=>{let M;T.error.errors.length>0&&(M=T.error.errors[0]),this.toastr.error(M,this.translate.instant("Common.Error"))})}resetWizard(){this.identityResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvailableClaims}hide(){this.addIdentityResourceModal.hide()}show(){this.addIdentityResourceModal.show()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(po.M),e.Y36(Tn.T),e.Y36(Va.Q),e.Y36(mn.sK),e.Y36(m.QS),e.Y36(ji._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-identityresource"]],viewQuery:function(n,u){if(1&n&&(e.Gf(Fp,7),e.Gf(Eu,7),e.Gf(Zp,7)),2&n){let T;e.iGM(T=e.CRH())&&(u.resourcesPicker=T.first),e.iGM(T=e.CRH())&&(u.tabComponent=T.first),e.iGM(T=e.CRH())&&(u.addIdentityResourceModal=T.first)}},hostBindings:function(n,u){1&n&&e.NdJ("keydown",function(M){return u.keydown(M)},!1,e.evT)},outputs:{onSubmit:"onSubmit"},decls:47,vars:36,consts:[["bsModal","","id","addIdentityModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addIdentityResourceModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["IdentityResourcePicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"disabled","click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return u.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10,11)(16,"span",8),e._uU(17),e.qZA()()(),e.TgZ(18,"div",12)(19,"div",13),e.YNc(20,kd,3,3,"p",14),e.YNc(21,k_,3,3,"p",14),e.qZA(),e.TgZ(22,"tabset",15,16)(24,"tab")(25,"form",17)(26,"app-form-row",18),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"app-form-row",18),e._UZ(29,"input",20),e.qZA(),e.TgZ(30,"app-form-row",21)(31,"textarea",22),e.NdJ("focus",function(){return u.descFocus=!u.descFocus})("blur",function(){return u.descFocus=!u.descFocus}),e.qZA()()()(),e.TgZ(32,"tab"),e._UZ(33,"app-common-picker",23,24),e.qZA()()(),e._UZ(35,"div",25),e.TgZ(36,"div",26)(37,"div",27)(38,"div",28),e.YNc(39,zs,3,4,"button",29),e.YNc(40,Vp,3,4,"button",30),e.TgZ(41,"button",31),e.NdJ("click",function(){return u.previousTab()}),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"button",32),e.NdJ("click",function(){return u.cancel()}),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(35,P_)),e.xp6(6),e.Oqu(e.lcZ(7,27,"IdentityResources.Create")),e.xp6(5),e.Oqu(e.lcZ(12,29,"Common.Close")),e.xp6(3),e.Udp("width",u.progressPercent+"%"),e.xp6(3),e.Oqu(u.progressPercent+"%"),e.xp6(3),e.Q6J("ngIf",u.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",u.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",u.identityResourceForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.xp6(3),e.Q6J("assignedInput",u.assignedClaims)("availableInput",u.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",u.tabIndex<u.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",u.tabIndex==u.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==u.tabIndex),e.xp6(1),e.Oqu(e.lcZ(43,31,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(46,33,"Common.Cancel")))},dependencies:[ne.O5,m._Y,m.Fj,m.JJ,m.JL,m.nD,m.sg,m.u,Se.wW,Se.AH,hl.v,Rt.oB,Hr.L,mn.X$],encapsulation:2}),l})();function Hp(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(n),e.oxw();const T=e.MAs(3);return e.KtG(T.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Resources.AddResource")," "))}function L_(l,h){1&l&&e._UZ(0,"app-simple-loader")}function B_(l,h){1&l&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"IdentityResources.NoIdentityResources")))}function U_(l,h){1&l&&(e.TgZ(0,"span",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const F_=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function Z_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",22),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",23),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e._uU(7),e.qZA(),e.TgZ(8,"td",24),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e.YNc(9,U_,3,3,"span",25),e.qZA(),e.TgZ(10,"td",24),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e.TgZ(11,"button",26),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e._UZ(12,"span",27),e.TgZ(13,"span",17),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,u=e.oxw(2);e.ekj("inactive",!n.enabled||(null==n?null:n.nonEditable)),e.xp6(2),e.ekj("tw-text-blue-500",!n.nonEditable),e.xp6(1),e.Oqu(n.displayName),e.xp6(2),e.hij(" ",n.name," "),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",n.nonEditable),e.xp6(3),e.Q6J("ngClass",e.WLB(12,F_,!u.isIdentityServerManagerReadOnly&&!n.nonEditable,u.isIdentityServerManagerReadOnly||n.nonEditable)),e.xp6(2),e.Oqu(e.lcZ(15,10,"Common.Edit"))}}function CC(l,h){if(1&l&&(e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",14),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",15),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",16)(13,"span",17),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",16)(17,"span",17),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody",18),e.YNc(21,Z_,16,15,"tr",19),e.qZA()()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Common.Name")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Common.ID")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.resources)}}function bC(l,h){if(1&l&&e._UZ(0,"app-pager",29),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.resources?null:n.resources.length)}}let mc=(()=>{class l{constructor(n,u,T,M,ue,ke,$e){this.identityResourceService=n,this.translate=u,this.router=T,this.errorService=M,this.localize=ue,this.titleService=ke,this.securityService=$e,this.term="",this.resources=[],this.isLoading=!0,this.searchTermStream=new Z.x}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.IdentityResources")+` - ${ze.de.SITE_TITLE}`),this.searchTermStream.pipe((0,de.b)(300),(0,Oe.x)(),(0,re.U)(T=>(this.term=T,{search:T}))).pipe((0,Dt.O)({search:this.term}),(0,Ht.z)(T=>this.identityResourceService.getIdentityResources(T.search))).subscribe({next:T=>{this.sortResources(T),this.isLoading=!1},error:T=>{this.errorService.handleError(T),this.isLoading=!1}})}sortResources(n){n.sort((u,T)=>Number(T.nonEditable)-Number(u.nonEditable)),this.resources=n}search(n){this.searchTermStream.next(n)}viewOrEditResource(n){this.isIdentityServerManagerReadOnly||n.nonEditable?this.viewResource(n):this.editResource(n)}viewResource(n){const u=this.localize.translateRoute("/identityresources/view");this.router.navigate([u,n.id])}editResource(n){const u=this.localize.translateRoute("/identityresources");this.router.navigate([u,n.id])}refreshList(){this.ngOnInit()}get isIdentityServerManagerReadOnly(){return(0,vt.gR)(this.securityService.userPermissions)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Va.Q),e.Y36(mn.sK),e.Y36(ni.F0),e.Y36(Tn.T),e.Y36(hi.An),e.Y36(t.Dx),e.Y36(gi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[[3,"title"],[3,"onSubmit"],["addIdentityResourcesModal",""],["id","identityResourceList",1,"tw-container","tw-mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(n,u){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-identityresource",1,2),e.NdJ("onSubmit",function(){return u.refreshList()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return u.search(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Hp,5,3,"app-action-bar",5),e.YNc(8,L_,1,0,"app-simple-loader",5),e.YNc(9,B_,4,3,"div",6),e.YNc(10,CC,22,16,"table",7),e.YNc(11,bC,1,1,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"Nav.IdentityResources")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"Resources.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!u.isLoading&&!u.isIdentityServerManagerReadOnly),e.xp6(1),e.Q6J("ngIf",u.isLoading),e.xp6(1),e.Q6J("ngIf",(!u.resources||u.resources.length<=0)&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.resources&&u.resources.length>0&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.resources&&u.resources.length>0&&!u.isLoading))},dependencies:[ne.mk,ne.sg,ne.O5,Ti.G,Hi.P,dr.K,ys,Qo.w,Pd,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Sa=f(426);const Jp=function(l,h){return{title:l,link:h}},Wp=function(l){return[l]},Du=function(){return["active"]},V_=function(){return{backdrop:"static",animated:!1}};let jp=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt,Ut,an){this.fb=n,this.route=u,this.router=T,this.titleService=M,this.identityResourceService=ue,this.toastr=ke,this.translate=$e,this.localize=wt,this.claimTypesService=Ut,this.scopesClaimService=an}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ze.de.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.scopesClaimService.setClaimTypes(n)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}delete(){return this.identityResourceService.deleteIdentityResource(this.identityResource.id).toPromise().then(()=>{this.toastr.success(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Success"));const n=this.localize.translateRoute("/identityresources");this.router.navigate([n])},()=>{this.toastr.error(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Failed"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ni.gz),e.Y36(ni.F0),e.Y36(t.Dx),e.Y36(Va.Q),e.Y36(ji._W),e.Y36(mn.sK),e.Y36(hi.An),e.Y36(po.M),e.Y36(Sa.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:68,vars:64,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editIdentityResource",1,"tw-container","mx-auto"],["bsModal","","id","deleteIdentityResource","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(n,u){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(M){return u.mobRoute(M.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.qZA()()()(),e.TgZ(21,"ul",9),e.ALo(22,"translate"),e.TgZ(23,"li",10)(24,"button",11),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"li",10)(28,"button",12),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"li",10)(32,"button",13),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(35,"div",14),e._UZ(36,"router-outlet"),e.qZA(),e.TgZ(37,"div",15)(38,"div",16)(39,"div",17)(40,"div",18)(41,"h5",19),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"button",20),e._UZ(45,"span",21),e.TgZ(46,"span",22),e._uU(47),e.ALo(48,"translate"),e.qZA()()(),e.TgZ(49,"div",23)(50,"p",24),e._uU(51),e.ALo(52,"translate"),e.TgZ(53,"strong"),e._uU(54),e.qZA(),e._uU(55,"?"),e.qZA(),e._UZ(56,"p",25),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"div",26),e.TgZ(59,"div",27)(60,"div",28)(61,"div",29)(62,"button",30),e.NdJ("click",function(){return u.delete()}),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"button",31),e._uU(66),e.ALo(67,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("title",null==u.identityResource?null:u.identityResource.name)("crumbs",e.VKq(58,Wp,e.WLB(55,Jp,e.lcZ(1,23,"IdentityResources.Title"),e.lcZ(2,25,"/identityresources"))))("hasTabs",!0),e.xp6(6),e.Oqu(e.lcZ(7,27,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,29,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,31,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,33,"Nav.Claims")),e.xp6(3),e.Oqu("Nav.Properties | translate"),e.xp6(1),e.uIk("aria-label",e.lcZ(22,35,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(60,Du)),e.xp6(1),e.Oqu(e.lcZ(26,37,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(61,Du)),e.xp6(1),e.Oqu(e.lcZ(30,39,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(62,Du)),e.xp6(1),e.Oqu(e.lcZ(34,41,"Nav.Properties")),e.xp6(4),e.Q6J("config",e.DdM(63,V_)),e.xp6(5),e.Oqu(e.lcZ(43,43,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(48,45,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(52,47,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(null==u.identityResource?null:u.identityResource.displayName),e.xp6(2),e.Q6J("innerHTML",e.lcZ(57,49,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(64,51,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(67,53,"Common.Delete.No")))},dependencies:[ni.lC,ni.rH,ni.Od,m.YN,m.Kr,Rt.oB,Ti.G,mn.X$,hi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var gc=f(515),_c=f(262),Kp=f(4879);let Ld=(()=>{class l{constructor(n,u){this.identityResourceService=n,this.errorService=u}resolve(n,u){const T=n.paramMap.get("Id");return this.identityResourceService.getResource(T).pipe((0,re.U)(M=>(M&&this.identityResourceService.getCachedIdentityResource().next(M),M)),(0,_c.K)((M,ue)=>(404===M.status?this.errorService.resourceNotFound(Kp._.identityResource):this.errorService.handleError(M),(0,gc.c)())))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(Va.Q),e.LFG(Tn.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var vc=f(1005),Iu=f(9046),Xo=f(7733);const pl=["ClaimPicker"],H_=["tabs"],Bd=["addProtectedModal"];function Mu(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function J_(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ProtectedResources.AssignClaims")))}function Ud(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",n.protectedResourceForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function Ou(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Save")))}const fl=function(){return{animated:!1,backdrop:"static"}};let $p=(()=>{class l{constructor(n,u,T,M,ue,ke,$e){this.claimTypesService=n,this.errorService=u,this.protectedResourceService=T,this.translate=M,this.fb=ue,this.toastr=ke,this.titleService=$e,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.resourceSecrets=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.vpe}keydown(n){"Enter"===n.key&&this.protectedResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.availableClaims=n,this.allAvailableClaims=n},error:n=>{this.errorService.handleError(n)}}),this.protectedResourceForm=this.fb.group({name:["",[m.kI.required,m.kI.pattern(/^\S*$/)]],displayName:["",m.kI.required],description:["",m.kI.maxLength(1e3)]})}ngAfterViewInit(){this.handleClaims()}handleClaims(){this.claimPicker.assignedStream.subscribe(n=>{this.availableClaims=(0,vt.mn)(this.availableClaims.slice(),n);const u=this.assignedClaims.slice();this.assignedClaims=u.concat(n),this.claimPicker.availableCount=0}),this.claimPicker.unAssignedStream.subscribe(n=>{const u=this.availableClaims;this.assignedClaims=(0,vt.mn)(this.assignedClaims.slice(),n),this.availableClaims=u.concat(n),this.claimPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const n=(0,va.UI)(this.assignedClaims,function(T){return T.name}),u=Object.assign(this.protectedResourceForm.value,{allowedClaims:n},{resourceSecrets:this.resourceSecrets});this.protectedResourceService.addResource(u).subscribe(T=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.onSubmit.emit(),this.resetWizard(),this.hide()},T=>{this.errorService.handleError(T)})}resetWizard(){this.protectedResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.resourceSecrets=[],this.availableClaims=this.allAvailableClaims}hide(){this.addProtectedModal.hide()}show(){this.addProtectedModal.show()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(po.M),e.Y36(Tn.T),e.Y36(Xo.m),e.Y36(mn.sK),e.Y36(m.QS),e.Y36(ji._W),e.Y36(t.Dx))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-protectedresource"]],viewQuery:function(n,u){if(1&n&&(e.Gf(pl,7),e.Gf(H_,7),e.Gf(Bd,7)),2&n){let T;e.iGM(T=e.CRH())&&(u.claimPicker=T.first),e.iGM(T=e.CRH())&&(u.tabComponent=T.first),e.iGM(T=e.CRH())&&(u.addProtectedModal=T.first)}},hostBindings:function(n,u){1&n&&e.NdJ("keydown",function(M){return u.keydown(M)},!1,e.evT)},outputs:{onSubmit:"onSubmit"},decls:45,vars:34,consts:[["bsModal","","id","addProtectedModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addProtectedModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return u.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9),e._UZ(14,"div",10,11),e.qZA(),e.TgZ(16,"div",12)(17,"div",13),e.YNc(18,Mu,3,3,"p",14),e.YNc(19,J_,3,3,"p",14),e.qZA(),e.TgZ(20,"tabset",15,16)(22,"tab")(23,"form",17)(24,"app-form-row",18),e._UZ(25,"input",19),e.qZA(),e.TgZ(26,"app-form-row",18),e._UZ(27,"input",20),e.qZA(),e.TgZ(28,"app-form-row",18)(29,"textarea",21),e.NdJ("focus",function(){return u.descFocus=!u.descFocus})("blur",function(){return u.descFocus=!u.descFocus}),e.qZA()()()(),e.TgZ(30,"tab"),e._UZ(31,"app-common-picker",22,23),e.qZA()()(),e._UZ(33,"div",24),e.TgZ(34,"div",25)(35,"div",26)(36,"div",27),e.YNc(37,Ud,3,4,"button",28),e.YNc(38,Ou,3,3,"button",29),e.TgZ(39,"button",30),e.NdJ("click",function(){return u.previousTab()}),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"button",31),e.NdJ("click",function(){return u.cancel()}),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(33,fl)),e.xp6(6),e.Oqu(e.lcZ(7,25,"ProtectedResources.Create")),e.xp6(5),e.Oqu(e.lcZ(12,27,"Common.Close")),e.xp6(3),e.Udp("width",u.progressPercent+"%"),e.xp6(4),e.Q6J("ngIf",u.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",u.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",u.protectedResourceForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.xp6(3),e.Q6J("assignedInput",u.assignedClaims)("availableInput",u.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",u.tabIndex<u.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",u.tabIndex==u.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==u.tabIndex),e.xp6(1),e.Oqu(e.lcZ(41,29,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(44,31,"Common.Cancel")))},dependencies:[ne.O5,m._Y,m.Fj,m.JJ,m.JL,m.nD,m.sg,m.u,Se.wW,Se.AH,hl.v,Rt.oB,Hr.L,mn.X$],encapsulation:2}),l})();function Fd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",13)(1,"label",14),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",15),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw(2);return e.KtG(M.pageSize=T)})("change",function(){e.CHM(n);const T=e.oxw(2);return e.KtG(T.setPageLength(+T.pageSize))}),e.TgZ(5,"option",16),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"option",17),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"option",18),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&l){const n=e.oxw(2);e.xp6(2),e.AsE("",n.pageSize," ",e.lcZ(3,6,"Nav.PerPage"),""),e.xp6(2),e.Q6J("ngModel",n.pageSize),e.xp6(2),e.hij("25 ",e.lcZ(7,8,"Nav.PerPage"),""),e.xp6(3),e.hij("50 ",e.lcZ(10,10,"Nav.PerPage"),""),e.xp6(3),e.hij("100 ",e.lcZ(13,12,"Nav.PerPage"),"")}}function W_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.YNc(2,Fd,14,14,"div",10),e.BQk(),e.ynx(3,11),e.TgZ(4,"button",12),e.NdJ("click",function(){e.CHM(n),e.oxw();const T=e.MAs(3);return e.KtG(T.show())}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk(),e.qZA()}if(2&l){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.xp6(3),e.hij(" ",e.lcZ(6,2,"Resources.AddResource")," ")}}function j_(l,h){1&l&&e._UZ(0,"app-simple-loader")}function zp(l,h){1&l&&(e.TgZ(0,"div",19)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ProtectedResources.NoneFound")))}function Fl(l,h){1&l&&(e.TgZ(0,"span",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const K_=function(l,h){return{"fad fa-pencil":l,"fas fa-eye":h}};function $_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr",28)(1,"td",29),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",30),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e._uU(7),e.qZA(),e.TgZ(8,"td",32),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e.YNc(9,Fl,3,3,"span",33),e.qZA(),e.TgZ(10,"td",32),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e.TgZ(11,"button",34),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.viewOrEditResource(M))}),e._UZ(12,"span",35),e.TgZ(13,"span",25),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit,u=e.oxw(2);e.ekj("inactive",!n.enabled||(null==n?null:n.nonEditable)),e.xp6(2),e.ekj("tw-text-blue-500",!n.nonEditable),e.xp6(1),e.Oqu(n.displayName),e.xp6(2),e.hij(" ",n.name," "),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Q6J("ngIf",n.nonEditable),e.xp6(3),e.Q6J("ngClass",e.WLB(12,K_,!u.isIdentityServerManagerReadOnly&&!n.nonEditable,u.isIdentityServerManagerReadOnly||n.nonEditable)),e.xp6(2),e.Oqu(e.lcZ(15,10,"Common.Edit"))}}function z_(l,h){if(1&l&&(e.TgZ(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",22),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",23),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",24)(13,"span",25),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",24)(17,"span",25),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody",26),e.YNc(21,$_,16,15,"tr",27),e.qZA()()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Common.Name")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Common.ID")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.pagedResult.results)}}function G_(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-pager",37),e.NdJ("onGoToPage",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.goToPage(T))}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}let Zd=(()=>{class l extends Iu.bk{constructor(n,u,T,M,ue,ke,$e,wt){super($e,ke,!0),this.protectedResourcesService=n,this.router=u,this.errorService=T,this.localize=M,this.titleService=ue,this.translate=ke,this.securityService=wt,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.pageStream=new Z.x,this.pageSizeStream=new Z.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,this.page=1,{searchTerm:n,page:this.page,pageSize:this.pageSize}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ProtectedResources")+` - ${ze.de.SITE_TITLE}`);const n=this.pageStream.pipe((0,re.U)(M=>(this.page=M,{searchTerm:this.term,page:M,pageSize:this.pageSize}))),u=this.pageSizeStream.pipe((0,re.U)(M=>(this.pageSize=M,{searchTerm:this.term,page:this.page,pageSize:M})));n.pipe((0,gt.b)(u),(0,gt.b)(this.searchSource),(0,gt.b)(this.enterKeySource),(0,Dt.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,Ht.z)(M=>(this.isLoading=!0,this.protectedResourcesService.getResourcesPaginated(M.searchTerm,M.page,M.pageSize).pipe((0,vc.g)(200))))).subscribe({next:M=>{this.pagedResult=M,this.isLoading=!1},error:M=>{this.errorService.handleError(M),this.isLoading=!1}})}searchResource(n){this.searchTermStream.next(n)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditResource(n){this.isIdentityServerManagerReadOnly||n.nonEditable?this.viewResource(n):this.editResource(n)}viewResource(n){const u=this.localize.translateRoute("/protectedresources/view");this.router.navigate([u,n.id])}editResource(n){const u=this.localize.translateRoute("/protectedresources");this.router.navigate([u,n.id])}get isIdentityServerManagerReadOnly(){return(0,vt.gR)(this.securityService.userPermissions)}refreshList(){this.ngOnInit()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Xo.m),e.Y36(ni.F0),e.Y36(Tn.T),e.Y36(hi.An),e.Y36(t.Dx),e.Y36(mn.sK),e.Y36(ji._W),e.Y36(gi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],features:[e.qOj],decls:12,vars:11,consts:[[3,"title"],[3,"onSubmit"],["listProtectedResourcesModal",""],["id","protectedResourcesList",1,"tw-container","tw-mx-auto"],[3,"placeholder","onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(n,u){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-protectedresource",1,2),e.NdJ("onSubmit",function(){return u.refreshList()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(M){return u.searchResource(M)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,W_,7,4,"app-action-bar",5),e.YNc(8,j_,1,0,"app-simple-loader",5),e.YNc(9,zp,4,3,"div",6),e.YNc(10,z_,22,16,"table",7),e.YNc(11,G_,1,3,"app-pager",8),e.qZA()),2&n&&(e.Q6J("title",e.lcZ(1,7,"ProtectedResources.TitlePlural")),e.xp6(5),e.Q6J("placeholder",e.lcZ(6,9,"Resources.SearchPlaceholder")),e.xp6(2),e.Q6J("ngIf",!u.isLoading&&!u.isIdentityServerManagerReadOnly),e.xp6(1),e.Q6J("ngIf",u.isLoading),e.xp6(1),e.Q6J("ngIf",(!u.pagedResult||u.pagedResult.results.length<=0)&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.pagedResult&&u.pagedResult.results.length>0&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",(null==u.pagedResult?null:u.pagedResult.results.length)>0&&!u.isLoading))},dependencies:[ne.mk,ne.sg,ne.O5,m.YN,m.Kr,m.EJ,m.JJ,m.On,Ti.G,Hi.P,dr.K,ys,Qo.w,$p,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),Vd=(()=>{class l{constructor(n,u){this.protectedResourceService=n,this.errorService=u}resolve(n,u){const T=n.paramMap.get("Id");return this.protectedResourceService.getResource(T).pipe((0,re.U)(M=>(M&&this.protectedResourceService.getCachedProtectedResource().next(M),M)),(0,_c.K)((M,ue)=>(404===M.status?this.errorService.resourceNotFound(Kp._.protectedResource):this.errorService.handleError(M),(0,gc.c)())))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(Xo.m),e.LFG(Tn.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();function Gp(l,h){1&l&&(e.TgZ(0,"div",36),e._UZ(1,"router-outlet"),e.qZA())}const Q_=function(l,h){return{title:l,link:h}},Qp=function(l){return[l]},Nu=function(){return["active"]},q_=function(){return{backdrop:"static",animated:!1}};function Zl(){return Object.assign(new j.gd,{closeOthers:!0})}let Y_=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt,Ut,an){this.fb=n,this.route=u,this.router=T,this.titleService=M,this.protectedResourceService=ue,this.claimTypesService=ke,this.toastr=$e,this.translate=wt,this.localize=Ut,this.scopesClaimService=an}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n;const u=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+ze.de.SITE_TITLE;this.titleService.setTitle(u)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.scopesClaimService.setClaimTypes(n)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}delete(){return this.protectedResourceService.deleteProtectedResource(this.protectedResource.id).toPromise().then(n=>{const u=this.localize.translateRoute("/protectedresources");this.router.navigate([u]),this.toastr.success(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Success"))},n=>{this.toastr.error("Removed Resource","Failed!")})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ni.gz),e.Y36(ni.F0),e.Y36(t.Dx),e.Y36(Xo.m),e.Y36(po.M),e.Y36(ji._W),e.Y36(mn.sK),e.Y36(hi.An),e.Y36(Sa.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-edit-protectedresource"]],features:[e._Bn([{provide:j.gd,useFactory:Zl}])],decls:82,vars:83,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],["bsModal","","id","deleteProtectedResource","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["id","editProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(n,u){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(M){return u.mobRoute(M.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"option",9),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"option",10),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"ul",11),e.ALo(29,"translate"),e.TgZ(30,"li",12)(31,"button",13),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"li",12)(35,"button",14),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"li",12)(39,"button",15),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"li",12)(43,"button",16),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"li",12)(47,"button",17),e._uU(48),e.ALo(49,"translate"),e.qZA()()(),e.BQk(),e.qZA(),e.YNc(50,Gp,2,0,"div",18),e.TgZ(51,"div",19)(52,"div",20)(53,"div",21)(54,"div",22)(55,"h5",23),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"button",24),e._UZ(59,"span",25),e.TgZ(60,"span",26),e._uU(61),e.ALo(62,"translate"),e.qZA()()(),e.TgZ(63,"div",27)(64,"p",28),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"strong"),e._uU(68),e.qZA(),e._uU(69,"?"),e.qZA(),e._UZ(70,"p",29),e.ALo(71,"translate"),e.qZA(),e._UZ(72,"div",30),e.TgZ(73,"div",31)(74,"div",32)(75,"div",33)(76,"button",34),e.NdJ("click",function(){return u.delete()}),e._uU(77),e.ALo(78,"translate"),e.qZA()(),e.TgZ(79,"button",35),e._uU(80),e.ALo(81,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("title",null==u.protectedResource?null:u.protectedResource.name)("crumbs",e.VKq(75,Qp,e.WLB(72,Q_,e.lcZ(1,30,"ProtectedResources.Title"),e.lcZ(2,32,"/protectedresources"))))("hasTabs",!0),e.xp6(6),e.Oqu(e.lcZ(7,34,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,36,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,38,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,40,"Nav.Scopes")),e.xp6(3),e.Oqu(e.lcZ(21,42,"Nav.Claims")),e.xp6(3),e.Oqu(e.lcZ(24,44,"Nav.Secrets")),e.xp6(3),e.Oqu(e.lcZ(27,46,"Nav.Properties")),e.xp6(2),e.uIk("aria-label",e.lcZ(29,48,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(77,Nu)),e.xp6(1),e.Oqu(e.lcZ(33,50,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(78,Nu)),e.xp6(1),e.Oqu(e.lcZ(37,52,"Nav.Scopes")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(79,Nu)),e.xp6(1),e.Oqu(e.lcZ(41,54,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(80,Nu)),e.xp6(1),e.Oqu(e.lcZ(45,56,"Nav.Secrets")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(81,Nu)),e.xp6(1),e.Oqu(e.lcZ(49,58,"Nav.Properties")),e.xp6(2),e.Q6J("ngIf",u.protectedResource),e.xp6(1),e.Q6J("config",e.DdM(82,q_)),e.xp6(5),e.Oqu(e.lcZ(57,60,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(62,62,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(66,64,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(u.protectedResource.displayName),e.xp6(2),e.Q6J("innerHTML",e.lcZ(71,66,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(78,68,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(81,70,"Common.Delete.No")))},dependencies:[ne.O5,ni.lC,ni.rH,ni.Od,m.YN,m.Kr,Rt.oB,Ti.G,mn.X$,hi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),Vl=(()=>{class l{constructor(n,u,T){this.authService=n,this.securityService=u,this.appComponentViewService=T}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(n=>{this.authService.user=n.username,this.authService.isAuthenticated=n.isAuthenticated,n.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(n)})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(gr.e),e.Y36(gi.I),e.Y36(eo.t))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-auth"]],decls:0,vars:0,template:function(n,u){},encapsulation:2}),l})();class yc{}var Cc=f(8564);let qp=(()=>{class l{constructor(n,u){this.http=n,this.headersService=u,this.actionUrl="policy",this.headers=u.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(n){return this.http.put(this.actionUrl,n,{headers:this.headers})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(w.eN),e.LFG(Cc.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class Yp{constructor(h,n,u){this.isDateTime=!1,this.type=h,this.value=n,this.permission=u}}var X_=f(274),Xp=f(4225);const ev=["addPolicyModal"];function ef(l,h){if(1&l&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.name," ")}}function tv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.value=T)}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("ngModel",n.value)}}function Hd(l,h){if(1&l&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.name," ")}}function nv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",11)(1,"select",32),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.value=T)}),e.YNc(2,Hd,2,1,"option",13),e.qZA()()}if(2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.value),e.xp6(1),e.Q6J("ngForOf",n.avaliableRoles)}}function iv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.value=T)}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("ngModel",n.value)}}function Jd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",33),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.value=T)}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("ngModel",n.value)}}function wC(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",11)(1,"select",32),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.value=T)}),e.TgZ(2,"option",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",35),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.value),e.xp6(2),e.Oqu(e.lcZ(4,3,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(7,5,"Common.False"))}}function TC(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",36)(1,"app-enum-claim-type-input",37),e.NdJ("valueChanged",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.value=T)}),e.qZA()()}if(2&l){const n=e.oxw();e.Q6J("id","value-for-"+n.selectedClaimType.id),e.xp6(1),e.Q6J("id","claimsFormInput")("typeId",n.selectedClaimType.id)("hostingModal","addPolicyModal")("value",n.value)}}function Wd(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",40),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw(2);return e.KtG(M.value=T)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("ngModel",n.value)}}function AC(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",41),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw(2);return e.KtG(M.value=T)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("ngModel",n.value)("displayType","date")}}function SC(l,h){if(1&l&&(e.TgZ(0,"div",38),e.YNc(1,Wd,2,1,"ng-container",39),e.YNc(2,AC,2,2,"ng-container",39),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf","birthdate"!=n.claimType),e.xp6(1),e.Q6J("ngIf","birthdate"==n.claimType)}}function xC(l,h){if(1&l&&(e.TgZ(0,"option",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const n=h.$implicit;e.s9C("value",n),e.xp6(1),e.hij(" ",e.lcZ(2,2,"Permission."+n)," ")}}const EC=function(){return{animated:!1,backdrop:"static"}};let DC=(()=>{class l{constructor(n){this.toastr=n,this.added=new e.vpe,this.addAnother=!1}keydown(n){"Enter"===n.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(n=>n.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const n=new Yp(this.claimType,this.value,this.permission);this.added.next(n),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ji._W))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-accesspolicy"]],viewQuery:function(n,u){if(1&n&&e.Gf(ev,7),2&n){let T;e.iGM(T=e.CRH())&&(u.addPolicyModal=T.first)}},hostBindings:function(n,u){1&n&&e.NdJ("keydown",function(M){return u.keydown(M)},!1,e.evT)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addPolicyModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["value","true"],["value","false"],[1,"",3,"id"],[3,"id","typeId","hostingModal","value","valueChanged"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModel","ngModelChange"],["id","formClaimValue","required","true",3,"ngModel","displayType","ngModelChange"],[3,"value"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return u.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),e.NdJ("ngModelChange",function(M){return u.claimType=M})("ngModelChange",function(){return u.getClaimType()}),e._UZ(17,"option"),e.YNc(18,ef,2,1,"option",13),e.qZA()()(),e.TgZ(19,"app-form-row",14),e.YNc(20,tv,1,1,"input",15),e.YNc(21,nv,3,2,"div",16),e.YNc(22,iv,1,1,"input",15),e.YNc(23,Jd,1,1,"input",17),e.YNc(24,wC,8,7,"div",16),e.YNc(25,TC,2,5,"div",18),e.YNc(26,SC,3,2,"div",19),e.qZA(),e.TgZ(27,"app-form-row",20)(28,"div",11)(29,"select",21),e.NdJ("ngModelChange",function(M){return u.permission=M}),e._UZ(30,"option"),e.YNc(31,xC,3,4,"option",22),e.qZA()()()(),e._UZ(32,"div",23),e.TgZ(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),e.NdJ("click",function(){return u.addPolicy(),u.hide()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"span",28)(40,"button",29),e.NdJ("click",function(){return u.addAnotherPolicy()}),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",30),e.NdJ("click",function(){return u.hide()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(37,EC)),e.xp6(6),e.Oqu(e.lcZ(7,27,"Settings.AccessPolicy.NewPolicy")),e.xp6(5),e.Oqu(e.lcZ(12,29,"Common.Close")),e.xp6(3),e.Q6J("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),e.xp6(2),e.Q6J("ngModel",u.claimType),e.xp6(2),e.Q6J("ngForOf",u.avaliableClaimTypes),e.xp6(1),e.Q6J("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==u.selectedClaimType?null:u.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),e.xp6(1),e.Q6J("ngIf",null==u.claimType||""==u.claimType),e.xp6(1),e.Q6J("ngIf","role"==u.claimType),e.xp6(1),e.Q6J("ngIf","String"==(null==u.selectedClaimType?null:u.selectedClaimType.valueType)&&"role"!=u.claimType),e.xp6(1),e.Q6J("ngIf","Int"==(null==u.selectedClaimType?null:u.selectedClaimType.valueType)&&"role"!=u.claimType),e.xp6(1),e.Q6J("ngIf","Boolean"==(null==u.selectedClaimType?null:u.selectedClaimType.valueType)&&"role"!=u.claimType),e.xp6(1),e.Q6J("ngIf","Enum"==(null==u.selectedClaimType?null:u.selectedClaimType.valueType)),e.xp6(1),e.Q6J("ngIf","DateTime"==(null==u.selectedClaimType?null:u.selectedClaimType.valueType)&&"role"!=u.claimType),e.xp6(1),e.Q6J("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),e.xp6(2),e.Q6J("ngModel",u.permission),e.xp6(2),e.Q6J("ngForOf",u.avaliablePermissions),e.xp6(5),e.Q6J("disabled",!u.isValid()),e.xp6(1),e.Oqu(e.lcZ(38,31,"Common.Add")),e.xp6(3),e.Q6J("disabled",!u.isValid()),e.xp6(1),e.Oqu(e.lcZ(42,33,"Common.AddAndAdd")),e.xp6(3),e.Oqu(e.lcZ(45,35,"Common.Cancel")))},dependencies:[ne.sg,ne.O5,m.YN,m.Kr,m.Fj,m.wV,m.EJ,m.JJ,m.Q7,m.On,Rt.oB,Hr.L,X_.V,Xp.j,mn.X$],encapsulation:2}),l})();var rv=f(3110);const tf=["deleteAccessPolicyModal"];function jd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,24),e.TgZ(2,"button",25),e.NdJ("click",function(){e.CHM(n),e.oxw();const T=e.MAs(1);return e.KtG(T.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Settings.AccessPolicy.Add")," "))}function nf(l,h){1&l&&e._UZ(0,"app-simple-loader")}function rf(l,h){if(1&l&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.value," ")}}function sf(l,h){if(1&l&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"standardDate"),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.value)," ")}}function Kd(l,h){1&l&&(e.TgZ(0,"span",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function sv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(n);const T=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.openDeletePolicyConfirmation(T.type,T.value,T.permission))}),e._UZ(1,"span",14),e.TgZ(2,"span",15),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Common.Remove.Title")," "))}const $d=function(l){return{"inactive disabled":l}};function bc(l,h){if(1&l&&(e.TgZ(0,"tr",32)(1,"td",33)(2,"b"),e._uU(3),e.qZA()(),e.YNc(4,rf,2,1,"td",34),e.YNc(5,sf,3,3,"ng-template",null,35,e.W1O),e.TgZ(7,"td",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"td"),e.YNc(11,Kd,3,3,"span",37),e.qZA(),e.TgZ(12,"td"),e.YNc(13,sv,5,3,"button",38),e.qZA()()),2&l){const n=h.$implicit,u=e.MAs(6);e.Q6J("ngClass",e.VKq(9,$d,"role"===n.type&&"AdminUI Administrator"===n.value&&"All"===n.permission)),e.xp6(3),e.Oqu(n.type),e.xp6(1),e.Q6J("ngIf",!n.isDateTime)("ngIfElse",u),e.xp6(4),e.hij(" ",e.lcZ(9,7,"Permission."+n.permission)," "),e.xp6(3),e.Q6J("ngIf","role"===n.type&&"AdminUI Administrator"===n.value&&"All"===n.permission),e.xp6(2),e.Q6J("ngIf",!("role"==n.type&&"AdminUI Administrator"==n.value&&"All"==n.permission))}}function ov(l,h){if(1&l&&(e.TgZ(0,"table",26)(1,"thead")(2,"tr")(3,"th",27),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",28),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",29),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",30)(13,"span",15),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",30)(17,"span",15),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody"),e.YNc(21,bc,14,11,"tr",31),e.qZA(),e._UZ(22,"tbody"),e.qZA()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Settings.AccessPolicy.ClaimType")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Settings.AccessPolicy.ClaimValue")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Settings.AccessPolicy.Permission")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",null==n.accessPolicy?null:n.accessPolicy.policyClaims)}}function av(l,h){if(1&l&&e._UZ(0,"app-pager",42),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.accessPolicy||null==n.accessPolicy.policyClaims?null:n.accessPolicy.policyClaims.length)}}const lv=function(){return{animated:!1,backdrop:"static"}};let af=(()=>{class l{constructor(n,u,T,M,ue,ke,$e){this.accessPolicyService=n,this.translate=u,this.toastr=T,this.errorService=M,this.healthCheckService=ue,this.dialogService=ke,this.activatedRoute=$e,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(n=>{this.accessPolicyResolverData=n.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const u=this.accessPolicyResolverData.accessPolicy.policyClaims.find(T=>"role"===T.type&&"AdminUI Administrator"===T.value&&"All"===T.permission);this.accessPolicy=new yc,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((T,M)=>T===u?-1:M===u?1:0),this.accessPolicy.policyClaims.forEach(T=>{Ui.ou.fromISO(T.value).isValid&&(T.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((T,M)=>T.name.toUpperCase()<M.name.toUpperCase()?-1:T.name.toUpperCase()>M.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1})}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(n=>n.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(n){this.hasChanged=!0,this.accessPolicy.policyClaims.push(n),this.warnToSave()}openDeletePolicyConfirmation(n,u,T){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(M=>M.type===n&&M.value===u&&M.permission===T),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(n){this.accessPolicy.policyClaims.splice(n,1),this.hasChanged=!0,this.deleteAccessPolicyModal.hide(),this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(n=>{this.accessPolicy=n;const u=this.accessPolicy.policyClaims.find(T=>"role"===T.type&&"AdminUI Administrator"===T.value&&"All"===T.permission);this.accessPolicy.policyClaims.sort((T,M)=>T===u?-1:M===u?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},n=>{"409"===n.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(n)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(qp),e.Y36(mn.sK),e.Y36(ji._W),e.Y36(Tn.T),e.Y36(Ri.G),e.Y36(qa.x),e.Y36(ni.gz))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-update-accesspolicy"]],viewQuery:function(n,u){if(1&n&&e.Gf(tf,7),2&n){let T;e.iGM(T=e.CRH())&&(u.deleteAccessPolicyModal=T.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:39,vars:29,consts:[[3,"avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy","added"],["addPolicyModal",""],[1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["bsModal","","id","deleteAccessPolicyModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteAccessPolicyModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["right",""],[1,"tw-btn-success",3,"click"],[1,"datatable","hover"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],["dateTimePolicy",""],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],["class","tw-pill",4,"ngIf"],["id","remove","class","tw-btn-link tw-btn-small tw-text-red-500",3,"click",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-pill"],["id","remove",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["hidePager","true",3,"totalResults"]],template:function(n,u){1&n&&(e.TgZ(0,"app-add-accesspolicy",0,1),e.NdJ("added",function(M){return u.addPolicy(M)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,jd,5,3,"app-action-bar",3),e.YNc(4,nf,1,0,"app-simple-loader",3),e.YNc(5,ov,23,16,"table",4),e.YNc(6,av,1,1,"app-pager",5),e.qZA(),e.TgZ(7,"app-button-bar")(8,"button",6),e.NdJ("click",function(){return u.updatePolicy()}),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",7,8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h5",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return u.closeDeleteModal()}),e._UZ(20,"span",14),e.TgZ(21,"span",15),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"div",16)(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e._UZ(28,"div",18),e.TgZ(29,"div",19)(30,"div",20)(31,"div",21)(32,"button",22),e.NdJ("click",function(){return u.removePolicy(u.indexToDelete)}),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"button",23),e.NdJ("click",function(){return u.closeDeleteModal()}),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()()(),e._UZ(38,"app-can-deactivate")),2&n&&(e.Q6J("avaliableClaimTypes",u.avaliableClaimTypes)("avaliableRoles",u.avaliableRoles)("avaliablePermissions",u.avaliablePermissions)("accessPolicy",u.accessPolicy),e.xp6(3),e.Q6J("ngIf",!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.isLoading),e.xp6(1),e.Q6J("ngIf",(null==u.accessPolicy||null==u.accessPolicy.policyClaims?null:u.accessPolicy.policyClaims.length)>0&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",(null==u.accessPolicy||null==u.accessPolicy.policyClaims?null:u.accessPolicy.policyClaims.length)>0&&!u.isLoading),e.xp6(2),e.Q6J("disabled",u.saveDisabled),e.xp6(1),e.hij(" ",e.lcZ(10,16,"Common.Save")," "),e.xp6(2),e.Q6J("config",e.DdM(28,lv)),e.xp6(6),e.Oqu(e.lcZ(18,18,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(23,20,"Common.Close")),e.xp6(4),e.Oqu(e.lcZ(27,22,"Common.Delete.AreYouSureSimple3")),e.xp6(7),e.Oqu(e.lcZ(34,24,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(37,26,"Common.Delete.No")))},dependencies:[ne.mk,ne.sg,ne.O5,Rt.oB,Bl.J,Hi.P,Qo.w,dr.K,Ul.N,DC,mn.X$,rv.g9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Ha=f(590),cv=f(2076),uv=f(1058);function dv(l,h){1&l&&e._UZ(0,"span",27)}let zd=(()=>{class l{constructor(n,u,T,M,ue,ke,$e){this.authService=n,this.securityService=u,this.titleService=T,this.healthCheckService=M,this.localizeRouter=ue,this.router=ke,this.loginTrackingService=$e,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${ze.de.SITE_TITLE}`),this.versionNumber=Ce;const wt=new Date;this.appCopyright=2017!==wt.getFullYear()?"2017 - "+wt.getFullYear():"2017"}get LinkConstants(){return On}ngOnInit(){this.startLogin=!1;const n=this.healthCheckService.idsHealthCheckComplete.pipe((0,Ha.P)()),u=this.healthCheckService.uiHealthCheckComplete.pipe((0,Ha.P)());(0,Xs.D)([n,u]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const n=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,cv.D)(this.router.navigate([n]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(gr.e),e.Y36(gi.I),e.Y36(t.Dx),e.Y36(Ri.G),e.Y36(hi.An),e.Y36(ni.F0),e.Y36(uv.U))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","trans"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"header",3),e._UZ(4,"img",4),e.TgZ(5,"span",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"h2",8),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p",10),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"a",11),e._uU(19," sales@identityserver.com "),e.qZA()(),e.TgZ(20,"div",12)(21,"button",13),e.NdJ("click",function(){return u.login()}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,dv,1,0,"span",14),e.qZA(),e.TgZ(25,"ul",15)(26,"li",16)(27,"a",17),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"span",18),e._uU(31,"\u2022"),e.qZA()(),e.TgZ(32,"li",16)(33,"a",17),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"span",18),e._uU(37,"\u2022"),e.qZA()(),e.TgZ(38,"li",19)(39,"a",20),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"div",21),e._UZ(43,"app-rss-feed",22),e.qZA(),e.TgZ(44,"footer",23)(45,"a",24),e._UZ(46,"img",25),e.TgZ(47,"span",26),e._uU(48),e.qZA()()()()()),2&n&&(e.xp6(6),e.hij("v",u.versionNumber,""),e.xp6(4),e.hij("",e.lcZ(11,14,"LandingPage.Welcome")," AdminUI"),e.xp6(3),e.Oqu(e.lcZ(14,16,"LandingPage.IntroParagraph1")),e.xp6(3),e.hij(" ",e.lcZ(17,18,"LandingPage.IntroParagraph2")," "),e.xp6(5),e.Q6J("disabled",!u.loginAllowed||u.startLogin),e.xp6(1),e.hij(" ",e.lcZ(23,20,"Nav.Login")," "),e.xp6(2),e.Q6J("ngIf",u.startLogin),e.xp6(3),e.s9C("href",u.LinkConstants.ApiDocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(29,22,"LandingPage.APIDocs")," "),e.xp6(5),e.s9C("href",u.LinkConstants.DocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(35,24,"LandingPage.Documentation")," "),e.xp6(5),e.s9C("href",u.LinkConstants.SupportLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(41,26,"Nav.Support")," "),e.xp6(8),e.hij("\xa9 ",u.appCopyright,""))},dependencies:[ne.O5,fu,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Rs=f(8677);function hv(l,h){1&l&&(e.TgZ(0,"option",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Nav.AccessPolicy")))}function pv(l,h){1&l&&(e.TgZ(0,"option",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Nav.Keys")))}const Ru=function(){return["active"]};function fv(l,h){1&l&&(e.TgZ(0,"li",17)(1,"button",18),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(1),e.Q6J("routerLinkActive",e.DdM(4,Ru)),e.xp6(1),e.Oqu(e.lcZ(3,2,"Nav.AccessPolicy")))}function mv(l,h){1&l&&(e.TgZ(0,"li",19)(1,"button",20),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(1),e.Q6J("routerLinkActive",e.DdM(4,Ru)),e.xp6(1),e.Oqu(e.lcZ(3,2,"Nav.Keys")))}let Po=(()=>{class l{constructor(n,u,T){this.titleService=n,this.translate=u,this.configService=T,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,Ha.P)()).subscribe(n=>{this.targetIdentityServer4=n.targetIdentityServer4,this.hideAccessPolicy=n.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${ze.de.SITE_TITLE}`)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(mn.sK),e.Y36(Es.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-settings"]],decls:26,vars:25,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Keys",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item","id","keysTab",4,"ngIf"],["value","Access Policy"],["value","Keys"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"],["id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(n,u){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ynx(2,1),e.TgZ(3,"div",2)(4,"label",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",4)(8,"select",5)(9,"option",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,hv,3,3,"option",7),e.YNc(13,pv,3,3,"option",8),e.TgZ(14,"option",9),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"ul",10),e.ALo(18,"translate"),e.YNc(19,fv,4,5,"li",11),e.TgZ(20,"li",12)(21,"button",13),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.YNc(24,mv,4,5,"li",14),e.qZA(),e.BQk(),e.qZA(),e._UZ(25,"router-outlet")),2&n&&(e.Q6J("title",e.lcZ(1,12,"Nav.Settings"))("hasTabs",!0),e.xp6(5),e.Oqu(e.lcZ(6,14,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(11,16,"Nav.SubMenu"),"..."),e.xp6(2),e.Q6J("ngIf",!u.hideAccessPolicy),e.xp6(1),e.Q6J("ngIf",!u.targetIdentityServer4),e.xp6(2),e.Oqu(e.lcZ(16,18,"Nav.Webhooks")),e.xp6(2),e.uIk("aria-label",e.lcZ(18,20,"Nav.SubMenu")),e.xp6(2),e.Q6J("ngIf",!u.hideAccessPolicy),e.xp6(2),e.Q6J("routerLinkActive",e.DdM(24,Ru)),e.xp6(1),e.Oqu(e.lcZ(23,22,"Nav.Webhooks")),e.xp6(2),e.Q6J("ngIf",!u.targetIdentityServer4))},dependencies:[ne.O5,m.YN,m.Kr,ni.lC,ni.rH,ni.Od,Ti.G,mn.X$],encapsulation:2}),l})(),Gd=(()=>{class l{constructor(n,u){this.route=n,this.translate=u}ngOnInit(){const n=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=n in Kp._?n:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ni.gz),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.ResourceNotFoundDescription")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[mn.X$],encapsulation:2}),l})();var lf=f(4707),ku=f(3212);let Eo=(()=>{class l extends ku._{constructor(n,u){super(),this.http=n,this.headersService=u,this.userSubject=new lf.t(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(n,u,T,M,ue,ke,$e){const wt=this.buildParams(n,T,u,M,ue,ke,$e);return this.http.get(this.actionUrl,{headers:this.headers,params:wt})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(w.eN),e.LFG(Cc.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var wc=f(7356);let cf=(()=>{class l{constructor(n,u){n.setTitle(u.instant("Nav.Auditing")+` - ${ze.de.SITE_TITLE}`)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-audits"]],features:[e._Bn([{provide:ku._,useClass:Eo}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(n,u){1&n&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"div",1),e._UZ(3,"app-audits-list"),e.qZA()),2&n&&e.Q6J("title",e.lcZ(1,1,"Nav.Auditing"))},dependencies:[wc.$,Ti.G,mn.X$],encapsulation:2}),l})();const gv=function(l){return[l]};let _v=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt,Ut){this.fb=n,this.route=u,this.router=T,this.titleService=M,this.identityResourceService=ue,this.toastr=ke,this.dialogService=$e,this.translate=wt,this.localize=Ut}get ReadOnlyFieldType(){return Tu.O}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.buildForm(),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ze.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}buildForm(){this.identityResourceForm=this.fb.group({id:[this.identityResource.id],name:[this.identityResource.name,m.kI.required],displayName:[this.identityResource.displayName,m.kI.required],description:[this.identityResource.description,[m.kI.required,m.kI.maxLength(1e3)]],showInDiscoveryDocument:[this.identityResource.showInDiscoveryDocument],emphasize:[this.identityResource.emphasize],required:[this.identityResource.required],enabled:[this.identityResource.enabled]})}canDeactivate(){return!!this.identityResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){const n=Object.assign(this.identityResourceForm.value,{allowedClaims:this.identityResource.allowedClaims});return this.identityResourceService.updateResource(n).toPromise().then(u=>{this.identityResourceForm.markAsPristine(),this.identityResource=n,this.identityResourceService.getCachedIdentityResource().next(n),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ni.gz),e.Y36(ni.F0),e.Y36(t.Dx),e.Y36(Va.Q),e.Y36(ji._W),e.Y36(qa.x),e.Y36(mn.sK),e.Y36(hi.An))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-identityresource-details"]],decls:29,vars:40,consts:[[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["id","displayNameInput","name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","Required","formControlName","required","type","checkbox",1,"tw-form-switch__input"],["id","showInDiscoveryDocument","formControlName","showInDiscoveryDocument","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","emphasize","formControlName","emphasize","type","checkbox",1,"tw-form-switch__input"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteIdentityResource",1,"tw-btn-danger","tw-mb-3"]],template:function(n,u){1&n&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4),e._UZ(5,"app-readonly",5),e.ALo(6,"readOnlyValue"),e.qZA(),e.TgZ(7,"app-form-row",4),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"app-form-row",4),e._UZ(10,"textarea",7),e.qZA(),e.TgZ(11,"app-form-row",4)(12,"app-form-toggle",8),e._UZ(13,"input",9),e.qZA()(),e.TgZ(14,"app-form-row",4)(15,"app-form-toggle",8),e._UZ(16,"input",10),e.qZA()(),e.TgZ(17,"app-form-row",11)(18,"app-form-toggle",8),e._UZ(19,"input",12),e.qZA()()(),e.TgZ(20,"app-button-bar")(21,"button",13),e.NdJ("click",function(){return u.submit()}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.ynx(24,14),e.TgZ(25,"button",15),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(28,"app-can-deactivate")),2&n&&(e.Q6J("formGroup",u.identityResourceForm),e.xp6(1),e.Q6J("id","Status")("label","Common.Enabled"),e.xp6(1),e.Q6J("id","Status")("isTraffic",!0),e.xp6(2),e.Q6J("id","ResourceID")("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.xp6(1),e.Q6J("fieldType",u.ReadOnlyFieldType.Single)("values",e.VKq(38,gv,e.lcZ(6,32,u.identityResource.id))),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.xp6(2),e.Q6J("id","Required")("label","Common.Required")("help","IdentityResources.ConsentResource"),e.xp6(1),e.Q6J("id","Required"),e.xp6(2),e.Q6J("id","showInDiscoveryDocument")("label","IdentityResources.ShowInDiscoveryDocument")("help","IdentityResources.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("id","showInDiscoveryDocument"),e.xp6(2),e.Q6J("id","emphasize")("label","Common.Emphasize")("help","IdentityResources.ConsentScreen")("isLast",!0),e.xp6(1),e.Q6J("id","emphasize"),e.xp6(3),e.Q6J("disabled",u.identityResourceForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(23,34,"Common.Save")," "),e.xp6(4),e.hij(" ",e.lcZ(27,36,"Common.Delete.Title")," "))},dependencies:[m._Y,m.Fj,m.Wl,m.JJ,m.JL,m.Q7,m.sg,m.u,Bl.J,Ul.N,Hr.L,kl.O,Au.f,mn.X$,Su.b],encapsulation:2}),l})();var Qd=f(2718);class uf{}const df=["ClaimsPicker"];let vv=(()=>{class l{constructor(n,u,T,M,ue){this.titleService=n,this.identityResourceService=u,this.scopeClaimService=T,this.toastr=M,this.translate=ue,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().pipe((0,Qd.V)(this.scopeClaimService.cachedClaimTypes$),(0,re.U)(([n,u])=>({resource:n,claimTypes:u})),(0,Ha.P)()).subscribe({next:n=>{this.identityResource=n.resource,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ze.de.SITE_TITLE}`),this.originalClaims=n.claimTypes.slice(),this.identityResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(n.claimTypes):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(n.claimTypes)}})}convertOriginalClaimTypesToPickerClaimTypes(n){let u=[];return n.map(T=>{const M=new uf;M.name=T.displayName?T.displayName:T.name,u.push(M)}),u}convertPickerClaimsToClaim(n){let u=[];return n.map(T=>{u.push(this.originalClaims.find(M=>M.displayName===T.name||M.name===T.name))}),u}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.toSendClaims=this.assignedClaims.concat(n),this.submit().then(u=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,vt.mn)(this.availableClaims.slice(),n),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.toSendClaims=(0,vt.mn)(this.assignedClaims,n),this.submit().then(u=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(n),this.claimsPicker.assignedCount=0})})}submit(){const n=(0,va.UI)(this.convertPickerClaimsToClaim(this.toSendClaims),function(T){return T.name}),u=Object.assign(this.identityResource,{allowedClaims:n});return this.identityResourceService.updateResource(u).toPromise().then(T=>{this.identityResource=u,this.identityResourceService.getCachedIdentityResource().next(u),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(n){let u=[],T=n.filter(M=>(u.push(M),this.identityResource.allowedClaims.some(ue=>ue===M.name)));u=(0,vt.mn)(u,T),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(u),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(T)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(Va.Q),e.Y36(Sa.q),e.Y36(ji._W),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-identity-resource-claims"]],viewQuery:function(n,u){if(1&n&&e.Gf(df,7),2&n){let T;e.iGM(T=e.CRH())&&(u.claimsPicker=T.first)}},decls:6,vars:5,consts:[[1,"cms"],[3,"assignedInput","availableInput"],["ClaimsPicker",""]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e._UZ(4,"app-common-picker",1,2)),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"IdentityResources.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",u.assignedClaims)("availableInput",u.availableClaims))},dependencies:[hl.v,mn.X$],encapsulation:2}),l})();var hf=f(8381);function yv(l,h){1&l&&(e.TgZ(0,"app-form-row",4)(1,"app-form-toggle",14),e._UZ(2,"input",15),e.qZA()()),2&l&&(e.Q6J("id","requireResourceIndicatorInput")("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.xp6(1),e.Q6J("id","requireResourceIndicatorInput"))}const Cv=function(l){return[l]};let pf=(()=>{class l{constructor(n,u,T,M,ue,ke){this.protectedResourceService=n,this.fb=u,this.toastr=T,this.translate=M,this.dialogService=ue,this.configService=ke,this.targetIdentityServer4=!1}get ReadOnlyFieldType(){return Tu.O}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.configService.getConfig().pipe((0,Ha.P)()).subscribe(u=>{this.targetIdentityServer4=u.targetIdentityServer4,this.buildForm()})})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}buildForm(){const n={id:[this.protectedResource.id],name:[this.protectedResource.name,m.kI.required],displayName:[this.protectedResource.displayName,m.kI.required],description:[this.protectedResource.description,[m.kI.maxLength(1e3)]],enabled:[this.protectedResource.enabled],allowedAccessTokenSigningAlgorithms:[this.protectedResource.allowedAccessTokenSigningAlgorithms]};this.targetIdentityServer4||(n.requireResourceIndicator=[this.protectedResource.requireResourceIndicator]),this.protectedResourceForm=this.fb.group(n)}canDeactivate(){return!!this.protectedResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){const n={...this.protectedResourceForm.value,allowedClaims:this.protectedResource.allowedClaims,secrets:this.protectedResource.secrets,scopes:this.protectedResource.scopes,properties:this.protectedResource.properties};this.protectedResourceService.updateResource(n).subscribe({next:u=>{this.protectedResourceForm.markAsPristine(),this.protectedResource=n,this.protectedResourceService.getCachedProtectedResource().next(n),this.toastr.success(this.translate.instant("Resources.UpdatedSuccess"),this.translate.instant("Notifications.Success"))},error:u=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Xo.m),e.Y36(m.QS),e.Y36(ji._W),e.Y36(mn.sK),e.Y36(qa.x),e.Y36(Es.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-details"]],decls:23,vars:33,consts:[[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","isLast"],[3,"form","algorithmControlName"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteProtectedResource",1,"tw-btn-danger","tw-mb-3"],[3,"id"],["id","requireResourceIndicatorInput","type","checkbox","name","requireResourceIndicator","formControlName","requireResourceIndicator",1,"tw-form-switch__input"]],template:function(n,u){1&n&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4),e._UZ(5,"app-readonly",5),e.ALo(6,"readOnlyValue"),e.qZA(),e.TgZ(7,"app-form-row",4),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"app-form-row",4),e._UZ(10,"textarea",7),e.qZA(),e.YNc(11,yv,3,4,"app-form-row",8),e.TgZ(12,"app-form-row",9),e._UZ(13,"app-signing-algorithm-picker",10),e.qZA()(),e.TgZ(14,"app-button-bar")(15,"button",11),e.NdJ("click",function(){return u.submit()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.ynx(18,12),e.TgZ(19,"button",13),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(22,"app-can-deactivate")),2&n&&(e.Q6J("formGroup",u.protectedResourceForm),e.xp6(1),e.Q6J("id","Status")("label","Common.Enabled"),e.xp6(1),e.Q6J("id","Status")("isTraffic",!0),e.xp6(2),e.Q6J("id","ResourceID")("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.xp6(1),e.Q6J("fieldType",u.ReadOnlyFieldType.Single)("values",e.VKq(31,Cv,e.lcZ(6,25,u.protectedResource.id))),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","Resources.ResourceName"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.ResourceDescription"),e.xp6(2),e.Q6J("ngIf",!u.targetIdentityServer4),e.xp6(1),e.Q6J("id","allowedAccessTokenSigningAlgorithms")("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.xp6(1),e.Q6J("form",u.protectedResourceForm)("algorithmControlName","allowedAccessTokenSigningAlgorithms"),e.xp6(2),e.Q6J("disabled",!(u.protectedResourceForm.dirty&&u.protectedResourceForm.valid)),e.xp6(1),e.hij(" ",e.lcZ(17,27,"Common.Save")," "),e.xp6(4),e.hij(" ",e.lcZ(21,29,"Common.Delete.Title")," "))},dependencies:[ne.O5,m._Y,m.Fj,m.Wl,m.JJ,m.JL,m.sg,m.u,Bl.J,Ul.N,Hr.L,kl.O,hf.m,Au.f,mn.X$,Su.b],encapsulation:2}),l})();var ff=f(727),qd=f(9272),Ya=f(6001);const Ja=["ClaimPicker"],bv=["tabs"];let wv=(()=>{class l{constructor(n,u,T,M,ue){this.fb=n,this.claimsService=u,this.translate=T,this.dialogService=M,this.scopesClaimService=ue,this._scope=new qd.s,this.isEdit=!0,this.submit=new e.vpe,this.delete=new e.vpe,this.availableClaims=[],this.assignedClaims=[],this.properties=[]}set scope(n){this._scope=n||new qd.s}get scope(){return this._scope}ngOnInit(){this.buildForm(),this.scopesClaimService.cachedClaimTypes$.subscribe(n=>{const u=n.slice();this.scope.userClaims.length>0?this.sortClaims(u):this.availableClaims=u}),this.properties=this.scope.properties}buildForm(){this.scopeForm=this.fb.group({id:[this.scope.id],name:[this.scope.name,m.kI.required],displayName:[this.scope.displayName,m.kI.required],description:[this.scope.description,[m.kI.required,m.kI.maxLength(1e3)]],showInDiscoveryDocument:[this.scope.showInDiscoveryDocument],emphasize:[this.scope.emphasize],required:[this.scope.required],enabled:[this.scope.enabled]})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.assignClaims(n)}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.unassignClaims(n)})}unassignClaims(n){const u=n.map(ke=>ke.name),T=this.assignedClaims.map(ke=>ke.name),M=(0,va.e5)(T,u),ue=Object.assign(this.scopeForm.value,{userClaims:M});this.submit.emit(ue)}assignClaims(n){const u=[...this.assignedClaims,...n].map(M=>M.name),T={...this.scopeForm.value,userClaims:u};this.submit.emit(T)}submitForm(){const n=this.assignedClaims.map(T=>T.name),u=Object.assign(this.scopeForm.value,{userClaims:n},{properties:this.properties});this.submit.emit(u)}deleteScope(){this.delete.emit(this.scope)}sortClaims(n){const u=[];this.scope.userClaims.forEach(T=>{n.forEach((M,ue)=>{M.name===T&&(n.splice(ue,1),u.push(M))})}),this.availableClaims=n,this.assignedClaims=u}onPropertiesChanged(n){this.properties=n}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(po.M),e.Y36(mn.sK),e.Y36(qa.x),e.Y36(Sa.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-api-scope"]],viewQuery:function(n,u){if(1&n&&(e.Gf(Ja,7),e.Gf(bv,7)),2&n){let T;e.iGM(T=e.CRH())&&(u.claimsPicker=T.first),e.iGM(T=e.CRH())&&(u.tabsComponent=T.first)}},inputs:{scope:"scope",isEdit:"isEdit"},outputs:{submit:"submit",delete:"delete"},decls:37,vars:49,consts:[["tabs",""],[3,"heading"],[1,"tw-pt-5",3,"formGroup"],[3,"id","label","help"],["type","text","readonly","",1,"tw-form-control",3,"id","value"],["name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control",3,"id"],["name","descriptionInput","type","text","formControlName","description","required","",1,"tw-form-control",3,"id"],[3,"id"],["type","checkbox","formControlName","required",1,"tw-form-switch__input",3,"id"],["type","checkbox","formControlName","showInDiscoveryDocument",1,"tw-form-switch__input",3,"id"],[3,"id","label","help","isLast"],["type","checkbox","formControlName","emphasize",1,"tw-form-switch__input",3,"id"],[1,"tw-flex","tw-items-center","tw-border-t","tw-border-grey-300","tw-mt-20","tw-pt-5"],[1,"tw-btn-success",3,"click"],["data-toggle","modal","id","deleteBtn",1,"tw-btn-danger","tw-ml-auto",3,"click"],[1,"cms","tw-pt-5"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],["id","propertiesEditor",3,"modalId","properties","propertiesChanged"]],template:function(n,u){1&n&&(e.TgZ(0,"tabset",null,0)(2,"tab",1),e.ALo(3,"translate"),e.TgZ(4,"div")(5,"form",2)(6,"app-form-row",3),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"app-form-row",3),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"app-form-row",3),e._UZ(11,"textarea",6),e.qZA(),e.TgZ(12,"app-form-row",3)(13,"app-form-toggle",7),e._UZ(14,"input",8),e.qZA()(),e.TgZ(15,"app-form-row",3)(16,"app-form-toggle",7),e._UZ(17,"input",9),e.qZA()(),e.TgZ(18,"app-form-row",10)(19,"app-form-toggle",7),e._UZ(20,"input",11),e.qZA()()(),e.TgZ(21,"div",12)(22,"button",13),e.NdJ("click",function(){return u.submitForm()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"button",14),e.NdJ("click",function(){return u.deleteScope()}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"tab",1)(29,"div",15)(30,"p"),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e._UZ(33,"app-common-picker",16,17),e.qZA(),e.TgZ(35,"tab",1)(36,"app-properties-editor",18),e.NdJ("propertiesChanged",function(M){return u.onPropertiesChanged(M)}),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("heading",e.lcZ(3,41,"Nav.Details")),e.xp6(3),e.Q6J("formGroup",u.scopeForm),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Id")("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.xp6(1),e.MGl("id","scope",u.scope.id,"Id"),e.Q6J("value",u.scope.name),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Name")("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(1),e.MGl("id","scope",u.scope.id,"Name"),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Description")("label","Common.Description")("help","Resources.Scope.Description"),e.xp6(1),e.MGl("id","scope",u.scope.id,"Description"),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Required")("label","Common.Required")("help","Resources.Scope.Consent"),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Required"),e.xp6(1),e.MGl("id","scope",u.scope.id,"Required"),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Discovery")("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Discovery"),e.xp6(1),e.MGl("id","scope",u.scope.id,"Discovery"),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Emphasise")("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.xp6(1),e.Q6J("id","scope"+u.scope.id+"Emphasise"),e.xp6(1),e.MGl("id","scope",u.scope.id,"Emphasise"),e.xp6(3),e.Oqu(e.lcZ(24,43,"Common.Save")),e.xp6(3),e.Oqu(e.lcZ(27,45,"Common.Remove.Title")),e.xp6(2),e.Q6J("heading","Claims"),e.xp6(3),e.Oqu(e.lcZ(32,47,"Resources.Scope.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",u.assignedClaims)("availableInput",u.availableClaims)("availableSearch",!0),e.xp6(2),e.Q6J("heading","Properties"),e.xp6(1),e.Q6J("modalId",u.scope.id)("properties",u.scope.properties))},dependencies:[hl.v,m._Y,m.Fj,m.Wl,m.JJ,m.JL,m.Q7,m.sg,m.u,Se.wW,Se.AH,Hr.L,kl.O,Ya.s,mn.X$],encapsulation:2,changeDetection:0}),l})();const IC=["ClaimPicker"],MC=["tabs"];function mf(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function OC(l,h){1&l&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.AssignClaims")))}function xa(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("disabled",n.scopeForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function Yd(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.addScope())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Save")))}let Xd=(()=>{class l{constructor(n,u,T,M,ue,ke,$e){this.fb=n,this.claimsService=u,this.protectedResourceService=T,this.toastr=M,this.translate=ue,this.scopesClaimService=ke,this.errorService=$e,this.submitConfirmed=new e.vpe,this.cancelOut=new e.vpe,this.scope=new qd.s,this.allAvaliableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1}keydown(n){"Enter"===n.key&&this.scopeForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.scopeForm=this.fb.group({name:[this.scope.name,[m.kI.required,m.kI.pattern(/^\S*$/)]],displayName:[this.scope.displayName,m.kI.required],description:[this.scope.description,[m.kI.required,m.kI.maxLength(1e3)]],showInDiscoveryDocument:[!0],emphasize:[!1],required:[!1]}),this.claimsSubscription=this.scopesClaimService.cachedClaimTypes$.subscribe(n=>{const u=n.slice();this.scope.userClaims.length>0?this.sortClaims(u):(this.availableClaims=u,this.allAvaliableClaims=u)})}ngOnDestroy(){this.claimsSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.availableClaims=(0,vt.mn)(this.availableClaims.slice(),n);const u=this.assignedClaims.slice();this.assignedClaims=u.concat(n),this.claimsPicker.availableCount=0}),this.claimsPicker.unAssignedStream.subscribe(n=>{const u=this.availableClaims;this.assignedClaims=(0,vt.mn)(this.assignedClaims.slice(),n),this.availableClaims=u.concat(n),this.claimsPicker.assignedCount=0})}sortClaims(n){const u=[];this.scope.userClaims.forEach(T=>{n.forEach((M,ue)=>{M.name===T&&(n.splice(ue,1),u.push(M))})}),this.availableClaims=n,this.assignedClaims=u}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.cancelOut.emit(!0)}addScope(){const n=(0,va.UI)(this.assignedClaims,T=>T.name),u=Object.assign(this.scopeForm.value,{userClaims:n});this.protectedResourceService.addResourceScope(this.resource.id,u).subscribe(T=>{this.submitConfirmed.emit(),this.resetWizard(),this.toastr.success(this.translate.instant("Resources.Scope.ScopeAdded"),this.translate.instant("Notifications.Success"))},T=>{this.errorService.handleError(T)})}resetWizard(){this.scopeForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvaliableClaims,this.scopeForm.controls.showInDiscoveryDocument.setValue(!0),this.scopeForm.controls.emphasize.setValue(!1),this.scopeForm.controls.required.setValue(!1)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(po.M),e.Y36(Xo.m),e.Y36(ji._W),e.Y36(mn.sK),e.Y36(Sa.q),e.Y36(Tn.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-add-protectedresource-scope"]],viewQuery:function(n,u){if(1&n&&(e.Gf(IC,7),e.Gf(MC,7)),2&n){let T;e.iGM(T=e.CRH())&&(u.claimsPicker=T.first),e.iGM(T=e.CRH())&&(u.tabComponent=T.first)}},hostBindings:function(n,u){1&n&&e.NdJ("keydown",function(M){return u.keydown(M)},!1,e.evT)},inputs:{resource:"resource"},outputs:{submitConfirmed:"submitConfirmed",cancelOut:"cancelOut"},decls:43,vars:34,consts:[[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["data-dismiss","modal","class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["data-dismiss","modal","id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return u.cancel()}),e._UZ(7,"span",5),e.TgZ(8,"span",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7),e._UZ(12,"div",8,9),e.qZA(),e.TgZ(14,"div",10)(15,"div",11),e.YNc(16,mf,3,3,"p",12),e.YNc(17,OC,3,3,"p",12),e.qZA(),e.TgZ(18,"tabset",13,14)(20,"tab")(21,"form",15)(22,"app-form-row",16),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"app-form-row",16),e._UZ(25,"input",18),e.qZA(),e.TgZ(26,"app-form-row",19)(27,"textarea",20),e.NdJ("focus",function(){return u.descFocus=!u.descFocus})("blur",function(){return u.descFocus=!u.descFocus}),e.qZA()()()(),e.TgZ(28,"tab"),e._UZ(29,"app-common-picker",21,22),e.qZA()()(),e._UZ(31,"div",23),e.TgZ(32,"div",24)(33,"div",25)(34,"div",26),e.YNc(35,xa,3,4,"button",27),e.YNc(36,Yd,3,3,"button",28),e.TgZ(37,"button",29),e.NdJ("click",function(){return u.previousTab()}),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"button",30),e.NdJ("click",function(){return u.cancel()}),e._uU(41),e.ALo(42,"translate"),e.qZA()()()()()),2&n&&(e.xp6(4),e.AsE("",e.lcZ(5,26,"Resources.Scope.NewScope")," ",u.resource.name,""),e.xp6(5),e.Oqu(e.lcZ(10,28,"Common.Close")),e.xp6(3),e.Udp("width",u.progressPercent+"%"),e.xp6(4),e.Q6J("ngIf",u.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",u.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",u.scopeForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.Scope.Description")("isLast",!0),e.xp6(3),e.Q6J("assignedInput",u.assignedClaims)("availableInput",u.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",u.tabIndex<u.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",u.tabIndex==u.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==u.tabIndex),e.xp6(1),e.Oqu(e.lcZ(39,30,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(42,32,"Common.Cancel")))},dependencies:[ne.O5,m._Y,m.Fj,m.JJ,m.JL,m.nD,m.sg,m.u,Se.wW,Se.AH,hl.v,Hr.L,mn.X$],encapsulation:2}),l})();const Tv=["createScope"],gf=["addScope"],Av=["deleteScopeModal"],Tc=["scopePicker"];function Sv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.addSharedScopeShow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ProtectedResources.AddSharedScope")))}function xv(l,h){if(1&l&&e._UZ(0,"app-common-picker",35,36),2&l){const n=e.oxw();e.Q6J("assignedInput",n.pickerScopes.assignedScopes)("availableInput",n.pickerScopes.availableScopes)("availableSearch",!0)}}function eh(l,h){1&l&&(e.TgZ(0,"div",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.DisplayName")," "))}function th(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"accordion-group",null,38)(2,"button",39)(3,"b",40),e._uU(4),e.qZA(),e.TgZ(5,"div",41),e._UZ(6,"span",42),e.qZA()(),e.TgZ(7,"div")(8,"app-api-scope",43),e.NdJ("delete",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.deleteScopeConfirm(T))})("submit",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.submitScopeClaims(T))}),e.qZA()()()}if(2&l){const n=h.$implicit;e.xp6(4),e.Oqu(n.displayName),e.xp6(4),e.Q6J("scope",n)}}function _f(l,h){if(1&l&&e._UZ(0,"app-pager",44),2&l){const n=e.oxw();e.Q6J("totalResults",null==n.protectedResource.scopes?null:n.protectedResource.scopes.length)}}function NC(l,h){1&l&&(e._UZ(0,"p",45),e.ALo(1,"translate")),2&l&&e.Q6J("innerHTML",e.lcZ(1,1,"Common.Delete.FinalScopeOnResourceWarning"),e.oJD)}const Xa=function(){return{animated:!1,backdrop:"static"}};class nh{constructor(h,n){this.availableScopes=[],this.assignedScopes=[],this.availableScopes=h,this.assignedScopes=n}}let vf=(()=>{class l{constructor(n,u,T,M,ue){this.protectedResourceService=n,this.fb=u,this.toastr=T,this.translate=M,this.configService=ue,this.pageSubscriptions=new ff.w0}set content(n){this.pickerScopes&&(this.sharedScopePicker=n,this.pageSubscriptions.add(this.sharedScopePicker.assignedStream.subscribe(u=>{this.pickerScopes.assignedScopes.push(...u),u.forEach(T=>{let M=this.pickerScopes.availableScopes.findIndex(ue=>ue.name==T.name);this.pickerScopes.availableScopes.splice(M,1)})})),this.pageSubscriptions.add(this.sharedScopePicker.unAssignedStream.subscribe(u=>{this.pickerScopes.availableScopes.push(...u),u.forEach(T=>{let M=this.pickerScopes.assignedScopes.findIndex(ue=>ue.name==T.name);this.pickerScopes.assignedScopes.splice(M,1)})})))}ngOnInit(){this.configService.getConfig().pipe((0,Ha.P)()).subscribe(n=>{this.sharedScopesEnabled=n.featureFlagOptions.enableSharedScopes}),this.pageSubscriptions.add(this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.refreshScopes(n)}))}ngOnDestroy(){this.pageSubscriptions?.unsubscribe()}refreshResource(){this.createScopeModal.isShown&&this.createScopeModal.hide(),this.existingScopeModal.isShown&&this.existingScopeModal.hide(),this.protectedResourceService.getResource(this.protectedResource.id).subscribe(n=>{this.protectedResource=n,this.protectedResourceService.getCachedProtectedResource().next(n),this.refreshScopes(n)})}refreshScopes(n){this.protectedResourceService.getAllScopes().subscribe(u=>{const T=n.scopes;this.pickerScopes=new nh(u.filter(M=>-1===T.findIndex(ue=>ue.name==M.name)),[])})}submitScopeClaims(n){this.protectedResourceService.updateResourceScope(this.protectedResource.id,n,n.name).subscribe(u=>{this.refreshResource(),this.toastr.success(this.translate.instant("Resources.Scope.Updated"),this.translate.instant("Notifications.Saving Success Title"))},u=>{this.toastr.error(this.translate.instant("Resources.Scope.Failed"),this.translate.instant("Common.Error"))})}deleteScopeConfirm(n){this.scopeToDelete=n,this.deleteScopeConfirmModal.show()}deleteScope(n){return this.protectedResourceService.deleteScope(this.protectedResource.id,n).toPromise().then(u=>{this.refreshResource(),this.deleteScopeConfirmModal.hide(),this.toastr.success(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Success"))},u=>{this.toastr.error(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Failed"))})}commitScopeChanges(){return this.protectedResource.scopes.push(...this.pickerScopes.assignedScopes),this.protectedResourceService.updateResource(this.protectedResource).subscribe({next:()=>{this.refreshResource(),this.existingScopeModal.hide(),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))},error:()=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}createScopeShow(){this.createScopeModal.show()}addSharedScopeShow(){this.existingScopeModal.show()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Xo.m),e.Y36(m.QS),e.Y36(ji._W),e.Y36(mn.sK),e.Y36(Es.E))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-scopes"]],viewQuery:function(n,u){if(1&n&&(e.Gf(Tv,7),e.Gf(gf,7),e.Gf(Av,7),e.Gf(Tc,5)),2&n){let T;e.iGM(T=e.CRH())&&(u.createScopeModal=T.first),e.iGM(T=e.CRH())&&(u.existingScopeModal=T.first),e.iGM(T=e.CRH())&&(u.deleteScopeConfirmModal=T.first),e.iGM(T=e.CRH())&&(u.content=T.first)}},features:[e._Bn([{provide:j.gd,useFactory:Zl}])],decls:75,vars:51,consts:[["right",""],[1,"tw-btn-success",3,"click"],["id","assignSharedScopesBtn","class","tw-btn ml-2",3,"click",4,"ngIf"],["bsModal","","id","createScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["createScope","bs-modal"],[3,"resource","cancelOut","submitConfirmed"],["bsModal","","id","addScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addScope","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"assignedInput","availableInput","availableSearch",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex"],[1,"tw-mr-auto"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","deleteScope","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteScopeModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],[1,"tw-flex","tw-item-center"],[1,"tw-btn-danger",3,"click"],["id","assignSharedScopesBtn",1,"tw-btn","ml-2",3,"click"],[3,"assignedInput","availableInput","availableSearch"],["scopePicker",""],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["group",""],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","trans"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"scope","delete","submit"],["hidePager","true",3,"totalResults"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(n,u){if(1&n){const T=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,0),e.TgZ(2,"button",1),e.NdJ("click",function(){return u.createScopeShow()}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Sv,3,3,"button",2),e.BQk(),e.qZA(),e.TgZ(6,"div",3,4)(8,"app-add-protectedresource-scope",5),e.NdJ("cancelOut",function(){return u.createScopeModal.hide()})("submitConfirmed",function(){return u.refreshResource()}),e.qZA()(),e.TgZ(9,"div",6,7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h5",11),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){e.CHM(T);const ue=e.MAs(10);return e.KtG(ue.hide())}),e._UZ(18,"span",13),e.TgZ(19,"span",14),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"div",15),e.YNc(23,xv,2,3,"app-common-picker",16),e.qZA(),e._UZ(24,"div",17),e.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"button",1),e.NdJ("click",function(){return u.commitScopeChanges()}),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"button",21),e.NdJ("click",function(){e.CHM(T);const ue=e.MAs(10);return e.KtG(ue.hide())}),e._uU(32),e.ALo(33,"translate"),e.qZA()()()()()(),e.TgZ(34,"div",22),e.YNc(35,eh,3,3,"div",23),e.TgZ(36,"accordion"),e.YNc(37,th,9,2,"accordion-group",24),e.qZA(),e.YNc(38,_f,1,1,"app-pager",25),e.qZA(),e.TgZ(39,"div",26,27)(41,"div",28)(42,"div",9)(43,"div",10)(44,"h5",11),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"button",12),e.NdJ("click",function(){e.CHM(T);const ue=e.MAs(40);return e.KtG(ue.hide())}),e._UZ(48,"span",13),e.TgZ(49,"span",14),e._uU(50),e.ALo(51,"translate"),e.qZA()()(),e.TgZ(52,"div",29)(53,"p",30),e._uU(54),e.ALo(55,"translate"),e.TgZ(56,"strong"),e._uU(57),e.qZA(),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"strong"),e._uU(61),e.qZA(),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.YNc(64,NC,2,3,"p",31),e.qZA(),e._UZ(65,"div",17),e.TgZ(66,"div",18)(67,"div",32)(68,"div",20)(69,"button",33),e.NdJ("click",function(){return u.deleteScope(u.scopeToDelete.name)}),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"button",21),e.NdJ("click",function(){e.CHM(T);const ue=e.MAs(40);return e.KtG(ue.hide())}),e._uU(73),e.ALo(74,"translate"),e.qZA()()()()()()}2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,24,"ProtectedResources.AddScope")),e.xp6(2),e.Q6J("ngIf",u.sharedScopesEnabled),e.xp6(1),e.Q6J("config",e.DdM(48,Xa)),e.xp6(2),e.Q6J("resource",u.protectedResource),e.xp6(1),e.Q6J("config",e.DdM(49,Xa)),e.xp6(6),e.hij(" ",e.lcZ(16,26,"ProtectedResources.AddSharedScope")," "),e.xp6(5),e.Oqu(e.lcZ(21,28,"Common.Close")),e.xp6(3),e.Q6J("ngIf",u.pickerScopes),e.xp6(6),e.Oqu(e.lcZ(30,30,"Common.Save")),e.xp6(3),e.Oqu(e.lcZ(33,32,"Common.Cancel")),e.xp6(3),e.Q6J("ngIf",u.protectedResource.scopes.length>0),e.xp6(2),e.Q6J("ngForOf",u.protectedResource.scopes),e.xp6(1),e.Q6J("ngIf",(null==u.protectedResource.scopes?null:u.protectedResource.scopes.length)>0),e.xp6(1),e.Q6J("config",e.DdM(50,Xa)),e.xp6(6),e.hij(" ",e.lcZ(46,34,"Common.Delete.Confirm")," "),e.xp6(5),e.Oqu(e.lcZ(51,36,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(55,38,"Common.Delete.AreYouSureSimple2")," "),e.xp6(3),e.Oqu(null==u.scopeToDelete?null:u.scopeToDelete.displayName),e.xp6(1),e.hij(" ",e.lcZ(59,40,"Resources.Scope.ScopeFor")," "),e.xp6(3),e.Oqu(u.protectedResource.displayName),e.xp6(1),e.hij(" ",e.lcZ(63,42,"ProtectedResources.ProtectedResource"),""),e.xp6(2),e.Q6J("ngIf",null==u.scopeToDelete?null:u.scopeToDelete.isFinalInstanceOnResource),e.xp6(6),e.Oqu(e.lcZ(71,44,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(74,46,"Common.Delete.No")))},dependencies:[ne.sg,ne.O5,hl.v,j.Zf,j.U_,Rt.oB,wv,Hi.P,dr.K,Xd,mn.X$],encapsulation:2}),l})();const Ev=["ClaimsPicker"];let ih=(()=>{class l{constructor(n,u,T,M){this.protectedResourceService=n,this.scopeClaimService=u,this.toastr=T,this.translate=M,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().pipe((0,Qd.V)(this.scopeClaimService.cachedClaimTypes$),(0,re.U)(([n,u])=>({resource:n,claimTypes:u})),(0,Ha.P)()).subscribe({next:n=>{this.protectedResource=n.resource,this.originalClaims=n.claimTypes.slice();const u=n.claimTypes.slice();this.protectedResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(u):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(u)}})}convertOriginalClaimTypesToPickerClaimTypes(n){let u=[];return n.map(T=>{let M=new uf;M.name=T.displayName?T.displayName:T.name,u.push(M)}),u}convertPickerClaimsToClaim(n){let u=[];return n.map(T=>{u.push(this.originalClaims.find(M=>M.displayName===T.name||M.name===T.name))}),u}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.toSendClaims=this.assignedClaims.concat(n),this.submit().then(u=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,vt.mn)(this.availableClaims.slice(),n),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.toSendClaims=(0,vt.mn)(this.assignedClaims,n),this.submit().then(u=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(n),this.claimsPicker.assignedCount=0})})}submit(){const n=(0,va.UI)(this.convertPickerClaimsToClaim(this.toSendClaims),function(T){return T.name}),u=Object.assign(this.protectedResource,{allowedClaims:n});return this.protectedResourceService.updateResource(u).toPromise().then(T=>{this.protectedResource=u,this.protectedResourceService.getCachedProtectedResource().next(u),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(n){let u=[],T=n.filter(M=>(u.push(M),this.protectedResource.allowedClaims.some(ue=>ue===M.name)));u=(0,vt.mn)(u,T),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(u),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(T)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Xo.m),e.Y36(Sa.q),e.Y36(ji._W),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-claims"]],viewQuery:function(n,u){if(1&n&&e.Gf(Ev,7),2&n){let T;e.iGM(T=e.CRH())&&(u.claimsPicker=T.first)}},decls:6,vars:6,consts:[[1,"cms"],[3,"assignedInput","availableInput","availableSearch"],["ClaimsPicker",""]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e._UZ(4,"app-common-picker",1,2)),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"ProtectedResources.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",u.assignedClaims)("availableInput",u.availableClaims)("availableSearch",!0))},dependencies:[hl.v,mn.X$],encapsulation:2}),l})();var Dv=f(1660);const Iv=["SecretPicker"];let Mv=(()=>{class l{constructor(n){this.protectedResourceService=n,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.secretPicker.secretsAddStream.subscribe(n=>{n.id?this.editSecret(n):this.submitSecret(n)}),this.secretPicker.secretsRemoveStream.subscribe(n=>{this.removeSecret(n)})}submitSecret(n){this.protectedResourceService.addResourceSecret(this.protectedResource.id,n).subscribe(u=>{this.refreshResource()})}editSecret(n){this.protectedResourceService.updateResourceSecret(this.protectedResource.id,n).subscribe(u=>{this.refreshResource()})}removeSecret(n){this.protectedResourceService.removeResourceSecret(this.protectedResource.id,n.id).subscribe(u=>{this.refreshResource()})}refreshResource(){this.protectedResourceService.getResource(this.protectedResource.id).subscribe(n=>{this.protectedResource=n,this.resourceSecrets=this.protectedResource.secrets,this.protectedResourceService.getCachedProtectedResource().next(n)})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(Xo.m))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protectedresource-secrets"]],viewQuery:function(n,u){if(1&n&&e.Gf(Iv,7),2&n){let T;e.iGM(T=e.CRH())&&(u.secretPicker=T.first)}},decls:2,vars:2,consts:[[3,"clientSecrets","nonModelCertPicker"],["SecretPicker",""]],template:function(n,u){1&n&&e._UZ(0,"app-secret-picker",0,1),2&n&&e.Q6J("clientSecrets",u.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[Dv.P],encapsulation:2}),l})();function Ov(l,h){1&l&&e._UZ(0,"input",27)}const yf=function(l){return[l]};function Nv(l,h){if(1&l&&(e._UZ(0,"app-readonly",28),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw();e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,yf,e.lcZ(1,2,n.role.name)))}}function Cf(l,h){1&l&&e._UZ(0,"textarea",29)}function rh(l,h){if(1&l&&(e._UZ(0,"app-readonly",28),e.ALo(1,"readOnlyValue")),2&l){const n=e.oxw();e.Q6J("fieldType",n.ReadOnlyFieldType.Single)("values",e.VKq(4,yf,e.lcZ(1,2,n.role.description)))}}const bf=function(){return{animated:!1,backdrop:"static"}};let sh=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt,Ut,an,yn){this.rolesService=n,this.route=u,this.securityService=T,this.router=M,this.fb=ue,this.titleService=ke,this.toastr=$e,this.dialogService=wt,this.translate=Ut,this.localize=an,this.errorService=yn}get ReadOnlyFieldType(){return Tu.O}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(n=>{this.role=n,this.buildForms(),this.initialData=JSON.stringify(n);const u=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+ze.de.SITE_TITLE;this.titleService.setTitle(u)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const n=this.translate.instant("Notifications.Saving Success Title"),u=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(u,n)},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const u={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,u)&_a.s.Toast)!==_a.s.Toast&&this.toastr.error(u.toastBody,u.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(n=>{const u=this.localize.translateRoute("/roles");this.router.navigate([u]),this.toastr.error(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const u={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,u)&_a.s.Toast)!==_a.s.Toast&&this.toastr.error(u.toastBody,u.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const n=this.securityService.policyClaims;for(let u=0;u<n.length;u++)if("role"===n[u].type&&n[u].value===this.role.name)return!0;return!1}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(pn.f),e.Y36(ni.gz),e.Y36(gi.I),e.Y36(ni.F0),e.Y36(m.QS),e.Y36(t.Dx),e.Y36(ji._W),e.Y36(qa.x),e.Y36(mn.sK),e.Y36(hi.An),e.Y36(Tn.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-role-details"]],decls:48,vars:40,consts:[["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","showModal","data-toggle","modal","data-target","#deleteRoleModal","type","button",1,"tw-btn-danger","tw-mb-3",3,"disabled"],["bsModal","","id","deleteRoleModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","deleteRoleBtn","data-dismiss","modal",1,"tw-btn-danger",3,"click"],["id","closeModalBtn","data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"app-form-row",2),e.YNc(3,Ov,1,0,"input",3),e.YNc(4,Nv,2,6,"app-readonly",4),e.qZA(),e.TgZ(5,"app-form-row",5),e.YNc(6,Cf,1,0,"textarea",6),e.YNc(7,rh,2,6,"app-readonly",4),e.qZA()()(),e.TgZ(8,"app-button-bar")(9,"button",7),e.NdJ("click",function(){return u.updateRole()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.ynx(12,8),e.TgZ(13,"button",9),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",13)(20,"h5",14),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",15),e._UZ(24,"span",16),e.TgZ(25,"span",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"div",18)(29,"p",19),e._uU(30),e.ALo(31,"translate"),e.TgZ(32,"strong"),e._uU(33),e.qZA(),e._uU(34,"?"),e.qZA(),e._UZ(35,"p",20),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"div",21),e.TgZ(38,"div",22)(39,"div",23)(40,"div",24)(41,"button",25),e.NdJ("click",function(){return u.deleteRole()}),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"button",26),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()(),e._UZ(47,"app-can-deactivate")),2&n&&(e.xp6(1),e.Q6J("formGroup",u.editRoleForm),e.xp6(1),e.Q6J("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.xp6(1),e.Q6J("ngIf",!u.isControlDisabled()),e.xp6(1),e.Q6J("ngIf",u.isControlDisabled()),e.xp6(1),e.Q6J("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.xp6(1),e.Q6J("ngIf",!u.isControlDisabled()),e.xp6(1),e.Q6J("ngIf",u.isControlDisabled()),e.xp6(2),e.Q6J("disabled",!u.editRoleForm.dirty&&u.editRoleForm.valid||u.allowedToEditRole()||u.role.reserved),e.xp6(1),e.hij(" ",e.lcZ(11,23,"Common.Save")," "),e.xp6(3),e.Q6J("disabled",u.isControlDisabled()),e.xp6(1),e.hij(" ",e.lcZ(15,25,"Common.Delete.Title")," "),e.xp6(2),e.Q6J("config",e.DdM(39,bf)),e.xp6(5),e.Oqu(e.lcZ(22,27,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(27,29,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(31,31,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(u.role.name),e.xp6(2),e.Q6J("innerHTML",e.lcZ(36,33,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(43,35,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(46,37,"Common.Delete.No")))},dependencies:[ne.O5,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,Rt.oB,Bl.J,Ul.N,Hr.L,Au.f,Su.b,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Ac=(()=>{return(l=Ac||(Ac={})).Remove="Remove",l.Add="Add",Ac;var l})();const Rv=["roleManagerUsers"];function wf(l,h){1&l&&(e._UZ(0,"app-simple-loader",19),e.ALo(1,"translate")),2&l&&e.Q6J("text",e.lcZ(1,1,"Roles.SavingPleaseWait"))}function Tf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"li",38)(1,"label",39)(2,"input",40),e.NdJ("change",function(){const M=e.CHM(n).$implicit,ue=e.oxw(3);return e.KtG(ue.toggleIfInRole(M))}),e.qZA(),e.TgZ(3,"div",41)(4,"span",42),e._uU(5),e.qZA(),e.TgZ(6,"span",43),e._uU(7),e.qZA()()()()}if(2&l){const n=h.$implicit,u=e.oxw(3);e.xp6(2),e.Q6J("checked",u.checkChecked(n)),e.xp6(3),e.Oqu(n.userName),e.xp6(2),e.Oqu(n.email)}}function ml(l,h){if(1&l&&(e.TgZ(0,"div",35)(1,"ul",36),e.YNc(2,Tf,8,3,"li",37),e.qZA()()),2&l){const n=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",n.users)}}function Af(l,h){1&l&&(e.TgZ(0,"p",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.NotSelected")," "))}function Sf(l,h){1&l&&(e.TgZ(0,"p",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.NoResults")," "))}function kv(l,h){1&l&&e._UZ(0,"app-simple-loader")}function RC(l,h){1&l&&e.GkF(0)}function Pu(l,h){1&l&&e.GkF(0)}const Pv=function(l,h,n,u){return{id:"usersAddingSummary",title:l,data:h,label:n,empty:u}},xf=function(l,h,n,u){return{id:"usersRemovingSummary",title:l,data:h,label:n,empty:u}};function Ef(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div")(1,"div",20),e._UZ(2,"p",21),e.qZA(),e.TgZ(3,"div",22)(4,"h2",23),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",24)(8,"label",25)(9,"span",8),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"input",26),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.searchTerm=T)})("keyup",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.search(T))}),e.qZA()()(),e.TgZ(13,"div",27)(14,"div",28),e.YNc(15,ml,3,1,"div",29),e.YNc(16,Af,3,3,"p",30),e.YNc(17,Sf,3,3,"p",30),e.YNc(18,kv,1,0,"app-simple-loader",11),e.qZA(),e.TgZ(19,"div",31)(20,"div",32),e.YNc(21,RC,1,0,"ng-container",33),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",34),e.YNc(26,Pu,1,0,"ng-container",33),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"translate"),e.qZA()()()()}if(2&l){const n=e.oxw(),u=e.MAs(17);e.xp6(2),e.Q6J("innerHtml",n.summaryText,e.oJD),e.xp6(3),e.Oqu(e.lcZ(6,12,"Roles.SearchAllUsers")),e.xp6(5),e.Oqu(e.lcZ(11,14,"Roles.SearchUsers")),e.xp6(2),e.Q6J("ngModel",n.searchTerm),e.xp6(3),e.Q6J("ngIf",!n.isLoading&&n.hasSearched&&n.users.length>0),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&!n.hasSearched&&n.users.length<1),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&n.hasSearched&&n.users.length<1),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(3),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.l5B(28,Pv,e.lcZ(22,16,"Roles.Adding"),n.usersAdding,e.lcZ(23,18,"Roles.CancelAdding"),e.lcZ(24,20,"Roles.NoUsersAdding"))),e.xp6(5),e.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",e.l5B(33,xf,e.lcZ(27,22,"Roles.Removing"),n.usersRemoving,e.lcZ(28,24,"Roles.CancelRemoving"),e.lcZ(29,26,"Roles.NoUsersRemoving")))}}function Df(l,h){if(1&l&&(e.TgZ(0,"p",44),e._uU(1),e.qZA()),2&l){const n=e.oxw().empty;e.xp6(1),e.Oqu(n)}}function oh(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"li",52)(1,"button",53),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(3);return e.KtG(ue.toggleIfInRole(M))}),e.TgZ(2,"div",54),e._UZ(3,"span",55),e.TgZ(4,"span",56),e._uU(5),e.qZA()()()()}if(2&l){const n=h.$implicit,u=e.oxw(2).label;e.xp6(1),e.uIk("aria-label",u+" "+n.userName),e.xp6(4),e.Oqu(n.userName)}}function If(l,h){if(1&l&&(e.TgZ(0,"div",49)(1,"ul",50),e.YNc(2,oh,6,2,"li",51),e.qZA()()),2&l){const n=e.oxw(),u=n.id,T=n.data;e.xp6(1),e.s9C("id",u),e.xp6(1),e.Q6J("ngForOf",T)}}function Lu(l,h){if(1&l&&(e.TgZ(0,"h2",45),e._uU(1),e.TgZ(2,"span",46),e._uU(3),e.qZA()(),e.TgZ(4,"div",47),e.YNc(5,Df,2,1,"p",30),e.YNc(6,If,3,2,"div",48),e.qZA()),2&l){const n=h.title,u=h.data;e.xp6(1),e.hij(" ",n," "),e.xp6(2),e.hij("(",u.length,")"),e.xp6(2),e.Q6J("ngIf",u.length<1),e.xp6(1),e.Q6J("ngIf",u.length>0)}}const Bu=function(){return{animated:!1,backdrop:"static"}};let Mf=(()=>{class l extends Iu.bk{constructor(n,u,T,M,ue){super(M,ue,!1),this.userService=n,this.rolesService=u,this.translateService=T,this.onSubmitted=new e.vpe,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,Aa.T)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(ue=>{this.users=ue.results;const ke=[...this.users.filter($e=>$e.isInRole),...this.usersInRole];this.usersInRole=va.Tw(ke,!1,$e=>$e.subject),this.isLoading=!1,this.hasSearched=!0},ue=>{this.isLoading=!1})})}mapSearchTerm(n){return{searchTerm:n}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(n){if(n.isInRole){const u=va.cx(this.usersRemoving,T=>T.subject===n.subject);u>-1?(this.usersRemoving.splice(u,1),this.usersInRole.push(n)):(this.usersRemoving.push(n),this.usersInRole.splice(this.usersInRole.indexOf(n),1))}else{const u=va.cx(this.usersAdding,T=>T.subject===n.subject);u>-1?(this.usersAdding.splice(u,1),this.usersInRole.splice(this.usersInRole.indexOf(n),1)):(this.usersAdding.push(n),this.usersInRole.push(n))}}checkChecked(n){let u;return n.isInRole?(u=va.sE(this.usersRemoving,T=>T.subject===n.subject),void 0===u):(u=va.sE(this.usersAdding,T=>T.subject===n.subject),void 0!==u)}addOrRemoveUsers(){const n=[];this.isSaving=!0,n.push(...this.usersAdding.map(u=>({username:u.userName,subject:u.subject,addOrRemove:Ac.Add}))),n.push(...this.usersRemoving.map(u=>({username:u.userName,subject:u.subject,addOrRemove:Ac.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,n).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},u=>{this.isSaving=!1,401===u.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(_r.K),e.Y36(pn.f),e.Y36(mn.sK),e.Y36(ji._W),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-role-manageusers"]],viewQuery:function(n,u){if(1&n&&e.Gf(Rv,7),2&n){let T;e.iGM(T=e.CRH())&&(u.roleManagerUsers=T.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.qOj],decls:28,vars:19,consts:[["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["roleManagerUsers","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],["commonSummaryGroup",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"disabled","click"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModel","ngModelChange","keyup"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"checked","change"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return u.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9),e.YNc(14,wf,2,3,"app-simple-loader",10),e.YNc(15,Ef,30,38,"div",11),e.YNc(16,Lu,7,4,"ng-template",null,12,e.W1O),e.qZA(),e._UZ(18,"div",13),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.NdJ("click",function(){return u.addOrRemoveUsers()}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"button",18),e.NdJ("click",function(){return u.hide()}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()()()()),2&n&&(e.Q6J("config",e.DdM(18,Bu)),e.xp6(6),e.Oqu(e.lcZ(7,10,"Roles.RoleUserManagement")),e.xp6(2),e.Q6J("disabled",u.isSaving),e.xp6(3),e.Oqu(e.lcZ(12,12,"Common.Close")),e.xp6(3),e.Q6J("ngIf",u.isSaving),e.xp6(1),e.Q6J("ngIf",!u.isSaving),e.xp6(7),e.Q6J("disabled",u.isSaving||u.usersAdding.length<1&&u.usersRemoving.length<1),e.xp6(1),e.hij(" ",e.lcZ(24,14,"Common.Save")," "),e.xp6(2),e.Q6J("disabled",u.isSaving),e.xp6(1),e.Oqu(e.lcZ(27,16,"Common.Close")))},dependencies:[ne.sg,ne.O5,ne.tP,m.Fj,m.JJ,m.Q7,m.wO,m.nD,m.On,Rt.oB,Qo.w,mn.X$],encapsulation:2}),l})();function ah(l,h){if(1&l){const n=e.EpF();e.ynx(0,17),e.TgZ(1,"div",18)(2,"label",19),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",20),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw(2);return e.KtG(M.pageSize=T)})("change",function(){e.CHM(n);const T=e.oxw(2);return e.KtG(T.setPageLength(+T.pageSize))}),e.TgZ(6,"option",21),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"option",22),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"option",23),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.BQk()}if(2&l){const n=e.oxw(2);e.xp6(3),e.AsE("",n.pageSize," ",e.lcZ(4,6,"Nav.PerPage"),""),e.xp6(2),e.Q6J("ngModel",n.pageSize),e.xp6(2),e.hij("25 ",e.lcZ(8,8,"Nav.PerPage"),""),e.xp6(3),e.hij("50 ",e.lcZ(11,10,"Nav.PerPage"),""),e.xp6(3),e.hij("100 ",e.lcZ(14,12,"Nav.PerPage"),"")}}function Of(l,h){1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.ManageUsers")," "))}function lh(l,h){1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.AddUsers")," "))}function Sc(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-action-bar"),e.YNc(1,ah,15,14,"ng-container",14),e.ynx(2,15),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(n),e.oxw();const T=e.MAs(11);return e.KtG(T.show())}),e.YNc(4,Of,3,3,"span",7),e.YNc(5,lh,3,3,"span",7),e.qZA(),e.BQk(),e.qZA()}if(2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.xp6(3),e.Q6J("ngIf",n.users&&n.users.length>0),e.xp6(1),e.Q6J("ngIf",n.users&&n.users.length<1)}}function Lv(l,h){1&l&&e._UZ(0,"app-simple-loader")}function Nf(l,h){1&l&&(e.TgZ(0,"div",24)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.NoUsersFound")))}function Bv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"tr")(1,"td",31),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.goToUser(M))}),e.TgZ(2,"b",32),e._uU(3),e.qZA()(),e.TgZ(4,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.goToUser(M))}),e._uU(5),e.qZA(),e.TgZ(6,"td",33),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.goToUser(M))}),e._uU(7),e.qZA(),e.TgZ(8,"td",34),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.removeUser(M))}),e.TgZ(9,"button",35),e.NdJ("click",function(){const M=e.CHM(n).$implicit,ue=e.oxw(2);return e.KtG(ue.removeUser(M))}),e._UZ(10,"span",36),e.TgZ(11,"span",5),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&l){const n=h.$implicit;e.xp6(3),e.Oqu(n.username),e.xp6(2),e.hij(" ",n.firstName," "),e.xp6(2),e.hij(" ",n.lastName," "),e.xp6(5),e.Oqu(e.lcZ(13,4,"Common.Remove.Title"))}}function Uv(l,h){if(1&l&&(e.TgZ(0,"table",25)(1,"thead")(2,"tr")(3,"th",26),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",27),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",27),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",28)(13,"span",5),e._uU(14),e.ALo(15,"translate"),e.qZA()()()(),e.TgZ(16,"tbody",29),e.YNc(17,Bv,14,6,"tr",30),e.qZA()()),2&l){const n=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,5,"Users.Username")),e.xp6(3),e.Oqu(e.lcZ(8,7,"Users.FirstName")),e.xp6(3),e.Oqu(e.lcZ(11,9,"Users.LastName")),e.xp6(4),e.Oqu(e.lcZ(15,11,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",n.users)}}function Rf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"app-pager",37),e.NdJ("onGoToPage",function(T){e.CHM(n);const M=e.oxw();return e.KtG(M.goToPage(T))}),e.qZA()}if(2&l){const n=e.oxw();e.Q6J("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}const ch=function(){return{animated:!1,backdrop:"static"}};function kf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",43),e._UZ(8,"span",36),e.TgZ(9,"span",5),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",44),e._UZ(13,"p",45),e.qZA(),e._UZ(14,"div",46),e.TgZ(15,"div",47)(16,"div",48)(17,"div",49)(18,"button",50),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.delete())}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",51),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()()}if(2&l){const n=e.oxw();e.Q6J("config",e.DdM(14,ch)),e.xp6(5),e.Oqu(e.lcZ(6,6,"Common.Remove.Confirm")),e.xp6(5),e.Oqu(e.lcZ(11,8,"Common.Close")),e.xp6(3),e.Q6J("innerHtml",n.removeSummary,e.oJD),e.xp6(6),e.Oqu(e.lcZ(20,10,"Common.Remove.Title")),e.xp6(3),e.Oqu(e.lcZ(23,12,"Common.Remove.No"))}}let kC=(()=>{class l extends Iu.bk{constructor(n,u,T,M,ue,ke,$e){super(ue,u,!0),this.rolesService=n,this.localize=T,this.router=M,this.errorService=ke,this.userService=$e,this.pageStream=new Z.x,this.pageSizeStream=new Z.x,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=u.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Ha.P)()).subscribe(n=>{this.role=n,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const u=this.pageStream.pipe((0,re.U)(ue=>(this.page=ue,{searchTerm:this.searchTerm,page:ue,pageSize:this.pageSize}))),T=this.pageSizeStream.pipe((0,re.U)(ue=>(this.pageSize=ue,{searchTerm:this.searchTerm,page:this.page,pageSize:ue})));u.pipe((0,Aa.T)(T),(0,Aa.T)(this.searchSource),(0,Aa.T)(this.enterKeySource),(0,Dt.O)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,Ht.z)(ue=>(this.isLoading=!0,this.rolesService.getUsersInRole(n.id,ue.page,ue.pageSize,ue.searchTerm).pipe((0,vc.g)(200))))).subscribe(ue=>{this.pagedResult=ue,this.users=ue.results,this.isLoading=!1},ue=>{this.errorService.handleError(ue),this.isLoading=!1})})}mapSearchTerm(n){return this.searchTerm=n,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(n){this.pageStream.next(1)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}goToUser(n){const u=[this.localize.translateRoute("/users"),n.subject,"roles"];this.router.navigate(u)}removeUser(n){this.removeSummary=this.removeSummaryTranslation.replace("{0}",n.username),this.userToRemove=n}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(n=>{let u=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;u<1&&(u=1),this.goToPage(u),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},n=>{this.isLoading=!1,401===n.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(pn.f),e.Y36(mn.sK),e.Y36(hi.An),e.Y36(ni.F0),e.Y36(ji._W),e.Y36(Tn.T),e.Y36(_r.K))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-role-users"]],features:[e.qOj],decls:17,vars:11,consts:[[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","ngModelChange","keyup"],[4,"ngIf"],["id","manageUsersModal",3,"role","onSubmitted"],["manageUsersModal",""],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["bsModal","","id","removeUserModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],["data-toggle","modal","data-target","#removeUserModal",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"totalResults","currentPage","lastPage","onGoToPage"],["bsModal","","id","removeUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHtml"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"span",4),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(M){return u.searchTerm=M})("keyup",function(M){return u.search(M)}),e.qZA()()(),e.YNc(9,Sc,6,3,"app-action-bar",7),e.TgZ(10,"app-role-manageusers",8,9),e.NdJ("onSubmitted",function(M){return u.onSubmit(M)}),e.qZA(),e.YNc(12,Lv,1,0,"app-simple-loader",7),e.YNc(13,Nf,4,3,"div",10),e.YNc(14,Uv,18,13,"table",11),e.YNc(15,Rf,1,3,"app-pager",12),e.qZA(),e.YNc(16,kf,24,15,"div",13)),2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,9,"Common.Search")),e.xp6(2),e.Q6J("ngModel",u.searchTerm),e.xp6(1),e.Q6J("ngIf",!u.isLoading),e.xp6(1),e.Q6J("role",u.role),e.xp6(2),e.Q6J("ngIf",u.isLoading),e.xp6(1),e.Q6J("ngIf",u.users&&0==u.users.length&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.users&&u.users.length>0&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",(null==u.pagedResult?null:u.pagedResult.results.length)>0&&!u.isLoading),e.xp6(1),e.Q6J("ngIf",u.userToRemove))},dependencies:[ne.sg,ne.O5,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.Q7,m.wO,m.nD,m.On,Rt.oB,Hi.P,dr.K,Qo.w,Mf,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();class Pf{}var Lf=f(6548);let uh=(()=>{class l{constructor(n,u,T,M,ue){this.claimTypeService=n,this.permissionService=u,this.accessPolicyService=T,this.rolesService=M,this.errorService=ue}resolve(){const n=this.permissionService.getAvaliablePermissions(),u=this.accessPolicyService.getAccessPolicy(),T=this.claimTypeService.getClaimTypes(),M=this.rolesService.getRoles();return(0,Xs.D)([n,u,T,M]).pipe((0,re.U)(([ke,$e,wt,Ut])=>{const an=new Pf;return an.permissions=ke,an.claimTypes=wt,an.accessPolicy=$e,an.roles=Ut,an},ke=>{this.errorService.handleError(ke)}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(po.M),e.LFG(Lf.$),e.LFG(qp),e.LFG(pn.f),e.LFG(Tn.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),Fv=(()=>{class l{constructor(n,u,T,M){this.titleService=n,this.identityResourceService=u,this.toastr=T,this.translate=M,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ze.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(n){this.properties=n;const u=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(u).pipe((0,Pe.q)(1)).subscribe(T=>{this.identityResource=u,this.identityResourceService.getCachedIdentityResource().next(u),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(Va.Q),e.Y36(ji._W),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-identity-resource-properties"]],decls:1,vars:2,consts:[[3,"modalId","properties","propertiesChanged"]],template:function(n,u){1&n&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(M){return u.onPropertiesChanged(M)}),e.qZA()),2&n&&e.Q6J("modalId",u.identityResource.id)("properties",u.properties)},dependencies:[Ya.s],encapsulation:2}),l})(),Zv=(()=>{class l{constructor(n,u,T,M){this.titleService=n,this.protectedResourceService=u,this.toastr=T,this.translate=M,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(n=>{this.protectedResource=n,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ze.de.SITE_TITLE}`),this.modalId=this.protectedResource.id})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}onPropertiesChanged(n){this.properties=n;const u=Object.assign(this.protectedResource,{properties:this.properties});this.protectedResourceService.updateResource(u).pipe((0,Pe.q)(1)).subscribe(T=>{this.protectedResource=u,this.protectedResourceService.getCachedProtectedResource().next(u),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(t.Dx),e.Y36(Xo.m),e.Y36(ji._W),e.Y36(mn.sK))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-protected-resource-properties"]],decls:1,vars:2,consts:[[3,"modalId","properties","propertiesChanged"]],template:function(n,u){1&n&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(M){return u.onPropertiesChanged(M)}),e.qZA()),2&n&&e.Q6J("modalId",u.modalId)("properties",u.properties)},dependencies:[Ya.s],encapsulation:2}),l})();var ra=f(572),Vv=f(1923);let dh=(()=>{class l{constructor(n,u){this.http=n,this.headersService=u,this.actionUrl="signingkey",this.headers=u.setHeaders()}getKeys(){const n=new w.LE;return this.http.get(this.actionUrl,{headers:this.headers,params:n})}deleteKey(n){return this.http.delete(`${this.actionUrl}/${n}`,{headers:this.headers})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(w.eN),e.LFG(Cc.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var Bf=f(8285),Hv=f(2808);let Jv=(()=>{class l{constructor(n,u,T,M,ue){this.keyService=n,this.toastr=u,this.translate=T,this.modalService=M,this.dataTableService=ue,this.keysDataTableActions=[ra.Xz.Delete],this.deleteModalType=Vv.w.Warning,this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(n=>{this.startDeleteKey(n)})}getSerializedKeys(){this.keyService.getKeys().subscribe(n=>{this.keys=n})}startDeleteKey(n){this.keyToDelete=this.keys[n],this.modalService.showById(this.deleteModalId,null)}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).toPromise().then(n=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.resetAndCloseDeleteModal()},n=>{this.toastr.error("Removed Key","Failed!")})}resetAndCloseDeleteModal(){this.keyToDelete=null,this.modalService.hideById(this.deleteModalId)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(dh),e.Y36(ji._W),e.Y36(mn.sK),e.Y36(ir.Z),e.Y36(Bf.n))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-list-keys"]],decls:14,vars:35,consts:[["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"title","modalId","actions","modalType","onCancel","onDelete"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"app-data-table",1),e._UZ(2,"app-data-table-column",2)(3,"app-data-table-column",2)(4,"app-data-table-column",2)(5,"app-data-table-column",3)(6,"app-data-table-column",4),e.qZA()(),e.TgZ(7,"app-custom-modal",5),e.NdJ("onCancel",function(){return u.resetAndCloseDeleteModal()})("onDelete",function(){return u.deleteKey()}),e.TgZ(8,"div",6)(9,"p",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p",8),e.ALo(13,"translate"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("rows",u.keys)("actions",u.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),e.xp6(1),e.Q6J("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),e.xp6(1),e.Q6J("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),e.xp6(1),e.Q6J("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),e.xp6(1),e.Q6J("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),e.xp6(1),e.Q6J("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),e.xp6(1),e.Q6J("title","Settings.Keys.DeleteKey")("modalId",u.deleteModalId)("actions",u.keysDataTableActions)("modalType",u.deleteModalType),e.xp6(3),e.Oqu(e.lcZ(11,31,"Common.Delete.AreYouSureSimple")),e.xp6(2),e.Q6J("innerHTML",e.lcZ(13,33,"Common.Delete.Warning"),e.oJD))},dependencies:[ra.Qj,Hv.E,io.R,mn.X$],encapsulation:2}),l})();function Wv(l,h){1&l&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function Uf(l,h){1&l&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function jv(l,h){if(1&l&&(e.ynx(0,5),e.YNc(1,Wv,3,3,"span",6),e.YNc(2,Uf,3,3,"span",7),e.BQk()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isPolicyRole()),e.xp6(1),e.Q6J("ngIf",n.role.reserved)}}const Kv=function(l,h){return{title:l,link:h}},$v=function(l){return[l]};let Ki=(()=>{class l{constructor(n,u,T,M){this.activatedRoute=n,this.errorService=u,this.router=T,this.securityService=M}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let u=0;u<n.length;u++)if("role"===n[u].type&&n[u].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ni.gz),e.Y36(Tn.T),e.Y36(ni.F0),e.Y36(gi.I))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(n,u){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,jv,3,2,"ng-container",1),e.ynx(4,2),e.TgZ(5,"app-custom-tabs"),e._UZ(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.qZA(),e.BQk(),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"router-outlet"),e.qZA()),2&n&&(e.Q6J("title",u.role.name)("crumbs",e.VKq(16,$v,e.WLB(13,Kv,e.lcZ(1,9,"Nav.Roles"),e.lcZ(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.xp6(3),e.Q6J("ngIf",u.isPolicyRole()||u.role.reserved),e.xp6(3),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[ne.O5,ni.lC,Ti.G,na.v,Ed.x,mn.X$,hi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();function Ff(l,h){1&l&&(e.TgZ(0,"span",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Disabled")," "))}const Zf=function(l,h){return{title:l,link:h}},Vf=function(l){return[l]},hh=function(){return["active"]};let zv=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt){this.fb=n,this.route=u,this.router=T,this.titleService=M,this.identityResourceService=ue,this.translate=ke,this.claimTypesService=$e,this.scopesClaimService=wt}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(n=>{this.identityResource=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ze.de.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:n=>{this.scopesClaimService.setClaimTypes(n)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(m.QS),e.Y36(ni.gz),e.Y36(ni.F0),e.Y36(t.Dx),e.Y36(Va.Q),e.Y36(mn.sK),e.Y36(po.M),e.Y36(Sa.q))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ng-component"]],decls:39,vars:46,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewIdentityResource",1,"tw-container","mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(n,u){1&n&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(M){return u.mobRoute(M.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.qZA()()()(),e.TgZ(21,"ul",9),e.ALo(22,"translate"),e.TgZ(23,"li",10)(24,"button",11),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"li",10)(28,"button",12),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"li",10)(32,"button",13),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.BQk(),e.ynx(35,14),e.YNc(36,Ff,3,3,"span",15),e.BQk(),e.qZA(),e.TgZ(37,"div",16),e._UZ(38,"router-outlet"),e.qZA()),2&n&&(e.Q6J("title",null==u.identityResource?null:u.identityResource.name)("crumbs",e.VKq(41,Vf,e.WLB(38,Zf,e.lcZ(1,18,"IdentityResources.Title"),e.lcZ(2,20,"/identityresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",u.identityResource.nonEditable),e.xp6(6),e.Oqu(e.lcZ(7,22,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,24,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,26,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,28,"Nav.Claims")),e.xp6(3),e.Oqu("Nav.Properties | translate"),e.xp6(1),e.uIk("aria-label",e.lcZ(22,30,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(43,hh)),e.xp6(1),e.Oqu(e.lcZ(26,32,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(44,hh)),e.xp6(1),e.Oqu(e.lcZ(30,34,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(45,hh)),e.xp6(1),e.Oqu(e.lcZ(34,36,"Nav.Properties")),e.xp6(3),e.Q6J("ngIf",!u.identityResource.enabled))},dependencies:[ne.O5,ni.lC,ni.rH,ni.Od,Ti.G,mn.X$,hi.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})();var Hf=f(3351),Gv=f(365);const Jf=["requiredClaimsForm"];function Qv(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",6)(1,"div",9)(2,"h2",10),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",11),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",12),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",13)(12,"span",14)(13,"button",15),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.signOutAndRedirectToLogin())}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()()}2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,4,"Notifications.Success")),e.xp6(3),e.hij(" ",e.lcZ(7,6,"InitialAdminCreation.SuccessMessage")," "),e.xp6(3),e.hij(" ",e.lcZ(10,8,"InitialAdminCreation.LoginMessage")," "),e.xp6(5),e.hij(" ",e.lcZ(15,10,"Nav.Login")," "))}function qv(l,h){1&l&&(e.TgZ(0,"span",40),e._uU(1,"Passwords must match"),e.qZA())}function PC(l,h){1&l&&(e.TgZ(0,"ul",41)(1,"li"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"li"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"li"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"li"),e._uU(14),e.ALo(15,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"Users.Password.Requirements.1")),e.xp6(3),e.Oqu(e.lcZ(6,7,"Users.Password.Requirements.2")),e.xp6(3),e.Oqu(e.lcZ(9,9,"Users.Password.Requirements.3")),e.xp6(3),e.Oqu(e.lcZ(12,11,"Users.Password.Requirements.4")),e.xp6(3),e.Oqu(e.lcZ(15,13,"Users.Password.Requirements.5")))}function Wf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",50),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=T)}),e.qZA()}if(2&l){const n=e.oxw(),T=n.$implicit;e.MGl("id","claim-",n.index,""),e.Q6J("ngModel",T.value)}}function jf(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"input",51),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=T)}),e.qZA()}if(2&l){const n=e.oxw(),T=n.$implicit;e.MGl("id","claim-",n.index,""),e.Q6J("ngModel",T.value)}}function gl(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",52)(1,"select",53),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=T)}),e.TgZ(2,"option",54),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",55),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const n=e.oxw(),u=n.index,T=n.$implicit;e.xp6(1),e.MGl("id","claim-",u,""),e.Q6J("ngModel",T.value),e.xp6(2),e.Oqu(e.lcZ(4,4,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(7,6,"Common.False"))}}function Yv(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",58),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw(2).$implicit;return e.KtG(M.value=T)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2),u=n.index,T=n.$implicit;e.xp6(1),e.MGl("id","claim-",u,""),e.Q6J("ngModel",T.value)}}function ph(l,h){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",59),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw(2).$implicit;return e.KtG(M.value=T)}),e.qZA(),e.BQk()}if(2&l){const n=e.oxw(2),u=n.index,T=n.$implicit;e.xp6(1),e.MGl("id","claim-",u,""),e.Q6J("ngModel",T.value)("displayType","date")}}function fh(l,h){if(1&l&&(e.TgZ(0,"div",56),e.YNc(1,Yv,2,2,"ng-container",57),e.YNc(2,ph,2,3,"ng-container",57),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","birthdate"!=n.name),e.xp6(1),e.Q6J("ngIf","birthdate"==n.name)}}function Xv(l,h){if(1&l&&(e.TgZ(0,"option",62),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function LC(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",52)(1,"select",60),e.NdJ("ngModelChange",function(T){e.CHM(n);const M=e.oxw().$implicit;return e.KtG(M.value=T)}),e.YNc(2,Xv,2,2,"option",61),e.qZA()()}if(2&l){const n=e.oxw(),u=n.index,T=n.$implicit;e.xp6(1),e.MGl("id","claim-",u,""),e.Q6J("ngModel",T.value),e.xp6(1),e.Q6J("ngForOf",T.allowedValues)}}function BC(l,h){if(1&l&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.failureMessage," ")}}function UC(l,h){if(1&l&&(e.TgZ(0,"app-form-row",44),e.YNc(1,Wf,1,2,"input",45),e.YNc(2,jf,1,2,"input",46),e.YNc(3,gl,8,8,"div",47),e.YNc(4,fh,3,2,"div",48),e.YNc(5,LC,3,3,"div",47),e.YNc(6,BC,2,1,"span",49),e.qZA()),2&l){const n=h.$implicit,u=h.index,T=e.oxw(3);e.Q6J("id","claim-"+u)("label",n.name)("help","DateTime"==n.format?"Common.Dates.UTCWarning":"")("isLast",u===T.displayClaims.length-1),e.xp6(1),e.Q6J("ngIf","String"==n.format),e.xp6(1),e.Q6J("ngIf","Int"==n.format),e.xp6(1),e.Q6J("ngIf","Boolean"==n.format),e.xp6(1),e.Q6J("ngIf","DateTime"==n.format),e.xp6(1),e.Q6J("ngIf","Enum"==n.format),e.xp6(1),e.Q6J("ngIf",null!=n.failureMessage)}}function e0(l,h){if(1&l&&(e.TgZ(0,"div",42),e.YNc(1,UC,7,10,"app-form-row",43),e.qZA()),2&l){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.displayClaims)}}function Kf(l,h){1&l&&e._UZ(0,"span",64)}function FC(l,h){if(1&l){const n=e.EpF();e.TgZ(0,"div",9)(1,"h2",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"hr",16)(6,"p",17)(7,"p",18),e.ALo(8,"translate"),e.TgZ(9,"p",17),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"hr",16),e.TgZ(13,"form",19)(14,"app-form-row",20),e._UZ(15,"input",21),e.qZA(),e.TgZ(16,"app-form-row",20),e._UZ(17,"input",22),e.qZA(),e.TgZ(18,"app-form-row",20),e._UZ(19,"input",23),e.qZA(),e.TgZ(20,"app-form-row",20),e._UZ(21,"input",24),e.qZA(),e.TgZ(22,"app-form-row",20),e._UZ(23,"input",25),e.qZA(),e.TgZ(24,"app-form-row",20),e._UZ(25,"input",26),e.YNc(26,qv,2,0,"span",27),e.YNc(27,PC,16,15,"ul",28),e.qZA()(),e.TgZ(28,"form",null,29),e.YNc(30,e0,2,1,"div",30),e.qZA(),e.TgZ(31,"div",13)(32,"span",14)(33,"button",31),e.NdJ("click",function(){e.CHM(n);const T=e.oxw();return e.KtG(T.addUser())}),e._uU(34),e.ALo(35,"translate"),e.YNc(36,Kf,1,0,"span",32),e.qZA()()()(),e.TgZ(37,"ul",33)(38,"li",34)(39,"a",35),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"span",36),e._uU(43,"\u2022"),e.qZA()(),e.TgZ(44,"li",34)(45,"a",37),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"span",36),e._uU(49,"\u2022"),e.qZA()(),e.TgZ(50,"li",38)(51,"a",39),e._uU(52),e.ALo(53,"translate"),e.qZA()()()()}if(2&l){const n=e.MAs(29),u=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,26,"LandingPage.AdminCreation")),e.xp6(5),e.Q6J("innerHTML",e.lcZ(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.oJD),e.xp6(3),e.hij(" ",e.lcZ(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.xp6(3),e.Q6J("formGroup",u.addUserForm),e.xp6(1),e.Q6J("id","FirstName")("label","Users.FirstName"),e.xp6(2),e.Q6J("id","LastName")("label","Users.LastName"),e.xp6(2),e.Q6J("id","Username")("label","Users.Username"),e.xp6(2),e.Q6J("id","Email")("label","Users.Email"),e.xp6(2),e.Q6J("id","Password")("label","Users.Password.Title"),e.xp6(2),e.Q6J("id","Password")("label","UserDetails.Confirm Password"),e.xp6(2),e.Q6J("ngIf",u.addUserForm.hasError("notSame")),e.xp6(1),e.Q6J("ngIf",u.addUserForm.get("password").hasError("pattern")),e.xp6(3),e.Q6J("ngIf",u.displayClaims.length>0),e.xp6(3),e.Q6J("disabled",!u.addUserForm.valid||!n.form.valid||u.inFlight),e.xp6(1),e.hij(" ",e.lcZ(35,32,"Common.Save")," "),e.xp6(2),e.Q6J("ngIf",u.inFlight),e.xp6(3),e.s9C("href",u.apiDocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(41,34,"LandingPage.APIDocs")," "),e.xp6(6),e.hij(" ",e.lcZ(47,36,"LandingPage.Documentation")," "),e.xp6(6),e.hij(" ",e.lcZ(53,38,"Nav.Support")," ")}}let t0=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt){this.authService=n,this.titleService=u,this.toastr=T,this.fb=M,this.userService=ue,this.errorService=ke,this.claimTypesService=$e,this.appComponentViewService=wt,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=an=>an.get("password").value===an.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${ze.de.SITE_TITLE}`),this.versionNumber=Ce;const Ut=new Date;this.appCopyright=2017!==Ut.getFullYear()?"2017 - "+Ut.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(n=>{this.claimTypes=n;for(const T of this.claimTypes)T.required&&this.displayClaims.push({claimTypeId:T.id,format:T.valueType,name:T.name,value:null,failureMessage:T.ruleValidationFailureDescription,allowedValues:T.allowedValues})},n=>{this.errorService.handleError(n)})}addUser(){let n;n=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(n,{claims:[]});for(const u of this.displayClaims){if(null===u.value)continue;let T=u.value;"DateTime"===u.format&&(T=u.value),"Int"===u.format&&(T=T.toString()),n.claims.push({claimTypeId:u.claimTypeId,value:T,type:u.name})}this.inFlight=!0,this.userService.addInitialAdministrator(n).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},u=>{this.inFlight=!1,this.errorService.handleError(u)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[m.kI.required,(0,vt.Fd)()]],email:["",Gv.J],firstName:["",m.kI.required],lastName:["",m.kI.required],password:["",m.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(gr.e),e.Y36(t.Dx),e.Y36(ji._W),e.Y36(m.QS),e.Y36(_r.K),e.Y36(Tn.T),e.Y36(po.M),e.Y36(eo.t))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-initial-admin-creation"]],viewQuery:function(n,u){if(1&n&&e.Gf(Jf,5),2&n){let T;e.iGM(T=e.CRH())&&(u.requiredClaimsForm=T.first)}},decls:10,vars:3,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["requiredClaimsForm","ngForm"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["type","number","name","number","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"id","ngModel","ngModelChange"],["name","claimValue","required","",3,"id","ngModel","displayType","ngModelChange"],["name","enum","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"header",3),e._UZ(4,"img",4),e.TgZ(5,"span",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,Qv,16,12,"div",7),e.YNc(9,FC,54,40,"div",8),e.qZA()()),2&n&&(e.xp6(6),e.hij("v",u.versionNumber,""),e.xp6(2),e.Q6J("ngIf",u.createdAdmin),e.xp6(1),e.Q6J("ngIf",!u.createdAdmin))},dependencies:[ne.sg,ne.O5,m._Y,m.YN,m.Kr,m.Fj,m.wV,m.EJ,m.JJ,m.JL,m.Q7,m.On,m.F,m.sg,m.u,Hr.L,Xp.j,mn.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),l})(),el=(()=>{class l{constructor(n,u){this.http=n,this.headersService=u,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(n){const u=JSON.stringify(n);return this.http.put(this.actionUrl,u,{headers:this.headers})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(w.eN),e.LFG(Cc.s))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})(),mh=(()=>{class l{constructor(n,u,T){this.webhookService=n,this.protectedResourceService=u,this.errorService=T}resolve(){return(0,Xs.D)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,re.U)(n=>{const u=new Uu;u.webhookConfiguration=n.webhooks;const T=[];return n.protectedResources.forEach(M=>{T.push(...M.scopes)}),u.scopeNames=T.map(M=>M.name).sort(),u},n=>{this.errorService.handleError(n)}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(el),e.LFG(Xo.m),e.LFG(Tn.T))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class Uu{}class $f{constructor(h,n,u,T){this.webhooks={MfaReset:h,PasswordReset:n,UserRegistration:u,ServerSideSessionDelete:T}}}var sa=(()=>{return(l=sa||(sa={})).MFAReset="MfaReset",l.PasswordReset="PasswordReset",l.UserRegistration="UserRegistration",l.ServerSideSessionDelete="ServerSideSessionDelete",sa;var l})();function r0(l,h){if(1&l&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&l){const n=h.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.Oqu(n)}}let s0=(()=>{class l{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"id","click"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(n,u){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),e.NdJ("click",function(){return u.toggle()}),e.qZA()()(),e.TgZ(5,"app-form-row",5),e._UZ(6,"input",6),e.qZA(),e.TgZ(7,"app-form-row",7)(8,"div",8)(9,"select",9),e.YNc(10,r0,2,2,"option",10),e.qZA()()()()()),2&n&&(e.Q6J("formGroup",u.parentForm),e.xp6(1),e.s9C("formGroupName",u.webhookName),e.xp6(1),e.Q6J("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),e.xp6(1),e.Q6J("id","WebhookEnabled"+u.webhookName)("isTraffic",!0)("isAlt",!1),e.xp6(1),e.Q6J("id","WebhookEnabled"+u.webhookName),e.xp6(1),e.Q6J("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),e.xp6(2),e.Q6J("label","Webhooks.ProtectingScope")("isLast",!0),e.xp6(3),e.Q6J("ngForOf",u.scopeNames))},dependencies:[ne.sg,m._Y,m.YN,m.Kr,m.Fj,m.Wl,m.EJ,m.JJ,m.JL,m.F,m.sg,m.u,m.x0,Hr.L,kl.O],encapsulation:2}),l})();const o0=["save"];function zf(l,h){if(1&l&&(e.TgZ(0,"div",5)(1,"form",6)(2,"h2",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"app-edit-webhook",8),e.TgZ(6,"h2",7),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"app-edit-webhook",8),e.TgZ(10,"h2",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"app-edit-webhook",8),e.TgZ(14,"h2",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"app-edit-webhook",8),e.qZA()()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(4,17,"Webhooks.MultiFactorHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.MFAReset)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(8,19,"Webhooks.PasswordResetHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.PasswordReset)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(12,21,"Webhooks.UserRegistrationHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.UserRegistration)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(16,23,"Webhooks.ServerSideSessionDeleteHeading")),e.xp6(2),e.Q6J("webhookName",n.webhookNames.ServerSideSessionDelete)("scopeNames",n.scopeNames)("parentForm",n.webhooksForm)}}let a0=(()=>{class l{constructor(n,u,T,M,ue,ke,$e,wt){this.activatedRoute=n,this.errorService=u,this.fb=T,this.webhookService=M,this.translate=ue,this.toastr=ke,this.modalService=$e,this.dialogService=wt,this.webhookNames=sa,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[Xt.n.Save]}ngOnInit(){this.activatedRoute.data.pipe(function n0(...l){const h=l.length;if(0===h)throw new Error("list of properties cannot be empty.");return(0,re.U)(n=>{let u=n;for(let T=0;T<h;T++){const M=u?.[l[T]];if(!(typeof M<"u"))return;u=M}return u})}("webhookResolverObject")).subscribe(n=>{this.webhookConfiguration=n.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=n.scopeNames,this.webhooksForm=this.fb.group({[sa.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[sa.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[sa.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[sa.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(u=>{this.saveLock=!(this.webhooksForm.controls[sa.MFAReset].valid&&this.webhooksForm.controls[sa.PasswordReset].valid&&this.webhooksForm.controls[sa.UserRegistration].valid&&this.webhooksForm.controls[sa.ServerSideSessionDelete].valid)})},n=>{this.errorService.handleError(n)})}createFormGroup(n){return this.fb.group({url:[{value:n.url,disabled:!n.enabled},m.kI.required],scopeName:[{value:n.scopeName,disabled:!n.enabled}],enabled:[n.enabled]})}processWebhookConfigurationUpdate(){const n=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(n)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(n)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const n=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(n).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(u=>{this.webhookConfiguration=u,this.webhooksEnabled=this.checkWebhooksEnabled()},u=>{this.errorService.handleError(u)}),this.webhooksForm.markAsPristine()},u=>{this.errorService.handleError(u)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const n=this.webhooksForm.getRawValue();return new $f(n.MfaReset,n.PasswordReset,n.UserRegistration,n.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(n){return n.webhooks.PasswordReset.enabled||n.webhooks.UserRegistration.enabled||n.webhooks.MfaReset.enabled||n.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(n){return!(n.webhooks.PasswordReset.enabled||n.webhooks.UserRegistration.enabled||n.webhooks.MfaReset.enabled||n.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ni.gz),e.Y36(Tn.T),e.Y36(m.QS),e.Y36(el),e.Y36(mn.sK),e.Y36(ji._W),e.Y36(ir.Z),e.Y36(qa.x))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-manage-webhooks"]],viewQuery:function(n,u){if(1&n&&e.Gf(o0,5),2&n){let T;e.iGM(T=e.CRH())&&(u.saveButtonRef=T.first)}},decls:20,vars:25,consts:[["class","tw-container tw-mx-auto",4,"ngIf"],[3,"saveText","actions","title","modalId","onCancel","onSave"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],[1,"tw-container","tw-mx-auto"],[3,"formGroup"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","scopeNames","parentForm"]],template:function(n,u){1&n&&(e.YNc(0,zf,18,25,"div",0),e.TgZ(1,"app-custom-modal",1),e.NdJ("onCancel",function(){return u.cancelWebhookUpdate()})("onSave",function(){return u.acceptClientCreation()}),e.TgZ(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"app-custom-modal",1),e.NdJ("onCancel",function(){return u.cancelWebhookUpdate()})("onSave",function(){return u.acceptClientCreation()}),e.TgZ(9,"h2",2),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p",3),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"app-button-bar")(16,"button",4),e.NdJ("click",function(){return u.processWebhookConfigurationUpdate()}),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e._UZ(19,"app-can-deactivate")),2&n&&(e.Q6J("ngIf",u.webhookConfiguration),e.xp6(1),e.Q6J("saveText","Common.Continue")("actions",u.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",u.clientCreationConfirmationModalId),e.xp6(2),e.Oqu(e.lcZ(4,15,"Common.Warning")),e.xp6(3),e.hij(" ",e.lcZ(7,17,"Webhooks.ClientCreationWarningDescription")," "),e.xp6(2),e.Q6J("saveText","Common.Continue")("actions",u.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",u.clientDeletionConfirmationModalId),e.xp6(2),e.Oqu(e.lcZ(11,19,"Common.Warning")),e.xp6(3),e.hij(" ",e.lcZ(14,21,"Webhooks.ClientDeletionWarningDescription")," "),e.xp6(3),e.Q6J("disabled",u.saveLock),e.xp6(1),e.hij(" ",e.lcZ(18,23,"Common.Save")," "))},dependencies:[ne.O5,m._Y,m.JL,m.sg,Bl.J,Ul.N,io.R,s0,mn.X$],encapsulation:2}),l})(),Gf=(()=>{class l{constructor(n,u,T){this.router=n,this.config=u,this.localizeRouter=T}canActivate(n,u){return this.config.getConfig().pipe((0,Ha.P)(),(0,re.U)(T=>{if("accesspolicy"!=n.firstChild.routeConfig.path||!T.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const M=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([M])}}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ni.F0),e.LFG(Es.E),e.LFG(hi.An))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var Qf=f(9512),xc=f(8308),no=f(5046),gh=f(8229);const qf=[{path:"",component:zd},{path:"initial-admin-creation",component:t0,canActivate:[Rs.B],data:{permissions:[$t.y[$t.y.All]]}},{path:"home",component:D,canActivate:[Rs.B,no.h]},{path:"settings",component:Po,children:[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:af,canDeactivate:[Ta.I],resolve:{accessPolicyObject:uh}},{path:"webhooks",component:a0,canDeactivate:[Ta.I],resolve:{webhookResolverObject:mh}},{path:"keys",component:Jv,canDeactivate:[Ta.I]}],canActivate:[Rs.B,no.h,Gf],canDeactivate:[Ta.I],data:{permissions:[$t.y[$t.y.All]]}},{path:"users",loadChildren:()=>Promise.resolve().then(f.bind(f,7360)).then(l=>l.UsersModule),canActivate:[Rs.B,no.h]},{path:"roles",component:ga,canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.UserManager],$t.y[$t.y.UserManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"roles/:Id",component:Ep,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:sh,canDeactivate:[Ta.I]},{path:"users",component:kC,canDeactivate:[Ta.I]}],resolve:{role:fc.O},canDeactivate:[Ta.I],canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.UserManager],$t.y[$t.y.All]]}},{path:"roles/view/:Id",component:Ki,loadChildren:()=>f.e(333).then(f.bind(f,7333)).then(l=>l.ViewRolesModule),resolve:{role:fc.O},canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.UserManager],$t.y[$t.y.UserManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"identityresources",component:mc,canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.IdentityServerManager],$t.y[$t.y.IdentityServerManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"identityresources/:Id",component:jp,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:_v,canDeactivate:[Ta.I]},{path:"claims",component:vv},{path:"properties",component:Fv}],resolve:{resource:Ld},canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.IdentityServerManager],$t.y[$t.y.All]]}},{path:"identityresources/view/:Id",component:zv,loadChildren:()=>f.e(451).then(f.bind(f,451)).then(l=>l.ViewIdentityResourcesModule),resolve:{resource:Ld},canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.IdentityServerManager],$t.y[$t.y.IdentityServerManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"protectedresources",component:Zd,canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.IdentityServerManager],$t.y[$t.y.IdentityServerManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"protectedresources/:Id",component:Y_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:pf,canDeactivate:[Ta.I]},{path:"scopes",component:vf},{path:"claims",component:ih},{path:"secrets",component:Mv},{path:"properties",component:Zv}],resolve:{resource:Vd},canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.IdentityServerManager],$t.y[$t.y.All]]}},{path:"protectedresources/view/:Id",component:Hf.A,loadChildren:()=>f.e(785).then(f.bind(f,2785)).then(l=>l.ViewProtectedResourceModule),resolve:{resource:Vd},canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.IdentityServerManager],$t.y[$t.y.IdentityServerManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"clients",loadChildren:()=>Promise.resolve().then(f.bind(f,3286)).then(l=>l.ClientModule),canActivate:[Rs.B,no.h]},{path:"claim-types",component:R_,canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.UserManager],$t.y[$t.y.UserManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"claim-types/:Id",component:yC,resolve:{resource:Rd.F},canDeactivate:[Ta.I],canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.UserManager],$t.y[$t.y.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>f.e(233).then(f.bind(f,6233)).then(l=>l.ClaimTypesModule),resolve:{resource:Rd.F},canActivate:[Rs.B,no.h],data:{permissions:[$t.y[$t.y.UserManager],$t.y[$t.y.UserManagerReadOnly],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"dynamic-auth",loadChildren:()=>Promise.resolve().then(f.bind(f,8400)).then(l=>l.DynamicAuthModule),canActivate:[Rs.B,no.h,Qf.n,xc.u]},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(f.bind(f,5232)).then(l=>l.StarterModeModule),canActivate:[Rs.B,gh.k]},{path:"auditing",component:cf,canActivate:[Rs.B,no.h,xc.u],data:{permissions:[$t.y[$t.y.Auditer],$t.y[$t.y.AllReadOnly],$t.y[$t.y.All]]}},{path:"unauthorized",component:uc},{path:"forbidden",component:ul},{path:"auth",component:Vl,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:Gd,canActivate:[Rs.B,no.h]},{path:"**",component:g_,canActivate:[Rs.B,no.h]}];let Yf=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ni.Bz.forRoot(qf,{scrollPositionRestoration:"enabled"}),ni.Bz]}),l})();var Dc=f(5503),Fu=f(7360),Ho=f(7023),Ic=f(5084),_h=f(5785),Mc=f(4022),Ea=f(7770),Hl=f(5971),vh=f(1230),Oc=f(6980),yh=f(9650),Ch=f(4091);let HC=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[fc.O],imports:[ne.ez,m.u5,m.UX,Rt.zk,Dc.D,ni.Bz,mn.aw,Ho._,hi.fQ,Ic.y,_h.U,Mc.p,Ea.t,Hl.s,vh.M,Oc.K,yh.I,Ch.G]}),l})();var Nc=f(8265),Zu=f(8761),Vu=f(8192),bh=f(1436),wh=f(6493);let JC=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[Ld,Vd,Sa.q],imports:[ne.ez,ni.Bz,mn.aw,m.u5,Dc.D,m.UX,Se.P4,Tt.z8,Zu.W,Nc.j,Ho._,j.fx,Rt.zk,Vu.h,hi.fQ,Ic.y,_h.U,Mc.p,Ea.t,Hl.s,Oc.K,yh.I,bh.W,wh.l,Ch.G]}),l})();var l0=f(3286),Xf=f(8002),c0=f(8783);class u0 extends hi.DJ{constructor(h,n,u,T,M="assets/locales.json"){super(h,n,u),this.http=T,this.path=M}load(h){return new Promise(n=>{this.http.get(`${this.path}`).subscribe(u=>{this.locales=u.locales,this.prefix=u.prefix||"",this.escapePrefix=u.escapePrefix||"",this.init(h).then(n)})})}}var Hu=f(5898),d0=f(4380),em=f(8975);let WC=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[uh,qp,gi.I,po.M,pn.f,dh,mh,Bf.n],imports:[ne.ez,m.u5,m.UX,Rt.zk,mn.aw,Dc.D,ni.Bz,Nc.j,Ho._,hi.fQ,Ic.y,d0.t,_h.U,Hl.s,Mc.p,Oc.K,yh.I,em.d,Hu.T,vh.M,Xf.Z]}),l})();var tm=f(7111),nm=f(4362);let h0=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[mn.aw,nm.l,ni.Bz,Ic.y,Hu.T]}),l})();var Th=f(1274),im=f(9751),rm=f(9646),oa=f(4968),p0=f(5963),sm=f(8421),f0=f(5797),m0=f(5403);f(1135),f(9841);var Rc=f(1848),_0=f(3269);function kc(...l){const h=(0,_0.jO)(l),n=(0,f0.k)(l);return n.length?new im.y(u=>{let T=n.map(()=>[]),M=n.map(()=>!1);u.add(()=>{T=M=null});for(let ue=0;!u.closed&&ue<n.length;ue++)(0,sm.Xf)(n[ue]).subscribe((0,m0.x)(u,ke=>{if(T[ue].push(ke),T.every($e=>$e.length)){const $e=T.map(wt=>wt.shift());u.next(h?h(...$e):$e),T.some((wt,Ut)=>!wt.length&&M[Ut])&&u.complete()}},()=>{M[ue]=!0,!T[ue].length&&u.complete()}));return()=>{T=M=null}}):gc.E}var Ah=f(7272),Gs=f(2722),am=f(3900),ja=f(8505),Ju=f(1365);Math,Math,Math;const wm=["*"],td=["dialog"];function sd(l){return"string"==typeof l}function xl(l){return null!=l}function tc(l){return(l||document.body).getBoundingClientRect()}const cg={animation:!0,transitionTimerDelayMs:5},Ay=()=>{},{transitionTimerDelayMs:Sy}=cg,$c=new Map,Io=(l,h,n,u)=>{let T=u.context||{};const M=$c.get(h);if(M)switch(u.runningTransition){case"continue":return gc.E;case"stop":l.run(()=>M.transition$.complete()),T=Object.assign(M.context,T),$c.delete(h)}const ue=n(h,u.animation,T)||Ay;if(!u.animation||"none"===window.getComputedStyle(h).transitionProperty)return l.run(()=>ue()),(0,rm.of)(void 0).pipe(function wy(l){return h=>new im.y(n=>h.subscribe({next:ue=>l.run(()=>n.next(ue)),error:ue=>l.run(()=>n.error(ue)),complete:()=>l.run(()=>n.complete())}))}(l));const ke=new Z.x,$e=new Z.x,wt=ke.pipe(function om(...l){return h=>(0,Ah.z)(h,(0,rm.of)(...l))}(!0));$c.set(h,{transition$:ke,complete:()=>{$e.next(),$e.complete()},context:T});const Ut=function Ty(l){const{transitionDelay:h,transitionDuration:n}=window.getComputedStyle(l);return 1e3*(parseFloat(h)+parseFloat(n))}(h);return l.runOutsideAngular(()=>{const an=(0,oa.R)(h,"transitionend").pipe((0,Gs.R)(wt),(0,he.h)(({target:An})=>An===h));(function g0(...l){return 1===(l=(0,f0.k)(l)).length?(0,sm.Xf)(l[0]):new im.y(function jC(l){return h=>{let n=[];for(let u=0;n&&!h.closed&&u<l.length;u++)n.push((0,sm.Xf)(l[u]).subscribe((0,m0.x)(h,T=>{if(n){for(let M=0;M<n.length;M++)M!==u&&n[M].unsubscribe();n=null}h.next(T)})))}}(l))})((0,p0.H)(Ut+Sy).pipe((0,Gs.R)(wt)),an,$e).pipe((0,Gs.R)(wt)).subscribe(()=>{$c.delete(h),l.run(()=>{ue(),ke.next(),ke.complete()})})}),ke.asObservable()};let zc=(()=>{class l{constructor(){this.animation=cg.animation}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),xy=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),Gh=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),Qh=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),qh=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();var Hs=(()=>{return(l=Hs||(Hs={}))[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",Hs;var l})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Xh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Cg(l){const h=Array.from(l.querySelectorAll(Xh)).filter(n=>-1!==n.tabIndex);return[h[0],h[h.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let sp=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez,m.u5]}),l})(),up=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();class ol{constructor(h,n,u){this.nodes=h,this.viewRef=n,this.componentRef=u}}let b1=(()=>{class l{constructor(n,u){this._el=n,this._zone=u}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Pe.q)(1)).subscribe(()=>{Io(this._zone,this._el.nativeElement,(n,u)=>{u&&tc(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Io(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(e.SBq),e.Y36(e.R0b))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,u){2&n&&(e.Tol("modal-backdrop"+(u.backdropClass?" "+u.backdropClass:"")),e.ekj("show",!u.animation)("fade",u.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,u){},encapsulation:2}),l})();class ac{close(h){}dismiss(h){}}class w1{constructor(h,n,u,T){this._windowCmptRef=h,this._contentRef=n,this._backdropCmptRef=u,this._beforeDismiss=T,this._closed=new Z.x,this._dismissed=new Z.x,this._hidden=new Z.x,h.instance.dismissEvent.subscribe(M=>{this.dismiss(M)}),this.result=new Promise((M,ue)=>{this._resolve=M,this._reject=ue}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Gs.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Gs.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(h){this._windowCmptRef&&(this._closed.next(h),this._resolve(h),this._removeModalElements())}_dismiss(h){this._dismissed.next(h),this._reject(h),this._removeModalElements()}dismiss(h){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function lg(l){return l&&l.then}(n)?!1!==n&&this._dismiss(h):n.then(u=>{!1!==u&&this._dismiss(h)},()=>{})}else this._dismiss(h)}_removeModalElements(){const h=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,rm.of)(void 0);h.subscribe(()=>{const{nativeElement:u}=this._windowCmptRef.location;u.parentNode.removeChild(u),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:u}=this._backdropCmptRef.location;u.parentNode.removeChild(u),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),kc(h,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ol=(()=>{return(l=Ol||(Ol={}))[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",Ol;var l})();let Ba=(()=>{class l{constructor(n,u,T){this._document=n,this._elRef=u,this._zone=T,this._closed$=new Z.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new Z.x,this.hidden=new Z.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":sd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Pe.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,u={animation:this.animation,runningTransition:"stop"},ue=kc(Io(this._zone,n,()=>n.classList.remove("show"),u),Io(this._zone,this._dialogEl.nativeElement,()=>{},u));return ue.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ue}_show(){const n={animation:this.animation,runningTransition:"continue"};kc(Io(this._zone,this._elRef.nativeElement,(M,ue)=>{ue&&tc(M),M.classList.add("show")},n),Io(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,oa.R)(n,"keydown").pipe((0,Gs.R)(this._closed$),(0,he.h)(T=>T.which===Hs.Escape)).subscribe(T=>{this.keyboard?requestAnimationFrame(()=>{T.defaultPrevented||this._zone.run(()=>this.dismiss(Ol.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let u=!1;(0,oa.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Gs.R)(this._closed$),(0,ja.b)(()=>u=!1),(0,am.w)(()=>(0,oa.R)(n,"mouseup").pipe((0,Gs.R)(this._closed$),(0,Pe.q)(1))),(0,he.h)(({target:T})=>n===T)).subscribe(()=>{u=!0}),(0,oa.R)(n,"click").pipe((0,Gs.R)(this._closed$)).subscribe(({target:T})=>{n===T&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!u&&this._zone.run(()=>this.dismiss(Ol.BACKDROP_CLICK))),u=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const u=n.querySelector("[ngbAutofocus]"),T=Cg(n)[0];(u||T||n).focus()}}_restoreFocus(){const n=this._document.body,u=this._elWithFocus;let T;T=u&&u.focus&&n.contains(u)?u:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>T.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Io(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(ne.K0),e.Y36(e.SBq),e.Y36(e.R0b))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(n,u){if(1&n&&e.Gf(td,7),2&n){let T;e.iGM(T=e.CRH())&&(u._dialogEl=T.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,u){2&n&&(e.uIk("aria-modal",!0)("aria-labelledby",u.ariaLabelledBy)("aria-describedby",u.ariaDescribedBy),e.Tol("modal d-block"+(u.windowClass?" "+u.windowClass:"")),e.ekj("fade",u.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wm,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,u){1&n&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&n&&e.Tol("modal-dialog"+(u.size?" modal-"+u.size:"")+(u.centered?" modal-dialog-centered":"")+u.fullscreenClass+(u.scrollable?" modal-dialog-scrollable":"")+(u.modalDialogClass?" "+u.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),l})(),T1=(()=>{class l{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),u=this._document.body,T=u.style,{overflow:M,paddingRight:ue}=T;if(n>0){const ke=parseFloat(window.getComputedStyle(u).paddingRight);T.paddingRight=`${ke+n}px`}return T.overflow="hidden",()=>{n>0&&(T.paddingRight=ue),T.overflow=M}}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ne.K0))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),dp=(()=>{class l{constructor(n,u,T,M,ue,ke){this._applicationRef=n,this._injector=u,this._document=T,this._scrollBar=M,this._rendererFactory=ue,this._ngZone=ke,this._activeWindowCmptHasChanged=new Z.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const $e=this._windowCmpts[this._windowCmpts.length-1];((l,h,n,u=!1)=>{this._ngZone.runOutsideAngular(()=>{const T=(0,oa.R)(h,"focusin").pipe((0,Gs.R)(n),(0,re.U)(M=>M.target));(0,oa.R)(h,"keydown").pipe((0,Gs.R)(n),(0,he.h)(M=>M.which===Hs.Tab),(0,Ju.M)(T)).subscribe(([M,ue])=>{const[ke,$e]=Cg(h);(ue===ke||ue===h)&&M.shiftKey&&($e.focus(),M.preventDefault()),ue===$e&&!M.shiftKey&&(ke.focus(),M.preventDefault())}),u&&(0,oa.R)(h,"click").pipe((0,Gs.R)(n),(0,Ju.M)(T),(0,re.U)(M=>M[1])).subscribe(M=>M.focus())})})(0,$e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden($e.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,u,T){const M=T.container instanceof HTMLElement?T.container:xl(T.container)?this._document.querySelector(T.container):this._document.body,ue=this._rendererFactory.createRenderer(null,null);if(!M)throw new Error(`The specified modal container "${T.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ke=new ac,$e=this._getContentRef(T.injector||n,u,ke,T);let wt=!1!==T.backdrop?this._attachBackdrop(M):void 0,Ut=this._attachWindowComponent(M,$e.nodes),an=new w1(Ut,$e,wt,T.beforeDismiss);return this._registerModalRef(an),this._registerWindowCmpt(Ut),an.hidden.pipe((0,Pe.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ue.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ke.close=yn=>{an.close(yn)},ke.dismiss=yn=>{an.dismiss(yn)},this._applyWindowOptions(Ut.instance,T),1===this._modalRefs.length&&ue.addClass(this._document.body,"modal-open"),wt&&wt.instance&&(this._applyBackdropOptions(wt.instance,T),wt.changeDetectorRef.detectChanges()),Ut.changeDetectorRef.detectChanges(),an}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(u=>u.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let u=(0,e.LMc)(b1,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(u.hostView),n.appendChild(u.location.nativeElement),u}_attachWindowComponent(n,u){let T=(0,e.LMc)(Ba,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:u});return this._applicationRef.attachView(T.hostView),n.appendChild(T.location.nativeElement),T}_applyWindowOptions(n,u){this._windowAttributes.forEach(T=>{xl(u[T])&&(n[T]=u[T])})}_applyBackdropOptions(n,u){this._backdropAttributes.forEach(T=>{xl(u[T])&&(n[T]=u[T])})}_getContentRef(n,u,T,M){return u?u instanceof e.Rgc?this._createFromTemplateRef(u,T):sd(u)?this._createFromString(u):this._createFromComponent(n,u,T,M):new ol([])}_createFromTemplateRef(n,u){const M=n.createEmbeddedView({$implicit:u,close(ue){u.close(ue)},dismiss(ue){u.dismiss(ue)}});return this._applicationRef.attachView(M),new ol([M.rootNodes],M)}_createFromString(n){const u=this._document.createTextNode(`${n}`);return new ol([[u]])}_createFromComponent(n,u,T,M){const ue=e.zs3.create({providers:[{provide:ac,useValue:T}],parent:n}),ke=(0,e.LMc)(u,{environmentInjector:this._applicationRef.injector,elementInjector:ue}),$e=ke.location.nativeElement;return M.scrollable&&$e.classList.add("component-host-scrollable"),this._applicationRef.attachView(ke.hostView),new ol([[$e]],ke.hostView,ke)}_setAriaHidden(n){const u=n.parentElement;u&&n!==this._document.body&&(Array.from(u.children).forEach(T=>{T!==n&&"SCRIPT"!==T.nodeName&&(this._ariaHiddenValues.set(T,T.getAttribute("aria-hidden")),T.setAttribute("aria-hidden","true"))}),this._setAriaHidden(u))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,u)=>{n?u.setAttribute("aria-hidden",n):u.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const u=()=>{const T=this._modalRefs.indexOf(n);T>-1&&(this._modalRefs.splice(T,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(u,u)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const u=this._windowCmpts.indexOf(n);u>-1&&(this._windowCmpts.splice(u,1),this._activeWindowCmptHasChanged.next())})}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(ne.K0),e.LFG(T1),e.LFG(e.FYo),e.LFG(e.R0b))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),su=(()=>{class l{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(zc))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),A1=(()=>{class l{constructor(n,u,T){this._injector=n,this._modalStack=u,this._config=T}open(n,u={}){const T={...this._config,animation:this._config.animation,...u};return this._modalStack.open(this._injector,n,T)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(e.zs3),e.LFG(dp),e.LFG(su))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Fg=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[A1]}),l})(),yd=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),vp=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),qg=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),M1=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),lc=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),lu=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),Nl=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),t_=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();new e.OlP("live announcer delay",{providedIn:"root",factory:function n_(){return 100}});let i_=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[ne.ez]}),l})(),r_=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({}),l})();const aw=[xy,Gh,Qh,qh,sp,up,Fg,yd,r_,vp,qg,M1,lc,lu,Nl,t_,i_];let s_=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[aw,xy,Gh,Qh,qh,sp,up,Fg,yd,r_,vp,qg,M1,lc,lu,Nl,t_,i_]}),l})();var lw=f(1888);let cw=(()=>{class l{intercept(n,u){if(n.url.startsWith("https://"))return u.handle(n);const T=(0,vt.SV)(),M=n.clone({url:`${T}${n.url}`});return u.handle(M)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();class uw{constructor(h,n="/assets/i18n/",u=".json"){this.http=h,this.prefix=n,this.suffix=u}getTranslation(h){return this.http.get(`${this.prefix}${h}${this.suffix}`)}}var dw=f(2843);let z1=(()=>{class l{}return l.EnforcerCompilationError=599,l.ExpiredTokenRedirect=413,l})(),hw=(()=>{class l{constructor(n,u,T,M){this.router=n,this.localizeRouterService=u,this.appComponentViewService=T,this.securityService=M}intercept(n,u){return u.handle(n).pipe((0,_c.K)(T=>{if(T.status===z1.ExpiredTokenRedirect)return this.securityService.startLogin(),Rc.C;if(T.status===z1.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const M=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([M],{state:{enforcer:!0}}),Rc.C}return(0,dw._)(()=>T)}))}}return l.\u0275fac=function(n){return new(n||l)(e.LFG(ni.F0),e.LFG(hi.An),e.LFG(eo.t),e.LFG(gi.I))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac}),l})();var pw=f(4100),fw=f(8400),wd=f(1842),mw=f(9490),o_=f(5232);function Td(l,h,n,u){return new u0(l,h,n,u,"resources/locales.json?cb="+Ce)}function a_(l){return new uw(l,"./resources/",".json?cb="+Ce)}let l_=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l,bootstrap:[me]}),l.\u0275inj=e.cJS({providers:[pw.N,Lf.$,_r.K,gi.I,Rs.B,no.h,xc.u,pn.f,Cc.s,po.M,ze.VK,c0.L,fc.O,Rd.F,wd.w,Va.Q,Xo.m,hi.An,Ri.G,Vr,mn.sK,Vo.E,Es.E,tm.n,Tn.T,lw.B,el,mw.o,{provide:w.TP,useClass:cw,multi:!0},{provide:w.TP,useClass:hw,multi:!0}],imports:[Yf,ne.ez,m.u5,m.UX,Kn,w.JF,Dc.D,Fu.UsersModule,HC,l0.ClientModule,fw.DynamicAuthModule,o_.StarterModeModule,JC,mn.aw,Ho._,Vu.h,mn.aw.forRoot({loader:{provide:mn.Zw,useFactory:a_,deps:[w.eN]}}),hi.fQ.forRoot(qf,{parser:{provide:hi.DJ,useFactory:Td,deps:[mn.sK,ne.Ye,hi.uh,w.eN]}}),Rt.zk.forRoot(),Se.P4.forRoot(),Tt.z8.forRoot(),j.fx.forRoot(),Xf.Z,ji.Rh.forRoot(),WC,h0,Th.T,s_,Hl.s,d0.t,em.d,yh.I,Hu.T,hi.fQ]}),l})();(0,e.G48)(),t.q6().bootstrapModule(l_)},5343:(st,ye)=>{"use strict";ye.byteLength=function g(a){var k=C(a),U=k[1];return 3*(k[0]+U)/4-U},ye.toByteArray=function A(a){var k,V,P=C(a),U=P[0],J=P[1],O=new e(function p(a,k,P){return 3*(k+P)/4-P}(0,U,J)),L=0,F=J>0?U-4:U;for(V=0;V<F;V+=4)k=t[a.charCodeAt(V)]<<18|t[a.charCodeAt(V+1)]<<12|t[a.charCodeAt(V+2)]<<6|t[a.charCodeAt(V+3)],O[L++]=k>>16&255,O[L++]=k>>8&255,O[L++]=255&k;return 2===J&&(k=t[a.charCodeAt(V)]<<2|t[a.charCodeAt(V+1)]>>4,O[L++]=255&k),1===J&&(k=t[a.charCodeAt(V)]<<10|t[a.charCodeAt(V+1)]<<4|t[a.charCodeAt(V+2)]>>2,O[L++]=k>>8&255,O[L++]=255&k),O},ye.fromByteArray=function N(a){for(var k,P=a.length,U=P%3,J=[],O=16383,L=0,F=P-U;L<F;L+=O)J.push(R(a,L,L+O>F?F:L+O));return 1===U?J.push(f[(k=a[P-1])>>2]+f[k<<4&63]+"=="):2===U&&J.push(f[(k=(a[P-2]<<8)+a[P-1])>>10]+f[k>>4&63]+f[k<<2&63]+"="),J.join("")};for(var f=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,b=m.length;w<b;++w)f[w]=m[w],t[m.charCodeAt(w)]=w;function C(a){var k=a.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=a.indexOf("=");return-1===P&&(P=k),[P,P===k?0:4-P%4]}function _(a){return f[a>>18&63]+f[a>>12&63]+f[a>>6&63]+f[63&a]}function R(a,k,P){for(var J=[],O=k;O<P;O+=3)J.push(_((a[O]<<16&16711680)+(a[O+1]<<8&65280)+(255&a[O+2])));return J.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63},3172:(st,ye,f)=>{"use strict";const e=f(5343),m=f(8461),w="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ye.lW=p,ye.h2=50;const b=2147483647;function g(te){if(te>b)throw new RangeError('The value "'+te+'" is invalid for option "size"');const B=new Uint8Array(te);return Object.setPrototypeOf(B,p.prototype),B}function p(te,B,ee){if("number"==typeof te){if("string"==typeof B)throw new TypeError('The "string" argument must be of type string. Received type number');return N(te)}return A(te,B,ee)}function A(te,B,ee){if("string"==typeof te)return function a(te,B){if(("string"!=typeof B||""===B)&&(B="utf8"),!p.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const ee=0|F(te,B);let Re=g(ee);const tt=Re.write(te,B);return tt!==ee&&(Re=Re.slice(0,tt)),Re}(te,B);if(ArrayBuffer.isView(te))return function P(te){if(We(te,Uint8Array)){const B=new Uint8Array(te);return U(B.buffer,B.byteOffset,B.byteLength)}return k(te)}(te);if(null==te)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(We(te,ArrayBuffer)||te&&We(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(te,SharedArrayBuffer)||te&&We(te.buffer,SharedArrayBuffer)))return U(te,B,ee);if("number"==typeof te)throw new TypeError('The "value" argument must not be of type number. Received type number');const Re=te.valueOf&&te.valueOf();if(null!=Re&&Re!==te)return p.from(Re,B,ee);const tt=function J(te){if(p.isBuffer(te)){const B=0|O(te.length),ee=g(B);return 0===ee.length||te.copy(ee,0,0,B),ee}return void 0!==te.length?"number"!=typeof te.length||bt(te.length)?g(0):k(te):"Buffer"===te.type&&Array.isArray(te.data)?k(te.data):void 0}(te);if(tt)return tt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof te[Symbol.toPrimitive])return p.from(te[Symbol.toPrimitive]("string"),B,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}function _(te){if("number"!=typeof te)throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function N(te){return _(te),g(te<0?0:0|O(te))}function k(te){const B=te.length<0?0:0|O(te.length),ee=g(B);for(let Re=0;Re<B;Re+=1)ee[Re]=255&te[Re];return ee}function U(te,B,ee){if(B<0||te.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<B+(ee||0))throw new RangeError('"length" is outside of buffer bounds');let Re;return Re=void 0===B&&void 0===ee?new Uint8Array(te):void 0===ee?new Uint8Array(te,B):new Uint8Array(te,B,ee),Object.setPrototypeOf(Re,p.prototype),Re}function O(te){if(te>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|te}function F(te,B){if(p.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||We(te,ArrayBuffer))return te.byteLength;if("string"!=typeof te)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const ee=te.length,Re=arguments.length>2&&!0===arguments[2];if(!Re&&0===ee)return 0;let tt=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return De(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return et(te).length;default:if(tt)return Re?-1:De(te).length;B=(""+B).toLowerCase(),tt=!0}}function V(te,B,ee){let Re=!1;if((void 0===B||B<0)&&(B=0),B>this.length||((void 0===ee||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(B>>>=0))return"";for(te||(te="utf8");;)switch(te){case"hex":return Ge(this,B,ee);case"utf8":case"utf-8":return _e(this,B,ee);case"ascii":return Ke(this,B,ee);case"latin1":case"binary":return xe(this,B,ee);case"base64":return ce(this,B,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,B,ee);default:if(Re)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),Re=!0}}function q(te,B,ee){const Re=te[B];te[B]=te[ee],te[ee]=Re}function ie(te,B,ee,Re,tt){if(0===te.length)return-1;if("string"==typeof ee?(Re=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),bt(ee=+ee)&&(ee=tt?0:te.length-1),ee<0&&(ee=te.length+ee),ee>=te.length){if(tt)return-1;ee=te.length-1}else if(ee<0){if(!tt)return-1;ee=0}if("string"==typeof B&&(B=p.from(B,Re)),p.isBuffer(B))return 0===B.length?-1:H(te,B,ee,Re,tt);if("number"==typeof B)return B&=255,"function"==typeof Uint8Array.prototype.indexOf?tt?Uint8Array.prototype.indexOf.call(te,B,ee):Uint8Array.prototype.lastIndexOf.call(te,B,ee):H(te,[B],ee,Re,tt);throw new TypeError("val must be string, number or Buffer")}function H(te,B,ee,Re,tt){let rn,ot=1,Et=te.length,Kt=B.length;if(void 0!==Re&&("ucs2"===(Re=String(Re).toLowerCase())||"ucs-2"===Re||"utf16le"===Re||"utf-16le"===Re)){if(te.length<2||B.length<2)return-1;ot=2,Et/=2,Kt/=2,ee/=2}function wn(fn,cn){return 1===ot?fn[cn]:fn.readUInt16BE(cn*ot)}if(tt){let fn=-1;for(rn=ee;rn<Et;rn++)if(wn(te,rn)===wn(B,-1===fn?0:rn-fn)){if(-1===fn&&(fn=rn),rn-fn+1===Kt)return fn*ot}else-1!==fn&&(rn-=rn-fn),fn=-1}else for(ee+Kt>Et&&(ee=Et-Kt),rn=ee;rn>=0;rn--){let fn=!0;for(let cn=0;cn<Kt;cn++)if(wn(te,rn+cn)!==wn(B,cn)){fn=!1;break}if(fn)return rn}return-1}function $(te,B,ee,Re){ee=Number(ee)||0;const tt=te.length-ee;Re?(Re=Number(Re))>tt&&(Re=tt):Re=tt;const ot=B.length;let Et;for(Re>ot/2&&(Re=ot/2),Et=0;Et<Re;++Et){const Kt=parseInt(B.substr(2*Et,2),16);if(bt(Kt))return Et;te[ee+Et]=Kt}return Et}function z(te,B,ee,Re){return Qe(De(B,te.length-ee),te,ee,Re)}function E(te,B,ee,Re){return Qe(function be(te){const B=[];for(let ee=0;ee<te.length;++ee)B.push(255&te.charCodeAt(ee));return B}(B),te,ee,Re)}function X(te,B,ee,Re){return Qe(et(B),te,ee,Re)}function Q(te,B,ee,Re){return Qe(function je(te,B){let ee,Re,tt;const ot=[];for(let Et=0;Et<te.length&&!((B-=2)<0);++Et)ee=te.charCodeAt(Et),Re=ee>>8,tt=ee%256,ot.push(tt),ot.push(Re);return ot}(B,te.length-ee),te,ee,Re)}function ce(te,B,ee){return e.fromByteArray(0===B&&ee===te.length?te:te.slice(B,ee))}function _e(te,B,ee){ee=Math.min(te.length,ee);const Re=[];let tt=B;for(;tt<ee;){const ot=te[tt];let Et=null,Kt=ot>239?4:ot>223?3:ot>191?2:1;if(tt+Kt<=ee){let wn,rn,fn,cn;switch(Kt){case 1:ot<128&&(Et=ot);break;case 2:wn=te[tt+1],128==(192&wn)&&(cn=(31&ot)<<6|63&wn,cn>127&&(Et=cn));break;case 3:wn=te[tt+1],rn=te[tt+2],128==(192&wn)&&128==(192&rn)&&(cn=(15&ot)<<12|(63&wn)<<6|63&rn,cn>2047&&(cn<55296||cn>57343)&&(Et=cn));break;case 4:wn=te[tt+1],rn=te[tt+2],fn=te[tt+3],128==(192&wn)&&128==(192&rn)&&128==(192&fn)&&(cn=(15&ot)<<18|(63&wn)<<12|(63&rn)<<6|63&fn,cn>65535&&cn<1114112&&(Et=cn))}}null===Et?(Et=65533,Kt=1):Et>65535&&(Et-=65536,Re.push(Et>>>10&1023|55296),Et=56320|1023&Et),Re.push(Et),tt+=Kt}return function ve(te){const B=te.length;if(B<=4096)return String.fromCharCode.apply(String,te);let ee="",Re=0;for(;Re<B;)ee+=String.fromCharCode.apply(String,te.slice(Re,Re+=4096));return ee}(Re)}function Ke(te,B,ee){let Re="";ee=Math.min(te.length,ee);for(let tt=B;tt<ee;++tt)Re+=String.fromCharCode(127&te[tt]);return Re}function xe(te,B,ee){let Re="";ee=Math.min(te.length,ee);for(let tt=B;tt<ee;++tt)Re+=String.fromCharCode(te[tt]);return Re}function Ge(te,B,ee){const Re=te.length;(!B||B<0)&&(B=0),(!ee||ee<0||ee>Re)&&(ee=Re);let tt="";for(let ot=B;ot<ee;++ot)tt+=pt[te[ot]];return tt}function we(te,B,ee){const Re=te.slice(B,ee);let tt="";for(let ot=0;ot<Re.length-1;ot+=2)tt+=String.fromCharCode(Re[ot]+256*Re[ot+1]);return tt}function Ye(te,B,ee){if(te%1!=0||te<0)throw new RangeError("offset is not uint");if(te+B>ee)throw new RangeError("Trying to access beyond buffer length")}function rt(te,B,ee,Re,tt,ot){if(!p.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>tt||B<ot)throw new RangeError('"value" argument is out of bounds');if(ee+Re>te.length)throw new RangeError("Index out of range")}function Ct(te,B,ee,Re,tt){G(B,Re,tt,te,ee,7);let ot=Number(B&BigInt(4294967295));te[ee++]=ot,ot>>=8,te[ee++]=ot,ot>>=8,te[ee++]=ot,ot>>=8,te[ee++]=ot;let Et=Number(B>>BigInt(32)&BigInt(4294967295));return te[ee++]=Et,Et>>=8,te[ee++]=Et,Et>>=8,te[ee++]=Et,Et>>=8,te[ee++]=Et,ee}function at(te,B,ee,Re,tt){G(B,Re,tt,te,ee,7);let ot=Number(B&BigInt(4294967295));te[ee+7]=ot,ot>>=8,te[ee+6]=ot,ot>>=8,te[ee+5]=ot,ot>>=8,te[ee+4]=ot;let Et=Number(B>>BigInt(32)&BigInt(4294967295));return te[ee+3]=Et,Et>>=8,te[ee+2]=Et,Et>>=8,te[ee+1]=Et,Et>>=8,te[ee]=Et,ee+8}function dt(te,B,ee,Re,tt,ot){if(ee+Re>te.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function ct(te,B,ee,Re,tt){return B=+B,ee>>>=0,tt||dt(te,0,ee,4),m.write(te,B,ee,Re,23,4),ee+4}function Gt(te,B,ee,Re,tt){return B=+B,ee>>>=0,tt||dt(te,0,ee,8),m.write(te,B,ee,Re,52,8),ee+8}!(p.TYPED_ARRAY_SUPPORT=function C(){try{const te=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(te,B),42===te.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(te,B,ee){return A(te,B,ee)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(te,B,ee){return function R(te,B,ee){return _(te),te<=0?g(te):void 0!==B?"string"==typeof ee?g(te).fill(B,ee):g(te).fill(B):g(te)}(te,B,ee)},p.allocUnsafe=function(te){return N(te)},p.allocUnsafeSlow=function(te){return N(te)},p.isBuffer=function(B){return null!=B&&!0===B._isBuffer&&B!==p.prototype},p.compare=function(B,ee){if(We(B,Uint8Array)&&(B=p.from(B,B.offset,B.byteLength)),We(ee,Uint8Array)&&(ee=p.from(ee,ee.offset,ee.byteLength)),!p.isBuffer(B)||!p.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===ee)return 0;let Re=B.length,tt=ee.length;for(let ot=0,Et=Math.min(Re,tt);ot<Et;++ot)if(B[ot]!==ee[ot]){Re=B[ot],tt=ee[ot];break}return Re<tt?-1:tt<Re?1:0},p.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(B,ee){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(0===B.length)return p.alloc(0);let Re;if(void 0===ee)for(ee=0,Re=0;Re<B.length;++Re)ee+=B[Re].length;const tt=p.allocUnsafe(ee);let ot=0;for(Re=0;Re<B.length;++Re){let Et=B[Re];if(We(Et,Uint8Array))ot+Et.length>tt.length?(p.isBuffer(Et)||(Et=p.from(Et)),Et.copy(tt,ot)):Uint8Array.prototype.set.call(tt,Et,ot);else{if(!p.isBuffer(Et))throw new TypeError('"list" argument must be an Array of Buffers');Et.copy(tt,ot)}ot+=Et.length}return tt},p.byteLength=F,p.prototype._isBuffer=!0,p.prototype.swap16=function(){const B=this.length;if(B%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ee=0;ee<B;ee+=2)q(this,ee,ee+1);return this},p.prototype.swap32=function(){const B=this.length;if(B%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ee=0;ee<B;ee+=4)q(this,ee,ee+3),q(this,ee+1,ee+2);return this},p.prototype.swap64=function(){const B=this.length;if(B%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ee=0;ee<B;ee+=8)q(this,ee,ee+7),q(this,ee+1,ee+6),q(this,ee+2,ee+5),q(this,ee+3,ee+4);return this},p.prototype.toLocaleString=p.prototype.toString=function(){const B=this.length;return 0===B?"":0===arguments.length?_e(this,0,B):V.apply(this,arguments)},p.prototype.equals=function(B){if(!p.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B||0===p.compare(this,B)},p.prototype.inspect=function(){let B="";const ee=ye.h2;return B=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(B+=" ... "),"<Buffer "+B+">"},w&&(p.prototype[w]=p.prototype.inspect),p.prototype.compare=function(B,ee,Re,tt,ot){if(We(B,Uint8Array)&&(B=p.from(B,B.offset,B.byteLength)),!p.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(void 0===ee&&(ee=0),void 0===Re&&(Re=B?B.length:0),void 0===tt&&(tt=0),void 0===ot&&(ot=this.length),ee<0||Re>B.length||tt<0||ot>this.length)throw new RangeError("out of range index");if(tt>=ot&&ee>=Re)return 0;if(tt>=ot)return-1;if(ee>=Re)return 1;if(this===B)return 0;let Et=(ot>>>=0)-(tt>>>=0),Kt=(Re>>>=0)-(ee>>>=0);const wn=Math.min(Et,Kt),rn=this.slice(tt,ot),fn=B.slice(ee,Re);for(let cn=0;cn<wn;++cn)if(rn[cn]!==fn[cn]){Et=rn[cn],Kt=fn[cn];break}return Et<Kt?-1:Kt<Et?1:0},p.prototype.includes=function(B,ee,Re){return-1!==this.indexOf(B,ee,Re)},p.prototype.indexOf=function(B,ee,Re){return ie(this,B,ee,Re,!0)},p.prototype.lastIndexOf=function(B,ee,Re){return ie(this,B,ee,Re,!1)},p.prototype.write=function(B,ee,Re,tt){if(void 0===ee)tt="utf8",Re=this.length,ee=0;else if(void 0===Re&&"string"==typeof ee)tt=ee,Re=this.length,ee=0;else{if(!isFinite(ee))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ee>>>=0,isFinite(Re)?(Re>>>=0,void 0===tt&&(tt="utf8")):(tt=Re,Re=void 0)}const ot=this.length-ee;if((void 0===Re||Re>ot)&&(Re=ot),B.length>0&&(Re<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");tt||(tt="utf8");let Et=!1;for(;;)switch(tt){case"hex":return $(this,B,ee,Re);case"utf8":case"utf-8":return z(this,B,ee,Re);case"ascii":case"latin1":case"binary":return E(this,B,ee,Re);case"base64":return X(this,B,ee,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,B,ee,Re);default:if(Et)throw new TypeError("Unknown encoding: "+tt);tt=(""+tt).toLowerCase(),Et=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.slice=function(B,ee){const Re=this.length;(B=~~B)<0?(B+=Re)<0&&(B=0):B>Re&&(B=Re),(ee=void 0===ee?Re:~~ee)<0?(ee+=Re)<0&&(ee=0):ee>Re&&(ee=Re),ee<B&&(ee=B);const tt=this.subarray(B,ee);return Object.setPrototypeOf(tt,p.prototype),tt},p.prototype.readUintLE=p.prototype.readUIntLE=function(B,ee,Re){B>>>=0,ee>>>=0,Re||Ye(B,ee,this.length);let tt=this[B],ot=1,Et=0;for(;++Et<ee&&(ot*=256);)tt+=this[B+Et]*ot;return tt},p.prototype.readUintBE=p.prototype.readUIntBE=function(B,ee,Re){B>>>=0,ee>>>=0,Re||Ye(B,ee,this.length);let tt=this[B+--ee],ot=1;for(;ee>0&&(ot*=256);)tt+=this[B+--ee]*ot;return tt},p.prototype.readUint8=p.prototype.readUInt8=function(B,ee){return B>>>=0,ee||Ye(B,1,this.length),this[B]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(B,ee){return B>>>=0,ee||Ye(B,2,this.length),this[B]|this[B+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(B,ee){return B>>>=0,ee||Ye(B,2,this.length),this[B]<<8|this[B+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(B,ee){return B>>>=0,ee||Ye(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(B,ee){return B>>>=0,ee||Ye(B,4,this.length),16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])},p.prototype.readBigUInt64LE=He(function(B){oe(B>>>=0,"offset");const ee=this[B],Re=this[B+7];(void 0===ee||void 0===Re)&&Ve(B,this.length-8);const tt=ee+256*this[++B]+65536*this[++B]+this[++B]*2**24,ot=this[++B]+256*this[++B]+65536*this[++B]+Re*2**24;return BigInt(tt)+(BigInt(ot)<<BigInt(32))}),p.prototype.readBigUInt64BE=He(function(B){oe(B>>>=0,"offset");const ee=this[B],Re=this[B+7];(void 0===ee||void 0===Re)&&Ve(B,this.length-8);const tt=ee*2**24+65536*this[++B]+256*this[++B]+this[++B],ot=this[++B]*2**24+65536*this[++B]+256*this[++B]+Re;return(BigInt(tt)<<BigInt(32))+BigInt(ot)}),p.prototype.readIntLE=function(B,ee,Re){B>>>=0,ee>>>=0,Re||Ye(B,ee,this.length);let tt=this[B],ot=1,Et=0;for(;++Et<ee&&(ot*=256);)tt+=this[B+Et]*ot;return ot*=128,tt>=ot&&(tt-=Math.pow(2,8*ee)),tt},p.prototype.readIntBE=function(B,ee,Re){B>>>=0,ee>>>=0,Re||Ye(B,ee,this.length);let tt=ee,ot=1,Et=this[B+--tt];for(;tt>0&&(ot*=256);)Et+=this[B+--tt]*ot;return ot*=128,Et>=ot&&(Et-=Math.pow(2,8*ee)),Et},p.prototype.readInt8=function(B,ee){return B>>>=0,ee||Ye(B,1,this.length),128&this[B]?-1*(255-this[B]+1):this[B]},p.prototype.readInt16LE=function(B,ee){B>>>=0,ee||Ye(B,2,this.length);const Re=this[B]|this[B+1]<<8;return 32768&Re?4294901760|Re:Re},p.prototype.readInt16BE=function(B,ee){B>>>=0,ee||Ye(B,2,this.length);const Re=this[B+1]|this[B]<<8;return 32768&Re?4294901760|Re:Re},p.prototype.readInt32LE=function(B,ee){return B>>>=0,ee||Ye(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},p.prototype.readInt32BE=function(B,ee){return B>>>=0,ee||Ye(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},p.prototype.readBigInt64LE=He(function(B){oe(B>>>=0,"offset");const ee=this[B],Re=this[B+7];return(void 0===ee||void 0===Re)&&Ve(B,this.length-8),(BigInt(this[B+4]+256*this[B+5]+65536*this[B+6]+(Re<<24))<<BigInt(32))+BigInt(ee+256*this[++B]+65536*this[++B]+this[++B]*2**24)}),p.prototype.readBigInt64BE=He(function(B){oe(B>>>=0,"offset");const ee=this[B],Re=this[B+7];(void 0===ee||void 0===Re)&&Ve(B,this.length-8);const tt=(ee<<24)+65536*this[++B]+256*this[++B]+this[++B];return(BigInt(tt)<<BigInt(32))+BigInt(this[++B]*2**24+65536*this[++B]+256*this[++B]+Re)}),p.prototype.readFloatLE=function(B,ee){return B>>>=0,ee||Ye(B,4,this.length),m.read(this,B,!0,23,4)},p.prototype.readFloatBE=function(B,ee){return B>>>=0,ee||Ye(B,4,this.length),m.read(this,B,!1,23,4)},p.prototype.readDoubleLE=function(B,ee){return B>>>=0,ee||Ye(B,8,this.length),m.read(this,B,!0,52,8)},p.prototype.readDoubleBE=function(B,ee){return B>>>=0,ee||Ye(B,8,this.length),m.read(this,B,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(B,ee,Re,tt){B=+B,ee>>>=0,Re>>>=0,tt||rt(this,B,ee,Re,Math.pow(2,8*Re)-1,0);let ot=1,Et=0;for(this[ee]=255&B;++Et<Re&&(ot*=256);)this[ee+Et]=B/ot&255;return ee+Re},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(B,ee,Re,tt){B=+B,ee>>>=0,Re>>>=0,tt||rt(this,B,ee,Re,Math.pow(2,8*Re)-1,0);let ot=Re-1,Et=1;for(this[ee+ot]=255&B;--ot>=0&&(Et*=256);)this[ee+ot]=B/Et&255;return ee+Re},p.prototype.writeUint8=p.prototype.writeUInt8=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,1,255,0),this[ee]=255&B,ee+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,2,65535,0),this[ee]=255&B,this[ee+1]=B>>>8,ee+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,2,65535,0),this[ee]=B>>>8,this[ee+1]=255&B,ee+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,4,4294967295,0),this[ee+3]=B>>>24,this[ee+2]=B>>>16,this[ee+1]=B>>>8,this[ee]=255&B,ee+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,4,4294967295,0),this[ee]=B>>>24,this[ee+1]=B>>>16,this[ee+2]=B>>>8,this[ee+3]=255&B,ee+4},p.prototype.writeBigUInt64LE=He(function(B,ee=0){return Ct(this,B,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=He(function(B,ee=0){return at(this,B,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(B,ee,Re,tt){if(B=+B,ee>>>=0,!tt){const wn=Math.pow(2,8*Re-1);rt(this,B,ee,Re,wn-1,-wn)}let ot=0,Et=1,Kt=0;for(this[ee]=255&B;++ot<Re&&(Et*=256);)B<0&&0===Kt&&0!==this[ee+ot-1]&&(Kt=1),this[ee+ot]=(B/Et>>0)-Kt&255;return ee+Re},p.prototype.writeIntBE=function(B,ee,Re,tt){if(B=+B,ee>>>=0,!tt){const wn=Math.pow(2,8*Re-1);rt(this,B,ee,Re,wn-1,-wn)}let ot=Re-1,Et=1,Kt=0;for(this[ee+ot]=255&B;--ot>=0&&(Et*=256);)B<0&&0===Kt&&0!==this[ee+ot+1]&&(Kt=1),this[ee+ot]=(B/Et>>0)-Kt&255;return ee+Re},p.prototype.writeInt8=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,1,127,-128),B<0&&(B=255+B+1),this[ee]=255&B,ee+1},p.prototype.writeInt16LE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,2,32767,-32768),this[ee]=255&B,this[ee+1]=B>>>8,ee+2},p.prototype.writeInt16BE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,2,32767,-32768),this[ee]=B>>>8,this[ee+1]=255&B,ee+2},p.prototype.writeInt32LE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,4,2147483647,-2147483648),this[ee]=255&B,this[ee+1]=B>>>8,this[ee+2]=B>>>16,this[ee+3]=B>>>24,ee+4},p.prototype.writeInt32BE=function(B,ee,Re){return B=+B,ee>>>=0,Re||rt(this,B,ee,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[ee]=B>>>24,this[ee+1]=B>>>16,this[ee+2]=B>>>8,this[ee+3]=255&B,ee+4},p.prototype.writeBigInt64LE=He(function(B,ee=0){return Ct(this,B,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=He(function(B,ee=0){return at(this,B,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(B,ee,Re){return ct(this,B,ee,!0,Re)},p.prototype.writeFloatBE=function(B,ee,Re){return ct(this,B,ee,!1,Re)},p.prototype.writeDoubleLE=function(B,ee,Re){return Gt(this,B,ee,!0,Re)},p.prototype.writeDoubleBE=function(B,ee,Re){return Gt(this,B,ee,!1,Re)},p.prototype.copy=function(B,ee,Re,tt){if(!p.isBuffer(B))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!tt&&0!==tt&&(tt=this.length),ee>=B.length&&(ee=B.length),ee||(ee=0),tt>0&&tt<Re&&(tt=Re),tt===Re||0===B.length||0===this.length)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("sourceEnd out of bounds");tt>this.length&&(tt=this.length),B.length-ee<tt-Re&&(tt=B.length-ee+Re);const ot=tt-Re;return this===B&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ee,Re,tt):Uint8Array.prototype.set.call(B,this.subarray(Re,tt),ee),ot},p.prototype.fill=function(B,ee,Re,tt){if("string"==typeof B){if("string"==typeof ee?(tt=ee,ee=0,Re=this.length):"string"==typeof Re&&(tt=Re,Re=this.length),void 0!==tt&&"string"!=typeof tt)throw new TypeError("encoding must be a string");if("string"==typeof tt&&!p.isEncoding(tt))throw new TypeError("Unknown encoding: "+tt);if(1===B.length){const Et=B.charCodeAt(0);("utf8"===tt&&Et<128||"latin1"===tt)&&(B=Et)}}else"number"==typeof B?B&=255:"boolean"==typeof B&&(B=Number(B));if(ee<0||this.length<ee||this.length<Re)throw new RangeError("Out of range index");if(Re<=ee)return this;let ot;if(ee>>>=0,Re=void 0===Re?this.length:Re>>>0,B||(B=0),"number"==typeof B)for(ot=ee;ot<Re;++ot)this[ot]=B;else{const Et=p.isBuffer(B)?B:p.from(B,tt),Kt=Et.length;if(0===Kt)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(ot=0;ot<Re-ee;++ot)this[ot+ee]=Et[ot%Kt]}return this};const ln={};function Mt(te,B,ee){ln[te]=class extends ee{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,delete this.name}get code(){return te}set code(tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:tt,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}function It(te){let B="",ee=te.length;const Re="-"===te[0]?1:0;for(;ee>=Re+4;ee-=3)B=`_${te.slice(ee-3,ee)}${B}`;return`${te.slice(0,ee)}${B}`}function G(te,B,ee,Re,tt,ot){if(te>ee||te<B){const Et="bigint"==typeof B?"n":"";let Kt;throw Kt=ot>3?0===B||B===BigInt(0)?`>= 0${Et} and < 2${Et} ** ${8*(ot+1)}${Et}`:`>= -(2${Et} ** ${8*(ot+1)-1}${Et}) and < 2 ** ${8*(ot+1)-1}${Et}`:`>= ${B}${Et} and <= ${ee}${Et}`,new ln.ERR_OUT_OF_RANGE("value",Kt,te)}!function Y(te,B,ee){oe(B,"offset"),(void 0===te[B]||void 0===te[B+ee])&&Ve(B,te.length-(ee+1))}(Re,tt,ot)}function oe(te,B){if("number"!=typeof te)throw new ln.ERR_INVALID_ARG_TYPE(B,"number",te)}function Ve(te,B,ee){throw Math.floor(te)!==te?(oe(te,ee),new ln.ERR_OUT_OF_RANGE(ee||"offset","an integer",te)):B<0?new ln.ERR_BUFFER_OUT_OF_BOUNDS:new ln.ERR_OUT_OF_RANGE(ee||"offset",`>= ${ee?1:0} and <= ${B}`,te)}Mt("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Mt("ERR_INVALID_ARG_TYPE",function(te,B){return`The "${te}" argument must be of type number. Received type ${typeof B}`},TypeError),Mt("ERR_OUT_OF_RANGE",function(te,B,ee){let Re=`The value of "${te}" is out of range.`,tt=ee;return Number.isInteger(ee)&&Math.abs(ee)>2**32?tt=It(String(ee)):"bigint"==typeof ee&&(tt=String(ee),(ee>BigInt(2)**BigInt(32)||ee<-(BigInt(2)**BigInt(32)))&&(tt=It(tt)),tt+="n"),Re+=` It must be ${B}. Received ${tt}`,Re},RangeError);const Be=/[^+/0-9A-Za-z-_]/g;function De(te,B){let ee;B=B||1/0;const Re=te.length;let tt=null;const ot=[];for(let Et=0;Et<Re;++Et){if(ee=te.charCodeAt(Et),ee>55295&&ee<57344){if(!tt){if(ee>56319){(B-=3)>-1&&ot.push(239,191,189);continue}if(Et+1===Re){(B-=3)>-1&&ot.push(239,191,189);continue}tt=ee;continue}if(ee<56320){(B-=3)>-1&&ot.push(239,191,189),tt=ee;continue}ee=65536+(tt-55296<<10|ee-56320)}else tt&&(B-=3)>-1&&ot.push(239,191,189);if(tt=null,ee<128){if((B-=1)<0)break;ot.push(ee)}else if(ee<2048){if((B-=2)<0)break;ot.push(ee>>6|192,63&ee|128)}else if(ee<65536){if((B-=3)<0)break;ot.push(ee>>12|224,ee>>6&63|128,63&ee|128)}else{if(!(ee<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;ot.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,63&ee|128)}}return ot}function et(te){return e.toByteArray(function o(te){if((te=(te=te.split("=")[0]).trim().replace(Be,"")).length<2)return"";for(;te.length%4!=0;)te+="=";return te}(te))}function Qe(te,B,ee,Re){let tt;for(tt=0;tt<Re&&!(tt+ee>=B.length||tt>=te.length);++tt)B[tt+ee]=te[tt];return tt}function We(te,B){return te instanceof B||null!=te&&null!=te.constructor&&null!=te.constructor.name&&te.constructor.name===B.name}function bt(te){return te!=te}const pt=function(){const te="0123456789abcdef",B=new Array(256);for(let ee=0;ee<16;++ee){const Re=16*ee;for(let tt=0;tt<16;++tt)B[Re+tt]=te[ee]+te[tt]}return B}();function He(te){return typeof BigInt>"u"?ae:te}function ae(){throw new Error("BigInt not supported")}},8461:(st,ye)=>{ye.read=function(f,t,e,m,w){var b,C,g=8*w-m-1,p=(1<<g)-1,A=p>>1,_=-7,R=e?w-1:0,N=e?-1:1,a=f[t+R];for(R+=N,b=a&(1<<-_)-1,a>>=-_,_+=g;_>0;b=256*b+f[t+R],R+=N,_-=8);for(C=b&(1<<-_)-1,b>>=-_,_+=m;_>0;C=256*C+f[t+R],R+=N,_-=8);if(0===b)b=1-A;else{if(b===p)return C?NaN:1/0*(a?-1:1);C+=Math.pow(2,m),b-=A}return(a?-1:1)*C*Math.pow(2,b-m)},ye.write=function(f,t,e,m,w,b){var C,g,p,A=8*b-w-1,_=(1<<A)-1,R=_>>1,N=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,a=m?0:b-1,k=m?1:-1,P=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,C=_):(C=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-C))<1&&(C--,p*=2),(t+=C+R>=1?N/p:N*Math.pow(2,1-R))*p>=2&&(C++,p/=2),C+R>=_?(g=0,C=_):C+R>=1?(g=(t*p-1)*Math.pow(2,w),C+=R):(g=t*Math.pow(2,R-1)*Math.pow(2,w),C=0));w>=8;f[e+a]=255&g,a+=k,g/=256,w-=8);for(C=C<<w|g,A+=w;A>0;f[e+a]=255&C,a+=k,C/=256,A-=8);f[e+a-k]|=128*P}},1298:(st,ye,f)=>{var t=f(8659);function e(k,P){t.cipher.registerAlgorithm(k,function(){return new t.aes.Algorithm(k,P)})}f(3311),f(3481),f(4747),st.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(k,P,U,J){var O=a({key:k,output:U,decrypt:!1,mode:J});return O.start(P),O},t.aes.createEncryptionCipher=function(k,P){return a({key:k,output:null,decrypt:!1,mode:P})},t.aes.startDecrypting=function(k,P,U,J){var O=a({key:k,output:U,decrypt:!0,mode:J});return O.start(P),O},t.aes.createDecryptionCipher=function(k,P){return a({key:k,output:null,decrypt:!0,mode:P})},t.aes.Algorithm=function(k,P){m||_();var U=this;U.name=k,U.mode=new P({blockSize:16,cipher:{encrypt:function(J,O){return N(U._w,J,O,!1)},decrypt:function(J,O){return N(U._w,J,O,!0)}}}),U._init=!1},t.aes.Algorithm.prototype.initialize=function(k){if(!this._init){var U,P=k.key;if("string"!=typeof P||16!==P.length&&24!==P.length&&32!==P.length){if(t.util.isArray(P)&&(16===P.length||24===P.length||32===P.length)){U=P,P=t.util.createBuffer();for(var J=0;J<U.length;++J)P.putByte(U[J])}}else P=t.util.createBuffer(P);if(!t.util.isArray(P)){U=P,P=[];var O=U.length();if(16===O||24===O||32===O)for(O>>>=2,J=0;J<O;++J)P.push(U.getInt32())}if(!t.util.isArray(P)||4!==P.length&&6!==P.length&&8!==P.length)throw new Error("Invalid key parameter.");var F=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=R(P,k.decrypt&&!F),this._init=!0}},t.aes._expandKey=function(k,P){return m||_(),R(k,P)},t.aes._updateBlock=N,e("AES-ECB",t.cipher.modes.ecb),e("AES-CBC",t.cipher.modes.cbc),e("AES-CFB",t.cipher.modes.cfb),e("AES-OFB",t.cipher.modes.ofb),e("AES-CTR",t.cipher.modes.ctr),e("AES-GCM",t.cipher.modes.gcm);var b,C,g,p,A,m=!1;function _(){m=!0,g=[0,1,2,4,8,16,32,64,128,27,54];for(var k=new Array(256),P=0;P<128;++P)k[P]=P<<1,k[P+128]=P+128<<1^283;for(b=new Array(256),C=new Array(256),p=new Array(4),A=new Array(4),P=0;P<4;++P)p[P]=new Array(256),A[P]=new Array(256);var O,L,F,V,q,ie,H,U=0,J=0;for(P=0;P<256;++P){b[U]=V=(V=J^J<<1^J<<2^J<<3^J<<4)>>8^255&V^99,C[V]=U,ie=(q=k[V])<<24^V<<16^V<<8^V^q,H=((O=k[U])^(L=k[O])^(F=k[L]))<<24^(U^F)<<16^(U^L^F)<<8^U^O^F;for(var $=0;$<4;++$)p[$][U]=ie,A[$][V]=H,ie=ie<<24|ie>>>8,H=H<<24|H>>>8;0===U?U=J=1:(U=O^k[k[k[O^F]]],J^=k[k[J]])}}function R(k,P){for(var J,U=k.slice(0),O=1,L=U.length,V=4*(L+6+1),q=L;q<V;++q)J=U[q-1],q%L==0?(J=b[J>>>16&255]<<24^b[J>>>8&255]<<16^b[255&J]<<8^b[J>>>24]^g[O]<<24,O++):L>6&&q%L==4&&(J=b[J>>>24]<<24^b[J>>>16&255]<<16^b[J>>>8&255]<<8^b[255&J]),U[q]=U[q-L]^J;if(P){for(var ie,H=A[0],$=A[1],z=A[2],E=A[3],X=U.slice(0),Q=(q=0,(V=U.length)-4);q<V;q+=4,Q-=4)if(0===q||q===V-4)X[q]=U[Q],X[q+1]=U[Q+3],X[q+2]=U[Q+2],X[q+3]=U[Q+1];else for(var ce=0;ce<4;++ce)X[q+(3&-ce)]=H[b[(ie=U[Q+ce])>>>24]]^$[b[ie>>>16&255]]^z[b[ie>>>8&255]]^E[b[255&ie]];U=X}return U}function N(k,P,U,J){var L,F,V,q,ie,H,$,z,E,X,Q,ce,O=k.length/4-1;J?(L=A[0],F=A[1],V=A[2],q=A[3],ie=C):(L=p[0],F=p[1],V=p[2],q=p[3],ie=b),H=P[0]^k[0],$=P[J?3:1]^k[1],z=P[2]^k[2],E=P[J?1:3]^k[3];for(var _e=3,Te=1;Te<O;++Te)X=L[H>>>24]^F[$>>>16&255]^V[z>>>8&255]^q[255&E]^k[++_e],Q=L[$>>>24]^F[z>>>16&255]^V[E>>>8&255]^q[255&H]^k[++_e],ce=L[z>>>24]^F[E>>>16&255]^V[H>>>8&255]^q[255&$]^k[++_e],E=L[E>>>24]^F[H>>>16&255]^V[$>>>8&255]^q[255&z]^k[++_e],H=X,$=Q,z=ce;U[0]=ie[H>>>24]<<24^ie[$>>>16&255]<<16^ie[z>>>8&255]<<8^ie[255&E]^k[++_e],U[J?3:1]=ie[$>>>24]<<24^ie[z>>>16&255]<<16^ie[E>>>8&255]<<8^ie[255&H]^k[++_e],U[2]=ie[z>>>24]<<24^ie[E>>>16&255]<<16^ie[H>>>8&255]<<8^ie[255&$]^k[++_e],U[J?1:3]=ie[E>>>24]<<24^ie[H>>>16&255]<<16^ie[$>>>8&255]<<8^ie[255&z]^k[++_e]}function a(k){var J,U="AES-"+((k=k||{}).mode||"CBC").toUpperCase(),O=(J=k.decrypt?t.cipher.createDecipher(U,k.key):t.cipher.createCipher(U,k.key)).start;return J.start=function(L,F){var V=null;F instanceof t.util.ByteBuffer&&(V=F,F={}),(F=F||{}).output=V,F.iv=L,O.call(J,F)},J}},6683:(st,ye,f)=>{var t=f(8659);f(1298),f(2266);var e=st.exports=t.tls;function m(A,_,R){var N=_.entity===t.tls.ConnectionEnd.client;A.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",N?R.keys.server_write_key:R.keys.client_write_key),iv:N?R.keys.server_write_IV:R.keys.client_write_IV},A.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",N?R.keys.client_write_key:R.keys.server_write_key),iv:N?R.keys.client_write_IV:R.keys.server_write_IV},A.read.cipherFunction=g,A.write.cipherFunction=w,A.read.macLength=A.write.macLength=R.mac_length,A.read.macFunction=A.write.macFunction=e.hmac_sha1}function w(A,_){var a,R=!1,N=_.macFunction(_.macKey,_.sequenceNumber,A);A.fragment.putBytes(N),_.updateSequenceNumber(),a=A.version.minor===e.Versions.TLS_1_0.minor?_.cipherState.init?null:_.cipherState.iv:t.random.getBytesSync(16),_.cipherState.init=!0;var k=_.cipherState.cipher;return k.start({iv:a}),A.version.minor>=e.Versions.TLS_1_1.minor&&k.output.putBytes(a),k.update(A.fragment),k.finish(b)&&(A.fragment=k.output,A.length=A.fragment.length(),R=!0),R}function b(A,_,R){if(!R){var N=A-_.length()%A;_.fillWithByte(N-1,N)}return!0}function C(A,_,R){var N=!0;if(R){for(var a=_.length(),k=_.last(),P=a-1-k;P<a-1;++P)N=N&&_.at(P)==k;N&&_.truncate(k+1)}return N}function g(A,_){var N,R=!1;N=A.version.minor===e.Versions.TLS_1_0.minor?_.cipherState.init?null:_.cipherState.iv:A.fragment.getBytes(16),_.cipherState.init=!0;var a=_.cipherState.cipher;a.start({iv:N}),a.update(A.fragment),R=a.finish(C);var k=_.macLength,P=t.random.getBytesSync(k),U=a.output.length();U>=k?(A.fragment=a.output.getBytes(U-k),P=a.output.getBytes(k)):A.fragment=a.output.getBytes(),A.fragment=t.util.createBuffer(A.fragment),A.length=A.fragment.length();var J=_.macFunction(_.macKey,_.sequenceNumber,A);return _.updateSequenceNumber(),R=function p(A,_,R){var N=t.hmac.create();return N.start("SHA1",A),N.update(_),_=N.digest().getBytes(),N.start(null,null),N.update(R),_===(R=N.digest().getBytes())}(_.macKey,P,J)&&R,R}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(A){A.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,A.cipher_type=e.CipherType.block,A.enc_key_length=16,A.block_length=16,A.fixed_iv_length=16,A.record_iv_length=16,A.mac_algorithm=e.MACAlgorithm.hmac_sha1,A.mac_length=20,A.mac_key_length=20},initConnectionState:m},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(A){A.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,A.cipher_type=e.CipherType.block,A.enc_key_length=32,A.block_length=16,A.fixed_iv_length=16,A.record_iv_length=16,A.mac_algorithm=e.MACAlgorithm.hmac_sha1,A.mac_length=20,A.mac_key_length=20},initConnectionState:m}},8877:(st,ye,f)=>{var t=f(8659);f(7791);var e=t.asn1;ye.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},ye.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7791:(st,ye,f)=>{var t=f(8659);f(4747),f(6078);var e=st.exports=t.asn1=t.asn1||{};function m(g,p,A){if(A>p){var _=new Error("Too few bytes to parse DER.");throw _.available=g.length(),_.remaining=p,_.requested=A,_}}function b(g,p,A,_){var R;m(g,p,2);var N=g.getByte();p--;var a=192&N,k=31&N;R=g.length();var P=function(g,p){var A=g.getByte();if(p--,128!==A){var _;if(128&A){var N=127&A;m(g,p,N),_=g.getInt(N<<3)}else _=A;if(_<0)throw new Error("Negative length: "+_);return _}}(g,p);if(p-=R-g.length(),void 0!==P&&P>p){if(_.strict){var U=new Error("Too few bytes to read ASN.1 value.");throw U.available=g.length(),U.remaining=p,U.requested=P,U}P=p}var J,O,L=32==(32&N);if(L)if(J=[],void 0===P)for(;;){if(m(g,p,2),g.bytes(2)===String.fromCharCode(0,0)){g.getBytes(2),p-=2;break}R=g.length(),J.push(b(g,p,A+1,_)),p-=R-g.length()}else for(;P>0;)R=g.length(),J.push(b(g,P,A+1,_)),p-=R-g.length(),P-=R-g.length();if(void 0===J&&a===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&(O=g.bytes(P)),void 0===J&&_.decodeBitStrings&&a===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&P>1){var F=g.read,V=p,q=0;if(k===e.Type.BITSTRING&&(m(g,p,1),q=g.getByte(),p--),0===q)try{R=g.length();var H=b(g,p,A+1,{strict:!0,decodeBitStrings:!0}),$=R-g.length();p-=$,k==e.Type.BITSTRING&&$++;var z=H.tagClass;$===P&&(z===e.Class.UNIVERSAL||z===e.Class.CONTEXT_SPECIFIC)&&(J=[H])}catch{}void 0===J&&(g.read=F,p=V)}if(void 0===J){if(void 0===P){if(_.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");P=p}if(k===e.Type.BMPSTRING)for(J="";P>0;P-=2)m(g,p,2),J+=String.fromCharCode(g.getInt16()),p-=2;else J=g.getBytes(P),p-=P}return e.create(a,k,L,J,void 0===O?null:{bitStringContents:O})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(g,p,A,_,R){if(t.util.isArray(_)){for(var N=[],a=0;a<_.length;++a)void 0!==_[a]&&N.push(_[a]);_=N}var k={tagClass:g,type:p,constructed:A,composed:A||t.util.isArray(_),value:_};return R&&"bitStringContents"in R&&(k.bitStringContents=R.bitStringContents,k.original=e.copy(k)),k},e.copy=function(g,p){var A;if(t.util.isArray(g)){A=[];for(var _=0;_<g.length;++_)A.push(e.copy(g[_],p));return A}return"string"==typeof g?g:(A={tagClass:g.tagClass,type:g.type,constructed:g.constructed,composed:g.composed,value:e.copy(g.value,p)},p&&!p.excludeBitStringContents&&(A.bitStringContents=g.bitStringContents),A)},e.equals=function(g,p,A){if(t.util.isArray(g)){if(!t.util.isArray(p)||g.length!==p.length)return!1;for(var _=0;_<g.length;++_)if(!e.equals(g[_],p[_]))return!1;return!0}if(typeof g!=typeof p)return!1;if("string"==typeof g)return g===p;var R=g.tagClass===p.tagClass&&g.type===p.type&&g.constructed===p.constructed&&g.composed===p.composed&&e.equals(g.value,p.value);return A&&A.includeBitStringContents&&(R=R&&g.bitStringContents===p.bitStringContents),R},e.getBerValueLength=function(g){var p=g.getByte();if(128!==p)return 128&p?g.getInt((127&p)<<3):p},e.fromDer=function(g,p){void 0===p&&(p={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof p&&(p={strict:p,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in p||(p.strict=!0),"parseAllBytes"in p||(p.parseAllBytes=!0),"decodeBitStrings"in p||(p.decodeBitStrings=!0),"string"==typeof g&&(g=t.util.createBuffer(g));var A=g.length(),_=b(g,g.length(),0,p);if(p.parseAllBytes&&0!==g.length()){var R=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw R.byteCount=A,R.remaining=g.length(),R}return _},e.toDer=function(g){var p=t.util.createBuffer(),A=g.tagClass|g.type,_=t.util.createBuffer(),R=!1;if("bitStringContents"in g&&(R=!0,g.original&&(R=e.equals(g,g.original))),R)_.putBytes(g.bitStringContents);else if(g.composed){g.constructed?A|=32:_.putByte(0);for(var N=0;N<g.value.length;++N)void 0!==g.value[N]&&_.putBuffer(e.toDer(g.value[N]))}else if(g.type===e.Type.BMPSTRING)for(N=0;N<g.value.length;++N)_.putInt16(g.value.charCodeAt(N));else g.type===e.Type.INTEGER&&g.value.length>1&&(0===g.value.charCodeAt(0)&&0==(128&g.value.charCodeAt(1))||255===g.value.charCodeAt(0)&&128==(128&g.value.charCodeAt(1)))?_.putBytes(g.value.substr(1)):_.putBytes(g.value);if(p.putByte(A),_.length()<=127)p.putByte(127&_.length());else{var a=_.length(),k="";do{k+=String.fromCharCode(255&a),a>>>=8}while(a>0);for(p.putByte(128|k.length),N=k.length-1;N>=0;--N)p.putByte(k.charCodeAt(N))}return p.putBuffer(_),p},e.oidToDer=function(g){var p=g.split("."),A=t.util.createBuffer();A.putByte(40*parseInt(p[0],10)+parseInt(p[1],10));for(var _,R,N,a,k=2;k<p.length;++k){_=!0,R=[],N=parseInt(p[k],10);do{a=127&N,N>>>=7,_||(a|=128),R.push(a),_=!1}while(N>0);for(var P=R.length-1;P>=0;--P)A.putByte(R[P])}return A},e.derToOid=function(g){var p;"string"==typeof g&&(g=t.util.createBuffer(g));var A=g.getByte();p=Math.floor(A/40)+"."+A%40;for(var _=0;g.length()>0;)_<<=7,128&(A=g.getByte())?_+=127&A:(p+="."+(_+A),_=0);return p},e.utcTimeToDate=function(g){var p=new Date,A=parseInt(g.substr(0,2),10);A=A>=50?1900+A:2e3+A;var _=parseInt(g.substr(2,2),10)-1,R=parseInt(g.substr(4,2),10),N=parseInt(g.substr(6,2),10),a=parseInt(g.substr(8,2),10),k=0;if(g.length>11){var P=g.charAt(10),U=10;"+"!==P&&"-"!==P&&(k=parseInt(g.substr(10,2),10),U+=2)}if(p.setUTCFullYear(A,_,R),p.setUTCHours(N,a,k,0),U&&("+"===(P=g.charAt(U))||"-"===P)){var L=60*parseInt(g.substr(U+1,2),10)+parseInt(g.substr(U+4,2),10);L*=6e4,p.setTime("+"===P?+p-L:+p+L)}return p},e.generalizedTimeToDate=function(g){var p=new Date,A=parseInt(g.substr(0,4),10),_=parseInt(g.substr(4,2),10)-1,R=parseInt(g.substr(6,2),10),N=parseInt(g.substr(8,2),10),a=parseInt(g.substr(10,2),10),k=parseInt(g.substr(12,2),10),P=0,U=0,J=!1;"Z"===g.charAt(g.length-1)&&(J=!0);var O=g.length-5,L=g.charAt(O);return"+"!==L&&"-"!==L||(U=60*parseInt(g.substr(O+1,2),10)+parseInt(g.substr(O+4,2),10),U*=6e4,"+"===L&&(U*=-1),J=!0),"."===g.charAt(14)&&(P=1e3*parseFloat(g.substr(14),10)),J?(p.setUTCFullYear(A,_,R),p.setUTCHours(N,a,k,P),p.setTime(+p+U)):(p.setFullYear(A,_,R),p.setHours(N,a,k,P)),p},e.dateToUtcTime=function(g){if("string"==typeof g)return g;var p="",A=[];A.push((""+g.getUTCFullYear()).substr(2)),A.push(""+(g.getUTCMonth()+1)),A.push(""+g.getUTCDate()),A.push(""+g.getUTCHours()),A.push(""+g.getUTCMinutes()),A.push(""+g.getUTCSeconds());for(var _=0;_<A.length;++_)A[_].length<2&&(p+="0"),p+=A[_];return p+"Z"},e.dateToGeneralizedTime=function(g){if("string"==typeof g)return g;var p="",A=[];A.push(""+g.getUTCFullYear()),A.push(""+(g.getUTCMonth()+1)),A.push(""+g.getUTCDate()),A.push(""+g.getUTCHours()),A.push(""+g.getUTCMinutes()),A.push(""+g.getUTCSeconds());for(var _=0;_<A.length;++_)A[_].length<2&&(p+="0"),p+=A[_];return p+"Z"},e.integerToDer=function(g){var p=t.util.createBuffer();if(g>=-128&&g<128)return p.putSignedInt(g,8);if(g>=-32768&&g<32768)return p.putSignedInt(g,16);if(g>=-8388608&&g<8388608)return p.putSignedInt(g,24);if(g>=-2147483648&&g<2147483648)return p.putSignedInt(g,32);var A=new Error("Integer too large; max is 32-bits.");throw A.integer=g,A},e.derToInteger=function(g){"string"==typeof g&&(g=t.util.createBuffer(g));var p=8*g.length();if(p>32)throw new Error("Integer too large; max is 32-bits.");return g.getSignedInt(p)},e.validate=function(g,p,A,_){var R=!1;if((g.tagClass===p.tagClass||typeof p.tagClass>"u")&&(g.type===p.type||typeof p.type>"u"))if(g.constructed===p.constructed||typeof p.constructed>"u"){if(R=!0,p.value&&t.util.isArray(p.value))for(var N=0,a=0;R&&a<p.value.length;++a)R=p.value[a].optional||!1,g.value[N]&&((R=e.validate(g.value[N],p.value[a],A,_))?++N:p.value[a].optional&&(R=!0)),!R&&_&&_.push("["+p.name+'] Tag class "'+p.tagClass+'", type "'+p.type+'" expected value length "'+p.value.length+'", got "'+g.value.length+'"');if(R&&A&&(p.capture&&(A[p.capture]=g.value),p.captureAsn1&&(A[p.captureAsn1]=g),p.captureBitStringContents&&"bitStringContents"in g&&(A[p.captureBitStringContents]=g.bitStringContents),p.captureBitStringValue&&"bitStringContents"in g))if(g.bitStringContents.length<2)A[p.captureBitStringValue]="";else{if(0!==g.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");A[p.captureBitStringValue]=g.bitStringContents.slice(1)}}else _&&_.push("["+p.name+'] Expected constructed "'+p.constructed+'", got "'+g.constructed+'"');else _&&(g.tagClass!==p.tagClass&&_.push("["+p.name+'] Expected tag class "'+p.tagClass+'", got "'+g.tagClass+'"'),g.type!==p.type&&_.push("["+p.name+'] Expected type "'+p.type+'", got "'+g.type+'"'));return R};var C=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(g,p,A){var _="";A=A||2,(p=p||0)>0&&(_+="\n");for(var R="",N=0;N<p*A;++N)R+=" ";switch(_+=R+"Tag: ",g.tagClass){case e.Class.UNIVERSAL:_+="Universal:";break;case e.Class.APPLICATION:_+="Application:";break;case e.Class.CONTEXT_SPECIFIC:_+="Context-Specific:";break;case e.Class.PRIVATE:_+="Private:"}if(g.tagClass===e.Class.UNIVERSAL)switch(_+=g.type,g.type){case e.Type.NONE:_+=" (None)";break;case e.Type.BOOLEAN:_+=" (Boolean)";break;case e.Type.INTEGER:_+=" (Integer)";break;case e.Type.BITSTRING:_+=" (Bit string)";break;case e.Type.OCTETSTRING:_+=" (Octet string)";break;case e.Type.NULL:_+=" (Null)";break;case e.Type.OID:_+=" (Object Identifier)";break;case e.Type.ODESC:_+=" (Object Descriptor)";break;case e.Type.EXTERNAL:_+=" (External or Instance of)";break;case e.Type.REAL:_+=" (Real)";break;case e.Type.ENUMERATED:_+=" (Enumerated)";break;case e.Type.EMBEDDED:_+=" (Embedded PDV)";break;case e.Type.UTF8:_+=" (UTF8)";break;case e.Type.ROID:_+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:_+=" (Sequence)";break;case e.Type.SET:_+=" (Set)";break;case e.Type.PRINTABLESTRING:_+=" (Printable String)";break;case e.Type.IA5String:_+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:_+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:_+=" (Generalized time)";break;case e.Type.BMPSTRING:_+=" (BMP String)"}else _+=g.type;if(_+="\n",_+=R+"Constructed: "+g.constructed+"\n",g.composed){var a=0,k="";for(N=0;N<g.value.length;++N)void 0!==g.value[N]&&(a+=1,k+=e.prettyPrint(g.value[N],p+1,A),N+1<g.value.length&&(k+=","));_+=R+"Sub values: "+a+k}else{if(_+=R+"Value: ",g.type===e.Type.OID){var P=e.derToOid(g.value);_+=P,t.pki&&t.pki.oids&&P in t.pki.oids&&(_+=" ("+t.pki.oids[P]+") ")}if(g.type===e.Type.INTEGER)try{_+=e.derToInteger(g.value)}catch{_+="0x"+t.util.bytesToHex(g.value)}else if(g.type===e.Type.BITSTRING){if(_+=g.value.length>1?"0x"+t.util.bytesToHex(g.value.slice(1)):"(none)",g.value.length>0){var U=g.value.charCodeAt(0);1==U?_+=" (1 unused bit shown)":U>1&&(_+=" ("+U+" unused bits shown)")}}else if(g.type===e.Type.OCTETSTRING)C.test(g.value)||(_+="("+g.value+") "),_+="0x"+t.util.bytesToHex(g.value);else if(g.type===e.Type.UTF8)try{_+=t.util.decodeUtf8(g.value)}catch(J){if("URI malformed"!==J.message)throw J;_+="0x"+t.util.bytesToHex(g.value)+" (malformed UTF8)"}else g.type===e.Type.PRINTABLESTRING||g.type===e.Type.IA5String?_+=g.value:C.test(g.value)?_+="0x"+t.util.bytesToHex(g.value):_+=0===g.value.length?"[null]":g.value}return _}},2020:st=>{var ye={};st.exports=ye;var f={};ye.encode=function(e,m,w){if("string"!=typeof m)throw new TypeError('"alphabet" must be a string.');if(void 0!==w&&"number"!=typeof w)throw new TypeError('"maxline" must be a number.');var b="";if(e instanceof Uint8Array){var C=0,g=m.length,p=m.charAt(0),A=[0];for(C=0;C<e.length;++C){for(var _=0,R=e[C];_<A.length;++_)A[_]=(R+=A[_]<<8)%g,R=R/g|0;for(;R>0;)A.push(R%g),R=R/g|0}for(C=0;0===e[C]&&C<e.length-1;++C)b+=p;for(C=A.length-1;C>=0;--C)b+=m[A[C]]}else b=function t(e,m){var w=0,b=m.length,C=m.charAt(0),g=[0];for(w=0;w<e.length();++w){for(var p=0,A=e.at(w);p<g.length;++p)g[p]=(A+=g[p]<<8)%b,A=A/b|0;for(;A>0;)g.push(A%b),A=A/b|0}var _="";for(w=0;0===e.at(w)&&w<e.length()-1;++w)_+=C;for(w=g.length-1;w>=0;--w)_+=m[g[w]];return _}(e,m);if(w){var N=new RegExp(".{1,"+w+"}","g");b=b.match(N).join("\r\n")}return b},ye.decode=function(e,m){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof m)throw new TypeError('"alphabet" must be a string.');var w=f[m];if(!w){w=f[m]=[];for(var b=0;b<m.length;++b)w[m.charCodeAt(b)]=b}e=e.replace(/\s/g,"");var C=m.length,g=m.charAt(0),p=[0];for(b=0;b<e.length;b++){var A=w[e.charCodeAt(b)];if(void 0===A)return;for(var _=0,R=A;_<p.length;++_)p[_]=255&(R+=p[_]*C),R>>=8;for(;R>0;)p.push(255&R),R>>=8}for(var N=0;e[N]===g&&N<e.length-1;++N)p.push(0);return typeof Buffer<"u"?Buffer.from(p.reverse()):new Uint8Array(p.reverse())}},3311:(st,ye,f)=>{var t=f(8659);f(4747),st.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(m,w){var b=m;if("string"==typeof b&&(b=t.cipher.getAlgorithm(b))&&(b=b()),!b)throw new Error("Unsupported algorithm: "+m);return new t.cipher.BlockCipher({algorithm:b,key:w,decrypt:!1})},t.cipher.createDecipher=function(m,w){var b=m;if("string"==typeof b&&(b=t.cipher.getAlgorithm(b))&&(b=b()),!b)throw new Error("Unsupported algorithm: "+m);return new t.cipher.BlockCipher({algorithm:b,key:w,decrypt:!0})},t.cipher.registerAlgorithm=function(m,w){m=m.toUpperCase(),t.cipher.algorithms[m]=w},t.cipher.getAlgorithm=function(m){return(m=m.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[m]:null};var e=t.cipher.BlockCipher=function(m){this.algorithm=m.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=m.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=m.decrypt,this.algorithm.initialize(m)};e.prototype.start=function(m){m=m||{};var w={};for(var b in m)w[b]=m[b];w.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=m.output||t.util.createBuffer(),this.mode.start(w)},e.prototype.update=function(m){for(m&&this._input.putBuffer(m);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(m){m&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(b){return m(this.blockSize,b,!1)},this.mode.unpad=function(b){return m(this.blockSize,b,!0)});var w={};return w.decrypt=this._decrypt,w.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,w)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,w))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,w))}},3481:(st,ye,f)=>{var t=f(8659);f(4747),t.cipher=t.cipher||{};var e=st.exports=t.cipher.modes=t.cipher.modes||{};function m(C,g){if("string"==typeof C&&(C=t.util.createBuffer(C)),t.util.isArray(C)&&C.length>4){var p=C;C=t.util.createBuffer();for(var A=0;A<p.length;++A)C.putByte(p[A])}if(C.length()<g)throw new Error("Invalid IV length; got "+C.length()+" bytes and expected "+g+" bytes.");if(!t.util.isArray(C)){var _=[],R=g/4;for(A=0;A<R;++A)_.push(C.getInt32());C=_}return C}function w(C){C[C.length-1]=C[C.length-1]+1&4294967295}function b(C){return[C/4294967296|0,4294967295&C]}e.ecb=function(C){C=C||{},this.name="ECB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(C){},e.ecb.prototype.encrypt=function(C,g,p){if(C.length()<this.blockSize&&!(p&&C.length()>0))return!0;for(var A=0;A<this._ints;++A)this._inBlock[A]=C.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)g.putInt32(this._outBlock[A])},e.ecb.prototype.decrypt=function(C,g,p){if(C.length()<this.blockSize&&!(p&&C.length()>0))return!0;for(var A=0;A<this._ints;++A)this._inBlock[A]=C.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)g.putInt32(this._outBlock[A])},e.ecb.prototype.pad=function(C,g){var p=C.length()===this.blockSize?this.blockSize:this.blockSize-C.length();return C.fillWithByte(p,p),!0},e.ecb.prototype.unpad=function(C,g){if(g.overflow>0)return!1;var p=C.length(),A=C.at(p-1);return!(A>this.blockSize<<2||(C.truncate(A),0))},e.cbc=function(C){C=C||{},this.name="CBC",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(C){if(null===C.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=m(C.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(C,g,p){if(C.length()<this.blockSize&&!(p&&C.length()>0))return!0;for(var A=0;A<this._ints;++A)this._inBlock[A]=this._prev[A]^C.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)g.putInt32(this._outBlock[A]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(C,g,p){if(C.length()<this.blockSize&&!(p&&C.length()>0))return!0;for(var A=0;A<this._ints;++A)this._inBlock[A]=C.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),A=0;A<this._ints;++A)g.putInt32(this._prev[A]^this._outBlock[A]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(C,g){var p=C.length()===this.blockSize?this.blockSize:this.blockSize-C.length();return C.fillWithByte(p,p),!0},e.cbc.prototype.unpad=function(C,g){if(g.overflow>0)return!1;var p=C.length(),A=C.at(p-1);return!(A>this.blockSize<<2||(C.truncate(A),0))},e.cfb=function(C){C=C||{},this.name="CFB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=m(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(C,g,p){var A=C.length();if(0===A)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&A>=this.blockSize)for(var _=0;_<this._ints;++_)this._inBlock[_]=C.getInt32()^this._outBlock[_],g.putInt32(this._inBlock[_]);else{var R=(this.blockSize-A)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialBlock[_]=C.getInt32()^this._outBlock[_],this._partialOutput.putInt32(this._partialBlock[_]);if(R>0)C.read-=this.blockSize;else for(_=0;_<this._ints;++_)this._inBlock[_]=this._partialBlock[_];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!p)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(C,g,p){var A=C.length();if(0===A)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&A>=this.blockSize)for(var _=0;_<this._ints;++_)this._inBlock[_]=C.getInt32(),g.putInt32(this._inBlock[_]^this._outBlock[_]);else{var R=(this.blockSize-A)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialBlock[_]=C.getInt32(),this._partialOutput.putInt32(this._partialBlock[_]^this._outBlock[_]);if(R>0)C.read-=this.blockSize;else for(_=0;_<this._ints;++_)this._inBlock[_]=this._partialBlock[_];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!p)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=0}},e.ofb=function(C){C=C||{},this.name="OFB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=m(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(C,g,p){var A=C.length();if(0===C.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&A>=this.blockSize)for(var _=0;_<this._ints;++_)g.putInt32(C.getInt32()^this._outBlock[_]),this._inBlock[_]=this._outBlock[_];else{var R=(this.blockSize-A)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialOutput.putInt32(C.getInt32()^this._outBlock[_]);if(R>0)C.read-=this.blockSize;else for(_=0;_<this._ints;++_)this._inBlock[_]=this._outBlock[_];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!p)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(C){C=C||{},this.name="CTR",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=m(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(C,g,p){var A=C.length();if(0===A)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&A>=this.blockSize)for(var _=0;_<this._ints;++_)g.putInt32(C.getInt32()^this._outBlock[_]);else{var R=(this.blockSize-A)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialOutput.putInt32(C.getInt32()^this._outBlock[_]);if(R>0&&(C.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!p)return g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=0}w(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(C){C=C||{},this.name="GCM",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");var p,g=t.util.createBuffer(C.iv);if(this._cipherLength=0,p="additionalData"in C?t.util.createBuffer(C.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in C?C.tagLength:128,this._tag=null,C.decrypt&&(this._tag=t.util.createBuffer(C.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var A=g.length();if(12===A)this._j0=[g.getInt32(),g.getInt32(),g.getInt32(),1];else{for(this._j0=[0,0,0,0];g.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[g.getInt32(),g.getInt32(),g.getInt32(),g.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(b(8*A)))}this._inBlock=this._j0.slice(0),w(this._inBlock),this._partialBytes=0,p=t.util.createBuffer(p),this._aDataLength=b(8*p.length());var _=p.length()%this.blockSize;for(_&&p.fillWithByte(0,this.blockSize-_),this._s=[0,0,0,0];p.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[p.getInt32(),p.getInt32(),p.getInt32(),p.getInt32()])},e.gcm.prototype.encrypt=function(C,g,p){var A=C.length();if(0===A)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&A>=this.blockSize){for(var _=0;_<this._ints;++_)g.putInt32(this._outBlock[_]^=C.getInt32());this._cipherLength+=this.blockSize}else{var R=(this.blockSize-A)%this.blockSize;for(R>0&&(R=this.blockSize-R),this._partialOutput.clear(),_=0;_<this._ints;++_)this._partialOutput.putInt32(C.getInt32()^this._outBlock[_]);if(R<=0||p){if(p){var N=A%this.blockSize;this._cipherLength+=N,this._partialOutput.truncate(this.blockSize-N)}else this._cipherLength+=this.blockSize;for(_=0;_<this._ints;++_)this._outBlock[_]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),R>0&&!p)return C.read-=this.blockSize,g.putBytes(this._partialOutput.getBytes(R-this._partialBytes)),this._partialBytes=R,!0;g.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),w(this._inBlock)},e.gcm.prototype.decrypt=function(C,g,p){var A=C.length();if(A<this.blockSize&&!(p&&A>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),w(this._inBlock),this._hashBlock[0]=C.getInt32(),this._hashBlock[1]=C.getInt32(),this._hashBlock[2]=C.getInt32(),this._hashBlock[3]=C.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var _=0;_<this._ints;++_)g.putInt32(this._outBlock[_]^this._hashBlock[_]);this._cipherLength+=A<this.blockSize?A%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(C,g){var p=!0;g.decrypt&&g.overflow&&C.truncate(this.blockSize-g.overflow),this.tag=t.util.createBuffer();var A=this._aDataLength.concat(b(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,A);var _=[];this.cipher.encrypt(this._j0,_);for(var R=0;R<this._ints;++R)this.tag.putInt32(this._s[R]^_[R]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),g.decrypt&&this.tag.bytes()!==this._tag&&(p=!1),p},e.gcm.prototype.multiply=function(C,g){for(var p=[0,0,0,0],A=g.slice(0),_=0;_<128;++_)C[_/32|0]&1<<31-_%32&&(p[0]^=A[0],p[1]^=A[1],p[2]^=A[2],p[3]^=A[3]),this.pow(A,A);return p},e.gcm.prototype.pow=function(C,g){for(var p=1&C[3],A=3;A>0;--A)g[A]=C[A]>>>1|(1&C[A-1])<<31;g[0]=C[0]>>>1,p&&(g[0]^=this._R)},e.gcm.prototype.tableMultiply=function(C){for(var g=[0,0,0,0],p=0;p<32;++p){var R=this._m[p][C[p/8|0]>>>4*(7-p%8)&15];g[0]^=R[0],g[1]^=R[1],g[2]^=R[2],g[3]^=R[3]}return g},e.gcm.prototype.ghash=function(C,g,p){return g[0]^=p[0],g[1]^=p[1],g[2]^=p[2],g[3]^=p[3],this.tableMultiply(g)},e.gcm.prototype.generateHashTable=function(C,g){for(var p=8/g,A=4*p,_=16*p,R=new Array(_),N=0;N<_;++N){var a=[0,0,0,0];a[N/A|0]=1<<g-1<<(A-1-N%A)*g,R[N]=this.generateSubHashTable(this.multiply(a,C),g)}return R},e.gcm.prototype.generateSubHashTable=function(C,g){var p=1<<g,A=p>>>1,_=new Array(p);_[A]=C.slice(0);for(var R=A>>>1;R>0;)this.pow(_[2*R],_[R]=[]),R>>=1;for(R=2;R<A;){for(var N=1;N<R;++N){var a=_[R],k=_[N];_[R+N]=[a[0]^k[0],a[1]^k[1],a[2]^k[2],a[3]^k[3]]}R*=2}for(_[0]=[0,0,0,0],R=A+1;R<p;++R){var P=_[R^A];_[R]=[C[0]^P[0],C[1]^P[1],C[2]^P[2],C[3]^P[3]]}return _}},279:(st,ye,f)=>{var t=f(8659);function e(k,P){t.cipher.registerAlgorithm(k,function(){return new t.des.Algorithm(k,P)})}f(3311),f(3481),f(4747),st.exports=t.des=t.des||{},t.des.startEncrypting=function(k,P,U,J){var O=a({key:k,output:U,decrypt:!1,mode:J||(null===P?"ECB":"CBC")});return O.start(P),O},t.des.createEncryptionCipher=function(k,P){return a({key:k,output:null,decrypt:!1,mode:P})},t.des.startDecrypting=function(k,P,U,J){var O=a({key:k,output:U,decrypt:!0,mode:J||(null===P?"ECB":"CBC")});return O.start(P),O},t.des.createDecryptionCipher=function(k,P){return a({key:k,output:null,decrypt:!0,mode:P})},t.des.Algorithm=function(k,P){var U=this;U.name=k,U.mode=new P({blockSize:8,cipher:{encrypt:function(J,O){return N(U._keys,J,O,!1)},decrypt:function(J,O){return N(U._keys,J,O,!0)}}}),U._init=!1},t.des.Algorithm.prototype.initialize=function(k){if(!this._init){var P=t.util.createBuffer(k.key);if(0===this.name.indexOf("3DES")&&24!==P.length())throw new Error("Invalid Triple-DES key size: "+8*P.length());this._keys=function R(k){for(var ve,P=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],U=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],J=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],O=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],L=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],F=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],V=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],q=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],ie=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],H=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],$=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],z=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],E=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],X=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],Q=k.length()>8?3:1,ce=[],_e=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Te=0,Ke=0;Ke<Q;Ke++){var xe=k.getInt32(),Ge=k.getInt32();xe^=(ve=252645135&(xe>>>4^Ge))<<4,xe^=ve=65535&((Ge^=ve)>>>-16^xe),xe^=(ve=858993459&(xe>>>2^(Ge^=ve<<-16)))<<2,xe^=ve=65535&((Ge^=ve)>>>-16^xe),xe^=(ve=1431655765&(xe>>>1^(Ge^=ve<<-16)))<<1,xe^=ve=16711935&((Ge^=ve)>>>8^xe),ve=(xe^=(ve=1431655765&(xe>>>1^(Ge^=ve<<8)))<<1)<<8|(Ge^=ve)>>>20&240,xe=Ge<<24|Ge<<8&16711680|Ge>>>8&65280|Ge>>>24&240,Ge=ve;for(var we=0;we<_e.length;++we){_e[we]?(xe=xe<<2|xe>>>26,Ge=Ge<<2|Ge>>>26):(xe=xe<<1|xe>>>27,Ge=Ge<<1|Ge>>>27);var Ye=P[(xe&=-15)>>>28]|U[xe>>>24&15]|J[xe>>>20&15]|O[xe>>>16&15]|L[xe>>>12&15]|F[xe>>>8&15]|V[xe>>>4&15],rt=q[(Ge&=-15)>>>28]|ie[Ge>>>24&15]|H[Ge>>>20&15]|$[Ge>>>16&15]|z[Ge>>>12&15]|E[Ge>>>8&15]|X[Ge>>>4&15];ce[Te++]=Ye^(ve=65535&(rt>>>16^Ye)),ce[Te++]=rt^ve<<16}}return ce}(P),this._init=!0}},e("DES-ECB",t.cipher.modes.ecb),e("DES-CBC",t.cipher.modes.cbc),e("DES-CFB",t.cipher.modes.cfb),e("DES-OFB",t.cipher.modes.ofb),e("DES-CTR",t.cipher.modes.ctr),e("3DES-ECB",t.cipher.modes.ecb),e("3DES-CBC",t.cipher.modes.cbc),e("3DES-CFB",t.cipher.modes.cfb),e("3DES-OFB",t.cipher.modes.ofb),e("3DES-CTR",t.cipher.modes.ctr);var m=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],w=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],b=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],C=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],g=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],p=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],A=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],_=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function N(k,P,U,J){var L,O=32===k.length?3:9;L=3===O?J?[30,-2,-2]:[0,32,2]:J?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var F,V=P[0],q=P[1];V^=(F=252645135&(V>>>4^q))<<4,V^=(F=65535&(V>>>16^(q^=F)))<<16,V^=F=858993459&((q^=F)>>>2^V),V^=F=16711935&((q^=F<<2)>>>8^V),V=(V^=(F=1431655765&(V>>>1^(q^=F<<8)))<<1)<<1|V>>>31,q=(q^=F)<<1|q>>>31;for(var ie=0;ie<O;ie+=3){for(var H=L[ie+1],$=L[ie+2],z=L[ie];z!=H;z+=$){var E=q^k[z],X=(q>>>4|q<<28)^k[z+1];F=V,V=q,q=F^(w[E>>>24&63]|C[E>>>16&63]|p[E>>>8&63]|_[63&E]|m[X>>>24&63]|b[X>>>16&63]|g[X>>>8&63]|A[63&X])}F=V,V=q,q=F}q=q>>>1|q<<31,q^=F=1431655765&((V=V>>>1|V<<31)>>>1^q),q^=(F=16711935&(q>>>8^(V^=F<<1)))<<8,q^=(F=858993459&(q>>>2^(V^=F)))<<2,q^=F=65535&((V^=F)>>>16^q),q^=F=252645135&((V^=F<<16)>>>4^q),U[0]=V^=F<<4,U[1]=q}function a(k){var J,U="DES-"+((k=k||{}).mode||"CBC").toUpperCase(),O=(J=k.decrypt?t.cipher.createDecipher(U,k.key):t.cipher.createCipher(U,k.key)).start;return J.start=function(L,F){var V=null;F instanceof t.util.ByteBuffer&&(V=F,F={}),(F=F||{}).output=V,F.iv=L,O.call(J,F)},J}},4187:(st,ye,f)=>{var t=f(8659);f(730),f(8365),f(8985),f(4747);var e=f(8877),m=e.publicKeyValidator,w=e.privateKeyValidator;if(typeof b>"u")var b=t.jsbn.BigInteger;var C=t.util.ByteBuffer,g=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},st.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var p=t.ed25519;function A(Mt){var It=Mt.message;if(It instanceof Uint8Array||It instanceof g)return It;var Y=Mt.encoding;if(void 0===It){if(!Mt.md)throw new TypeError('"options.message" or "options.md" not specified.');It=Mt.md.digest().getBytes(),Y="binary"}if("string"==typeof It&&!Y)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof It){if(typeof Buffer<"u")return Buffer.from(It,Y);It=new C(It,Y)}else if(!(It instanceof C))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var G=new g(It.length()),oe=0;oe<G.length;++oe)G[oe]=It.at(oe);return G}p.constants={},p.constants.PUBLIC_KEY_BYTE_LENGTH=32,p.constants.PRIVATE_KEY_BYTE_LENGTH=64,p.constants.SEED_BYTE_LENGTH=32,p.constants.SIGN_BYTE_LENGTH=64,p.constants.HASH_BYTE_LENGTH=64,p.generateKeyPair=function(Mt){var It=(Mt=Mt||{}).seed;if(void 0===It)It=t.random.getBytesSync(p.constants.SEED_BYTE_LENGTH);else if("string"==typeof It){if(It.length!==p.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+p.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(It instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');It=A({message:It,encoding:"binary"});for(var Y=new g(p.constants.PUBLIC_KEY_BYTE_LENGTH),G=new g(p.constants.PRIVATE_KEY_BYTE_LENGTH),oe=0;oe<32;++oe)G[oe]=It[oe];return function L(Mt,It){var G,Y=[at(),at(),at(),at()],oe=O(It,32);for(oe[0]&=248,oe[31]&=127,oe[31]|=64,Ge(Y,oe),z(Mt,Y),G=0;G<32;++G)It[G+32]=Mt[G]}(Y,G),{publicKey:Y,privateKey:G}},p.privateKeyFromAsn1=function(Mt){var It={},Y=[];if(!t.asn1.validate(Mt,w,It,Y)){var oe=new Error("Invalid Key.");throw oe.errors=Y,oe}var Ve=t.asn1.derToOid(It.privateKeyOid),Be=t.oids.EdDSA25519;if(Ve!==Be)throw new Error('Invalid OID "'+Ve+'"; OID must be "'+Be+'".');return{privateKeyBytes:A({message:t.asn1.fromDer(It.privateKey).value,encoding:"binary"})}},p.publicKeyFromAsn1=function(Mt){var It={},Y=[];if(!t.asn1.validate(Mt,m,It,Y)){var oe=new Error("Invalid Key.");throw oe.errors=Y,oe}var Ve=t.asn1.derToOid(It.publicKeyOid),Be=t.oids.EdDSA25519;if(Ve!==Be)throw new Error('Invalid OID "'+Ve+'"; OID must be "'+Be+'".');var o=It.ed25519PublicKey;if(o.length!==p.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return A({message:o,encoding:"binary"})},p.publicKeyFromPrivateKey=function(Mt){var It=A({message:(Mt=Mt||{}).privateKey,encoding:"binary"});if(It.length!==p.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+p.constants.PRIVATE_KEY_BYTE_LENGTH);for(var Y=new g(p.constants.PUBLIC_KEY_BYTE_LENGTH),G=0;G<Y.length;++G)Y[G]=It[32+G];return Y},p.sign=function(Mt){var It=A(Mt=Mt||{}),Y=A({message:Mt.privateKey,encoding:"binary"});if(Y.length===p.constants.SEED_BYTE_LENGTH)Y=p.generateKeyPair({seed:Y}).privateKey;else if(Y.length!==p.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+p.constants.SEED_BYTE_LENGTH+" or "+p.constants.PRIVATE_KEY_BYTE_LENGTH);var oe=new g(p.constants.SIGN_BYTE_LENGTH+It.length);!function F(Mt,It,Y,G){var oe,Ve,Be=new Float64Array(64),o=[at(),at(),at(),at()],De=O(G,32);De[0]&=248,De[31]&=127,De[31]|=64;var be=Y+64;for(oe=0;oe<Y;++oe)Mt[64+oe]=It[oe];for(oe=0;oe<32;++oe)Mt[32+oe]=De[32+oe];var je=O(Mt.subarray(32),Y+32);for(ie(je),Ge(o,je),z(Mt,o),oe=32;oe<64;++oe)Mt[oe]=G[oe];var et=O(Mt,Y+64);for(ie(et),oe=32;oe<64;++oe)Be[oe]=0;for(oe=0;oe<32;++oe)Be[oe]=je[oe];for(oe=0;oe<32;++oe)for(Ve=0;Ve<32;Ve++)Be[oe+Ve]+=et[oe]*De[Ve];q(Mt.subarray(32),Be)}(oe,It,It.length,Y);for(var Ve=new g(p.constants.SIGN_BYTE_LENGTH),Be=0;Be<Ve.length;++Be)Ve[Be]=oe[Be];return Ve},p.verify=function(Mt){var It=A(Mt=Mt||{});if(void 0===Mt.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var Y=A({message:Mt.signature,encoding:"binary"});if(Y.length!==p.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+p.constants.SIGN_BYTE_LENGTH);var G=A({message:Mt.publicKey,encoding:"binary"});if(G.length!==p.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+p.constants.PUBLIC_KEY_BYTE_LENGTH);var Be,oe=new g(p.constants.SIGN_BYTE_LENGTH+It.length),Ve=new g(p.constants.SIGN_BYTE_LENGTH+It.length);for(Be=0;Be<p.constants.SIGN_BYTE_LENGTH;++Be)oe[Be]=Y[Be];for(Be=0;Be<It.length;++Be)oe[Be+p.constants.SIGN_BYTE_LENGTH]=It[Be];return function V(Mt,It,Y,G){var oe,Be=new g(32),o=[at(),at(),at(),at()],De=[at(),at(),at(),at()];if(Y<64||function X(Mt,It){var Y=at(),G=at(),oe=at(),Ve=at(),Be=at(),o=at(),De=at();return we(Mt[2],R),function Q(Mt,It){var Y;for(Y=0;Y<16;++Y)Mt[Y]=It[2*Y]+(It[2*Y+1]<<8);Mt[15]&=32767}(Mt[1],It),Gt(oe,Mt[1]),ln(Ve,oe,N),ct(oe,oe,Mt[2]),dt(Ve,Mt[2],Ve),Gt(Be,Ve),Gt(o,Be),ln(De,o,Be),ln(Y,De,oe),ln(Y,Y,Ve),function ce(Mt,It){var G,Y=at();for(G=0;G<16;++G)Y[G]=It[G];for(G=250;G>=0;--G)Gt(Y,Y),1!==G&&ln(Y,Y,It);for(G=0;G<16;++G)Mt[G]=Y[G]}(Y,Y),ln(Y,Y,oe),ln(Y,Y,Ve),ln(Y,Y,Ve),ln(Mt[0],Y,Ve),Gt(G,Mt[0]),ln(G,G,Ve),_e(G,oe)&&ln(Mt[0],Mt[0],J),Gt(G,Mt[0]),ln(G,G,Ve),_e(G,oe)?-1:(Ke(Mt[0])===It[31]>>7&&ct(Mt[0],_,Mt[0]),ln(Mt[3],Mt[0],Mt[1]),0)}(De,G))return-1;for(oe=0;oe<Y;++oe)Mt[oe]=It[oe];for(oe=0;oe<32;++oe)Mt[oe+32]=G[oe];var be=O(Mt,Y);if(ie(be),xe(o,De,be),Ge(De,It.subarray(32)),H(o,De),z(Be,o),Y-=64,Te(It,0,Be,0)){for(oe=0;oe<Y;++oe)Mt[oe]=0;return-1}for(oe=0;oe<Y;++oe)Mt[oe]=It[oe+64];return Y}(Ve,oe,oe.length,G)>=0};var _=at(),R=at([1]),N=at([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),a=at([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=at([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),P=at([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),J=at([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function O(Mt,It){var Y=t.md.sha512.create(),G=new C(Mt);Y.update(G.getBytes(It),"binary");var oe=Y.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(oe,"binary");for(var Ve=new g(p.constants.HASH_BYTE_LENGTH),Be=0;Be<64;++Be)Ve[Be]=oe.charCodeAt(Be);return Ve}function q(Mt,It){var Y,G,oe,Ve;for(G=63;G>=32;--G){for(Y=0,oe=G-32,Ve=G-12;oe<Ve;++oe)It[oe]+=Y-16*It[G]*U[oe-(G-32)],It[oe]-=256*(Y=It[oe]+128>>8);It[oe]+=Y,It[G]=0}for(Y=0,oe=0;oe<32;++oe)It[oe]+=Y-(It[31]>>4)*U[oe],Y=It[oe]>>8,It[oe]&=255;for(oe=0;oe<32;++oe)It[oe]-=Y*U[oe];for(G=0;G<32;++G)It[G+1]+=It[G]>>8,Mt[G]=255&It[G]}function ie(Mt){for(var It=new Float64Array(64),Y=0;Y<64;++Y)It[Y]=Mt[Y],Mt[Y]=0;q(Mt,It)}function H(Mt,It){var Y=at(),G=at(),oe=at(),Ve=at(),Be=at(),o=at(),De=at(),be=at(),je=at();ct(Y,Mt[1],Mt[0]),ct(je,It[1],It[0]),ln(Y,Y,je),dt(G,Mt[0],Mt[1]),dt(je,It[0],It[1]),ln(G,G,je),ln(oe,Mt[3],It[3]),ln(oe,oe,a),ln(Ve,Mt[2],It[2]),dt(Ve,Ve,Ve),ct(Be,G,Y),ct(o,Ve,oe),dt(De,Ve,oe),dt(be,G,Y),ln(Mt[0],Be,o),ln(Mt[1],be,De),ln(Mt[2],De,o),ln(Mt[3],Be,be)}function $(Mt,It,Y){for(var G=0;G<4;++G)Ct(Mt[G],It[G],Y)}function z(Mt,It){var Y=at(),G=at(),oe=at();(function Ye(Mt,It){var G,Y=at();for(G=0;G<16;++G)Y[G]=It[G];for(G=253;G>=0;--G)Gt(Y,Y),2!==G&&4!==G&&ln(Y,Y,It);for(G=0;G<16;++G)Mt[G]=Y[G]})(oe,It[2]),ln(Y,It[0],oe),ln(G,It[1],oe),E(Mt,G),Mt[31]^=Ke(Y)<<7}function E(Mt,It){var Y,G,oe,Ve=at(),Be=at();for(Y=0;Y<16;++Y)Be[Y]=It[Y];for(rt(Be),rt(Be),rt(Be),G=0;G<2;++G){for(Ve[0]=Be[0]-65517,Y=1;Y<15;++Y)Ve[Y]=Be[Y]-65535-(Ve[Y-1]>>16&1),Ve[Y-1]&=65535;Ve[15]=Be[15]-32767-(Ve[14]>>16&1),oe=Ve[15]>>16&1,Ve[14]&=65535,Ct(Be,Ve,1-oe)}for(Y=0;Y<16;Y++)Mt[2*Y]=255&Be[Y],Mt[2*Y+1]=Be[Y]>>8}function _e(Mt,It){var Y=new g(32),G=new g(32);return E(Y,Mt),E(G,It),Te(Y,0,G,0)}function Te(Mt,It,Y,G){return function ve(Mt,It,Y,G,oe){var Ve,Be=0;for(Ve=0;Ve<oe;++Ve)Be|=Mt[It+Ve]^Y[G+Ve];return(1&Be-1>>>8)-1}(Mt,It,Y,G,32)}function Ke(Mt){var It=new g(32);return E(It,Mt),1&It[0]}function xe(Mt,It,Y){var G,oe;for(we(Mt[0],_),we(Mt[1],R),we(Mt[2],R),we(Mt[3],_),oe=255;oe>=0;--oe)$(Mt,It,G=Y[oe/8|0]>>(7&oe)&1),H(It,Mt),H(Mt,Mt),$(Mt,It,G)}function Ge(Mt,It){var Y=[at(),at(),at(),at()];we(Y[0],k),we(Y[1],P),we(Y[2],R),ln(Y[3],k,P),xe(Mt,Y,It)}function we(Mt,It){var Y;for(Y=0;Y<16;Y++)Mt[Y]=0|It[Y]}function rt(Mt){var It,Y,G=1;for(It=0;It<16;++It)Y=Mt[It]+G+65535,G=Math.floor(Y/65536),Mt[It]=Y-65536*G;Mt[0]+=G-1+37*(G-1)}function Ct(Mt,It,Y){for(var G,oe=~(Y-1),Ve=0;Ve<16;++Ve)Mt[Ve]^=G=oe&(Mt[Ve]^It[Ve]),It[Ve]^=G}function at(Mt){var It,Y=new Float64Array(16);if(Mt)for(It=0;It<Mt.length;++It)Y[It]=Mt[It];return Y}function dt(Mt,It,Y){for(var G=0;G<16;++G)Mt[G]=It[G]+Y[G]}function ct(Mt,It,Y){for(var G=0;G<16;++G)Mt[G]=It[G]-Y[G]}function Gt(Mt,It){ln(Mt,It,It)}function ln(Mt,It,Y){var G,oe,Ve=0,Be=0,o=0,De=0,be=0,je=0,et=0,Qe=0,We=0,bt=0,pt=0,He=0,ae=0,te=0,B=0,ee=0,Re=0,tt=0,ot=0,Et=0,Kt=0,wn=0,rn=0,fn=0,cn=0,lt=0,tn=0,St=0,qt=0,gn=0,Vn=0,Mn=Y[0],qn=Y[1],ui=Y[2],ci=Y[3],jt=Y[4],$n=Y[5],In=Y[6],Pn=Y[7],zn=Y[8],ii=Y[9],ft=Y[10],yt=Y[11],ht=Y[12],xt=Y[13],zt=Y[14],vn=Y[15];Ve+=(G=It[0])*Mn,Be+=G*qn,o+=G*ui,De+=G*ci,be+=G*jt,je+=G*$n,et+=G*In,Qe+=G*Pn,We+=G*zn,bt+=G*ii,pt+=G*ft,He+=G*yt,ae+=G*ht,te+=G*xt,B+=G*zt,ee+=G*vn,Be+=(G=It[1])*Mn,o+=G*qn,De+=G*ui,be+=G*ci,je+=G*jt,et+=G*$n,Qe+=G*In,We+=G*Pn,bt+=G*zn,pt+=G*ii,He+=G*ft,ae+=G*yt,te+=G*ht,B+=G*xt,ee+=G*zt,Re+=G*vn,o+=(G=It[2])*Mn,De+=G*qn,be+=G*ui,je+=G*ci,et+=G*jt,Qe+=G*$n,We+=G*In,bt+=G*Pn,pt+=G*zn,He+=G*ii,ae+=G*ft,te+=G*yt,B+=G*ht,ee+=G*xt,Re+=G*zt,tt+=G*vn,De+=(G=It[3])*Mn,be+=G*qn,je+=G*ui,et+=G*ci,Qe+=G*jt,We+=G*$n,bt+=G*In,pt+=G*Pn,He+=G*zn,ae+=G*ii,te+=G*ft,B+=G*yt,ee+=G*ht,Re+=G*xt,tt+=G*zt,ot+=G*vn,be+=(G=It[4])*Mn,je+=G*qn,et+=G*ui,Qe+=G*ci,We+=G*jt,bt+=G*$n,pt+=G*In,He+=G*Pn,ae+=G*zn,te+=G*ii,B+=G*ft,ee+=G*yt,Re+=G*ht,tt+=G*xt,ot+=G*zt,Et+=G*vn,je+=(G=It[5])*Mn,et+=G*qn,Qe+=G*ui,We+=G*ci,bt+=G*jt,pt+=G*$n,He+=G*In,ae+=G*Pn,te+=G*zn,B+=G*ii,ee+=G*ft,Re+=G*yt,tt+=G*ht,ot+=G*xt,Et+=G*zt,Kt+=G*vn,et+=(G=It[6])*Mn,Qe+=G*qn,We+=G*ui,bt+=G*ci,pt+=G*jt,He+=G*$n,ae+=G*In,te+=G*Pn,B+=G*zn,ee+=G*ii,Re+=G*ft,tt+=G*yt,ot+=G*ht,Et+=G*xt,Kt+=G*zt,wn+=G*vn,Qe+=(G=It[7])*Mn,We+=G*qn,bt+=G*ui,pt+=G*ci,He+=G*jt,ae+=G*$n,te+=G*In,B+=G*Pn,ee+=G*zn,Re+=G*ii,tt+=G*ft,ot+=G*yt,Et+=G*ht,Kt+=G*xt,wn+=G*zt,rn+=G*vn,We+=(G=It[8])*Mn,bt+=G*qn,pt+=G*ui,He+=G*ci,ae+=G*jt,te+=G*$n,B+=G*In,ee+=G*Pn,Re+=G*zn,tt+=G*ii,ot+=G*ft,Et+=G*yt,Kt+=G*ht,wn+=G*xt,rn+=G*zt,fn+=G*vn,bt+=(G=It[9])*Mn,pt+=G*qn,He+=G*ui,ae+=G*ci,te+=G*jt,B+=G*$n,ee+=G*In,Re+=G*Pn,tt+=G*zn,ot+=G*ii,Et+=G*ft,Kt+=G*yt,wn+=G*ht,rn+=G*xt,fn+=G*zt,cn+=G*vn,pt+=(G=It[10])*Mn,He+=G*qn,ae+=G*ui,te+=G*ci,B+=G*jt,ee+=G*$n,Re+=G*In,tt+=G*Pn,ot+=G*zn,Et+=G*ii,Kt+=G*ft,wn+=G*yt,rn+=G*ht,fn+=G*xt,cn+=G*zt,lt+=G*vn,He+=(G=It[11])*Mn,ae+=G*qn,te+=G*ui,B+=G*ci,ee+=G*jt,Re+=G*$n,tt+=G*In,ot+=G*Pn,Et+=G*zn,Kt+=G*ii,wn+=G*ft,rn+=G*yt,fn+=G*ht,cn+=G*xt,lt+=G*zt,tn+=G*vn,ae+=(G=It[12])*Mn,te+=G*qn,B+=G*ui,ee+=G*ci,Re+=G*jt,tt+=G*$n,ot+=G*In,Et+=G*Pn,Kt+=G*zn,wn+=G*ii,rn+=G*ft,fn+=G*yt,cn+=G*ht,lt+=G*xt,tn+=G*zt,St+=G*vn,te+=(G=It[13])*Mn,B+=G*qn,ee+=G*ui,Re+=G*ci,tt+=G*jt,ot+=G*$n,Et+=G*In,Kt+=G*Pn,wn+=G*zn,rn+=G*ii,fn+=G*ft,cn+=G*yt,lt+=G*ht,tn+=G*xt,St+=G*zt,qt+=G*vn,B+=(G=It[14])*Mn,ee+=G*qn,Re+=G*ui,tt+=G*ci,ot+=G*jt,Et+=G*$n,Kt+=G*In,wn+=G*Pn,rn+=G*zn,fn+=G*ii,cn+=G*ft,lt+=G*yt,tn+=G*ht,St+=G*xt,qt+=G*zt,gn+=G*vn,ee+=(G=It[15])*Mn,Be+=38*(tt+=G*ui),o+=38*(ot+=G*ci),De+=38*(Et+=G*jt),be+=38*(Kt+=G*$n),je+=38*(wn+=G*In),et+=38*(rn+=G*Pn),Qe+=38*(fn+=G*zn),We+=38*(cn+=G*ii),bt+=38*(lt+=G*ft),pt+=38*(tn+=G*yt),He+=38*(St+=G*ht),ae+=38*(qt+=G*xt),te+=38*(gn+=G*zt),B+=38*(Vn+=G*vn),Ve=(G=(Ve+=38*(Re+=G*qn))+(oe=1)+65535)-65536*(oe=Math.floor(G/65536)),Be=(G=Be+oe+65535)-65536*(oe=Math.floor(G/65536)),o=(G=o+oe+65535)-65536*(oe=Math.floor(G/65536)),De=(G=De+oe+65535)-65536*(oe=Math.floor(G/65536)),be=(G=be+oe+65535)-65536*(oe=Math.floor(G/65536)),je=(G=je+oe+65535)-65536*(oe=Math.floor(G/65536)),et=(G=et+oe+65535)-65536*(oe=Math.floor(G/65536)),Qe=(G=Qe+oe+65535)-65536*(oe=Math.floor(G/65536)),We=(G=We+oe+65535)-65536*(oe=Math.floor(G/65536)),bt=(G=bt+oe+65535)-65536*(oe=Math.floor(G/65536)),pt=(G=pt+oe+65535)-65536*(oe=Math.floor(G/65536)),He=(G=He+oe+65535)-65536*(oe=Math.floor(G/65536)),ae=(G=ae+oe+65535)-65536*(oe=Math.floor(G/65536)),te=(G=te+oe+65535)-65536*(oe=Math.floor(G/65536)),B=(G=B+oe+65535)-65536*(oe=Math.floor(G/65536)),ee=(G=ee+oe+65535)-65536*(oe=Math.floor(G/65536)),Ve=(G=(Ve+=oe-1+37*(oe-1))+(oe=1)+65535)-65536*(oe=Math.floor(G/65536)),Be=(G=Be+oe+65535)-65536*(oe=Math.floor(G/65536)),o=(G=o+oe+65535)-65536*(oe=Math.floor(G/65536)),De=(G=De+oe+65535)-65536*(oe=Math.floor(G/65536)),be=(G=be+oe+65535)-65536*(oe=Math.floor(G/65536)),je=(G=je+oe+65535)-65536*(oe=Math.floor(G/65536)),et=(G=et+oe+65535)-65536*(oe=Math.floor(G/65536)),Qe=(G=Qe+oe+65535)-65536*(oe=Math.floor(G/65536)),We=(G=We+oe+65535)-65536*(oe=Math.floor(G/65536)),bt=(G=bt+oe+65535)-65536*(oe=Math.floor(G/65536)),pt=(G=pt+oe+65535)-65536*(oe=Math.floor(G/65536)),He=(G=He+oe+65535)-65536*(oe=Math.floor(G/65536)),ae=(G=ae+oe+65535)-65536*(oe=Math.floor(G/65536)),te=(G=te+oe+65535)-65536*(oe=Math.floor(G/65536)),B=(G=B+oe+65535)-65536*(oe=Math.floor(G/65536)),ee=(G=ee+oe+65535)-65536*(oe=Math.floor(G/65536)),Mt[0]=Ve+=oe-1+37*(oe-1),Mt[1]=Be,Mt[2]=o,Mt[3]=De,Mt[4]=be,Mt[5]=je,Mt[6]=et,Mt[7]=Qe,Mt[8]=We,Mt[9]=bt,Mt[10]=pt,Mt[11]=He,Mt[12]=ae,Mt[13]=te,Mt[14]=B,Mt[15]=ee}},8659:st=>{st.exports={options:{usePureJavaScript:!1}}},9032:(st,ye,f)=>{var t=f(8659);f(979),f(4747),(st.exports=t.hmac=t.hmac||{}).create=function(){var m=null,w=null,b=null,C=null,g={start:function(p,A){if(null!==p)if("string"==typeof p){if(!((p=p.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+p+'"');w=t.md.algorithms[p].create()}else w=p;if(null===A)A=m;else{if("string"==typeof A)A=t.util.createBuffer(A);else if(t.util.isArray(A)){var _=A;A=t.util.createBuffer();for(var R=0;R<_.length;++R)A.putByte(_[R])}var N=A.length();for(N>w.blockLength&&(w.start(),w.update(A.bytes()),A=w.digest()),b=t.util.createBuffer(),C=t.util.createBuffer(),N=A.length(),R=0;R<N;++R)_=A.at(R),b.putByte(54^_),C.putByte(92^_);if(N<w.blockLength)for(_=w.blockLength-N,R=0;R<_;++R)b.putByte(54),C.putByte(92);m=A,b=b.bytes(),C=C.bytes()}w.start(),w.update(b)},update:function(p){w.update(p)},getMac:function(){var p=w.digest().bytes();return w.start(),w.update(C),w.update(p),w.digest()}};return g.digest=g.getMac,g}},592:(st,ye,f)=>{st.exports=f(8659),f(1298),f(6683),f(7791),f(3311),f(279),f(4187),f(9032),f(7196),f(6113),f(4752),f(8449),f(7949),f(8604),f(7246),f(562),f(422),f(1965),f(9709),f(4473),f(7256),f(8365),f(209),f(1015),f(2266),f(4747)},730:(st,ye,f)=>{var e,t=f(8659);function b(Ze,qe,ut){this.data=[],null!=Ze&&("number"==typeof Ze?this.fromNumber(Ze,qe,ut):this.fromString(Ze,null==qe&&"string"!=typeof Ze?256:qe))}function C(){return new b(null)}function A(Ze,qe,ut,Pt,un,hn){for(var Dn=16383&qe,Nn=qe>>14;--hn>=0;){var Ii=16383&this.data[Ze],Ci=this.data[Ze++]>>14,Xn=Nn*Ii+Ci*Dn;un=((Ii=Dn*Ii+((16383&Xn)<<14)+ut.data[Pt]+un)>>28)+(Xn>>14)+Nn*Ci,ut.data[Pt++]=268435455&Ii}return un}st.exports=t.jsbn=t.jsbn||{},t.jsbn.BigInteger=b,typeof navigator>"u"?(b.prototype.am=A,e=28):"Microsoft Internet Explorer"==navigator.appName?(b.prototype.am=function p(Ze,qe,ut,Pt,un,hn){for(var Dn=32767&qe,Nn=qe>>15;--hn>=0;){var Ii=32767&this.data[Ze],Ci=this.data[Ze++]>>15,Xn=Nn*Ii+Ci*Dn;un=((Ii=Dn*Ii+((32767&Xn)<<15)+ut.data[Pt]+(1073741823&un))>>>30)+(Xn>>>15)+Nn*Ci+(un>>>30),ut.data[Pt++]=1073741823&Ii}return un},e=30):"Netscape"!=navigator.appName?(b.prototype.am=function g(Ze,qe,ut,Pt,un,hn){for(;--hn>=0;){var Dn=qe*this.data[Ze++]+ut.data[Pt]+un;un=Math.floor(Dn/67108864),ut.data[Pt++]=67108863&Dn}return un},e=26):(b.prototype.am=A,e=28),b.prototype.DB=e,b.prototype.DM=(1<<e)-1,b.prototype.DV=1<<e,b.prototype.FV=Math.pow(2,52),b.prototype.F1=52-e,b.prototype.F2=2*e-52;var a,k,N=new Array;for(a="0".charCodeAt(0),k=0;k<=9;++k)N[a++]=k;for(a="a".charCodeAt(0),k=10;k<36;++k)N[a++]=k;for(a="A".charCodeAt(0),k=10;k<36;++k)N[a++]=k;function P(Ze){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(Ze)}function U(Ze,qe){return N[Ze.charCodeAt(qe)]??-1}function L(Ze){var qe=C();return qe.fromInt(Ze),qe}function z(Ze){var ut,qe=1;return 0!=(ut=Ze>>>16)&&(Ze=ut,qe+=16),0!=(ut=Ze>>8)&&(Ze=ut,qe+=8),0!=(ut=Ze>>4)&&(Ze=ut,qe+=4),0!=(ut=Ze>>2)&&(Ze=ut,qe+=2),0!=(ut=Ze>>1)&&(Ze=ut,qe+=1),qe}function we(Ze){this.m=Ze}function Gt(Ze){this.m=Ze,this.mp=Ze.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<Ze.DB-15)-1,this.mt2=2*Ze.t}function Re(Ze,qe){return Ze&qe}function ot(Ze,qe){return Ze|qe}function Kt(Ze,qe){return Ze^qe}function rn(Ze,qe){return Ze&~qe}function St(Ze){if(0==Ze)return-1;var qe=0;return 0==(65535&Ze)&&(Ze>>=16,qe+=16),0==(255&Ze)&&(Ze>>=8,qe+=8),0==(15&Ze)&&(Ze>>=4,qe+=4),0==(3&Ze)&&(Ze>>=2,qe+=2),0==(1&Ze)&&++qe,qe}function gn(Ze){for(var qe=0;0!=Ze;)Ze&=Ze-1,++qe;return qe}function zt(){}function vn(Ze){return Ze}function yi(Ze){this.r2=C(),this.q3=C(),b.ONE.dlShiftTo(2*Ze.t,this.r2),this.mu=this.r2.divide(Ze),this.m=Ze}we.prototype.convert=function Ye(Ze){return Ze.s<0||Ze.compareTo(this.m)>=0?Ze.mod(this.m):Ze},we.prototype.revert=function rt(Ze){return Ze},we.prototype.reduce=function Ct(Ze){Ze.divRemTo(this.m,null,Ze)},we.prototype.mulTo=function at(Ze,qe,ut){Ze.multiplyTo(qe,ut),this.reduce(ut)},we.prototype.sqrTo=function dt(Ze,qe){Ze.squareTo(qe),this.reduce(qe)},Gt.prototype.convert=function ln(Ze){var qe=C();return Ze.abs().dlShiftTo(this.m.t,qe),qe.divRemTo(this.m,null,qe),Ze.s<0&&qe.compareTo(b.ZERO)>0&&this.m.subTo(qe,qe),qe},Gt.prototype.revert=function Mt(Ze){var qe=C();return Ze.copyTo(qe),this.reduce(qe),qe},Gt.prototype.reduce=function It(Ze){for(;Ze.t<=this.mt2;)Ze.data[Ze.t++]=0;for(var qe=0;qe<this.m.t;++qe){var ut=32767&Ze.data[qe],Pt=ut*this.mpl+((ut*this.mph+(Ze.data[qe]>>15)*this.mpl&this.um)<<15)&Ze.DM;for(Ze.data[ut=qe+this.m.t]+=this.m.am(0,Pt,Ze,qe,0,this.m.t);Ze.data[ut]>=Ze.DV;)Ze.data[ut]-=Ze.DV,Ze.data[++ut]++}Ze.clamp(),Ze.drShiftTo(this.m.t,Ze),Ze.compareTo(this.m)>=0&&Ze.subTo(this.m,Ze)},Gt.prototype.mulTo=function G(Ze,qe,ut){Ze.multiplyTo(qe,ut),this.reduce(ut)},Gt.prototype.sqrTo=function Y(Ze,qe){Ze.squareTo(qe),this.reduce(qe)},b.prototype.copyTo=function J(Ze){for(var qe=this.t-1;qe>=0;--qe)Ze.data[qe]=this.data[qe];Ze.t=this.t,Ze.s=this.s},b.prototype.fromInt=function O(Ze){this.t=1,this.s=Ze<0?-1:0,Ze>0?this.data[0]=Ze:Ze<-1?this.data[0]=Ze+this.DV:this.t=0},b.prototype.fromString=function F(Ze,qe){var ut;if(16==qe)ut=4;else if(8==qe)ut=3;else if(256==qe)ut=8;else if(2==qe)ut=1;else if(32==qe)ut=5;else{if(4!=qe)return void this.fromRadix(Ze,qe);ut=2}this.t=0,this.s=0;for(var Pt=Ze.length,un=!1,hn=0;--Pt>=0;){var Dn=8==ut?255&Ze[Pt]:U(Ze,Pt);Dn<0?"-"==Ze.charAt(Pt)&&(un=!0):(un=!1,0==hn?this.data[this.t++]=Dn:hn+ut>this.DB?(this.data[this.t-1]|=(Dn&(1<<this.DB-hn)-1)<<hn,this.data[this.t++]=Dn>>this.DB-hn):this.data[this.t-1]|=Dn<<hn,(hn+=ut)>=this.DB&&(hn-=this.DB))}8==ut&&0!=(128&Ze[0])&&(this.s=-1,hn>0&&(this.data[this.t-1]|=(1<<this.DB-hn)-1<<hn)),this.clamp(),un&&b.ZERO.subTo(this,this)},b.prototype.clamp=function V(){for(var Ze=this.s&this.DM;this.t>0&&this.data[this.t-1]==Ze;)--this.t},b.prototype.dlShiftTo=function X(Ze,qe){var ut;for(ut=this.t-1;ut>=0;--ut)qe.data[ut+Ze]=this.data[ut];for(ut=Ze-1;ut>=0;--ut)qe.data[ut]=0;qe.t=this.t+Ze,qe.s=this.s},b.prototype.drShiftTo=function Q(Ze,qe){for(var ut=Ze;ut<this.t;++ut)qe.data[ut-Ze]=this.data[ut];qe.t=Math.max(this.t-Ze,0),qe.s=this.s},b.prototype.lShiftTo=function ce(Ze,qe){var Nn,ut=Ze%this.DB,Pt=this.DB-ut,un=(1<<Pt)-1,hn=Math.floor(Ze/this.DB),Dn=this.s<<ut&this.DM;for(Nn=this.t-1;Nn>=0;--Nn)qe.data[Nn+hn+1]=this.data[Nn]>>Pt|Dn,Dn=(this.data[Nn]&un)<<ut;for(Nn=hn-1;Nn>=0;--Nn)qe.data[Nn]=0;qe.data[hn]=Dn,qe.t=this.t+hn+1,qe.s=this.s,qe.clamp()},b.prototype.rShiftTo=function _e(Ze,qe){qe.s=this.s;var ut=Math.floor(Ze/this.DB);if(ut>=this.t)qe.t=0;else{var Pt=Ze%this.DB,un=this.DB-Pt,hn=(1<<Pt)-1;qe.data[0]=this.data[ut]>>Pt;for(var Dn=ut+1;Dn<this.t;++Dn)qe.data[Dn-ut-1]|=(this.data[Dn]&hn)<<un,qe.data[Dn-ut]=this.data[Dn]>>Pt;Pt>0&&(qe.data[this.t-ut-1]|=(this.s&hn)<<un),qe.t=this.t-ut,qe.clamp()}},b.prototype.subTo=function Te(Ze,qe){for(var ut=0,Pt=0,un=Math.min(Ze.t,this.t);ut<un;)Pt+=this.data[ut]-Ze.data[ut],qe.data[ut++]=Pt&this.DM,Pt>>=this.DB;if(Ze.t<this.t){for(Pt-=Ze.s;ut<this.t;)Pt+=this.data[ut],qe.data[ut++]=Pt&this.DM,Pt>>=this.DB;Pt+=this.s}else{for(Pt+=this.s;ut<Ze.t;)Pt-=Ze.data[ut],qe.data[ut++]=Pt&this.DM,Pt>>=this.DB;Pt-=Ze.s}qe.s=Pt<0?-1:0,Pt<-1?qe.data[ut++]=this.DV+Pt:Pt>0&&(qe.data[ut++]=Pt),qe.t=ut,qe.clamp()},b.prototype.multiplyTo=function ve(Ze,qe){var ut=this.abs(),Pt=Ze.abs(),un=ut.t;for(qe.t=un+Pt.t;--un>=0;)qe.data[un]=0;for(un=0;un<Pt.t;++un)qe.data[un+ut.t]=ut.am(0,Pt.data[un],qe,un,0,ut.t);qe.s=0,qe.clamp(),this.s!=Ze.s&&b.ZERO.subTo(qe,qe)},b.prototype.squareTo=function Ke(Ze){for(var qe=this.abs(),ut=Ze.t=2*qe.t;--ut>=0;)Ze.data[ut]=0;for(ut=0;ut<qe.t-1;++ut){var Pt=qe.am(ut,qe.data[ut],Ze,2*ut,0,1);(Ze.data[ut+qe.t]+=qe.am(ut+1,2*qe.data[ut],Ze,2*ut+1,Pt,qe.t-ut-1))>=qe.DV&&(Ze.data[ut+qe.t]-=qe.DV,Ze.data[ut+qe.t+1]=1)}Ze.t>0&&(Ze.data[Ze.t-1]+=qe.am(ut,qe.data[ut],Ze,2*ut,0,1)),Ze.s=0,Ze.clamp()},b.prototype.divRemTo=function xe(Ze,qe,ut){var Pt=Ze.abs();if(!(Pt.t<=0)){var un=this.abs();if(un.t<Pt.t)return qe?.fromInt(0),void(null!=ut&&this.copyTo(ut));null==ut&&(ut=C());var hn=C(),Dn=this.s,Nn=Ze.s,Ii=this.DB-z(Pt.data[Pt.t-1]);Ii>0?(Pt.lShiftTo(Ii,hn),un.lShiftTo(Ii,ut)):(Pt.copyTo(hn),un.copyTo(ut));var Ci=hn.t,Xn=hn.data[Ci-1];if(0!=Xn){var fr=Xn*(1<<this.F1)+(Ci>1?hn.data[Ci-2]>>this.F2:0),mr=this.FV/fr,Ir=(1<<this.F1)/fr,Mi=1<<this.F2,Fr=ut.t,Qi=Fr-Ci,ar=qe??C();for(hn.dlShiftTo(Qi,ar),ut.compareTo(ar)>=0&&(ut.data[ut.t++]=1,ut.subTo(ar,ut)),b.ONE.dlShiftTo(Ci,ar),ar.subTo(hn,hn);hn.t<Ci;)hn.data[hn.t++]=0;for(;--Qi>=0;){var ts=ut.data[--Fr]==Xn?this.DM:Math.floor(ut.data[Fr]*mr+(ut.data[Fr-1]+Mi)*Ir);if((ut.data[Fr]+=hn.am(0,ts,ut,Qi,0,Ci))<ts)for(hn.dlShiftTo(Qi,ar),ut.subTo(ar,ut);ut.data[Fr]<--ts;)ut.subTo(ar,ut)}null!=qe&&(ut.drShiftTo(Ci,qe),Dn!=Nn&&b.ZERO.subTo(qe,qe)),ut.t=Ci,ut.clamp(),Ii>0&&ut.rShiftTo(Ii,ut),Dn<0&&b.ZERO.subTo(ut,ut)}}},b.prototype.invDigit=function ct(){if(this.t<1)return 0;var Ze=this.data[0];if(0==(1&Ze))return 0;var qe=3&Ze;return(qe=(qe=(qe=(qe=qe*(2-(15&Ze)*qe)&15)*(2-(255&Ze)*qe)&255)*(2-((65535&Ze)*qe&65535))&65535)*(2-Ze*qe%this.DV)%this.DV)>0?this.DV-qe:-qe},b.prototype.isEven=function oe(){return 0==(this.t>0?1&this.data[0]:this.s)},b.prototype.exp=function Ve(Ze,qe){if(Ze>4294967295||Ze<1)return b.ONE;var ut=C(),Pt=C(),un=qe.convert(this),hn=z(Ze)-1;for(un.copyTo(ut);--hn>=0;)if(qe.sqrTo(ut,Pt),(Ze&1<<hn)>0)qe.mulTo(Pt,un,ut);else{var Dn=ut;ut=Pt,Pt=Dn}return qe.revert(ut)},b.prototype.toString=function q(Ze){if(this.s<0)return"-"+this.negate().toString(Ze);var qe;if(16==Ze)qe=4;else if(8==Ze)qe=3;else if(2==Ze)qe=1;else if(32==Ze)qe=5;else{if(4!=Ze)return this.toRadix(Ze);qe=2}var Pt,ut=(1<<qe)-1,un=!1,hn="",Dn=this.t,Nn=this.DB-Dn*this.DB%qe;if(Dn-- >0)for(Nn<this.DB&&(Pt=this.data[Dn]>>Nn)>0&&(un=!0,hn=P(Pt));Dn>=0;)Nn<qe?(Pt=(this.data[Dn]&(1<<Nn)-1)<<qe-Nn,Pt|=this.data[--Dn]>>(Nn+=this.DB-qe)):(Pt=this.data[Dn]>>(Nn-=qe)&ut,Nn<=0&&(Nn+=this.DB,--Dn)),Pt>0&&(un=!0),un&&(hn+=P(Pt));return un?hn:"0"},b.prototype.negate=function ie(){var Ze=C();return b.ZERO.subTo(this,Ze),Ze},b.prototype.abs=function H(){return this.s<0?this.negate():this},b.prototype.compareTo=function $(Ze){var qe=this.s-Ze.s;if(0!=qe)return qe;var ut=this.t;if(0!=(qe=ut-Ze.t))return this.s<0?-qe:qe;for(;--ut>=0;)if(0!=(qe=this.data[ut]-Ze.data[ut]))return qe;return 0},b.prototype.bitLength=function E(){return this.t<=0?0:this.DB*(this.t-1)+z(this.data[this.t-1]^this.s&this.DM)},b.prototype.mod=function Ge(Ze){var qe=C();return this.abs().divRemTo(Ze,null,qe),this.s<0&&qe.compareTo(b.ZERO)>0&&Ze.subTo(qe,qe),qe},b.prototype.modPowInt=function Be(Ze,qe){var ut;return ut=Ze<256||qe.isEven()?new we(qe):new Gt(qe),this.exp(Ze,ut)},b.ZERO=L(0),b.ONE=L(1),zt.prototype.convert=vn,zt.prototype.revert=vn,zt.prototype.mulTo=function Zt(Ze,qe,ut){Ze.multiplyTo(qe,ut)},zt.prototype.sqrTo=function ti(Ze,qe){Ze.squareTo(qe)},yi.prototype.convert=function rr(Ze){if(Ze.s<0||Ze.t>2*this.m.t)return Ze.mod(this.m);if(Ze.compareTo(this.m)<0)return Ze;var qe=C();return Ze.copyTo(qe),this.reduce(qe),qe},yi.prototype.revert=function ri(Ze){return Ze},yi.prototype.reduce=function Gi(Ze){for(Ze.drShiftTo(this.m.t-1,this.r2),Ze.t>this.m.t+1&&(Ze.t=this.m.t+1,Ze.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Ze.compareTo(this.r2)<0;)Ze.dAddOffset(1,this.m.t+1);for(Ze.subTo(this.r2,Ze);Ze.compareTo(this.m)>=0;)Ze.subTo(this.m,Ze)},yi.prototype.mulTo=function Bi(Ze,qe,ut){Ze.multiplyTo(qe,ut),this.reduce(ut)},yi.prototype.sqrTo=function Di(Ze,qe){Ze.squareTo(qe),this.reduce(qe)};var kt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Yt=(1<<26)/kt[kt.length-1];b.prototype.chunkSize=function et(Ze){return Math.floor(Math.LN2*this.DB/Math.log(Ze))},b.prototype.toRadix=function We(Ze){if(null==Ze&&(Ze=10),0==this.signum()||Ze<2||Ze>36)return"0";var qe=this.chunkSize(Ze),ut=Math.pow(Ze,qe),Pt=L(ut),un=C(),hn=C(),Dn="";for(this.divRemTo(Pt,un,hn);un.signum()>0;)Dn=(ut+hn.intValue()).toString(Ze).substr(1)+Dn,un.divRemTo(Pt,un,hn);return hn.intValue().toString(Ze)+Dn},b.prototype.fromRadix=function bt(Ze,qe){this.fromInt(0),null==qe&&(qe=10);for(var ut=this.chunkSize(qe),Pt=Math.pow(qe,ut),un=!1,hn=0,Dn=0,Nn=0;Nn<Ze.length;++Nn){var Ii=U(Ze,Nn);Ii<0?"-"==Ze.charAt(Nn)&&0==this.signum()&&(un=!0):(Dn=qe*Dn+Ii,++hn>=ut&&(this.dMultiply(Pt),this.dAddOffset(Dn,0),hn=0,Dn=0))}hn>0&&(this.dMultiply(Math.pow(qe,hn)),this.dAddOffset(Dn,0)),un&&b.ZERO.subTo(this,this)},b.prototype.fromNumber=function pt(Ze,qe,ut){if("number"==typeof qe)if(Ze<2)this.fromInt(1);else for(this.fromNumber(Ze,ut),this.testBit(Ze-1)||this.bitwiseTo(b.ONE.shiftLeft(Ze-1),ot,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(qe);)this.dAddOffset(2,0),this.bitLength()>Ze&&this.subTo(b.ONE.shiftLeft(Ze-1),this);else{var Pt=new Array,un=7&Ze;Pt.length=1+(Ze>>3),qe.nextBytes(Pt),un>0?Pt[0]&=(1<<un)-1:Pt[0]=0,this.fromString(Pt,256)}},b.prototype.bitwiseTo=function ee(Ze,qe,ut){var Pt,un,hn=Math.min(Ze.t,this.t);for(Pt=0;Pt<hn;++Pt)ut.data[Pt]=qe(this.data[Pt],Ze.data[Pt]);if(Ze.t<this.t){for(un=Ze.s&this.DM,Pt=hn;Pt<this.t;++Pt)ut.data[Pt]=qe(this.data[Pt],un);ut.t=this.t}else{for(un=this.s&this.DM,Pt=hn;Pt<Ze.t;++Pt)ut.data[Pt]=qe(un,Ze.data[Pt]);ut.t=Ze.t}ut.s=qe(this.s,Ze.s),ut.clamp()},b.prototype.changeBit=function qn(Ze,qe){var ut=b.ONE.shiftLeft(Ze);return this.bitwiseTo(ut,qe,ut),ut},b.prototype.addTo=function $n(Ze,qe){for(var ut=0,Pt=0,un=Math.min(Ze.t,this.t);ut<un;)Pt+=this.data[ut]+Ze.data[ut],qe.data[ut++]=Pt&this.DM,Pt>>=this.DB;if(Ze.t<this.t){for(Pt+=Ze.s;ut<this.t;)Pt+=this.data[ut],qe.data[ut++]=Pt&this.DM,Pt>>=this.DB;Pt+=this.s}else{for(Pt+=this.s;ut<Ze.t;)Pt+=Ze.data[ut],qe.data[ut++]=Pt&this.DM,Pt>>=this.DB;Pt+=Ze.s}qe.s=Pt<0?-1:0,Pt>0?qe.data[ut++]=Pt:Pt<-1&&(qe.data[ut++]=this.DV+Pt),qe.t=ut,qe.clamp()},b.prototype.dMultiply=function ht(Ze){this.data[this.t]=this.am(0,Ze-1,this,0,0,this.t),++this.t,this.clamp()},b.prototype.dAddOffset=function xt(Ze,qe){if(0!=Ze){for(;this.t<=qe;)this.data[this.t++]=0;for(this.data[qe]+=Ze;this.data[qe]>=this.DV;)this.data[qe]-=this.DV,++qe>=this.t&&(this.data[this.t++]=0),++this.data[qe]}},b.prototype.multiplyLowerTo=function vr(Ze,qe,ut){var un,Pt=Math.min(this.t+Ze.t,qe);for(ut.s=0,ut.t=Pt;Pt>0;)ut.data[--Pt]=0;for(un=ut.t-this.t;Pt<un;++Pt)ut.data[Pt+this.t]=this.am(0,Ze.data[Pt],ut,Pt,0,this.t);for(un=Math.min(Ze.t,qe);Pt<un;++Pt)this.am(0,Ze.data[Pt],ut,Pt,0,qe-Pt);ut.clamp()},b.prototype.multiplyUpperTo=function Rn(Ze,qe,ut){--qe;var Pt=ut.t=this.t+Ze.t-qe;for(ut.s=0;--Pt>=0;)ut.data[Pt]=0;for(Pt=Math.max(qe-this.t,0);Pt<Ze.t;++Pt)ut.data[this.t+Pt-qe]=this.am(qe-Pt,Ze.data[Pt],ut,0,0,this.t+Pt-qe);ut.clamp(),ut.drShiftTo(1,ut)},b.prototype.modInt=function Wt(Ze){if(Ze<=0)return 0;var qe=this.DV%Ze,ut=this.s<0?Ze-1:0;if(this.t>0)if(0==qe)ut=this.data[0]%Ze;else for(var Pt=this.t-1;Pt>=0;--Pt)ut=(qe*ut+this.data[Pt])%Ze;return ut},b.prototype.millerRabin=function Ln(Ze){var qe=this.subtract(b.ONE),ut=qe.getLowestSetBit();if(ut<=0)return!1;for(var hn,Pt=qe.shiftRight(ut),un=function ki(){return{nextBytes:function(Ze){for(var qe=0;qe<Ze.length;++qe)Ze[qe]=Math.floor(256*Math.random())}}}(),Dn=0;Dn<Ze;++Dn){do{hn=new b(this.bitLength(),un)}while(hn.compareTo(b.ONE)<=0||hn.compareTo(qe)>=0);var Nn=hn.modPow(Pt,this);if(0!=Nn.compareTo(b.ONE)&&0!=Nn.compareTo(qe)){for(var Ii=1;Ii++<ut&&0!=Nn.compareTo(qe);)if(0==(Nn=Nn.modPowInt(2,this)).compareTo(b.ONE))return!1;if(0!=Nn.compareTo(qe))return!1}}return!0},b.prototype.clone=function o(){var Ze=C();return this.copyTo(Ze),Ze},b.prototype.intValue=function De(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},b.prototype.byteValue=function be(){return 0==this.t?this.s:this.data[0]<<24>>24},b.prototype.shortValue=function je(){return 0==this.t?this.s:this.data[0]<<16>>16},b.prototype.signum=function Qe(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},b.prototype.toByteArray=function He(){var Ze=this.t,qe=new Array;qe[0]=this.s;var Pt,ut=this.DB-Ze*this.DB%8,un=0;if(Ze-- >0)for(ut<this.DB&&(Pt=this.data[Ze]>>ut)!=(this.s&this.DM)>>ut&&(qe[un++]=Pt|this.s<<this.DB-ut);Ze>=0;)ut<8?(Pt=(this.data[Ze]&(1<<ut)-1)<<8-ut,Pt|=this.data[--Ze]>>(ut+=this.DB-8)):(Pt=this.data[Ze]>>(ut-=8)&255,ut<=0&&(ut+=this.DB,--Ze)),0!=(128&Pt)&&(Pt|=-256),0==un&&(128&this.s)!=(128&Pt)&&++un,(un>0||Pt!=this.s)&&(qe[un++]=Pt);return qe},b.prototype.equals=function ae(Ze){return 0==this.compareTo(Ze)},b.prototype.min=function te(Ze){return this.compareTo(Ze)<0?this:Ze},b.prototype.max=function B(Ze){return this.compareTo(Ze)>0?this:Ze},b.prototype.and=function tt(Ze){var qe=C();return this.bitwiseTo(Ze,Re,qe),qe},b.prototype.or=function Et(Ze){var qe=C();return this.bitwiseTo(Ze,ot,qe),qe},b.prototype.xor=function wn(Ze){var qe=C();return this.bitwiseTo(Ze,Kt,qe),qe},b.prototype.andNot=function fn(Ze){var qe=C();return this.bitwiseTo(Ze,rn,qe),qe},b.prototype.not=function cn(){for(var Ze=C(),qe=0;qe<this.t;++qe)Ze.data[qe]=this.DM&~this.data[qe];return Ze.t=this.t,Ze.s=~this.s,Ze},b.prototype.shiftLeft=function lt(Ze){var qe=C();return Ze<0?this.rShiftTo(-Ze,qe):this.lShiftTo(Ze,qe),qe},b.prototype.shiftRight=function tn(Ze){var qe=C();return Ze<0?this.lShiftTo(-Ze,qe):this.rShiftTo(Ze,qe),qe},b.prototype.getLowestSetBit=function qt(){for(var Ze=0;Ze<this.t;++Ze)if(0!=this.data[Ze])return Ze*this.DB+St(this.data[Ze]);return this.s<0?this.t*this.DB:-1},b.prototype.bitCount=function Vn(){for(var Ze=0,qe=this.s&this.DM,ut=0;ut<this.t;++ut)Ze+=gn(this.data[ut]^qe);return Ze},b.prototype.testBit=function Mn(Ze){var qe=Math.floor(Ze/this.DB);return qe>=this.t?0!=this.s:0!=(this.data[qe]&1<<Ze%this.DB)},b.prototype.setBit=function ui(Ze){return this.changeBit(Ze,ot)},b.prototype.clearBit=function ci(Ze){return this.changeBit(Ze,rn)},b.prototype.flipBit=function jt(Ze){return this.changeBit(Ze,Kt)},b.prototype.add=function In(Ze){var qe=C();return this.addTo(Ze,qe),qe},b.prototype.subtract=function Pn(Ze){var qe=C();return this.subTo(Ze,qe),qe},b.prototype.multiply=function zn(Ze){var qe=C();return this.multiplyTo(Ze,qe),qe},b.prototype.divide=function ii(Ze){var qe=C();return this.divRemTo(Ze,qe,null),qe},b.prototype.remainder=function ft(Ze){var qe=C();return this.divRemTo(Ze,null,qe),qe},b.prototype.divideAndRemainder=function yt(Ze){var qe=C(),ut=C();return this.divRemTo(Ze,qe,ut),new Array(qe,ut)},b.prototype.modPow=function pr(Ze,qe){var Pt,hn,ut=Ze.bitLength(),un=L(1);if(ut<=0)return un;Pt=ut<18?1:ut<48?3:ut<144?4:ut<768?5:6,hn=ut<8?new we(qe):qe.isEven()?new yi(qe):new Gt(qe);var Dn=new Array,Nn=3,Ii=Pt-1,Ci=(1<<Pt)-1;if(Dn[1]=hn.convert(this),Pt>1){var Xn=C();for(hn.sqrTo(Dn[1],Xn);Nn<=Ci;)Dn[Nn]=C(),hn.mulTo(Xn,Dn[Nn-2],Dn[Nn]),Nn+=2}var mr,Fr,fr=Ze.t-1,Ir=!0,Mi=C();for(ut=z(Ze.data[fr])-1;fr>=0;){for(ut>=Ii?mr=Ze.data[fr]>>ut-Ii&Ci:(mr=(Ze.data[fr]&(1<<ut+1)-1)<<Ii-ut,fr>0&&(mr|=Ze.data[fr-1]>>this.DB+ut-Ii)),Nn=Pt;0==(1&mr);)mr>>=1,--Nn;if((ut-=Nn)<0&&(ut+=this.DB,--fr),Ir)Dn[mr].copyTo(un),Ir=!1;else{for(;Nn>1;)hn.sqrTo(un,Mi),hn.sqrTo(Mi,un),Nn-=2;Nn>0?hn.sqrTo(un,Mi):(Fr=un,un=Mi,Mi=Fr),hn.mulTo(Mi,Dn[mr],un)}for(;fr>=0&&0==(Ze.data[fr]&1<<ut);)hn.sqrTo(un,Mi),Fr=un,un=Mi,Mi=Fr,--ut<0&&(ut=this.DB-1,--fr)}return hn.revert(un)},b.prototype.modInverse=function Fn(Ze){var qe=Ze.isEven();if(this.isEven()&&qe||0==Ze.signum())return b.ZERO;for(var ut=Ze.clone(),Pt=this.clone(),un=L(1),hn=L(0),Dn=L(0),Nn=L(1);0!=ut.signum();){for(;ut.isEven();)ut.rShiftTo(1,ut),qe?((!un.isEven()||!hn.isEven())&&(un.addTo(this,un),hn.subTo(Ze,hn)),un.rShiftTo(1,un)):hn.isEven()||hn.subTo(Ze,hn),hn.rShiftTo(1,hn);for(;Pt.isEven();)Pt.rShiftTo(1,Pt),qe?((!Dn.isEven()||!Nn.isEven())&&(Dn.addTo(this,Dn),Nn.subTo(Ze,Nn)),Dn.rShiftTo(1,Dn)):Nn.isEven()||Nn.subTo(Ze,Nn),Nn.rShiftTo(1,Nn);ut.compareTo(Pt)>=0?(ut.subTo(Pt,ut),qe&&un.subTo(Dn,un),hn.subTo(Nn,hn)):(Pt.subTo(ut,Pt),qe&&Dn.subTo(un,Dn),Nn.subTo(hn,Nn))}return 0!=Pt.compareTo(b.ONE)?b.ZERO:Nn.compareTo(Ze)>=0?Nn.subtract(Ze):Nn.signum()<0?(Nn.addTo(Ze,Nn),Nn.signum()<0?Nn.add(Ze):Nn):Nn},b.prototype.pow=function vi(Ze){return this.exp(Ze,new zt)},b.prototype.gcd=function $i(Ze){var qe=this.s<0?this.negate():this.clone(),ut=Ze.s<0?Ze.negate():Ze.clone();if(qe.compareTo(ut)<0){var Pt=qe;qe=ut,ut=Pt}var un=qe.getLowestSetBit(),hn=ut.getLowestSetBit();if(hn<0)return qe;for(un<hn&&(hn=un),hn>0&&(qe.rShiftTo(hn,qe),ut.rShiftTo(hn,ut));qe.signum()>0;)(un=qe.getLowestSetBit())>0&&qe.rShiftTo(un,qe),(un=ut.getLowestSetBit())>0&&ut.rShiftTo(un,ut),qe.compareTo(ut)>=0?(qe.subTo(ut,qe),qe.rShiftTo(1,qe)):(ut.subTo(qe,ut),ut.rShiftTo(1,ut));return hn>0&&ut.lShiftTo(hn,ut),ut},b.prototype.isProbablePrime=function En(Ze){var qe,ut=this.abs();if(1==ut.t&&ut.data[0]<=kt[kt.length-1]){for(qe=0;qe<kt.length;++qe)if(ut.data[0]==kt[qe])return!0;return!1}if(ut.isEven())return!1;for(qe=1;qe<kt.length;){for(var Pt=kt[qe],un=qe+1;un<kt.length&&Pt<Yt;)Pt*=kt[un++];for(Pt=ut.modInt(Pt);qe<un;)if(Pt%kt[qe++]==0)return!1}return ut.millerRabin(Ze)}},7196:(st,ye,f)=>{var t=f(8659);f(4747),f(8365),f(730),st.exports=t.kem=t.kem||{};var e=t.jsbn.BigInteger;function m(w,b,C,g){w.generate=function(p,A){for(var _=new t.util.ByteBuffer,R=Math.ceil(A/g)+C,N=new t.util.ByteBuffer,a=C;a<R;++a){N.putInt32(a),b.start(),b.update(p+N.getBytes());var k=b.digest();_.putBytes(k.getBytes(g))}return _.truncate(_.length()-A),_.getBytes()}}t.kem.rsa={},t.kem.rsa.create=function(w,b){var C=(b=b||{}).prng||t.random;return{encrypt:function(p,A){var R,_=Math.ceil(p.n.bitLength()/8);do{R=new e(t.util.bytesToHex(C.getBytesSync(_)),16).mod(p.n)}while(R.compareTo(e.ONE)<=0);var N=_-(R=t.util.hexToBytes(R.toString(16))).length;return N>0&&(R=t.util.fillString(String.fromCharCode(0),N)+R),{encapsulation:p.encrypt(R,"NONE"),key:w.generate(R,A)}},decrypt:function(p,A,_){var R=p.decrypt(A,"NONE");return w.generate(R,_)}}},t.kem.kdf1=function(w,b){m(this,w,0,b||w.digestLength)},t.kem.kdf2=function(w,b){m(this,w,1,b||w.digestLength)}},6113:(st,ye,f)=>{var t=f(8659);f(4747),st.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},m=[],w=null;t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8;for(var b=0;b<t.log.levels.length;++b){var C=t.log.levels[b];e[C]={index:b,name:C.toUpperCase()}}t.log.logMessage=function(a){for(var k=e[a.level].index,P=0;P<m.length;++P){var U=m[P];U.flags&t.log.NO_LEVEL_CHECK?U.f(a):k<=e[U.level].index&&U.f(U,a)}},t.log.prepareStandard=function(a){"standard"in a||(a.standard=e[a.level].name+" ["+a.category+"] "+a.message)},t.log.prepareFull=function(a){if(!("full"in a)){var k=[a.message];k=k.concat([]),a.full=t.util.format.apply(this,k)}},t.log.prepareStandardFull=function(a){"standardFull"in a||(t.log.prepareStandard(a),a.standardFull=a.standard)};var g=["error","warning","info","debug","verbose"];for(b=0;b<g.length;++b)!function(k){t.log[k]=function(P,U){var J=Array.prototype.slice.call(arguments).slice(2),O={timestamp:new Date,level:k,category:P,message:U,arguments:J};t.log.logMessage(O)}}(g[b]);if(t.log.makeLogger=function(a){var k={flags:0,f:a};return t.log.setLevel(k,"none"),k},t.log.setLevel=function(a,k){var P=!1;if(a&&!(a.flags&t.log.LEVEL_LOCKED))for(var U=0;U<t.log.levels.length;++U)if(k==t.log.levels[U]){a.level=k,P=!0;break}return P},t.log.lock=function(a,k){typeof k>"u"||k?a.flags|=t.log.LEVEL_LOCKED:a.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(a){m.push(a)},typeof console<"u"&&"log"in console){var p;if(console.error&&console.warn&&console.info&&console.debug){var A={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},_=function(a,k){t.log.prepareStandard(k);var P=A[k.level],U=[k.standard];U=U.concat(k.arguments.slice()),P.apply(console,U)};p=t.log.makeLogger(_)}else _=function(k,P){t.log.prepareStandardFull(P),console.log(P.standardFull)},p=t.log.makeLogger(_);t.log.setLevel(p,"debug"),t.log.addLogger(p),w=p}else console={log:function(){}};if(null!==w&&typeof window<"u"&&window.location){var R=new URL(window.location.href).searchParams;R.has("console.level")&&t.log.setLevel(w,R.get("console.level").slice(-1)[0]),R.has("console.lock")&&"true"==R.get("console.lock").slice(-1)[0]&&t.log.lock(w)}t.log.consoleLogger=w},4752:(st,ye,f)=>{st.exports=f(979),f(2687),f(7690),f(1594),f(8985)},979:(st,ye,f)=>{var t=f(8659);st.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}},2687:(st,ye,f)=>{var t=f(8659);f(979),f(4747);var e=st.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=e,e.create=function(){g||function p(){m=String.fromCharCode(128),m+=t.util.fillString(String.fromCharCode(0),64),w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],b=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],C=new Array(64);for(var _=0;_<64;++_)C[_]=Math.floor(4294967296*Math.abs(Math.sin(_+1)));g=!0}();var _=null,R=t.util.createBuffer(),N=new Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var k=a.messageLengthSize/4,P=0;P<k;++P)a.fullMessageLength.push(0);return R=t.util.createBuffer(),_={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a}};return a.start(),a.update=function(k,P){"utf8"===P&&(k=t.util.encodeUtf8(k));var U=k.length;a.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var J=a.fullMessageLength.length-1;J>=0;--J)a.fullMessageLength[J]+=U[1],U[1]=U[0]+(a.fullMessageLength[J]/4294967296>>>0),a.fullMessageLength[J]=a.fullMessageLength[J]>>>0,U[0]=U[1]/4294967296>>>0;return R.putBytes(k),A(_,N,R),(R.read>2048||0===R.length())&&R.compact(),a},a.digest=function(){var k=t.util.createBuffer();k.putBytes(R.bytes()),k.putBytes(m.substr(0,a.blockLength-(a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1)));for(var J,O=0,L=a.fullMessageLength.length-1;L>=0;--L)O=(J=8*a.fullMessageLength[L]+O)/4294967296>>>0,k.putInt32Le(J>>>0);var F={h0:_.h0,h1:_.h1,h2:_.h2,h3:_.h3};A(F,N,k);var V=t.util.createBuffer();return V.putInt32Le(F.h0),V.putInt32Le(F.h1),V.putInt32Le(F.h2),V.putInt32Le(F.h3),V},a};var m=null,w=null,b=null,C=null,g=!1;function A(_,R,N){for(var a,k,P,U,J,L,F,V=N.length();V>=64;){for(k=_.h0,P=_.h1,U=_.h2,J=_.h3,F=0;F<16;++F)R[F]=N.getInt32Le(),a=k+(J^P&(U^J))+C[F]+R[F],k=J,J=U,U=P,P+=a<<(L=b[F])|a>>>32-L;for(;F<32;++F)a=k+(U^J&(P^U))+C[F]+R[w[F]],k=J,J=U,U=P,P+=a<<(L=b[F])|a>>>32-L;for(;F<48;++F)a=k+(P^U^J)+C[F]+R[w[F]],k=J,J=U,U=P,P+=a<<(L=b[F])|a>>>32-L;for(;F<64;++F)a=k+(U^(P|~J))+C[F]+R[w[F]],k=J,J=U,U=P,P+=a<<(L=b[F])|a>>>32-L;_.h0=_.h0+k|0,_.h1=_.h1+P|0,_.h2=_.h2+U|0,_.h3=_.h3+J|0,V-=64}}},9386:(st,ye,f)=>{var t=f(8659);f(8449),st.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1},8449:(st,ye,f)=>{var t=f(8659);f(4747),t.mgf=t.mgf||{},(st.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{}).create=function(m){return{generate:function(b,C){for(var g=new t.util.ByteBuffer,p=Math.ceil(C/m.digestLength),A=0;A<p;A++){var _=new t.util.ByteBuffer;_.putInt32(A),m.start(),m.update(b+_.getBytes()),g.putBuffer(m.digest())}return g.truncate(g.length()-C),g.getBytes()}}}},6078:(st,ye,f)=>{var t=f(8659);t.pki=t.pki||{};var e=st.exports=t.pki.oids=t.oids=t.oids||{};function m(b,C){e[b]=C,e[C]=b}function w(b,C){e[b]=C}m("1.2.840.113549.1.1.1","rsaEncryption"),m("1.2.840.113549.1.1.4","md5WithRSAEncryption"),m("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),m("1.2.840.113549.1.1.7","RSAES-OAEP"),m("1.2.840.113549.1.1.8","mgf1"),m("1.2.840.113549.1.1.9","pSpecified"),m("1.2.840.113549.1.1.10","RSASSA-PSS"),m("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),m("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),m("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),m("1.3.101.112","EdDSA25519"),m("1.2.840.10040.4.3","dsa-with-sha1"),m("1.3.14.3.2.7","desCBC"),m("1.3.14.3.2.26","sha1"),m("1.3.14.3.2.29","sha1WithRSASignature"),m("2.16.840.1.101.3.4.2.1","sha256"),m("2.16.840.1.101.3.4.2.2","sha384"),m("2.16.840.1.101.3.4.2.3","sha512"),m("2.16.840.1.101.3.4.2.4","sha224"),m("2.16.840.1.101.3.4.2.5","sha512-224"),m("2.16.840.1.101.3.4.2.6","sha512-256"),m("1.2.840.113549.2.2","md2"),m("1.2.840.113549.2.5","md5"),m("1.2.840.113549.1.7.1","data"),m("1.2.840.113549.1.7.2","signedData"),m("1.2.840.113549.1.7.3","envelopedData"),m("1.2.840.113549.1.7.4","signedAndEnvelopedData"),m("1.2.840.113549.1.7.5","digestedData"),m("1.2.840.113549.1.7.6","encryptedData"),m("1.2.840.113549.1.9.1","emailAddress"),m("1.2.840.113549.1.9.2","unstructuredName"),m("1.2.840.113549.1.9.3","contentType"),m("1.2.840.113549.1.9.4","messageDigest"),m("1.2.840.113549.1.9.5","signingTime"),m("1.2.840.113549.1.9.6","counterSignature"),m("1.2.840.113549.1.9.7","challengePassword"),m("1.2.840.113549.1.9.8","unstructuredAddress"),m("1.2.840.113549.1.9.14","extensionRequest"),m("1.2.840.113549.1.9.20","friendlyName"),m("1.2.840.113549.1.9.21","localKeyId"),m("1.2.840.113549.1.9.22.1","x509Certificate"),m("1.2.840.113549.1.12.10.1.1","keyBag"),m("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),m("1.2.840.113549.1.12.10.1.3","certBag"),m("1.2.840.113549.1.12.10.1.4","crlBag"),m("1.2.840.113549.1.12.10.1.5","secretBag"),m("1.2.840.113549.1.12.10.1.6","safeContentsBag"),m("1.2.840.113549.1.5.13","pkcs5PBES2"),m("1.2.840.113549.1.5.12","pkcs5PBKDF2"),m("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),m("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),m("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),m("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),m("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),m("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),m("1.2.840.113549.2.7","hmacWithSHA1"),m("1.2.840.113549.2.8","hmacWithSHA224"),m("1.2.840.113549.2.9","hmacWithSHA256"),m("1.2.840.113549.2.10","hmacWithSHA384"),m("1.2.840.113549.2.11","hmacWithSHA512"),m("1.2.840.113549.3.7","des-EDE3-CBC"),m("2.16.840.1.101.3.4.1.2","aes128-CBC"),m("2.16.840.1.101.3.4.1.22","aes192-CBC"),m("2.16.840.1.101.3.4.1.42","aes256-CBC"),m("2.5.4.3","commonName"),m("2.5.4.4","surname"),m("2.5.4.5","serialNumber"),m("2.5.4.6","countryName"),m("2.5.4.7","localityName"),m("2.5.4.8","stateOrProvinceName"),m("2.5.4.9","streetAddress"),m("2.5.4.10","organizationName"),m("2.5.4.11","organizationalUnitName"),m("2.5.4.12","title"),m("2.5.4.13","description"),m("2.5.4.15","businessCategory"),m("2.5.4.17","postalCode"),m("2.5.4.42","givenName"),m("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),m("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),m("2.16.840.1.113730.1.1","nsCertType"),m("2.16.840.1.113730.1.13","nsComment"),w("2.5.29.1","authorityKeyIdentifier"),w("2.5.29.2","keyAttributes"),w("2.5.29.3","certificatePolicies"),w("2.5.29.4","keyUsageRestriction"),w("2.5.29.5","policyMapping"),w("2.5.29.6","subtreesConstraint"),w("2.5.29.7","subjectAltName"),w("2.5.29.8","issuerAltName"),w("2.5.29.9","subjectDirectoryAttributes"),w("2.5.29.10","basicConstraints"),w("2.5.29.11","nameConstraints"),w("2.5.29.12","policyConstraints"),w("2.5.29.13","basicConstraints"),m("2.5.29.14","subjectKeyIdentifier"),m("2.5.29.15","keyUsage"),w("2.5.29.16","privateKeyUsagePeriod"),m("2.5.29.17","subjectAltName"),m("2.5.29.18","issuerAltName"),m("2.5.29.19","basicConstraints"),w("2.5.29.20","cRLNumber"),w("2.5.29.21","cRLReason"),w("2.5.29.22","expirationDate"),w("2.5.29.23","instructionCode"),w("2.5.29.24","invalidityDate"),w("2.5.29.25","cRLDistributionPoints"),w("2.5.29.26","issuingDistributionPoint"),w("2.5.29.27","deltaCRLIndicator"),w("2.5.29.28","issuingDistributionPoint"),w("2.5.29.29","certificateIssuer"),w("2.5.29.30","nameConstraints"),m("2.5.29.31","cRLDistributionPoints"),m("2.5.29.32","certificatePolicies"),w("2.5.29.33","policyMappings"),w("2.5.29.34","policyConstraints"),m("2.5.29.35","authorityKeyIdentifier"),w("2.5.29.36","policyConstraints"),m("2.5.29.37","extKeyUsage"),w("2.5.29.46","freshestCRL"),w("2.5.29.54","inhibitAnyPolicy"),m("1.3.6.1.4.1.11129.2.4.2","timestampList"),m("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),m("1.3.6.1.5.5.7.3.1","serverAuth"),m("1.3.6.1.5.5.7.3.2","clientAuth"),m("1.3.6.1.5.5.7.3.3","codeSigning"),m("1.3.6.1.5.5.7.3.4","emailProtection"),m("1.3.6.1.5.5.7.3.8","timeStamping")},2158:(st,ye,f)=>{var t=f(8659);if(f(1298),f(7791),f(279),f(979),f(6078),f(7949),f(8604),f(8365),f(209),f(5517),f(4747),typeof e>"u")var e=t.jsbn.BigInteger;var m=t.asn1,w=t.pki=t.pki||{};st.exports=w.pbe=t.pbe=t.pbe||{};var b=w.oids,C={name:"EncryptedPrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},g={name:"PBES2Algorithms",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},p={name:"pkcs-12PbeParams",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"iterations"}]};function A(a,k){return a.start().update(k).digest().getBytes()}function _(a){var k;if(a){if(!(k=w.oids[m.derToOid(a)])){var P=new Error("Unsupported PRF OID.");throw P.oid=a,P.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],P}}else k="hmacWithSHA1";return R(k)}function R(a){var k=t.md;switch(a){case"hmacWithSHA224":k=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":a=a.substr(8).toLowerCase();break;default:var P=new Error("Unsupported PRF algorithm.");throw P.algorithm=a,P.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],P}if(!k||!(a in k))throw new Error("Unknown hash algorithm: "+a);return k[a].create()}w.encryptPrivateKeyInfo=function(a,k,P){(P=P||{}).saltSize=P.saltSize||8,P.count=P.count||2048,P.algorithm=P.algorithm||"aes128",P.prfAlgorithm=P.prfAlgorithm||"sha1";var L,F,V,U=t.random.getBytesSync(P.saltSize),J=P.count,O=m.integerToDer(J);if(0===P.algorithm.indexOf("aes")||"des"===P.algorithm){var q,ie,H;switch(P.algorithm){case"aes128":L=16,q=16,ie=b["aes128-CBC"],H=t.aes.createEncryptionCipher;break;case"aes192":L=24,q=16,ie=b["aes192-CBC"],H=t.aes.createEncryptionCipher;break;case"aes256":L=32,q=16,ie=b["aes256-CBC"],H=t.aes.createEncryptionCipher;break;case"des":L=8,q=8,ie=b.desCBC,H=t.des.createEncryptionCipher;break;default:throw($=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=P.algorithm,$}var z="hmacWith"+P.prfAlgorithm.toUpperCase(),E=R(z),X=t.pkcs5.pbkdf2(k,U,J,L,E),Q=t.random.getBytesSync(q);(ce=H(X)).start(Q),ce.update(m.toDer(a)),ce.finish(),V=ce.output.getBytes();var _e=function N(a,k,P,U){var J=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,a),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,k.getBytes())]);return"hmacWithSHA1"!==U&&J.value.push(m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,t.util.hexToBytes(P.toString(16))),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(w.oids[U]).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")])),J}(U,O,L,z);F=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(b.pkcs5PBES2).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(b.pkcs5PBKDF2).getBytes()),_e]),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(ie).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,Q)])])])}else{var $;if("3des"!==P.algorithm)throw($=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=P.algorithm,$;L=24;var ce,Te=new t.util.ByteBuffer(U);X=w.pbe.generatePkcs12Key(k,Te,1,J,L),Q=w.pbe.generatePkcs12Key(k,Te,2,J,L),(ce=t.des.createEncryptionCipher(X)).start(Q),ce.update(m.toDer(a)),ce.finish(),V=ce.output.getBytes(),F=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(b["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,U),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,O.getBytes())])])}return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[F,m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,V)])},w.decryptPrivateKeyInfo=function(a,k){var P=null,U={},J=[];if(!m.validate(a,C,U,J)){var O=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw O.errors=J,O}var L=m.derToOid(U.encryptionOid),F=w.pbe.getCipher(L,U.encryptionParams,k),V=t.util.createBuffer(U.encryptedData);return F.update(V),F.finish()&&(P=m.fromDer(F.output)),P},w.encryptedPrivateKeyToPem=function(a,k){var P={type:"ENCRYPTED PRIVATE KEY",body:m.toDer(a).getBytes()};return t.pem.encode(P,{maxline:k})},w.encryptedPrivateKeyFromPem=function(a){var k=t.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==k.type){var P=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw P.headerType=k.type,P}if(k.procType&&"ENCRYPTED"===k.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return m.fromDer(k.body)},w.encryptRsaPrivateKey=function(a,k,P){if(!(P=P||{}).legacy){var U=w.wrapRsaPrivateKey(w.privateKeyToAsn1(a));return U=w.encryptPrivateKeyInfo(U,k,P),w.encryptedPrivateKeyToPem(U)}var J,O,L,F;switch(P.algorithm){case"aes128":J="AES-128-CBC",L=16,O=t.random.getBytesSync(16),F=t.aes.createEncryptionCipher;break;case"aes192":J="AES-192-CBC",L=24,O=t.random.getBytesSync(16),F=t.aes.createEncryptionCipher;break;case"aes256":J="AES-256-CBC",L=32,O=t.random.getBytesSync(16),F=t.aes.createEncryptionCipher;break;case"3des":J="DES-EDE3-CBC",L=24,O=t.random.getBytesSync(8),F=t.des.createEncryptionCipher;break;case"des":J="DES-CBC",L=8,O=t.random.getBytesSync(8),F=t.des.createEncryptionCipher;break;default:var V=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+P.algorithm+'".');throw V.algorithm=P.algorithm,V}var ie=F(t.pbe.opensslDeriveBytes(k,O.substr(0,8),L));ie.start(O),ie.update(m.toDer(w.privateKeyToAsn1(a))),ie.finish();var H={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:J,parameters:t.util.bytesToHex(O).toUpperCase()},body:ie.output.getBytes()};return t.pem.encode(H)},w.decryptRsaPrivateKey=function(a,k){var P=null,U=t.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==U.type&&"PRIVATE KEY"!==U.type&&"RSA PRIVATE KEY"!==U.type)throw(J=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=J,J;if(U.procType&&"ENCRYPTED"===U.procType.type){var O,L;switch(U.dekInfo.algorithm){case"DES-CBC":O=8,L=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":O=24,L=t.des.createDecryptionCipher;break;case"AES-128-CBC":O=16,L=t.aes.createDecryptionCipher;break;case"AES-192-CBC":O=24,L=t.aes.createDecryptionCipher;break;case"AES-256-CBC":O=32,L=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":O=5,L=function(H){return t.rc2.createDecryptionCipher(H,40)};break;case"RC2-64-CBC":O=8,L=function(H){return t.rc2.createDecryptionCipher(H,64)};break;case"RC2-128-CBC":O=16,L=function(H){return t.rc2.createDecryptionCipher(H,128)};break;default:var J;throw(J=new Error('Could not decrypt private key; unsupported encryption algorithm "'+U.dekInfo.algorithm+'".')).algorithm=U.dekInfo.algorithm,J}var F=t.util.hexToBytes(U.dekInfo.parameters),q=L(t.pbe.opensslDeriveBytes(k,F.substr(0,8),O));if(q.start(F),q.update(t.util.createBuffer(U.body)),!q.finish())return P;P=q.output.getBytes()}else P=U.body;return null!==(P="ENCRYPTED PRIVATE KEY"===U.type?w.decryptPrivateKeyInfo(m.fromDer(P),k):m.fromDer(P))&&(P=w.privateKeyFromAsn1(P)),P},w.pbe.generatePkcs12Key=function(a,k,P,U,J,O){var L,F;if(typeof O>"u"||null===O){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');O=t.md.sha1.create()}var V=O.digestLength,q=O.blockLength,ie=new t.util.ByteBuffer,H=new t.util.ByteBuffer;if(null!=a){for(F=0;F<a.length;F++)H.putInt16(a.charCodeAt(F));H.putInt16(0)}var $=H.length(),z=k.length(),E=new t.util.ByteBuffer;E.fillWithByte(P,q);var X=q*Math.ceil(z/q),Q=new t.util.ByteBuffer;for(F=0;F<X;F++)Q.putByte(k.at(F%z));var ce=q*Math.ceil($/q),_e=new t.util.ByteBuffer;for(F=0;F<ce;F++)_e.putByte(H.at(F%$));var Te=Q;Te.putBuffer(_e);for(var ve=Math.ceil(J/V),Ke=1;Ke<=ve;Ke++){var xe=new t.util.ByteBuffer;xe.putBytes(E.bytes()),xe.putBytes(Te.bytes());for(var Ge=0;Ge<U;Ge++)O.start(),O.update(xe.getBytes()),xe=O.digest();var we=new t.util.ByteBuffer;for(F=0;F<q;F++)we.putByte(xe.at(F%V));var Ye=Math.ceil(z/q)+Math.ceil($/q),rt=new t.util.ByteBuffer;for(L=0;L<Ye;L++){var Ct=new t.util.ByteBuffer(Te.getBytes(q)),at=511;for(F=we.length()-1;F>=0;F--)at>>=8,at+=we.at(F)+Ct.at(F),Ct.setAt(F,255&at);rt.putBuffer(Ct)}Te=rt,ie.putBuffer(xe)}return ie.truncate(ie.length()-J),ie},w.pbe.getCipher=function(a,k,P){switch(a){case w.oids.pkcs5PBES2:return w.pbe.getCipherForPBES2(a,k,P);case w.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case w.oids["pbewithSHAAnd40BitRC2-CBC"]:return w.pbe.getCipherForPKCS12PBE(a,k,P);default:var U=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw U.oid=a,U.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],U}},w.pbe.getCipherForPBES2=function(a,k,P){var O,U={},J=[];if(!m.validate(k,g,U,J))throw(O=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=J,O;if((a=m.derToOid(U.kdfOid))!==w.oids.pkcs5PBKDF2)throw(O=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=a,O.supportedOids=["pkcs5PBKDF2"],O;if((a=m.derToOid(U.encOid))!==w.oids["aes128-CBC"]&&a!==w.oids["aes192-CBC"]&&a!==w.oids["aes256-CBC"]&&a!==w.oids["des-EDE3-CBC"]&&a!==w.oids.desCBC)throw(O=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=a,O.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],O;var V,q,L=U.kdfSalt,F=t.util.createBuffer(U.kdfIterationCount);switch(F=F.getInt(F.length()<<3),w.oids[a]){case"aes128-CBC":V=16,q=t.aes.createDecryptionCipher;break;case"aes192-CBC":V=24,q=t.aes.createDecryptionCipher;break;case"aes256-CBC":V=32,q=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":V=24,q=t.des.createDecryptionCipher;break;case"desCBC":V=8,q=t.des.createDecryptionCipher}var ie=_(U.prfOid),H=t.pkcs5.pbkdf2(P,L,F,V,ie),$=U.encIv,z=q(H);return z.start($),z},w.pbe.getCipherForPKCS12PBE=function(a,k,P){var U={},J=[];if(!m.validate(k,p,U,J))throw(O=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=J,O;var V,q,ie,L=t.util.createBuffer(U.salt),F=t.util.createBuffer(U.iterations);switch(F=F.getInt(F.length()<<3),a){case w.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:V=24,q=8,ie=t.des.startDecrypting;break;case w.oids["pbewithSHAAnd40BitRC2-CBC"]:V=5,q=8,ie=function(X,Q){var ce=t.rc2.createDecryptionCipher(X,40);return ce.start(Q,null),ce};break;default:var O;throw(O=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=a,O}var H=_(U.prfOid),$=w.pbe.generatePkcs12Key(P,L,1,F,V,H);return H.start(),ie($,w.pbe.generatePkcs12Key(P,L,2,F,q,H))},w.pbe.opensslDeriveBytes=function(a,k,P,U){if(typeof U>"u"||null===U){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');U=t.md.md5.create()}null===k&&(k="");for(var J=[A(U,a+k)],O=16,L=1;O<P;++L,O+=16)J.push(A(U,J[L-1]+a+k));return J.join("").substr(0,P)}},7949:(st,ye,f)=>{var t=f(8659);f(9032),f(979),f(4747);var m,e=t.pkcs5=t.pkcs5||{};t.util.isNodejs&&!t.options.usePureJavaScript&&(m=f(5819)),st.exports=t.pbkdf2=e.pbkdf2=function(w,b,C,g,p,A){if("function"==typeof p&&(A=p,p=null),t.util.isNodejs&&!t.options.usePureJavaScript&&m.pbkdf2&&(null===p||"object"!=typeof p)&&(m.pbkdf2Sync.length>4||!p||"sha1"===p))return"string"!=typeof p&&(p="sha1"),w=Buffer.from(w,"binary"),b=Buffer.from(b,"binary"),A?4===m.pbkdf2Sync.length?m.pbkdf2(w,b,C,g,function(ie,H){if(ie)return A(ie);A(null,H.toString("binary"))}):m.pbkdf2(w,b,C,g,p,function(ie,H){if(ie)return A(ie);A(null,H.toString("binary"))}):4===m.pbkdf2Sync.length?m.pbkdf2Sync(w,b,C,g).toString("binary"):m.pbkdf2Sync(w,b,C,g,p).toString("binary");if((typeof p>"u"||null===p)&&(p="sha1"),"string"==typeof p){if(!(p in t.md.algorithms))throw new Error("Unknown hash algorithm: "+p);p=t.md[p].create()}var _=p.digestLength;if(g>4294967295*_){var R=new Error("Derived key is too long.");if(A)return A(R);throw R}var N=Math.ceil(g/_),a=g-(N-1)*_,k=t.hmac.create();k.start(p,w);var U,J,O,P="";if(!A){for(var L=1;L<=N;++L){k.start(null,null),k.update(b),k.update(t.util.int32ToBytes(L)),U=O=k.digest().getBytes();for(var F=2;F<=C;++F)k.start(null,null),k.update(O),J=k.digest().getBytes(),U=t.util.xorBytes(U,J,_),O=J;P+=L<N?U:U.substr(0,a)}return P}function V(){if(L>N)return A(null,P);k.start(null,null),k.update(b),k.update(t.util.int32ToBytes(L)),U=O=k.digest().getBytes(),F=2,q()}function q(){if(F<=C)return k.start(null,null),k.update(O),J=k.digest().getBytes(),U=t.util.xorBytes(U,J,_),O=J,++F,t.util.setImmediate(q);P+=L<N?U:U.substr(0,a),++L,V()}L=1,V()}},8604:(st,ye,f)=>{var t=f(8659);f(4747);var e=st.exports=t.pem=t.pem||{};function m(b){for(var C=b.name+": ",g=[],p=function(a,k){return" "+k},A=0;A<b.values.length;++A)g.push(b.values[A].replace(/^(\S+\r\n)/,p));C+=g.join(",")+"\r\n";var _=0,R=-1;for(A=0;A<C.length;++A,++_)if(_>65&&-1!==R){var N=C[R];","===N?(++R,C=C.substr(0,R)+"\r\n "+C.substr(R)):C=C.substr(0,R)+"\r\n"+N+C.substr(R+1),_=A-R-1,R=-1,++A}else(" "===C[A]||"\t"===C[A]||","===C[A])&&(R=A);return C}function w(b){return b.replace(/^\s+/,"")}e.encode=function(b,C){C=C||{};var p,g="-----BEGIN "+b.type+"-----\r\n";if(b.procType&&(g+=m(p={name:"Proc-Type",values:[String(b.procType.version),b.procType.type]})),b.contentDomain&&(g+=m(p={name:"Content-Domain",values:[b.contentDomain]})),b.dekInfo&&(p={name:"DEK-Info",values:[b.dekInfo.algorithm]},b.dekInfo.parameters&&p.values.push(b.dekInfo.parameters),g+=m(p)),b.headers)for(var A=0;A<b.headers.length;++A)g+=m(b.headers[A]);return b.procType&&(g+="\r\n"),(g+=t.util.encode64(b.body,C.maxline||64)+"\r\n")+"-----END "+b.type+"-----\r\n"},e.decode=function(b){for(var _,C=[],g=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,p=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,A=/\r?\n/;_=g.exec(b);){var R=_[1];"NEW CERTIFICATE REQUEST"===R&&(R="CERTIFICATE REQUEST");var N={type:R,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(_[3])};if(C.push(N),_[2]){for(var a=_[2].split(A),k=0;_&&k<a.length;){for(var P=a[k].replace(/\s+$/,""),U=k+1;U<a.length;++U){var J=a[U];if(!/\s/.test(J[0]))break;P+=J,k=U}if(_=P.match(p)){for(var O={name:_[1],values:[]},L=_[2].split(","),F=0;F<L.length;++F)O.values.push(w(L[F]));if(N.procType)if(N.contentDomain||"Content-Domain"!==O.name)if(N.dekInfo||"DEK-Info"!==O.name)N.headers.push(O);else{if(0===O.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');N.dekInfo={algorithm:L[0],parameters:L[1]||null}}else N.contentDomain=L[0]||"";else{if("Proc-Type"!==O.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==O.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');N.procType={version:L[0],type:L[1]}}}++k}if("ENCRYPTED"===N.procType&&!N.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===C.length)throw new Error("Invalid PEM formatted message.");return C}},7246:(st,ye,f)=>{var t=f(8659);f(4747),f(8365),f(7690);var e=st.exports=t.pkcs1=t.pkcs1||{};function m(w,b,C){C||(C=t.md.sha1.create());for(var g="",p=Math.ceil(b/C.digestLength),A=0;A<p;++A){var _=String.fromCharCode(A>>24&255,A>>16&255,A>>8&255,255&A);C.start(),C.update(w+_),g+=C.digest().getBytes()}return g.substring(0,b)}e.encode_rsa_oaep=function(w,b,C){var g,p,A,_;"string"==typeof C?(g=C,p=arguments[3]||void 0,A=arguments[4]||void 0):C&&(g=C.label||void 0,p=C.seed||void 0,A=C.md||void 0,C.mgf1&&C.mgf1.md&&(_=C.mgf1.md)),A?A.start():A=t.md.sha1.create(),_||(_=A);var R=Math.ceil(w.n.bitLength()/8),N=R-2*A.digestLength-2;if(b.length>N)throw(a=new Error("RSAES-OAEP input message length is too long.")).length=b.length,a.maxLength=N,a;g||(g=""),A.update(g,"raw");for(var k=A.digest(),P="",U=N-b.length,J=0;J<U;J++)P+="\0";var O=k.getBytes()+P+"\x01"+b;if(p){if(p.length!==A.digestLength){var a;throw(a=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=p.length,a.digestLength=A.digestLength,a}}else p=t.random.getBytes(A.digestLength);var L=m(p,R-A.digestLength-1,_),F=t.util.xorBytes(O,L,O.length),V=m(F,A.digestLength,_),q=t.util.xorBytes(p,V,p.length);return"\0"+q+F},e.decode_rsa_oaep=function(w,b,C){var g,p,A;"string"==typeof C?(g=C,p=arguments[3]||void 0):C&&(g=C.label||void 0,p=C.md||void 0,C.mgf1&&C.mgf1.md&&(A=C.mgf1.md));var _=Math.ceil(w.n.bitLength()/8);if(b.length!==_)throw(F=new Error("RSAES-OAEP encoded message length is invalid.")).length=b.length,F.expectedLength=_,F;if(void 0===p?p=t.md.sha1.create():p.start(),A||(A=p),_<2*p.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");g||(g=""),p.update(g,"raw");for(var R=p.digest().getBytes(),N=b.charAt(0),a=b.substring(1,p.digestLength+1),k=b.substring(1+p.digestLength),P=m(k,p.digestLength,A),U=t.util.xorBytes(a,P,a.length),J=m(U,_-p.digestLength-1,A),O=t.util.xorBytes(k,J,k.length),L=O.substring(0,p.digestLength),F="\0"!==N,V=0;V<p.digestLength;++V)F|=R.charAt(V)!==L.charAt(V);for(var q=1,ie=p.digestLength,H=p.digestLength;H<O.length;H++){var $=O.charCodeAt(H),z=1&$^1,E=q?65534:0;F|=$&E,ie+=q&=z}if(F||1!==O.charCodeAt(ie))throw new Error("Invalid RSAES-OAEP padding.");return O.substring(ie+1)}},562:(st,ye,f)=>{var t=f(8659);f(7791),f(9032),f(6078),f(4957),f(2158),f(8365),f(5517),f(7690),f(4747),f(5911);var e=t.asn1,m=t.pki,w=st.exports=t.pkcs12=t.pkcs12||{},b={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},C={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},b,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},g={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},p={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},A={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function _(U,J,O,L){for(var F=[],V=0;V<U.length;V++)for(var q=0;q<U[V].safeBags.length;q++){var ie=U[V].safeBags[q];if(void 0===L||ie.type===L){if(null===J){F.push(ie);continue}void 0!==ie.attributes[J]&&ie.attributes[J].indexOf(O)>=0&&F.push(ie)}}return F}function R(U){if(U.composed||U.constructed){for(var J=t.util.createBuffer(),O=0;O<U.value.length;++O)J.putBytes(U.value[O].value);U.composed=U.constructed=!1,U.value=J.getBytes()}return U}function a(U,J){var O={},L=[];if(!e.validate(U,t.pkcs7.asn1.encryptedDataValidator,O,L))throw(F=new Error("Cannot read EncryptedContentInfo.")).errors=L,F;var F,V=e.derToOid(O.contentType);if(V!==m.oids.data)throw(F=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=V,F;V=e.derToOid(O.encAlgorithm);var q=m.pbe.getCipher(V,O.encParameter,J),ie=R(O.encryptedContentAsn1),H=t.util.createBuffer(ie.value);if(q.update(H),!q.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return q.output.getBytes()}function k(U,J,O){if(!J&&0===U.length)return[];if((U=e.fromDer(U,J)).tagClass!==e.Class.UNIVERSAL||U.type!==e.Type.SEQUENCE||!0!==U.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var L=[],F=0;F<U.value.length;F++){var q={},ie=[];if(!e.validate(U.value[F],g,q,ie))throw(H=new Error("Cannot read SafeBag.")).errors=ie,H;var $={type:e.derToOid(q.bagId),attributes:P(q.bagAttributes)};L.push($);var z,E,X=q.bagValue.value[0];switch($.type){case m.oids.pkcs8ShroudedKeyBag:if(null===(X=m.decryptPrivateKeyInfo(X,O)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case m.oids.keyBag:try{$.key=m.privateKeyFromAsn1(X)}catch{$.key=null,$.asn1=X}continue;case m.oids.certBag:z=A,E=function(){if(e.derToOid(q.certId)!==m.oids.x509Certificate){var ce=new Error("Unsupported certificate type, only X.509 supported.");throw ce.oid=e.derToOid(q.certId),ce}var _e=e.fromDer(q.cert,J);try{$.cert=m.certificateFromAsn1(_e,!0)}catch{$.cert=null,$.asn1=_e}};break;default:var H;throw(H=new Error("Unsupported PKCS#12 SafeBag type.")).oid=$.type,H}if(void 0!==z&&!e.validate(X,z,q,ie))throw(H=new Error("Cannot read PKCS#12 "+z.name)).errors=ie,H;E()}return L}function P(U){var J={};if(void 0!==U)for(var O=0;O<U.length;++O){var L={},F=[];if(!e.validate(U[O],p,L,F)){var V=new Error("Cannot read PKCS#12 BagAttribute.");throw V.errors=F,V}var q=e.derToOid(L.oid);if(void 0!==m.oids[q]){J[m.oids[q]]=[];for(var ie=0;ie<L.values.length;++ie)J[m.oids[q]].push(L.values[ie].value)}}return J}w.pkcs12FromAsn1=function(U,J,O){"string"==typeof J?(O=J,J=!0):void 0===J&&(J=!0);var L={};if(!e.validate(U,C,L,[]))throw(V=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=V,V;var V,q={version:L.version.charCodeAt(0),safeContents:[],getBags:function(Te){var Ke,ve={};return"localKeyId"in Te?Ke=Te.localKeyId:"localKeyIdHex"in Te&&(Ke=t.util.hexToBytes(Te.localKeyIdHex)),void 0===Ke&&!("friendlyName"in Te)&&"bagType"in Te&&(ve[Te.bagType]=_(q.safeContents,null,null,Te.bagType)),void 0!==Ke&&(ve.localKeyId=_(q.safeContents,"localKeyId",Ke,Te.bagType)),"friendlyName"in Te&&(ve.friendlyName=_(q.safeContents,"friendlyName",Te.friendlyName,Te.bagType)),ve},getBagsByFriendlyName:function(Te,ve){return _(q.safeContents,"friendlyName",Te,ve)},getBagsByLocalKeyId:function(Te,ve){return _(q.safeContents,"localKeyId",Te,ve)}};if(3!==L.version.charCodeAt(0))throw(V=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=L.version.charCodeAt(0),V;if(e.derToOid(L.contentType)!==m.oids.data)throw(V=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(L.contentType),V;var ie=L.content.value[0];if(ie.tagClass!==e.Class.UNIVERSAL||ie.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(ie=R(ie),L.mac){var H=null,$=0,z=e.derToOid(L.macAlgorithm);switch(z){case m.oids.sha1:H=t.md.sha1.create(),$=20;break;case m.oids.sha256:H=t.md.sha256.create(),$=32;break;case m.oids.sha384:H=t.md.sha384.create(),$=48;break;case m.oids.sha512:H=t.md.sha512.create(),$=64;break;case m.oids.md5:H=t.md.md5.create(),$=16}if(null===H)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+z);var E=new t.util.ByteBuffer(L.macSalt),X="macIterations"in L?parseInt(t.util.bytesToHex(L.macIterations),16):1,Q=w.generateKey(O,E,3,X,$,H),ce=t.hmac.create();if(ce.start(H,Q),ce.update(ie.value),ce.getMac().getBytes()!==L.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function N(U,J,O,L){if((J=e.fromDer(J,O)).tagClass!==e.Class.UNIVERSAL||J.type!==e.Type.SEQUENCE||!0!==J.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var F=0;F<J.value.length;F++){var q={},ie=[];if(!e.validate(J.value[F],b,q,ie))throw(H=new Error("Cannot read ContentInfo.")).errors=ie,H;var $={encrypted:!1},z=null,E=q.content.value[0];switch(e.derToOid(q.contentType)){case m.oids.data:if(E.tagClass!==e.Class.UNIVERSAL||E.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");z=R(E).value;break;case m.oids.encryptedData:z=a(E,L),$.encrypted=!0;break;default:var H;throw(H=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(q.contentType),H}$.safeBags=k(z,O,L),U.safeContents.push($)}}(q,ie.value,J,O),q},w.toPkcs12Asn1=function(U,J,O,L){(L=L||{}).saltSize=L.saltSize||8,L.count=L.count||2048,L.algorithm=L.algorithm||L.encAlgorithm||"aes128","useMac"in L||(L.useMac=!0),"localKeyId"in L||(L.localKeyId=null),"generateLocalKeyId"in L||(L.generateLocalKeyId=!0);var V,F=L.localKeyId;if(null!==F)F=t.util.hexToBytes(F);else if(L.generateLocalKeyId)if(J){var q=t.util.isArray(J)?J[0]:J;"string"==typeof q&&(q=m.certificateFromPem(q)),(ie=t.md.sha1.create()).update(e.toDer(m.certificateToAsn1(q)).getBytes()),F=ie.digest().getBytes()}else F=t.random.getBytes(20);var H=[];null!==F&&H.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,F)])])),"friendlyName"in L&&H.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,L.friendlyName)])])),H.length>0&&(V=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,H));var $=[],z=[];null!==J&&(z=t.util.isArray(J)?J:[J]);for(var E=[],X=0;X<z.length;++X){"string"==typeof(J=z[X])&&(J=m.certificateFromPem(J));var Q=0===X?V:void 0,ce=m.certificateToAsn1(J),_e=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(ce).getBytes())])])]),Q]);E.push(_e)}if(E.length>0){var Te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,E),ve=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Te).getBytes())])]);$.push(ve)}var Ke=null;if(null!==U){var xe=m.wrapRsaPrivateKey(m.privateKeyToAsn1(U));Ke=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===O?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[xe]),V]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[m.encryptPrivateKeyInfo(xe,O,L)]),V]);var Ge=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Ke]),we=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Ge).getBytes())])]);$.push(we)}var rt,Ye=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,$);if(L.useMac){var ie=t.md.sha1.create(),Ct=new t.util.ByteBuffer(t.random.getBytes(L.saltSize)),at=L.count,dt=(U=w.generateKey(O,Ct,3,at,20),t.hmac.create());dt.start(ie,U),dt.update(e.toDer(Ye).getBytes());var ct=dt.getMac();rt=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,ct.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ct.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(at).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(m.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Ye).getBytes())])]),rt])},w.generateKey=t.pbe.generatePkcs12Key},422:(st,ye,f)=>{var t=f(8659);f(1298),f(7791),f(279),f(6078),f(8604),f(4957),f(8365),f(4747),f(5911);var e=t.asn1,m=st.exports=t.pkcs7=t.pkcs7||{};function w(U){var J={},O=[];if(!e.validate(U,m.asn1.recipientInfoValidator,J,O)){var L=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw L.errors=O,L}return{version:J.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(J.issuer),serialNumber:t.util.createBuffer(J.serial).toHex(),encryptedContent:{algorithm:e.derToOid(J.encAlgorithm),parameter:J.encParameter?J.encParameter.value:void 0,content:J.encKey}}}function b(U){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(U.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:U.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(U.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U.encryptedContent.content)])}function g(U){for(var J=[],O=0;O<U.length;++O)J.push(b(U[O]));return J}function A(U){var J=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(U.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:U.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(U.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(U.authenticatedAttributesAsn1&&J.value.push(U.authenticatedAttributesAsn1),J.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),J.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U.signature)),U.unauthenticatedAttributes.length>0){for(var O=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),L=0;L<U.unauthenticatedAttributes.length;++L)O.values.push(N(U.unauthenticatedAttributes[L]));J.value.push(O)}return J}function N(U){var J;if(U.type===t.pki.oids.contentType)J=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.value).getBytes());else if(U.type===t.pki.oids.messageDigest)J=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U.value.bytes());else if(U.type===t.pki.oids.signingTime){var O=new Date("1950-01-01T00:00:00Z"),L=new Date("2050-01-01T00:00:00Z"),F=U.value;if("string"==typeof F){var V=Date.parse(F);F=isNaN(V)?13===F.length?e.utcTimeToDate(F):e.generalizedTimeToDate(F):new Date(V)}J=F>=O&&F<L?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(F)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(F))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[J])])}function a(U){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.algorithm).getBytes()),U.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U.content.getBytes())])]}function k(U,J,O){var L={};if(!e.validate(J,O,L,[])){var V=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw V.errors=V,V}if(e.derToOid(L.contentType)!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(L.encryptedContent){var ie="";if(t.util.isArray(L.encryptedContent))for(var H=0;H<L.encryptedContent.length;++H){if(L.encryptedContent[H].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");ie+=L.encryptedContent[H].value}else ie=L.encryptedContent;U.encryptedContent={algorithm:e.derToOid(L.encAlgorithm),parameter:t.util.createBuffer(L.encParameter.value),content:t.util.createBuffer(ie)}}if(L.content){if(ie="",t.util.isArray(L.content))for(H=0;H<L.content.length;++H){if(L.content[H].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");ie+=L.content[H].value}else ie=L.content;U.content=t.util.createBuffer(ie)}return U.version=L.version.charCodeAt(0),U.rawCapture=L,L}function P(U){if(void 0===U.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===U.content){var J;switch(U.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:J=t.aes.createDecryptionCipher(U.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:J=t.des.createDecryptionCipher(U.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+U.encryptedContent.algorithm)}if(J.start(U.encryptedContent.parameter),J.update(U.encryptedContent.content),!J.finish())throw new Error("Symmetric decryption failed.");U.content=J.output}}m.messageFromPem=function(U){var J=t.pem.decode(U)[0];if("PKCS7"!==J.type){var O=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw O.headerType=J.type,O}if(J.procType&&"ENCRYPTED"===J.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var L=e.fromDer(J.body);return m.messageFromAsn1(L)},m.messageToPem=function(U,J){var O={type:"PKCS7",body:e.toDer(U.toAsn1()).getBytes()};return t.pem.encode(O,{maxline:J})},m.messageFromAsn1=function(U){var J={},O=[];if(!e.validate(U,m.asn1.contentInfoValidator,J,O)){var L=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw L.errors=O,L}var V,F=e.derToOid(J.contentType);switch(F){case t.pki.oids.envelopedData:V=m.createEnvelopedData();break;case t.pki.oids.encryptedData:V=m.createEncryptedData();break;case t.pki.oids.signedData:V=m.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+F+" is not (yet) supported.")}return V.fromAsn1(J.content.value[0]),V},m.createSignedData=function(){var U=null;return U={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(L){if(k(U,L,m.asn1.signedDataValidator),U.certificates=[],U.crls=[],U.digestAlgorithmIdentifiers=[],U.contentInfo=null,U.signerInfos=[],U.rawCapture.certificates)for(var F=U.rawCapture.certificates.value,V=0;V<F.length;++V)U.certificates.push(t.pki.certificateFromAsn1(F[V]))},toAsn1:function(){U.contentInfo||U.sign();for(var L=[],F=0;F<U.certificates.length;++F)L.push(t.pki.certificateToAsn1(U.certificates[F]));var V=[],q=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(U.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,U.digestAlgorithmIdentifiers),U.contentInfo])]);return L.length>0&&q.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,L)),V.length>0&&q.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,V)),q.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,U.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.type).getBytes()),q])},addSigner:function(L){var F=L.issuer,V=L.serialNumber;if(L.certificate){var q=L.certificate;"string"==typeof q&&(q=t.pki.certificateFromPem(q)),F=q.issuer.attributes,V=q.serialNumber}var ie=L.key;if(!ie)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof ie&&(ie=t.pki.privateKeyFromPem(ie));var H=L.digestAlgorithm||t.pki.oids.sha1;switch(H){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+H)}var $=L.authenticatedAttributes||[];if($.length>0){for(var z=!1,E=!1,X=0;X<$.length;++X){var Q=$[X];if(z||Q.type!==t.pki.oids.contentType){if(E||Q.type!==t.pki.oids.messageDigest);else if(E=!0,z)break}else if(z=!0,E)break}if(!z||!E)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}U.signers.push({key:ie,version:1,issuer:F,serialNumber:V,digestAlgorithm:H,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:$,unauthenticatedAttributes:[]})},sign:function(L){var F;if(L=L||{},"object"==typeof U.content&&null!==U.contentInfo||(U.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.pki.oids.data).getBytes())]),!("content"in U))||(U.content instanceof t.util.ByteBuffer?F=U.content.bytes():"string"==typeof U.content&&(F=t.util.encodeUtf8(U.content)),L.detached?U.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,F):U.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,F)]))),0!==U.signers.length){var V=function J(){for(var L={},F=0;F<U.signers.length;++F){var V=U.signers[F];(q=V.digestAlgorithm)in L||(L[q]=t.md[t.pki.oids[q]].create()),V.md=0===V.authenticatedAttributes.length?L[q]:t.md[t.pki.oids[q]].create()}for(var q in U.digestAlgorithmIdentifiers=[],L)U.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(q).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return L}();!function O(L){var F;if(!(F=U.detachedContent?U.detachedContent:(F=U.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var V=e.derToOid(U.contentInfo.value[0].value),q=e.toDer(F);for(var ie in q.getByte(),e.getBerValueLength(q),q=q.getBytes(),L)L[ie].start().update(q);for(var H=new Date,$=0;$<U.signers.length;++$){var z=U.signers[$];if(0===z.authenticatedAttributes.length){if(V!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{z.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var E=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),X=0;X<z.authenticatedAttributes.length;++X){var Q=z.authenticatedAttributes[X];Q.type===t.pki.oids.messageDigest?Q.value=L[z.digestAlgorithm].digest():Q.type===t.pki.oids.signingTime&&(Q.value||(Q.value=H)),E.value.push(N(Q)),z.authenticatedAttributesAsn1.value.push(N(Q))}q=e.toDer(E).getBytes(),z.md.start().update(q)}z.signature=z.key.sign(z.md,"RSASSA-PKCS1-V1_5")}U.signerInfos=function R(U){for(var J=[],O=0;O<U.length;++O)J.push(A(U[O]));return J}(U.signers)}(V)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(L){"string"==typeof L&&(L=t.pki.certificateFromPem(L)),U.certificates.push(L)},addCertificateRevokationList:function(L){throw new Error("PKCS#7 CRL support not yet implemented.")}}},m.createEncryptedData=function(){var U=null;return U={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(J){k(U,J,m.asn1.encryptedDataValidator)},decrypt:function(J){void 0!==J&&(U.encryptedContent.key=J),P(U)}}},m.createEnvelopedData=function(){var U=null;return U={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(J){var O=k(U,J,m.asn1.envelopedDataValidator);U.recipients=function C(U){for(var J=[],O=0;O<U.length;++O)J.push(w(U[O]));return J}(O.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(U.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(U.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,g(U.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,a(U.encryptedContent))])])])},findRecipient:function(J){for(var O=J.issuer.attributes,L=0;L<U.recipients.length;++L){var F=U.recipients[L],V=F.issuer;if(F.serialNumber===J.serialNumber&&V.length===O.length){for(var q=!0,ie=0;ie<O.length;++ie)if(V[ie].type!==O[ie].type||V[ie].value!==O[ie].value){q=!1;break}if(q)return F}}return null},decrypt:function(J,O){if(void 0===U.encryptedContent.key&&void 0!==J&&void 0!==O)switch(J.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var L=O.decrypt(J.encryptedContent.content);U.encryptedContent.key=t.util.createBuffer(L);break;default:throw new Error("Unsupported asymmetric cipher, OID "+J.encryptedContent.algorithm)}P(U)},addRecipient:function(J){U.recipients.push({version:0,issuer:J.issuer.attributes,serialNumber:J.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:J.publicKey}})},encrypt:function(J,O){if(void 0===U.encryptedContent.content){var L,F,V;switch(J=J||U.encryptedContent.key,O=O||U.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:L=16,F=16,V=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:L=24,F=16,V=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:L=32,F=16,V=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:L=24,F=8,V=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+O)}if(void 0===J)J=t.util.createBuffer(t.random.getBytes(L));else if(J.length()!=L)throw new Error("Symmetric key has wrong length; got "+J.length()+" bytes, expected "+L+".");U.encryptedContent.algorithm=O,U.encryptedContent.key=J,U.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(F));var q=V(J);if(q.start(U.encryptedContent.parameter.copy()),q.update(U.content),!q.finish())throw new Error("Symmetric encryption failed.");U.encryptedContent.content=q.output}for(var ie=0;ie<U.recipients.length;++ie){var H=U.recipients[ie];if(void 0===H.encryptedContent.content){if(H.encryptedContent.algorithm!==t.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+H.encryptedContent.algorithm);H.encryptedContent.content=H.encryptedContent.key.encrypt(U.encryptedContent.key.data)}}}}}},4957:(st,ye,f)=>{var t=f(8659);f(7791),f(4747);var e=t.asn1,m=st.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=m;var w={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};m.contentInfoValidator=w;var b={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};m.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(b)},m.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(b)},m.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},w,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},m.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},1965:(st,ye,f)=>{var t=f(8659);f(7791),f(6078),f(2158),f(8604),f(7949),f(562),f(7256),f(5517),f(4747),f(5911);var e=t.asn1,m=st.exports=t.pki=t.pki||{};m.pemToDer=function(w){var b=t.pem.decode(w)[0];if(b.procType&&"ENCRYPTED"===b.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(b.body)},m.privateKeyFromPem=function(w){var b=t.pem.decode(w)[0];if("PRIVATE KEY"!==b.type&&"RSA PRIVATE KEY"!==b.type){var C=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw C.headerType=b.type,C}if(b.procType&&"ENCRYPTED"===b.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var g=e.fromDer(b.body);return m.privateKeyFromAsn1(g)},m.privateKeyToPem=function(w,b){var C={type:"RSA PRIVATE KEY",body:e.toDer(m.privateKeyToAsn1(w)).getBytes()};return t.pem.encode(C,{maxline:b})},m.privateKeyInfoToPem=function(w,b){var C={type:"PRIVATE KEY",body:e.toDer(w).getBytes()};return t.pem.encode(C,{maxline:b})}},9709:(st,ye,f)=>{var t=f(8659);f(4747),f(730),f(8365),function(){if(t.prime)st.exports=t.prime;else{var e=st.exports=t.prime=t.prime||{},m=t.jsbn.BigInteger,w=[6,4,2,4,2,4,6,2],b=new m(null);b.fromInt(30);var C=function(a,k){return a|k};e.generateProbablePrime=function(a,k,P){"function"==typeof k&&(P=k,k={});var U=(k=k||{}).algorithm||"PRIMEINC";"string"==typeof U&&(U={name:U}),U.options=U.options||{};var J=k.prng||t.random;if("PRIMEINC"===U.name)return function g(a,k,P,U){return"workers"in P?function _(a,k,P,U){if(typeof Worker>"u")return p(a,k,P,U);var J=R(a,k),O=P.workers,L=P.workLoad||100,F=30*L/8,V=P.workerScript||"forge/prime.worker.js";if(-1===O)return t.util.estimateCores(function(ie,H){ie&&(H=2),O=H-1,q()});function q(){O=Math.max(1,O);for(var ie=[],H=0;H<O;++H)ie[H]=new Worker(V);for(H=0;H<O;++H)ie[H].addEventListener("message",E);var z=!1;function E(X){if(!z){var Q=X.data;if(Q.found){for(var ce=0;ce<ie.length;++ce)ie[ce].terminate();return z=!0,U(null,new m(Q.prime,16))}J.bitLength()>a&&(J=R(a,k));var _e=J.toString(16);X.target.postMessage({hex:_e,workLoad:L}),J.dAddOffset(F,0)}}}q()}(a,k,P,U):p(a,k,P,U)}(a,{nextBytes:function(L){for(var F=J.getBytesSync(L.length),V=0;V<L.length;++V)L[V]=F.charCodeAt(V)}},U.options,P);throw new Error("Invalid prime generation algorithm: "+U.name)}}function p(a,k,P,U){var J=R(a,k),L=function N(a){return a<=100?27:a<=150?18:a<=200?15:a<=250?12:a<=300?9:a<=350?8:a<=400?7:a<=500?6:a<=600?5:a<=800?4:a<=1250?3:2}(J.bitLength());"millerRabinTests"in P&&(L=P.millerRabinTests);var F=10;"maxBlockTime"in P&&(F=P.maxBlockTime),A(J,a,k,0,L,F,U)}function A(a,k,P,U,J,O,L){var F=+new Date;do{if(a.bitLength()>k&&(a=R(k,P)),a.isProbablePrime(J))return L(null,a);a.dAddOffset(w[U++%8],0)}while(O<0||+new Date-F<O);t.util.setImmediate(function(){A(a,k,P,U,J,O,L)})}function R(a,k){var P=new m(a,k),U=a-1;return P.testBit(U)||P.bitwiseTo(m.ONE.shiftLeft(U),C,P),P.dAddOffset(31-P.mod(b).byteValue(),0),P}}()},4473:(st,ye,f)=>{var t=f(8659);f(4747);var e=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=f(5819)),(st.exports=t.prng=t.prng||{}).create=function(w){for(var b={plugin:w,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},C=w.md,g=new Array(32),p=0;p<32;++p)g[p]=C.create();function _(){if(b.pools[0].messageLength>=32)return R();b.collect(b.seedFileSync(32-b.pools[0].messageLength<<5)),R()}function R(){b.reseeds=4294967295===b.reseeds?0:b.reseeds+1;var a=b.plugin.md.create();a.update(b.keyBytes);for(var k=1,P=0;P<32;++P)b.reseeds%k==0&&(a.update(b.pools[P].digest().getBytes()),b.pools[P].start()),k<<=1;b.keyBytes=a.digest().getBytes(),a.start(),a.update(b.keyBytes);var U=a.digest().getBytes();b.key=b.plugin.formatKey(b.keyBytes),b.seed=b.plugin.formatSeed(U),b.generated=0}function N(a){var k=null,P=t.util.globalScope,U=P.crypto||P.msCrypto;U&&U.getRandomValues&&(k=function($){return U.getRandomValues($)});var J=t.util.createBuffer();if(k)for(;J.length()<a;){var O=Math.max(1,Math.min(a-J.length(),65536)/4),L=new Uint32Array(Math.floor(O));try{k(L);for(var F=0;F<L.length;++F)J.putInt32(L[F])}catch($){if(!(typeof QuotaExceededError<"u"&&$ instanceof QuotaExceededError))throw $}}if(J.length()<a)for(var V,q,ie,H=Math.floor(65536*Math.random());J.length()<a;)for(q=16807*(65535&H),q+=(32767&(V=16807*(H>>16)))<<16,H=4294967295&(q=(2147483647&(q+=V>>15))+(q>>31)),F=0;F<3;++F)ie=H>>>(F<<3),ie^=Math.floor(256*Math.random()),J.putByte(255&ie);return J.getBytes(a)}return b.pools=g,b.pool=0,b.generate=function(a,k){if(!k)return b.generateSync(a);var P=b.plugin.cipher,U=b.plugin.increment,J=b.plugin.formatKey,O=b.plugin.formatSeed,L=t.util.createBuffer();b.key=null,function F(V){if(V)return k(V);if(L.length()>=a)return k(null,L.getBytes(a));if(b.generated>1048575&&(b.key=null),null===b.key)return t.util.nextTick(function(){!function A(a){if(b.pools[0].messageLength>=32)return R(),a();b.seedFile(32-b.pools[0].messageLength<<5,function(P,U){if(P)return a(P);b.collect(U),R(),a()})}(F)});var q=P(b.key,b.seed);b.generated+=q.length,L.putBytes(q),b.key=J(P(b.key,U(b.seed))),b.seed=O(P(b.key,b.seed)),t.util.setImmediate(F)}()},b.generateSync=function(a){var k=b.plugin.cipher,P=b.plugin.increment,U=b.plugin.formatKey,J=b.plugin.formatSeed;b.key=null;for(var O=t.util.createBuffer();O.length()<a;){b.generated>1048575&&(b.key=null),null===b.key&&_();var L=k(b.key,b.seed);b.generated+=L.length,O.putBytes(L),b.key=U(k(b.key,P(b.seed))),b.seed=J(k(b.key,b.seed))}return O.getBytes(a)},e?(b.seedFile=function(a,k){e.randomBytes(a,function(P,U){if(P)return k(P);k(null,U.toString())})},b.seedFileSync=function(a){return e.randomBytes(a).toString()}):(b.seedFile=function(a,k){try{k(null,N(a))}catch(P){k(P)}},b.seedFileSync=N),b.collect=function(a){for(var k=a.length,P=0;P<k;++P)b.pools[b.pool].update(a.substr(P,1)),b.pool=31===b.pool?0:b.pool+1},b.collectInt=function(a,k){for(var P="",U=0;U<k;U+=8)P+=String.fromCharCode(a>>U&255);b.collect(P)},b.registerWorker=function(a){a===self?b.seedFile=function(P,U){self.addEventListener("message",function J(O){var L=O.data;L.forge&&L.forge.prng&&(self.removeEventListener("message",J),U(L.forge.prng.err,L.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:P}}})}:a.addEventListener("message",function(P){var U=P.data;U.forge&&U.forge.prng&&b.seedFile(U.forge.prng.needed,function(J,O){a.postMessage({forge:{prng:{err:J,bytes:O}}})})})},b}},7256:(st,ye,f)=>{var t=f(8659);f(8365),f(4747),(st.exports=t.pss=t.pss||{}).create=function(m){3===arguments.length&&(m={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var p,w=m.md,b=m.mgf,C=w.digestLength,g=m.salt||null;if("string"==typeof g&&(g=t.util.createBuffer(g)),"saltLength"in m)p=m.saltLength;else{if(null===g)throw new Error("Salt length not specified or specific salt not given.");p=g.length()}if(null!==g&&g.length()!==p)throw new Error("Given salt length does not match length of given salt.");var A=m.prng||t.random,_={encode:function(R,N){var a,J,k=N-1,P=Math.ceil(k/8),U=R.digest().getBytes();if(P<C+p+2)throw new Error("Message is too long to encrypt.");J=null===g?A.getBytesSync(p):g.bytes();var O=new t.util.ByteBuffer;O.fillWithByte(0,8),O.putBytes(U),O.putBytes(J),w.start(),w.update(O.getBytes());var L=w.digest().getBytes(),F=new t.util.ByteBuffer;F.fillWithByte(0,P-p-C-2),F.putByte(1),F.putBytes(J);var V=F.getBytes(),q=P-C-1,ie=b.generate(L,q),H="";for(a=0;a<q;a++)H+=String.fromCharCode(V.charCodeAt(a)^ie.charCodeAt(a));var $=65280>>8*P-k&255;return(H=String.fromCharCode(H.charCodeAt(0)&~$)+H.substr(1))+L+String.fromCharCode(188)},verify:function(R,N,a){var k,P=a-1,U=Math.ceil(P/8);if(N=N.substr(-U),U<C+p+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==N.charCodeAt(U-1))throw new Error("Encoded message does not end in 0xBC.");var J=U-C-1,O=N.substr(0,J),L=N.substr(J,C),F=65280>>8*U-P&255;if(0!=(O.charCodeAt(0)&F))throw new Error("Bits beyond keysize not zero as expected.");var V=b.generate(L,J),q="";for(k=0;k<J;k++)q+=String.fromCharCode(O.charCodeAt(k)^V.charCodeAt(k));q=String.fromCharCode(q.charCodeAt(0)&~F)+q.substr(1);var ie=U-C-p-2;for(k=0;k<ie;k++)if(0!==q.charCodeAt(k))throw new Error("Leftmost octets not zero as expected");if(1!==q.charCodeAt(ie))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var H=q.substr(-p),$=new t.util.ByteBuffer;return $.fillWithByte(0,8),$.putBytes(R),$.putBytes(H),w.start(),w.update($.getBytes()),L===w.digest().getBytes()}};return _}},8365:(st,ye,f)=>{var t=f(8659);f(1298),f(1594),f(4473),f(4747),t.random&&t.random.getBytes?st.exports=t.random:function(e){var m={},w=new Array(4),b=t.util.createBuffer();function C(){var a=t.prng.create(m);return a.getBytes=function(k,P){return a.generate(k,P)},a.getBytesSync=function(k){return a.generate(k)},a}m.formatKey=function(a){var k=t.util.createBuffer(a);return(a=new Array(4))[0]=k.getInt32(),a[1]=k.getInt32(),a[2]=k.getInt32(),a[3]=k.getInt32(),t.aes._expandKey(a,!1)},m.formatSeed=function(a){var k=t.util.createBuffer(a);return(a=new Array(4))[0]=k.getInt32(),a[1]=k.getInt32(),a[2]=k.getInt32(),a[3]=k.getInt32(),a},m.cipher=function(a,k){return t.aes._updateBlock(a,k,w,!1),b.putInt32(w[0]),b.putInt32(w[1]),b.putInt32(w[2]),b.putInt32(w[3]),b.getBytes()},m.increment=function(a){return++a[3],a},m.md=t.md.sha256;var g=C(),p=null,A=t.util.globalScope,_=A.crypto||A.msCrypto;if(_&&_.getRandomValues&&(p=function(a){return _.getRandomValues(a)}),t.options.usePureJavaScript||!t.util.isNodejs&&!p){if(typeof window>"u"||window,g.collectInt(+new Date,32),typeof navigator<"u"){var R="";for(var N in navigator)try{"string"==typeof navigator[N]&&(R+=navigator[N])}catch{}g.collect(R),R=null}e&&(e().mousemove(function(a){g.collectInt(a.clientX,16),g.collectInt(a.clientY,16)}),e().keypress(function(a){g.collectInt(a.charCode,8)}))}if(t.random)for(var N in g)t.random[N]=g[N];else t.random=g;t.random.createInstance=C,st.exports=t.random}(typeof jQuery<"u"?jQuery:null)},209:(st,ye,f)=>{var t=f(8659);f(4747);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],m=[1,2,3,5],w=function(g,p){return g<<p&65535|(65535&g)>>16-p},b=function(g,p){return(65535&g)>>p|g<<16-p&65535};st.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(g,p){"string"==typeof g&&(g=t.util.createBuffer(g)),p=p||128;var k,A=g,_=g.length(),R=p,N=Math.ceil(R/8),a=255>>(7&R);for(k=_;k<128;k++)A.putByte(e[A.at(k-1)+A.at(k-_)&255]);for(A.setAt(128-N,e[A.at(128-N)&a]),k=127-N;k>=0;k--)A.setAt(k,e[A.at(k+1)^A.at(k+N)]);return A};var C=function(g,p,A){var k,P,U,J,_=!1,R=null,N=null,a=null,O=[];for(g=t.rc2.expandKey(g,p),U=0;U<64;U++)O.push(g.getInt16Le());A?(k=function(V){for(U=0;U<4;U++)V[U]+=O[J]+(V[(U+3)%4]&V[(U+2)%4])+(~V[(U+3)%4]&V[(U+1)%4]),V[U]=w(V[U],m[U]),J++},P=function(V){for(U=0;U<4;U++)V[U]+=O[63&V[(U+3)%4]]}):(k=function(V){for(U=3;U>=0;U--)V[U]=b(V[U],m[U]),V[U]-=O[J]+(V[(U+3)%4]&V[(U+2)%4])+(~V[(U+3)%4]&V[(U+1)%4]),J--},P=function(V){for(U=3;U>=0;U--)V[U]-=O[63&V[(U+3)%4]]});var L=function(V){var q=[];for(U=0;U<4;U++){var ie=R.getInt16Le();null!==a&&(A?ie^=a.getInt16Le():a.putInt16Le(ie)),q.push(65535&ie)}J=A?0:63;for(var H=0;H<V.length;H++)for(var $=0;$<V[H][0];$++)V[H][1](q);for(U=0;U<4;U++)null!==a&&(A?a.putInt16Le(q[U]):q[U]^=a.getInt16Le()),N.putInt16Le(q[U])},F=null;return F={start:function(V,q){V&&"string"==typeof V&&(V=t.util.createBuffer(V)),_=!1,R=t.util.createBuffer(),N=q||new t.util.createBuffer,a=V,F.output=N},update:function(V){for(_||R.putBuffer(V);R.length()>=8;)L([[5,k],[1,P],[6,k],[1,P],[5,k]])},finish:function(V){var q=!0;if(A)if(V)q=V(8,R,!A);else{var ie=8===R.length()?8:8-R.length();R.fillWithByte(ie,ie)}if(q&&(_=!0,F.update()),!A&&(q=0===R.length()))if(V)q=V(8,N,!A);else{var H=N.length(),$=N.at(H-1);$>H?q=!1:N.truncate($)}return q}}};t.rc2.startEncrypting=function(g,p,A){var _=t.rc2.createEncryptionCipher(g,128);return _.start(p,A),_},t.rc2.createEncryptionCipher=function(g,p){return C(g,p,!0)},t.rc2.startDecrypting=function(g,p,A){var _=t.rc2.createDecryptionCipher(g,128);return _.start(p,A),_},t.rc2.createDecryptionCipher=function(g,p){return C(g,p,!1)}},5517:(st,ye,f)=>{var t=f(8659);if(f(7791),f(730),f(6078),f(7246),f(9709),f(8365),f(4747),typeof e>"u")var e=t.jsbn.BigInteger;var m=t.util.isNodejs?f(5819):null,w=t.asn1,b=t.util;t.pki=t.pki||{},st.exports=t.pki.rsa=t.rsa=t.rsa||{};var C=t.pki,g=[6,4,2,4,2,4,6,2],p={name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},A={name:"RSAPrivateKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},_={name:"RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},R=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},N={name:"DigestInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:w.Class.UNIVERSAL,type:w.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},a=function(E){if(!(E.algorithm in C.oids)){var Q=new Error("Unknown message digest algorithm.");throw Q.algorithm=E.algorithm,Q}var ce=w.oidToDer(C.oids[E.algorithm]).getBytes(),_e=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]),Te=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[]);Te.value.push(w.create(w.Class.UNIVERSAL,w.Type.OID,!1,ce)),Te.value.push(w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,""));var ve=w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,E.digest().getBytes());return _e.value.push(Te),_e.value.push(ve),w.toDer(_e).getBytes()},k=function(E,X,Q){if(Q)return E.modPow(X.e,X.n);if(!X.p||!X.q)return E.modPow(X.d,X.n);var ce;X.dP||(X.dP=X.d.mod(X.p.subtract(e.ONE))),X.dQ||(X.dQ=X.d.mod(X.q.subtract(e.ONE))),X.qInv||(X.qInv=X.q.modInverse(X.p));do{ce=new e(t.util.bytesToHex(t.random.getBytes(X.n.bitLength()/8)),16)}while(ce.compareTo(X.n)>=0||!ce.gcd(X.n).equals(e.ONE));for(var _e=(E=E.multiply(ce.modPow(X.e,X.n)).mod(X.n)).mod(X.p).modPow(X.dP,X.p),Te=E.mod(X.q).modPow(X.dQ,X.q);_e.compareTo(Te)<0;)_e=_e.add(X.p);var ve=_e.subtract(Te).multiply(X.qInv).mod(X.p).multiply(X.q).add(Te);return ve.multiply(ce.modInverse(X.n)).mod(X.n)};function P(E,X,Q){var ce=t.util.createBuffer(),_e=Math.ceil(X.n.bitLength()/8);if(E.length>_e-11){var Te=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Te.length=E.length,Te.max=_e-11,Te}ce.putByte(0),ce.putByte(Q);var Ke,ve=_e-3-E.length;if(0===Q||1===Q){Ke=0===Q?0:255;for(var xe=0;xe<ve;++xe)ce.putByte(Ke)}else for(;ve>0;){var Ge=0,we=t.random.getBytes(ve);for(xe=0;xe<ve;++xe)0===(Ke=we.charCodeAt(xe))?++Ge:ce.putByte(Ke);ve=Ge}return ce.putByte(0),ce.putBytes(E),ce}function U(E,X,Q,ce){var _e=Math.ceil(X.n.bitLength()/8),Te=t.util.createBuffer(E),ve=Te.getByte(),Ke=Te.getByte();if(0!==ve||Q&&0!==Ke&&1!==Ke||!Q&&2!=Ke||Q&&0===Ke&&typeof ce>"u")throw new Error("Encryption block is invalid.");var xe=0;if(0===Ke){xe=_e-3-ce;for(var Ge=0;Ge<xe;++Ge)if(0!==Te.getByte())throw new Error("Encryption block is invalid.")}else if(1===Ke)for(xe=0;Te.length()>1;){if(255!==Te.getByte()){--Te.read;break}++xe}else if(2===Ke)for(xe=0;Te.length()>1;){if(0===Te.getByte()){--Te.read;break}++xe}if(0!==Te.getByte()||xe!==_e-3-Te.length())throw new Error("Encryption block is invalid.");return Te.getBytes()}function J(E,X,Q){"function"==typeof X&&(Q=X,X={});var ce={algorithm:{name:(X=X||{}).algorithm||"PRIMEINC",options:{workers:X.workers||2,workLoad:X.workLoad||100,workerScript:X.workerScript}}};function _e(){Te(E.pBits,function(Ke,xe){return Ke?Q(Ke):(E.p=xe,null!==E.q?ve(Ke,E.q):void Te(E.qBits,ve))})}function Te(Ke,xe){t.prime.generateProbablePrime(Ke,ce,xe)}function ve(Ke,xe){if(Ke)return Q(Ke);if(E.q=xe,E.p.compareTo(E.q)<0){var Ge=E.p;E.p=E.q,E.q=Ge}if(0!==E.p.subtract(e.ONE).gcd(E.e).compareTo(e.ONE))return E.p=null,void _e();if(0!==E.q.subtract(e.ONE).gcd(E.e).compareTo(e.ONE))return E.q=null,void Te(E.qBits,ve);if(E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),0!==E.phi.gcd(E.e).compareTo(e.ONE))return E.p=E.q=null,void _e();if(E.n=E.p.multiply(E.q),E.n.bitLength()!==E.bits)return E.q=null,void Te(E.qBits,ve);var we=E.e.modInverse(E.phi);E.keys={privateKey:C.rsa.setPrivateKey(E.n,E.e,we,E.p,E.q,we.mod(E.p1),we.mod(E.q1),E.q.modInverse(E.p)),publicKey:C.rsa.setPublicKey(E.n,E.e)},Q(null,E.keys)}"prng"in X&&(ce.prng=X.prng),_e()}function O(E){var X=E.toString(16);X[0]>="8"&&(X="00"+X);var Q=t.util.hexToBytes(X);return Q.length>1&&(0===Q.charCodeAt(0)&&0==(128&Q.charCodeAt(1))||255===Q.charCodeAt(0)&&128==(128&Q.charCodeAt(1)))?Q.substr(1):Q}function L(E){return E<=100?27:E<=150?18:E<=200?15:E<=250?12:E<=300?9:E<=350?8:E<=400?7:E<=500?6:E<=600?5:E<=800?4:E<=1250?3:2}function F(E){return t.util.isNodejs&&"function"==typeof m[E]}function V(E){return typeof b.globalScope<"u"&&"object"==typeof b.globalScope.crypto&&"object"==typeof b.globalScope.crypto.subtle&&"function"==typeof b.globalScope.crypto.subtle[E]}function q(E){return typeof b.globalScope<"u"&&"object"==typeof b.globalScope.msCrypto&&"object"==typeof b.globalScope.msCrypto.subtle&&"function"==typeof b.globalScope.msCrypto.subtle[E]}function ie(E){for(var X=t.util.hexToBytes(E.toString(16)),Q=new Uint8Array(X.length),ce=0;ce<X.length;++ce)Q[ce]=X.charCodeAt(ce);return Q}C.rsa.encrypt=function(E,X,Q){var _e,ce=Q,Te=Math.ceil(X.n.bitLength()/8);!1!==Q&&!0!==Q?(ce=2===Q,_e=P(E,X,Q)):(_e=t.util.createBuffer()).putBytes(E);for(var ve=new e(_e.toHex(),16),xe=k(ve,X,ce).toString(16),Ge=t.util.createBuffer(),we=Te-Math.ceil(xe.length/2);we>0;)Ge.putByte(0),--we;return Ge.putBytes(t.util.hexToBytes(xe)),Ge.getBytes()},C.rsa.decrypt=function(E,X,Q,ce){var _e=Math.ceil(X.n.bitLength()/8);if(E.length!==_e){var Te=new Error("Encrypted message length is invalid.");throw Te.length=E.length,Te.expected=_e,Te}var ve=new e(t.util.createBuffer(E).toHex(),16);if(ve.compareTo(X.n)>=0)throw new Error("Encrypted message is invalid.");for(var xe=k(ve,X,Q).toString(16),Ge=t.util.createBuffer(),we=_e-Math.ceil(xe.length/2);we>0;)Ge.putByte(0),--we;return Ge.putBytes(t.util.hexToBytes(xe)),!1!==ce?U(Ge.getBytes(),X,Q):Ge.getBytes()},C.rsa.createKeyPairGenerationState=function(E,X,Q){"string"==typeof E&&(E=parseInt(E,10)),E=E||2048;var ve,ce=(Q=Q||{}).prng||t.random,_e={nextBytes:function(Ke){for(var xe=ce.getBytesSync(Ke.length),Ge=0;Ge<Ke.length;++Ge)Ke[Ge]=xe.charCodeAt(Ge)}},Te=Q.algorithm||"PRIMEINC";if("PRIMEINC"!==Te)throw new Error("Invalid key generation algorithm: "+Te);return(ve={algorithm:Te,state:0,bits:E,rng:_e,eInt:X||65537,e:new e(null),p:null,q:null,qBits:E>>1,pBits:E-(E>>1),pqState:0,num:null,keys:null}).e.fromInt(ve.eInt),ve},C.rsa.stepKeyPairGenerationState=function(E,X){"algorithm"in E||(E.algorithm="PRIMEINC");var Q=new e(null);Q.fromInt(30);for(var ve,ce=0,_e=function(Ye,rt){return Ye|rt},Te=+new Date,Ke=0;null===E.keys&&(X<=0||Ke<X);){if(0===E.state){var xe=null===E.p?E.pBits:E.qBits,Ge=xe-1;0===E.pqState?(E.num=new e(xe,E.rng),E.num.testBit(Ge)||E.num.bitwiseTo(e.ONE.shiftLeft(Ge),_e,E.num),E.num.dAddOffset(31-E.num.mod(Q).byteValue(),0),ce=0,++E.pqState):1===E.pqState?E.num.bitLength()>xe?E.pqState=0:E.num.isProbablePrime(L(E.num.bitLength()))?++E.pqState:E.num.dAddOffset(g[ce++%8],0):2===E.pqState?E.pqState=0===E.num.subtract(e.ONE).gcd(E.e).compareTo(e.ONE)?3:0:3===E.pqState&&(E.pqState=0,null===E.p?E.p=E.num:E.q=E.num,null!==E.p&&null!==E.q&&++E.state,E.num=null)}else if(1===E.state)E.p.compareTo(E.q)<0&&(E.num=E.p,E.p=E.q,E.q=E.num),++E.state;else if(2===E.state)E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),++E.state;else if(3===E.state)0===E.phi.gcd(E.e).compareTo(e.ONE)?++E.state:(E.p=null,E.q=null,E.state=0);else if(4===E.state)E.n=E.p.multiply(E.q),E.n.bitLength()===E.bits?++E.state:(E.q=null,E.state=0);else if(5===E.state){var we=E.e.modInverse(E.phi);E.keys={privateKey:C.rsa.setPrivateKey(E.n,E.e,we,E.p,E.q,we.mod(E.p1),we.mod(E.q1),E.q.modInverse(E.p)),publicKey:C.rsa.setPublicKey(E.n,E.e)}}Ke+=(ve=+new Date)-Te,Te=ve}return null!==E.keys},C.rsa.generateKeyPair=function(E,X,Q,ce){if(1===arguments.length?"object"==typeof E?(Q=E,E=void 0):"function"==typeof E&&(ce=E,E=void 0):2===arguments.length?"number"==typeof E?"function"==typeof X?(ce=X,X=void 0):"number"!=typeof X&&(Q=X,X=void 0):(Q=E,ce=X,E=void 0,X=void 0):3===arguments.length&&("number"==typeof X?"function"==typeof Q&&(ce=Q,Q=void 0):(ce=Q,Q=X,X=void 0)),Q=Q||{},void 0===E&&(E=Q.bits||2048),void 0===X&&(X=Q.e||65537),!t.options.usePureJavaScript&&!Q.prng&&E>=256&&E<=16384&&(65537===X||3===X))if(ce){if(F("generateKeyPair"))return m.generateKeyPair("rsa",{modulusLength:E,publicExponent:X,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Ke,xe,Ge){if(Ke)return ce(Ke);ce(null,{privateKey:C.privateKeyFromPem(Ge),publicKey:C.publicKeyFromPem(xe)})});if(V("generateKey")&&V("exportKey"))return b.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:ie(X),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Ke){return b.globalScope.crypto.subtle.exportKey("pkcs8",Ke.privateKey)}).then(void 0,function(Ke){ce(Ke)}).then(function(Ke){if(Ke){var xe=C.privateKeyFromAsn1(w.fromDer(t.util.createBuffer(Ke)));ce(null,{privateKey:xe,publicKey:C.setRsaPublicKey(xe.n,xe.e)})}});if(q("generateKey")&&q("exportKey")){var _e=b.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:ie(X),hash:{name:"SHA-256"}},!0,["sign","verify"]);return _e.oncomplete=function(Ke){var Ge=b.globalScope.msCrypto.subtle.exportKey("pkcs8",Ke.target.result.privateKey);Ge.oncomplete=function(we){var rt=C.privateKeyFromAsn1(w.fromDer(t.util.createBuffer(we.target.result)));ce(null,{privateKey:rt,publicKey:C.setRsaPublicKey(rt.n,rt.e)})},Ge.onerror=function(we){ce(we)}},void(_e.onerror=function(Ke){ce(Ke)})}}else if(F("generateKeyPairSync")){var Te=m.generateKeyPairSync("rsa",{modulusLength:E,publicExponent:X,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:C.privateKeyFromPem(Te.privateKey),publicKey:C.publicKeyFromPem(Te.publicKey)}}var ve=C.rsa.createKeyPairGenerationState(E,X,Q);if(!ce)return C.rsa.stepKeyPairGenerationState(ve,0),ve.keys;J(ve,Q,ce)},C.setRsaPublicKey=C.rsa.setPublicKey=function(E,X){var Q={n:E,e:X,encrypt:function(ce,_e,Te){if("string"==typeof _e?_e=_e.toUpperCase():void 0===_e&&(_e="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===_e)_e={encode:function(Ke,xe,Ge){return P(Ke,xe,2).getBytes()}};else if("RSA-OAEP"===_e||"RSAES-OAEP"===_e)_e={encode:function(Ke,xe){return t.pkcs1.encode_rsa_oaep(xe,Ke,Te)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(_e))_e={encode:function(Ke){return Ke}};else if("string"==typeof _e)throw new Error('Unsupported encryption scheme: "'+_e+'".');var ve=_e.encode(ce,Q,!0);return C.rsa.encrypt(ve,Q,!0)},verify:function(ce,_e,Te,ve){"string"==typeof Te?Te=Te.toUpperCase():void 0===Te&&(Te="RSASSA-PKCS1-V1_5"),void 0===ve&&(ve={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in ve||(ve._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Te?Te={verify:function(xe,Ge){Ge=U(Ge,Q,!0);var we=w.fromDer(Ge,{parseAllBytes:ve._parseAllDigestBytes}),Ye={},rt=[];if(!w.validate(we,N,Ye,rt))throw(Ct=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=rt,Ct;var Ct,at=w.derToOid(Ye.algorithmIdentifier);if(at!==t.oids.md2&&at!==t.oids.md5&&at!==t.oids.sha1&&at!==t.oids.sha224&&at!==t.oids.sha256&&at!==t.oids.sha384&&at!==t.oids.sha512&&at!==t.oids["sha512-224"]&&at!==t.oids["sha512-256"])throw(Ct=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=at,Ct;if((at===t.oids.md2||at===t.oids.md5)&&!("parameters"in Ye))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return xe===Ye.digest}}:("NONE"===Te||"NULL"===Te||null===Te)&&(Te={verify:function(xe,Ge){return xe===U(Ge,Q,!0)}});var Ke=C.rsa.decrypt(_e,Q,!0,!1);return Te.verify(ce,Ke,Q.n.bitLength())}};return Q},C.setRsaPrivateKey=C.rsa.setPrivateKey=function(E,X,Q,ce,_e,Te,ve,Ke){var xe={n:E,e:X,d:Q,p:ce,q:_e,dP:Te,dQ:ve,qInv:Ke,decrypt:function(Ge,we,Ye){"string"==typeof we?we=we.toUpperCase():void 0===we&&(we="RSAES-PKCS1-V1_5");var rt=C.rsa.decrypt(Ge,xe,!1,!1);if("RSAES-PKCS1-V1_5"===we)we={decode:U};else if("RSA-OAEP"===we||"RSAES-OAEP"===we)we={decode:function(Ct,at){return t.pkcs1.decode_rsa_oaep(at,Ct,Ye)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(we))throw new Error('Unsupported encryption scheme: "'+we+'".');we={decode:function(Ct){return Ct}}}return we.decode(rt,xe,!1)},sign:function(Ge,we){var Ye=!1;"string"==typeof we&&(we=we.toUpperCase()),void 0===we||"RSASSA-PKCS1-V1_5"===we?(we={encode:a},Ye=1):("NONE"===we||"NULL"===we||null===we)&&(we={encode:function(){return Ge}},Ye=1);var rt=we.encode(Ge,xe.n.bitLength());return C.rsa.encrypt(rt,xe,Ye)}};return xe},C.wrapRsaPrivateKey=function(E){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(C.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,w.toDer(E).getBytes())])},C.privateKeyFromAsn1=function(E){var _e,Te,ve,Ke,xe,Ge,we,Ye,X={},Q=[];if(w.validate(E,p,X,Q)&&(E=w.fromDer(t.util.createBuffer(X.privateKey))),!w.validate(E,A,X={},Q=[])){var ce=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw ce.errors=Q,ce}return _e=t.util.createBuffer(X.privateKeyModulus).toHex(),Te=t.util.createBuffer(X.privateKeyPublicExponent).toHex(),ve=t.util.createBuffer(X.privateKeyPrivateExponent).toHex(),Ke=t.util.createBuffer(X.privateKeyPrime1).toHex(),xe=t.util.createBuffer(X.privateKeyPrime2).toHex(),Ge=t.util.createBuffer(X.privateKeyExponent1).toHex(),we=t.util.createBuffer(X.privateKeyExponent2).toHex(),Ye=t.util.createBuffer(X.privateKeyCoefficient).toHex(),C.setRsaPrivateKey(new e(_e,16),new e(Te,16),new e(ve,16),new e(Ke,16),new e(xe,16),new e(Ge,16),new e(we,16),new e(Ye,16))},C.privateKeyToAsn1=C.privateKeyToRSAPrivateKey=function(E){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,w.integerToDer(0).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.e)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.d)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.p)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.q)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.dP)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.dQ)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.qInv))])},C.publicKeyFromAsn1=function(E){var X={},Q=[];if(w.validate(E,R,X,Q)){var _e,ce=w.derToOid(X.publicKeyOid);if(ce!==C.oids.rsaEncryption)throw(_e=new Error("Cannot read public key. Unknown OID.")).oid=ce,_e;E=X.rsaPublicKey}if(!w.validate(E,_,X,Q=[]))throw(_e=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=Q,_e;var Te=t.util.createBuffer(X.publicKeyModulus).toHex(),ve=t.util.createBuffer(X.publicKeyExponent).toHex();return C.setRsaPublicKey(new e(Te,16),new e(ve,16))},C.publicKeyToAsn1=C.publicKeyToSubjectPublicKeyInfo=function(E){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(C.oids.rsaEncryption).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")]),w.create(w.Class.UNIVERSAL,w.Type.BITSTRING,!1,[C.publicKeyToRSAPublicKey(E)])])},C.publicKeyToRSAPublicKey=function(E){return w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.n)),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,O(E.e))])}},7690:(st,ye,f)=>{var t=f(8659);f(979),f(4747);var e=st.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=e,e.create=function(){w||function b(){m=String.fromCharCode(128),m+=t.util.fillString(String.fromCharCode(0),64),w=!0}();var g=null,p=t.util.createBuffer(),A=new Array(80),_={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){_.messageLength=0,_.fullMessageLength=_.messageLength64=[];for(var R=_.messageLengthSize/4,N=0;N<R;++N)_.fullMessageLength.push(0);return p=t.util.createBuffer(),g={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},_}};return _.start(),_.update=function(R,N){"utf8"===N&&(R=t.util.encodeUtf8(R));var a=R.length;_.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var k=_.fullMessageLength.length-1;k>=0;--k)_.fullMessageLength[k]+=a[1],a[1]=a[0]+(_.fullMessageLength[k]/4294967296>>>0),_.fullMessageLength[k]=_.fullMessageLength[k]>>>0,a[0]=a[1]/4294967296>>>0;return p.putBytes(R),C(g,A,p),(p.read>2048||0===p.length())&&p.compact(),_},_.digest=function(){var R=t.util.createBuffer();R.putBytes(p.bytes()),R.putBytes(m.substr(0,_.blockLength-(_.fullMessageLength[_.fullMessageLength.length-1]+_.messageLengthSize&_.blockLength-1)));for(var k,U=8*_.fullMessageLength[0],J=0;J<_.fullMessageLength.length-1;++J)R.putInt32((U+=(k=8*_.fullMessageLength[J+1])/4294967296>>>0)>>>0),U=k>>>0;R.putInt32(U);var O={h0:g.h0,h1:g.h1,h2:g.h2,h3:g.h3,h4:g.h4};C(O,A,R);var L=t.util.createBuffer();return L.putInt32(O.h0),L.putInt32(O.h1),L.putInt32(O.h2),L.putInt32(O.h3),L.putInt32(O.h4),L},_};var m=null,w=!1;function C(g,p,A){for(var _,R,N,a,k,P,J,O=A.length();O>=64;){for(R=g.h0,N=g.h1,a=g.h2,k=g.h3,P=g.h4,J=0;J<16;++J)_=A.getInt32(),p[J]=_,_=(R<<5|R>>>27)+(k^N&(a^k))+P+1518500249+_,P=k,k=a,a=(N<<30|N>>>2)>>>0,N=R,R=_;for(;J<20;++J)p[J]=_=(_=p[J-3]^p[J-8]^p[J-14]^p[J-16])<<1|_>>>31,_=(R<<5|R>>>27)+(k^N&(a^k))+P+1518500249+_,P=k,k=a,a=(N<<30|N>>>2)>>>0,N=R,R=_;for(;J<32;++J)p[J]=_=(_=p[J-3]^p[J-8]^p[J-14]^p[J-16])<<1|_>>>31,_=(R<<5|R>>>27)+(N^a^k)+P+1859775393+_,P=k,k=a,a=(N<<30|N>>>2)>>>0,N=R,R=_;for(;J<40;++J)p[J]=_=(_=p[J-6]^p[J-16]^p[J-28]^p[J-32])<<2|_>>>30,_=(R<<5|R>>>27)+(N^a^k)+P+1859775393+_,P=k,k=a,a=(N<<30|N>>>2)>>>0,N=R,R=_;for(;J<60;++J)p[J]=_=(_=p[J-6]^p[J-16]^p[J-28]^p[J-32])<<2|_>>>30,_=(R<<5|R>>>27)+(N&a|k&(N^a))+P+2400959708+_,P=k,k=a,a=(N<<30|N>>>2)>>>0,N=R,R=_;for(;J<80;++J)p[J]=_=(_=p[J-6]^p[J-16]^p[J-28]^p[J-32])<<2|_>>>30,_=(R<<5|R>>>27)+(N^a^k)+P+3395469782+_,P=k,k=a,a=(N<<30|N>>>2)>>>0,N=R,R=_;g.h0=g.h0+R|0,g.h1=g.h1+N|0,g.h2=g.h2+a|0,g.h3=g.h3+k|0,g.h4=g.h4+P|0,O-=64}}},1594:(st,ye,f)=>{var t=f(8659);f(979),f(4747);var e=st.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=e,e.create=function(){w||function C(){m=String.fromCharCode(128),m+=t.util.fillString(String.fromCharCode(0),64),b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=!0}();var p=null,A=t.util.createBuffer(),_=new Array(64),R={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){R.messageLength=0,R.fullMessageLength=R.messageLength64=[];for(var N=R.messageLengthSize/4,a=0;a<N;++a)R.fullMessageLength.push(0);return A=t.util.createBuffer(),p={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},R}};return R.start(),R.update=function(N,a){"utf8"===a&&(N=t.util.encodeUtf8(N));var k=N.length;R.messageLength+=k,k=[k/4294967296>>>0,k>>>0];for(var P=R.fullMessageLength.length-1;P>=0;--P)R.fullMessageLength[P]+=k[1],k[1]=k[0]+(R.fullMessageLength[P]/4294967296>>>0),R.fullMessageLength[P]=R.fullMessageLength[P]>>>0,k[0]=k[1]/4294967296>>>0;return A.putBytes(N),g(p,_,A),(A.read>2048||0===A.length())&&A.compact(),R},R.digest=function(){var N=t.util.createBuffer();N.putBytes(A.bytes()),N.putBytes(m.substr(0,R.blockLength-(R.fullMessageLength[R.fullMessageLength.length-1]+R.messageLengthSize&R.blockLength-1)));for(var P,J=8*R.fullMessageLength[0],O=0;O<R.fullMessageLength.length-1;++O)N.putInt32((J+=(P=8*R.fullMessageLength[O+1])/4294967296>>>0)>>>0),J=P>>>0;N.putInt32(J);var L={h0:p.h0,h1:p.h1,h2:p.h2,h3:p.h3,h4:p.h4,h5:p.h5,h6:p.h6,h7:p.h7};g(L,_,N);var F=t.util.createBuffer();return F.putInt32(L.h0),F.putInt32(L.h1),F.putInt32(L.h2),F.putInt32(L.h3),F.putInt32(L.h4),F.putInt32(L.h5),F.putInt32(L.h6),F.putInt32(L.h7),F},R};var m=null,w=!1,b=null;function g(p,A,_){for(var R,N,U,J,O,L,F,V,q,ie,H,$,z=_.length();z>=64;){for(J=0;J<16;++J)A[J]=_.getInt32();for(;J<64;++J)A[J]=(R=((R=A[J-2])>>>17|R<<15)^(R>>>19|R<<13)^R>>>10)+A[J-7]+(N=((N=A[J-15])>>>7|N<<25)^(N>>>18|N<<14)^N>>>3)+A[J-16]|0;for(O=p.h0,L=p.h1,F=p.h2,V=p.h3,q=p.h4,ie=p.h5,H=p.h6,$=p.h7,J=0;J<64;++J)U=O&L|F&(O^L),R=$+((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(H^q&(ie^H))+b[J]+A[J],$=H,H=ie,ie=q,q=V+R>>>0,V=F,F=L,L=O,O=R+(N=((O>>>2|O<<30)^(O>>>13|O<<19)^(O>>>22|O<<10))+U)>>>0;p.h0=p.h0+O|0,p.h1=p.h1+L|0,p.h2=p.h2+F|0,p.h3=p.h3+V|0,p.h4=p.h4+q|0,p.h5=p.h5+ie|0,p.h6=p.h6+H|0,p.h7=p.h7+$|0,z-=64}}},8985:(st,ye,f)=>{var t=f(8659);f(979),f(4747);var e=st.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=e;var m=t.sha384=t.sha512.sha384=t.sha512.sha384||{};m.create=function(){return e.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=m,t.sha512.sha256=t.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,e.create=function(_){if(b||function p(){w=String.fromCharCode(128),w+=t.util.fillString(String.fromCharCode(0),128),C=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(g={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],g["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],g["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],g["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],b=!0}(),typeof _>"u"&&(_="SHA-512"),!(_ in g))throw new Error("Invalid SHA-512 algorithm: "+_);for(var R=g[_],N=null,a=t.util.createBuffer(),k=new Array(80),P=0;P<80;++P)k[P]=new Array(2);var U=64;switch(_){case"SHA-384":U=48;break;case"SHA-512/256":U=32;break;case"SHA-512/224":U=28}var J={algorithm:_.replace("-","").toLowerCase(),blockLength:128,digestLength:U,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){J.messageLength=0,J.fullMessageLength=J.messageLength128=[];for(var O=J.messageLengthSize/4,L=0;L<O;++L)J.fullMessageLength.push(0);for(a=t.util.createBuffer(),N=new Array(R.length),L=0;L<R.length;++L)N[L]=R[L].slice(0);return J}};return J.start(),J.update=function(O,L){"utf8"===L&&(O=t.util.encodeUtf8(O));var F=O.length;J.messageLength+=F,F=[F/4294967296>>>0,F>>>0];for(var V=J.fullMessageLength.length-1;V>=0;--V)J.fullMessageLength[V]+=F[1],F[1]=F[0]+(J.fullMessageLength[V]/4294967296>>>0),J.fullMessageLength[V]=J.fullMessageLength[V]>>>0,F[0]=F[1]/4294967296>>>0;return a.putBytes(O),A(N,k,a),(a.read>2048||0===a.length())&&a.compact(),J},J.digest=function(){var O=t.util.createBuffer();O.putBytes(a.bytes()),O.putBytes(w.substr(0,J.blockLength-(J.fullMessageLength[J.fullMessageLength.length-1]+J.messageLengthSize&J.blockLength-1)));for(var V,ie=8*J.fullMessageLength[0],H=0;H<J.fullMessageLength.length-1;++H)O.putInt32((ie+=(V=8*J.fullMessageLength[H+1])/4294967296>>>0)>>>0),ie=V>>>0;O.putInt32(ie);var $=new Array(N.length);for(H=0;H<N.length;++H)$[H]=N[H].slice(0);A($,k,O);var E,z=t.util.createBuffer();for(E="SHA-512"===_?$.length:"SHA-384"===_?$.length-2:$.length-4,H=0;H<E;++H)z.putInt32($[H][0]),(H!==E-1||"SHA-512/224"!==_)&&z.putInt32($[H][1]);return z},J};var w=null,b=!1,C=null,g=null;function A(_,R,N){for(var a,k,P,U,$,z,E,X,Q,ce,_e,Te,ve,Ke,xe,Ge,we,Ye,rt,Ct,at,dt,ct,Gt,ln,Mt,It,Y=N.length();Y>=128;){for(at=0;at<16;++at)R[at][0]=N.getInt32()>>>0,R[at][1]=N.getInt32()>>>0;for(;at<80;++at)k=(((dt=(Gt=R[at-2])[0])<<13|(ct=Gt[1])>>>19)^(ct<<3|dt>>>29)^(dt<<26|ct>>>6))>>>0,R[at][0]=(a=((dt>>>19|ct<<13)^(ct>>>29|dt<<3)^dt>>>6)>>>0)+(ln=R[at-7])[0]+(P=(((dt=(Mt=R[at-15])[0])>>>1|(ct=Mt[1])<<31)^(dt>>>8|ct<<24)^dt>>>7)>>>0)+(It=R[at-16])[0]+((ct=k+ln[1]+(U=((dt<<31|ct>>>1)^(dt<<24|ct>>>8)^(dt<<25|ct>>>7))>>>0)+It[1])/4294967296>>>0)>>>0,R[at][1]=ct>>>0;for($=_[0][0],z=_[0][1],E=_[1][0],X=_[1][1],Q=_[2][0],ce=_[2][1],_e=_[3][0],Te=_[3][1],ve=_[4][0],Ke=_[4][1],xe=_[5][0],Ge=_[5][1],we=_[6][0],Ye=_[6][1],rt=_[7][0],Ct=_[7][1],at=0;at<80;++at)a=rt+(((ve>>>14|Ke<<18)^(ve>>>18|Ke<<14)^(Ke>>>9|ve<<23))>>>0)+((we^ve&(xe^we))>>>0)+C[at][0]+R[at][0]+((ct=Ct+(((ve<<18|Ke>>>14)^(ve<<14|Ke>>>18)^(Ke<<23|ve>>>9))>>>0)+((Ye^Ke&(Ge^Ye))>>>0)+C[at][1]+R[at][1])/4294967296>>>0)>>>0,k=ct>>>0,P=((($>>>28|z<<4)^(z>>>2|$<<30)^(z>>>7|$<<25))>>>0)+(($&E|Q&($^E))>>>0)+((ct=((($<<4|z>>>28)^(z<<30|$>>>2)^(z<<25|$>>>7))>>>0)+((z&X|ce&(z^X))>>>0))/4294967296>>>0)>>>0,U=ct>>>0,rt=we,Ct=Ye,we=xe,Ye=Ge,xe=ve,Ge=Ke,ve=_e+a+((ct=Te+k)/4294967296>>>0)>>>0,Ke=ct>>>0,_e=Q,Te=ce,Q=E,ce=X,E=$,X=z,$=a+P+((ct=k+U)/4294967296>>>0)>>>0,z=ct>>>0;_[0][0]=_[0][0]+$+((ct=_[0][1]+z)/4294967296>>>0)>>>0,_[0][1]=ct>>>0,_[1][0]=_[1][0]+E+((ct=_[1][1]+X)/4294967296>>>0)>>>0,_[1][1]=ct>>>0,_[2][0]=_[2][0]+Q+((ct=_[2][1]+ce)/4294967296>>>0)>>>0,_[2][1]=ct>>>0,_[3][0]=_[3][0]+_e+((ct=_[3][1]+Te)/4294967296>>>0)>>>0,_[3][1]=ct>>>0,_[4][0]=_[4][0]+ve+((ct=_[4][1]+Ke)/4294967296>>>0)>>>0,_[4][1]=ct>>>0,_[5][0]=_[5][0]+xe+((ct=_[5][1]+Ge)/4294967296>>>0)>>>0,_[5][1]=ct>>>0,_[6][0]=_[6][0]+we+((ct=_[6][1]+Ye)/4294967296>>>0)>>>0,_[6][1]=ct>>>0,_[7][0]=_[7][0]+rt+((ct=_[7][1]+Ct)/4294967296>>>0)>>>0,_[7][1]=ct>>>0,Y-=128}}},1015:(st,ye,f)=>{var t=f(8659);f(1298),f(9032),f(2687),f(7690),f(4747);var e=st.exports=t.ssh=t.ssh||{};function m(C,g){var p=g.toString(16);p[0]>="8"&&(p="00"+p);var A=t.util.hexToBytes(p);C.putInt32(A.length),C.putBytes(A)}function w(C,g){C.putInt32(g.length),C.putString(g)}function b(){for(var C=t.md.sha1.create(),g=arguments.length,p=0;p<g;++p)C.update(arguments[p]);return C.digest()}e.privateKeyToPutty=function(C,g,p){var A="ssh-rsa",_=""===(g=g||"")?"none":"aes256-cbc",R="PuTTY-User-Key-File-2: "+A+"\r\n";R+="Encryption: "+_+"\r\n",R+="Comment: "+(p=p||"")+"\r\n";var N=t.util.createBuffer();w(N,A),m(N,C.e),m(N,C.n);var a=t.util.encode64(N.bytes(),64),k=Math.floor(a.length/66)+1;R+="Public-Lines: "+k+"\r\n",R+=a;var U,P=t.util.createBuffer();if(m(P,C.d),m(P,C.p),m(P,C.q),m(P,C.qInv),g){var J=P.length()+16-1;J-=J%16;var O=b(P.bytes());O.truncate(O.length()-J+P.length()),P.putBuffer(O);var L=t.util.createBuffer();L.putBuffer(b("\0\0\0\0",g)),L.putBuffer(b("\0\0\0\x01",g));var F=t.aes.createEncryptionCipher(L.truncate(8),"CBC");F.start(t.util.createBuffer().fillWithByte(0,16)),F.update(P.copy()),F.finish();var V=F.output;V.truncate(16),U=t.util.encode64(V.bytes(),64)}else U=t.util.encode64(P.bytes(),64);R+="\r\nPrivate-Lines: "+(k=Math.floor(U.length/66)+1)+"\r\n",R+=U;var q=b("putty-private-key-file-mac-key",g),ie=t.util.createBuffer();w(ie,A),w(ie,_),w(ie,p),ie.putInt32(N.length()),ie.putBuffer(N),ie.putInt32(P.length()),ie.putBuffer(P);var H=t.hmac.create();return H.start("sha1",q),H.update(ie.bytes()),R+"\r\nPrivate-MAC: "+H.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(C,g){var p="ssh-rsa";g=g||"";var A=t.util.createBuffer();return w(A,p),m(A,C.e),m(A,C.n),p+" "+t.util.encode64(A.bytes())+" "+g},e.privateKeyToOpenSSH=function(C,g){return g?t.pki.encryptRsaPrivateKey(C,g,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(C)},e.getPublicKeyFingerprint=function(C,g){var p=(g=g||{}).md||t.md.md5.create(),_=t.util.createBuffer();w(_,"ssh-rsa"),m(_,C.e),m(_,C.n),p.start(),p.update(_.getBytes());var R=p.digest();if("hex"===g.encoding){var N=R.toHex();return g.delimiter?N.match(/.{2}/g).join(g.delimiter):N}if("binary"===g.encoding)return R.getBytes();if(g.encoding)throw new Error('Unknown encoding "'+g.encoding+'".');return R}},2266:(st,ye,f)=>{var t=f(8659);f(7791),f(9032),f(2687),f(8604),f(1965),f(8365),f(7690),f(4747);var e=function(Y,G,oe,Ve){var Be=t.util.createBuffer(),o=Y.length>>1,De=o+(1&Y.length),be=Y.substr(0,De),je=Y.substr(o,De),et=t.util.createBuffer(),Qe=t.hmac.create();oe=G+oe;var We=Math.ceil(Ve/16),bt=Math.ceil(Ve/20);Qe.start("MD5",be);var pt=t.util.createBuffer();et.putBytes(oe);for(var He=0;He<We;++He)Qe.start(null,null),Qe.update(et.getBytes()),et.putBuffer(Qe.digest()),Qe.start(null,null),Qe.update(et.bytes()+oe),pt.putBuffer(Qe.digest());Qe.start("SHA1",je);var ae=t.util.createBuffer();for(et.clear(),et.putBytes(oe),He=0;He<bt;++He)Qe.start(null,null),Qe.update(et.getBytes()),et.putBuffer(Qe.digest()),Qe.start(null,null),Qe.update(et.bytes()+oe),ae.putBuffer(Qe.digest());return Be.putBytes(t.util.xorBytes(pt.getBytes(),ae.getBytes(),Ve)),Be},b=function(Y,G,oe){var Ve=!1;try{var Be=Y.deflate(G.fragment.getBytes());G.fragment=t.util.createBuffer(Be),G.length=Be.length,Ve=!0}catch{}return Ve},C=function(Y,G,oe){var Ve=!1;try{var Be=Y.inflate(G.fragment.getBytes());G.fragment=t.util.createBuffer(Be),G.length=Be.length,Ve=!0}catch{}return Ve},g=function(Y,G){var oe=0;switch(G){case 1:oe=Y.getByte();break;case 2:oe=Y.getInt16();break;case 3:oe=Y.getInt24();break;case 4:oe=Y.getInt32()}return t.util.createBuffer(Y.getBytes(oe))},p=function(Y,G,oe){Y.putInt(oe.length(),G<<3),Y.putBuffer(oe)},A={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};A.SupportedVersions=[A.Versions.TLS_1_1,A.Versions.TLS_1_0],A.Version=A.SupportedVersions[0],A.MaxFragment=15360,A.ConnectionEnd={server:0,client:1},A.PRFAlgorithm={tls_prf_sha256:0},A.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},A.CipherType={stream:0,block:1,aead:2},A.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},A.CompressionMethod={none:0,deflate:1},A.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},A.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},A.Alert={},A.Alert.Level={warning:1,fatal:2},A.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},A.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},A.CipherSuites={},A.getCipherSuite=function(Y){var G=null;for(var oe in A.CipherSuites){var Ve=A.CipherSuites[oe];if(Ve.id[0]===Y.charCodeAt(0)&&Ve.id[1]===Y.charCodeAt(1)){G=Ve;break}}return G},A.handleUnexpected=function(Y,G){!Y.open&&Y.entity===A.ConnectionEnd.client||Y.error(Y,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unexpected_message}})},A.handleHelloRequest=function(Y,G,oe){!Y.handshaking&&Y.handshakes>0&&(A.queue(Y,A.createAlert(Y,{level:A.Alert.Level.warning,description:A.Alert.Description.no_renegotiation})),A.flush(Y)),Y.process()},A.parseHelloMessage=function(Y,G,oe){var Ve=null,Be=Y.entity===A.ConnectionEnd.client;if(oe<38)Y.error(Y,{message:Be?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});else{var o=G.fragment,De=o.length();if(Ve={version:{major:o.getByte(),minor:o.getByte()},random:t.util.createBuffer(o.getBytes(32)),session_id:g(o,1),extensions:[]},Be?(Ve.cipher_suite=o.getBytes(2),Ve.compression_method=o.getByte()):(Ve.cipher_suites=g(o,2),Ve.compression_methods=g(o,1)),(De=oe-(De-o.length()))>0){for(var be=g(o,2);be.length()>0;)Ve.extensions.push({type:[be.getByte(),be.getByte()],data:g(be,2)});if(!Be)for(var je=0;je<Ve.extensions.length;++je){var et=Ve.extensions[je];if(0===et.type[0]&&0===et.type[1])for(var Qe=g(et.data,2);Qe.length()>0&&0===Qe.getByte();)Y.session.extensions.server_name.serverNameList.push(g(Qe,2).getBytes())}}if(Y.session.version&&(Ve.version.major!==Y.session.version.major||Ve.version.minor!==Y.session.version.minor))return Y.error(Y,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}});if(Be)Y.session.cipherSuite=A.getCipherSuite(Ve.cipher_suite);else for(var bt=t.util.createBuffer(Ve.cipher_suites.bytes());bt.length()>0&&(Y.session.cipherSuite=A.getCipherSuite(bt.getBytes(2)),null===Y.session.cipherSuite););if(null===Y.session.cipherSuite)return Y.error(Y,{message:"No cipher suites in common.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(Ve.cipher_suite)});Y.session.compressionMethod=Be?Ve.compression_method:A.CompressionMethod.none}return Ve},A.createSecurityParameters=function(Y,G){var oe=Y.entity===A.ConnectionEnd.client,Ve=G.random.bytes(),Be=oe?Y.session.sp.client_random:Ve,o=oe?Ve:A.createRandom().getBytes();Y.session.sp={entity:Y.entity,prf_algorithm:A.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:Y.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Be,server_random:o}},A.handleServerHello=function(Y,G,oe){var Ve=A.parseHelloMessage(Y,G,oe);if(!Y.fail){if(!(Ve.version.minor<=Y.version.minor))return Y.error(Y,{message:"Incompatible TLS version.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}});Y.version.minor=Ve.version.minor,Y.session.version=Y.version;var Be=Ve.session_id.bytes();Be.length>0&&Be===Y.session.id?(Y.expect=P,Y.session.resuming=!0,Y.session.sp.server_random=Ve.random.bytes()):(Y.expect=R,Y.session.resuming=!1,A.createSecurityParameters(Y,Ve)),Y.session.id=Be,Y.process()}},A.handleClientHello=function(Y,G,oe){var Ve=A.parseHelloMessage(Y,G,oe);if(!Y.fail){var Be=Ve.session_id.bytes(),o=null;if(Y.sessionCache&&(null===(o=Y.sessionCache.getSession(Be))?Be="":(o.version.major!==Ve.version.major||o.version.minor>Ve.version.minor)&&(o=null,Be="")),0===Be.length&&(Be=t.random.getBytes(32)),Y.session.id=Be,Y.session.clientHelloVersion=Ve.version,Y.session.sp={},o)Y.version=Y.session.version=o.version,Y.session.sp=o.sp;else{for(var De,be=1;be<A.SupportedVersions.length&&!((De=A.SupportedVersions[be]).minor<=Ve.version.minor);++be);Y.version={major:De.major,minor:De.minor},Y.session.version=Y.version}null!==o?(Y.expect=ie,Y.session.resuming=!0,Y.session.sp.client_random=Ve.random.bytes()):(Y.expect=!1!==Y.verifyClient?F:V,Y.session.resuming=!1,A.createSecurityParameters(Y,Ve)),Y.open=!0,A.queue(Y,A.createRecord(Y,{type:A.ContentType.handshake,data:A.createServerHello(Y)})),Y.session.resuming?(A.queue(Y,A.createRecord(Y,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),Y.state.pending=A.createConnectionState(Y),Y.state.current.write=Y.state.pending.write,A.queue(Y,A.createRecord(Y,{type:A.ContentType.handshake,data:A.createFinished(Y)}))):(A.queue(Y,A.createRecord(Y,{type:A.ContentType.handshake,data:A.createCertificate(Y)})),Y.fail||(A.queue(Y,A.createRecord(Y,{type:A.ContentType.handshake,data:A.createServerKeyExchange(Y)})),!1!==Y.verifyClient&&A.queue(Y,A.createRecord(Y,{type:A.ContentType.handshake,data:A.createCertificateRequest(Y)})),A.queue(Y,A.createRecord(Y,{type:A.ContentType.handshake,data:A.createServerHelloDone(Y)})))),A.flush(Y),Y.process()}},A.handleCertificate=function(Y,G,oe){if(oe<3)return Y.error(Y,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var o,De,Be={certificate_list:g(G.fragment,3)},be=[];try{for(;Be.certificate_list.length()>0;)o=g(Be.certificate_list,3),De=t.asn1.fromDer(o),o=t.pki.certificateFromAsn1(De,!0),be.push(o)}catch(et){return Y.error(Y,{message:"Could not parse certificate list.",cause:et,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate}})}var je=Y.entity===A.ConnectionEnd.client;!je&&!0!==Y.verifyClient||0!==be.length?0===be.length?Y.expect=je?N:V:(je?Y.session.serverCertificate=be[0]:Y.session.clientCertificate=be[0],A.verifyCertificateChain(Y,be)&&(Y.expect=je?N:V)):Y.error(Y,{message:je?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}}),Y.process()},A.handleServerKeyExchange=function(Y,G,oe){if(oe>0)return Y.error(Y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unsupported_certificate}});Y.expect=a,Y.process()},A.handleClientKeyExchange=function(Y,G,oe){if(oe<48)return Y.error(Y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unsupported_certificate}});var Be={enc_pre_master_secret:g(G.fragment,2).getBytes()},o=null;if(Y.getPrivateKey)try{o=Y.getPrivateKey(Y,Y.session.serverCertificate),o=t.pki.privateKeyFromPem(o)}catch(je){Y.error(Y,{message:"Could not get private key.",cause:je,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}})}if(null===o)return Y.error(Y,{message:"No private key set.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}});try{var De=Y.session.sp;De.pre_master_secret=o.decrypt(Be.enc_pre_master_secret);var be=Y.session.clientHelloVersion;if(be.major!==De.pre_master_secret.charCodeAt(0)||be.minor!==De.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{De.pre_master_secret=t.random.getBytes(48)}Y.expect=ie,null!==Y.session.clientCertificate&&(Y.expect=q),Y.process()},A.handleCertificateRequest=function(Y,G,oe){if(oe<3)return Y.error(Y,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var Ve=G.fragment,Be={certificate_types:g(Ve,1),certificate_authorities:g(Ve,2)};Y.session.certificateRequest=Be,Y.expect=k,Y.process()},A.handleCertificateVerify=function(Y,G,oe){if(oe<2)return Y.error(Y,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var Ve=G.fragment;Ve.read-=4;var Be=Ve.bytes();Ve.read+=4;var o={signature:g(Ve,2).getBytes()},De=t.util.createBuffer();De.putBuffer(Y.session.md5.digest()),De.putBuffer(Y.session.sha1.digest()),De=De.getBytes();try{if(!Y.session.clientCertificate.publicKey.verify(De,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");Y.session.md5.update(Be),Y.session.sha1.update(Be)}catch{return Y.error(Y,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.handshake_failure}})}Y.expect=ie,Y.process()},A.handleServerHelloDone=function(Y,G,oe){if(oe>0)return Y.error(Y,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.record_overflow}});if(null===Y.serverCertificate){var Ve={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.insufficient_security}},o=Y.verify(Y,Ve.alert.description,0,[]);if(!0!==o)return(o||0===o)&&("object"!=typeof o||t.util.isArray(o)?"number"==typeof o&&(Ve.alert.description=o):(o.message&&(Ve.message=o.message),o.alert&&(Ve.alert.description=o.alert))),Y.error(Y,Ve)}null!==Y.session.certificateRequest&&(G=A.createRecord(Y,{type:A.ContentType.handshake,data:A.createCertificate(Y)}),A.queue(Y,G)),G=A.createRecord(Y,{type:A.ContentType.handshake,data:A.createClientKeyExchange(Y)}),A.queue(Y,G),Y.expect=O;var De=function(be,je){null!==be.session.certificateRequest&&null!==be.session.clientCertificate&&A.queue(be,A.createRecord(be,{type:A.ContentType.handshake,data:A.createCertificateVerify(be,je)})),A.queue(be,A.createRecord(be,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),be.state.pending=A.createConnectionState(be),be.state.current.write=be.state.pending.write,A.queue(be,A.createRecord(be,{type:A.ContentType.handshake,data:A.createFinished(be)})),be.expect=P,A.flush(be),be.process()};if(null===Y.session.certificateRequest||null===Y.session.clientCertificate)return De(Y,null);A.getClientSignature(Y,De)},A.handleChangeCipherSpec=function(Y,G){if(1!==G.fragment.getByte())return Y.error(Y,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var oe=Y.entity===A.ConnectionEnd.client;(Y.session.resuming&&oe||!Y.session.resuming&&!oe)&&(Y.state.pending=A.createConnectionState(Y)),Y.state.current.read=Y.state.pending.read,(!Y.session.resuming&&oe||Y.session.resuming&&!oe)&&(Y.state.pending=null),Y.expect=oe?U:H,Y.process()},A.handleFinished=function(Y,G,oe){var Ve=G.fragment;Ve.read-=4;var Be=Ve.bytes();Ve.read+=4;var o=G.fragment.getBytes();(Ve=t.util.createBuffer()).putBuffer(Y.session.md5.digest()),Ve.putBuffer(Y.session.sha1.digest());var De=Y.entity===A.ConnectionEnd.client;if((Ve=e(Y.session.sp.master_secret,De?"server finished":"client finished",Ve.getBytes(),12)).getBytes()!==o)return Y.error(Y,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.decrypt_error}});Y.session.md5.update(Be),Y.session.sha1.update(Be),(Y.session.resuming&&De||!Y.session.resuming&&!De)&&(A.queue(Y,A.createRecord(Y,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),Y.state.current.write=Y.state.pending.write,Y.state.pending=null,A.queue(Y,A.createRecord(Y,{type:A.ContentType.handshake,data:A.createFinished(Y)}))),Y.expect=De?J:$,Y.handshaking=!1,++Y.handshakes,Y.peerCertificate=De?Y.session.serverCertificate:Y.session.clientCertificate,A.flush(Y),Y.isConnected=!0,Y.connected(Y),Y.process()},A.handleAlert=function(Y,G){var Be,oe=G.fragment,Ve={level:oe.getByte(),description:oe.getByte()};switch(Ve.description){case A.Alert.Description.close_notify:Be="Connection closed.";break;case A.Alert.Description.unexpected_message:Be="Unexpected message.";break;case A.Alert.Description.bad_record_mac:Be="Bad record MAC.";break;case A.Alert.Description.decryption_failed:Be="Decryption failed.";break;case A.Alert.Description.record_overflow:Be="Record overflow.";break;case A.Alert.Description.decompression_failure:Be="Decompression failed.";break;case A.Alert.Description.handshake_failure:Be="Handshake failure.";break;case A.Alert.Description.bad_certificate:Be="Bad certificate.";break;case A.Alert.Description.unsupported_certificate:Be="Unsupported certificate.";break;case A.Alert.Description.certificate_revoked:Be="Certificate revoked.";break;case A.Alert.Description.certificate_expired:Be="Certificate expired.";break;case A.Alert.Description.certificate_unknown:Be="Certificate unknown.";break;case A.Alert.Description.illegal_parameter:Be="Illegal parameter.";break;case A.Alert.Description.unknown_ca:Be="Unknown certificate authority.";break;case A.Alert.Description.access_denied:Be="Access denied.";break;case A.Alert.Description.decode_error:Be="Decode error.";break;case A.Alert.Description.decrypt_error:Be="Decrypt error.";break;case A.Alert.Description.export_restriction:Be="Export restriction.";break;case A.Alert.Description.protocol_version:Be="Unsupported protocol version.";break;case A.Alert.Description.insufficient_security:Be="Insufficient security.";break;case A.Alert.Description.internal_error:Be="Internal error.";break;case A.Alert.Description.user_canceled:Be="User canceled.";break;case A.Alert.Description.no_renegotiation:Be="Renegotiation not supported.";break;default:Be="Unknown error."}if(Ve.description===A.Alert.Description.close_notify)return Y.close();Y.error(Y,{message:Be,send:!1,origin:Y.entity===A.ConnectionEnd.client?"server":"client",alert:Ve}),Y.process()},A.handleHandshake=function(Y,G){var oe=G.fragment,Ve=oe.getByte(),Be=oe.getInt24();if(Be>oe.length())return Y.fragmented=G,G.fragment=t.util.createBuffer(),oe.read-=4,Y.process();Y.fragmented=null,oe.read-=4;var o=oe.bytes(Be+4);oe.read+=4,Ve in at[Y.entity][Y.expect]?(Y.entity===A.ConnectionEnd.server&&!Y.open&&!Y.fail&&(Y.handshaking=!0,Y.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),Ve!==A.HandshakeType.hello_request&&Ve!==A.HandshakeType.certificate_verify&&Ve!==A.HandshakeType.finished&&(Y.session.md5.update(o),Y.session.sha1.update(o)),at[Y.entity][Y.expect][Ve](Y,G,Be)):A.handleUnexpected(Y,G)},A.handleApplicationData=function(Y,G){Y.data.putBuffer(G.fragment),Y.dataReady(Y),Y.process()},A.handleHeartbeat=function(Y,G){var oe=G.fragment,Ve=oe.getByte(),Be=oe.getInt16(),o=oe.getBytes(Be);if(Ve===A.HeartbeatMessageType.heartbeat_request){if(Y.handshaking||Be>o.length)return Y.process();A.queue(Y,A.createRecord(Y,{type:A.ContentType.heartbeat,data:A.createHeartbeat(A.HeartbeatMessageType.heartbeat_response,o)})),A.flush(Y)}else if(Ve===A.HeartbeatMessageType.heartbeat_response){if(o!==Y.expectedHeartbeatPayload)return Y.process();Y.heartbeatReceived&&Y.heartbeatReceived(Y,t.util.createBuffer(o))}Y.process()};var R=1,N=2,a=3,k=4,P=5,U=6,J=7,O=8,F=1,V=2,q=3,ie=4,H=5,$=6,E=A.handleUnexpected,X=A.handleChangeCipherSpec,Q=A.handleAlert,ce=A.handleHandshake,_e=A.handleApplicationData,Te=A.handleHeartbeat,ve=[];ve[A.ConnectionEnd.client]=[[E,Q,ce,E,Te],[E,Q,ce,E,Te],[E,Q,ce,E,Te],[E,Q,ce,E,Te],[E,Q,ce,E,Te],[X,Q,E,E,Te],[E,Q,ce,E,Te],[E,Q,ce,_e,Te],[E,Q,ce,E,Te]],ve[A.ConnectionEnd.server]=[[E,Q,ce,E,Te],[E,Q,ce,E,Te],[E,Q,ce,E,Te],[E,Q,ce,E,Te],[X,Q,E,E,Te],[E,Q,ce,E,Te],[E,Q,ce,_e,Te],[E,Q,ce,E,Te]];var Ke=A.handleHelloRequest,Ge=A.handleCertificate,we=A.handleServerKeyExchange,Ye=A.handleCertificateRequest,rt=A.handleServerHelloDone,Ct=A.handleFinished,at=[];at[A.ConnectionEnd.client]=[[E,E,A.handleServerHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[Ke,E,E,E,E,E,E,E,E,E,E,Ge,we,Ye,rt,E,E,E,E,E,E],[Ke,E,E,E,E,E,E,E,E,E,E,E,we,Ye,rt,E,E,E,E,E,E],[Ke,E,E,E,E,E,E,E,E,E,E,E,E,Ye,rt,E,E,E,E,E,E],[Ke,E,E,E,E,E,E,E,E,E,E,E,E,E,rt,E,E,E,E,E,E],[Ke,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[Ke,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,Ct],[Ke,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[Ke,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],at[A.ConnectionEnd.server]=[[E,A.handleClientHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,Ge,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,A.handleClientKeyExchange,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,A.handleCertificateVerify,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,Ct],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],A.generateKeys=function(Y,G){var oe=e,Ve=G.client_random+G.server_random;Y.session.resuming||(G.master_secret=oe(G.pre_master_secret,"master secret",Ve,48).bytes(),G.pre_master_secret=null);var Be=2*G.mac_key_length+2*G.enc_key_length,o=Y.version.major===A.Versions.TLS_1_0.major&&Y.version.minor===A.Versions.TLS_1_0.minor;o&&(Be+=2*G.fixed_iv_length);var De=oe(G.master_secret,"key expansion",Ve=G.server_random+G.client_random,Be),be={client_write_MAC_key:De.getBytes(G.mac_key_length),server_write_MAC_key:De.getBytes(G.mac_key_length),client_write_key:De.getBytes(G.enc_key_length),server_write_key:De.getBytes(G.enc_key_length)};return o&&(be.client_write_IV=De.getBytes(G.fixed_iv_length),be.server_write_IV=De.getBytes(G.fixed_iv_length)),be},A.createConnectionState=function(Y){var G=Y.entity===A.ConnectionEnd.client,oe=function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(De){return!0},compressionState:null,compressFunction:function(De){return!0},updateSequenceNumber:function(){4294967295===o.sequenceNumber[1]?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]}};return o},Ve={read:oe(),write:oe()};if(Ve.read.update=function(o,De){return Ve.read.cipherFunction(De,Ve.read)?Ve.read.compressFunction(o,De,Ve.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_record_mac}}),!o.fail},Ve.write.update=function(o,De){return Ve.write.compressFunction(o,De,Ve.write)?Ve.write.cipherFunction(De,Ve.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}),!o.fail},Y.session){var Be=Y.session.sp;switch(Y.session.cipherSuite.initSecurityParameters(Be),Be.keys=A.generateKeys(Y,Be),Ve.read.macKey=G?Be.keys.server_write_MAC_key:Be.keys.client_write_MAC_key,Ve.write.macKey=G?Be.keys.client_write_MAC_key:Be.keys.server_write_MAC_key,Y.session.cipherSuite.initConnectionState(Ve,Y,Be),Be.compression_algorithm){case A.CompressionMethod.none:break;case A.CompressionMethod.deflate:Ve.read.compressFunction=C,Ve.write.compressFunction=b;break;default:throw new Error("Unsupported compression algorithm.")}}return Ve},A.createRandom=function(){var Y=new Date,G=+Y+6e4*Y.getTimezoneOffset(),oe=t.util.createBuffer();return oe.putInt32(G),oe.putBytes(t.random.getBytes(28)),oe},A.createRecord=function(Y,G){return G.data?{type:G.type,version:{major:Y.version.major,minor:Y.version.minor},length:G.data.length(),fragment:G.data}:null},A.createAlert=function(Y,G){var oe=t.util.createBuffer();return oe.putByte(G.level),oe.putByte(G.description),A.createRecord(Y,{type:A.ContentType.alert,data:oe})},A.createClientHello=function(Y){Y.session.clientHelloVersion={major:Y.version.major,minor:Y.version.minor};for(var G=t.util.createBuffer(),oe=0;oe<Y.cipherSuites.length;++oe){var Ve=Y.cipherSuites[oe];G.putByte(Ve.id[0]),G.putByte(Ve.id[1])}var Be=G.length(),o=t.util.createBuffer();o.putByte(A.CompressionMethod.none);var De=o.length(),be=t.util.createBuffer();if(Y.virtualHost){var je=t.util.createBuffer();je.putByte(0),je.putByte(0);var et=t.util.createBuffer();et.putByte(0),p(et,2,t.util.createBuffer(Y.virtualHost));var Qe=t.util.createBuffer();p(Qe,2,et),p(je,2,Qe),be.putBuffer(je)}var We=be.length();We>0&&(We+=2);var bt=Y.session.id,pt=bt.length+1+2+4+28+2+Be+1+De+We,He=t.util.createBuffer();return He.putByte(A.HandshakeType.client_hello),He.putInt24(pt),He.putByte(Y.version.major),He.putByte(Y.version.minor),He.putBytes(Y.session.sp.client_random),p(He,1,t.util.createBuffer(bt)),p(He,2,G),p(He,1,o),We>0&&p(He,2,be),He},A.createServerHello=function(Y){var G=Y.session.id,oe=G.length+1+2+4+28+2+1,Ve=t.util.createBuffer();return Ve.putByte(A.HandshakeType.server_hello),Ve.putInt24(oe),Ve.putByte(Y.version.major),Ve.putByte(Y.version.minor),Ve.putBytes(Y.session.sp.server_random),p(Ve,1,t.util.createBuffer(G)),Ve.putByte(Y.session.cipherSuite.id[0]),Ve.putByte(Y.session.cipherSuite.id[1]),Ve.putByte(Y.session.compressionMethod),Ve},A.createCertificate=function(Y){var G=Y.entity===A.ConnectionEnd.client,oe=null;Y.getCertificate&&(oe=Y.getCertificate(Y,G?Y.session.certificateRequest:Y.session.extensions.server_name.serverNameList));var Be=t.util.createBuffer();if(null!==oe)try{t.util.isArray(oe)||(oe=[oe]);for(var o=null,De=0;De<oe.length;++De){var be=t.pem.decode(oe[De])[0];if("CERTIFICATE"!==be.type&&"X509 CERTIFICATE"!==be.type&&"TRUSTED CERTIFICATE"!==be.type){var je=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw je.headerType=be.type,je}if(be.procType&&"ENCRYPTED"===be.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var et=t.util.createBuffer(be.body);null===o&&(o=t.asn1.fromDer(et.bytes(),!1));var Qe=t.util.createBuffer();p(Qe,3,et),Be.putBuffer(Qe)}oe=t.pki.certificateFromAsn1(o),G?Y.session.clientCertificate=oe:Y.session.serverCertificate=oe}catch(pt){return Y.error(Y,{message:"Could not send certificate list.",cause:pt,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate}})}var We=3+Be.length(),bt=t.util.createBuffer();return bt.putByte(A.HandshakeType.certificate),bt.putInt24(We),p(bt,3,Be),bt},A.createClientKeyExchange=function(Y){var G=t.util.createBuffer();G.putByte(Y.session.clientHelloVersion.major),G.putByte(Y.session.clientHelloVersion.minor),G.putBytes(t.random.getBytes(46));var oe=Y.session.sp;oe.pre_master_secret=G.getBytes();var Be=(G=Y.session.serverCertificate.publicKey.encrypt(oe.pre_master_secret)).length+2,o=t.util.createBuffer();return o.putByte(A.HandshakeType.client_key_exchange),o.putInt24(Be),o.putInt16(G.length),o.putBytes(G),o},A.createServerKeyExchange=function(Y){return t.util.createBuffer()},A.getClientSignature=function(Y,G){var oe=t.util.createBuffer();oe.putBuffer(Y.session.md5.digest()),oe.putBuffer(Y.session.sha1.digest()),oe=oe.getBytes(),Y.getSignature=Y.getSignature||function(Ve,Be,o){var De=null;if(Ve.getPrivateKey)try{De=Ve.getPrivateKey(Ve,Ve.session.clientCertificate),De=t.pki.privateKeyFromPem(De)}catch(be){Ve.error(Ve,{message:"Could not get private key.",cause:be,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}})}null===De?Ve.error(Ve,{message:"No private key set.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}):Be=De.sign(Be,null),o(Ve,Be)},Y.getSignature(Y,oe,G)},A.createCertificateVerify=function(Y,G){var oe=G.length+2,Ve=t.util.createBuffer();return Ve.putByte(A.HandshakeType.certificate_verify),Ve.putInt24(oe),Ve.putInt16(G.length),Ve.putBytes(G),Ve},A.createCertificateRequest=function(Y){var G=t.util.createBuffer();G.putByte(1);var oe=t.util.createBuffer();for(var Ve in Y.caStore.certs){var o=t.pki.distinguishedNameToAsn1(Y.caStore.certs[Ve].subject),De=t.asn1.toDer(o);oe.putInt16(De.length()),oe.putBuffer(De)}var be=1+G.length()+2+oe.length(),je=t.util.createBuffer();return je.putByte(A.HandshakeType.certificate_request),je.putInt24(be),p(je,1,G),p(je,2,oe),je},A.createServerHelloDone=function(Y){var G=t.util.createBuffer();return G.putByte(A.HandshakeType.server_hello_done),G.putInt24(0),G},A.createChangeCipherSpec=function(){var Y=t.util.createBuffer();return Y.putByte(1),Y},A.createFinished=function(Y){var G=t.util.createBuffer();G.putBuffer(Y.session.md5.digest()),G.putBuffer(Y.session.sha1.digest()),G=e(Y.session.sp.master_secret,Y.entity===A.ConnectionEnd.client?"client finished":"server finished",G.getBytes(),12);var be=t.util.createBuffer();return be.putByte(A.HandshakeType.finished),be.putInt24(G.length()),be.putBuffer(G),be},A.createHeartbeat=function(Y,G,oe){typeof oe>"u"&&(oe=G.length);var Ve=t.util.createBuffer();Ve.putByte(Y),Ve.putInt16(oe),Ve.putBytes(G);var Be=Ve.length(),o=Math.max(16,Be-oe-3);return Ve.putBytes(t.random.getBytes(o)),Ve},A.queue=function(Y,G){if(G&&(0!==G.fragment.length()||G.type!==A.ContentType.handshake&&G.type!==A.ContentType.alert&&G.type!==A.ContentType.change_cipher_spec)){if(G.type===A.ContentType.handshake){var oe=G.fragment.bytes();Y.session.md5.update(oe),Y.session.sha1.update(oe),oe=null}var Ve;if(G.fragment.length()<=A.MaxFragment)Ve=[G];else{Ve=[];for(var Be=G.fragment.bytes();Be.length>A.MaxFragment;)Ve.push(A.createRecord(Y,{type:G.type,data:t.util.createBuffer(Be.slice(0,A.MaxFragment))})),Be=Be.slice(A.MaxFragment);Be.length>0&&Ve.push(A.createRecord(Y,{type:G.type,data:t.util.createBuffer(Be)}))}for(var o=0;o<Ve.length&&!Y.fail;++o){var De=Ve[o];Y.state.current.write.update(Y,De)&&Y.records.push(De)}}},A.flush=function(Y){for(var G=0;G<Y.records.length;++G){var oe=Y.records[G];Y.tlsData.putByte(oe.type),Y.tlsData.putByte(oe.version.major),Y.tlsData.putByte(oe.version.minor),Y.tlsData.putInt16(oe.fragment.length()),Y.tlsData.putBuffer(Y.records[G].fragment)}return Y.records=[],Y.tlsDataReady(Y)};var ln=function(Y){switch(Y){case!0:return!0;case t.pki.certificateError.bad_certificate:return A.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return A.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return A.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return A.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return A.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return A.Alert.Description.unknown_ca;default:return A.Alert.Description.bad_certificate}};for(var It in A.verifyCertificateChain=function(Y,G){try{var oe={};for(var Ve in Y.verifyOptions)oe[Ve]=Y.verifyOptions[Ve];oe.verify=function(o,De,be){ln(o);var et=Y.verify(Y,o,De,be);if(!0!==et){if("object"==typeof et&&!t.util.isArray(et)){var Qe=new Error("The application rejected the certificate.");throw Qe.send=!0,Qe.alert={level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate},et.message&&(Qe.message=et.message),et.alert&&(Qe.alert.description=et.alert),Qe}et!==o&&(et=function(Y){switch(Y){case!0:return!0;case A.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case A.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case A.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case A.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case A.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case A.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}}(et))}return et},t.pki.verifyCertificateChain(Y.caStore,G,oe)}catch(o){var Be=o;("object"!=typeof Be||t.util.isArray(Be))&&(Be={send:!0,alert:{level:A.Alert.Level.fatal,description:ln(o)}}),"send"in Be||(Be.send=!0),"alert"in Be||(Be.alert={level:A.Alert.Level.fatal,description:ln(Be.error)}),Y.error(Y,Be)}return!Y.fail},A.createSessionCache=function(Y,G){var oe=null;if(Y&&Y.getSession&&Y.setSession&&Y.order)oe=Y;else{for(var Ve in(oe={}).cache=Y||{},oe.capacity=Math.max(G||100,1),oe.order=[],Y)oe.order.length<=G?oe.order.push(Ve):delete Y[Ve];oe.getSession=function(Be){var o=null,De=null;if(Be?De=t.util.bytesToHex(Be):oe.order.length>0&&(De=oe.order[0]),null!==De&&De in oe.cache)for(var be in o=oe.cache[De],delete oe.cache[De],oe.order)if(oe.order[be]===De){oe.order.splice(be,1);break}return o},oe.setSession=function(Be,o){if(oe.order.length===oe.capacity){var De=oe.order.shift();delete oe.cache[De]}De=t.util.bytesToHex(Be),oe.order.push(De),oe.cache[De]=o}}return oe},A.createConnection=function(Y){var G;G=Y.caStore?t.util.isArray(Y.caStore)?t.pki.createCaStore(Y.caStore):Y.caStore:t.pki.createCaStore();var oe=Y.cipherSuites||null;if(null===oe)for(var Ve in oe=[],A.CipherSuites)oe.push(A.CipherSuites[Ve]);var Be=Y.server?A.ConnectionEnd.server:A.ConnectionEnd.client,o=Y.sessionCache?A.createSessionCache(Y.sessionCache):null,De={version:{major:A.Version.major,minor:A.Version.minor},entity:Be,sessionId:Y.sessionId,caStore:G,sessionCache:o,cipherSuites:oe,connected:Y.connected,virtualHost:Y.virtualHost||null,verifyClient:Y.verifyClient||!1,verify:Y.verify||function(Qe,We,bt,pt){return We},verifyOptions:Y.verifyOptions||{},getCertificate:Y.getCertificate||null,getPrivateKey:Y.getPrivateKey||null,getSignature:Y.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:Y.tlsDataReady,dataReady:Y.dataReady,heartbeatReceived:Y.heartbeatReceived,closed:Y.closed,error:function(Qe,We){We.origin=We.origin||(Qe.entity===A.ConnectionEnd.client?"client":"server"),We.send&&(A.queue(Qe,A.createAlert(Qe,We.alert)),A.flush(Qe));var bt=!1!==We.fatal;bt&&(Qe.fail=!0),Y.error(Qe,We),bt&&Qe.close(!1)},deflate:Y.deflate||null,inflate:Y.inflate||null,reset:function(Qe){De.version={major:A.Version.major,minor:A.Version.minor},De.record=null,De.session=null,De.peerCertificate=null,De.state={pending:null,current:null},De.expect=0,De.fragmented=null,De.records=[],De.open=!1,De.handshakes=0,De.handshaking=!1,De.isConnected=!1,De.fail=!(Qe||typeof Qe>"u"),De.input.clear(),De.tlsData.clear(),De.data.clear(),De.state.current=A.createConnectionState(De)}};return De.reset(),De.handshake=function(Qe){if(De.entity!==A.ConnectionEnd.client)De.error(De,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(De.handshaking)De.error(De,{message:"Handshake already in progress.",fatal:!1});else{De.fail&&!De.open&&0===De.handshakes&&(De.fail=!1),De.handshaking=!0;var We=null;(Qe=Qe||"").length>0&&(De.sessionCache&&(We=De.sessionCache.getSession(Qe)),null===We&&(Qe="")),0===Qe.length&&De.sessionCache&&null!==(We=De.sessionCache.getSession())&&(Qe=We.id),De.session={id:Qe,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},We&&(De.version=We.version,De.session.sp=We.sp),De.session.sp.client_random=A.createRandom().getBytes(),De.open=!0,A.queue(De,A.createRecord(De,{type:A.ContentType.handshake,data:A.createClientHello(De)})),A.flush(De)}},De.process=function(Qe){var We=0;return Qe&&De.input.putBytes(Qe),De.fail||(null!==De.record&&De.record.ready&&De.record.fragment.isEmpty()&&(De.record=null),null===De.record&&(We=function(Qe){var We=0,bt=Qe.input,pt=bt.length();if(pt<5)We=5-pt;else{Qe.record={type:bt.getByte(),version:{major:bt.getByte(),minor:bt.getByte()},length:bt.getInt16(),fragment:t.util.createBuffer(),ready:!1};var He=Qe.record.version.major===Qe.version.major;He&&Qe.session&&Qe.session.version&&(He=Qe.record.version.minor===Qe.version.minor),He||Qe.error(Qe,{message:"Incompatible TLS version.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}})}return We}(De)),!De.fail&&null!==De.record&&!De.record.ready&&(We=function(Qe){var We=0,bt=Qe.input,pt=bt.length();return pt<Qe.record.length?We=Qe.record.length-pt:(Qe.record.fragment.putBytes(bt.getBytes(Qe.record.length)),bt.compact(),Qe.state.current.read.update(Qe,Qe.record)&&(null!==Qe.fragmented&&(Qe.fragmented.type===Qe.record.type?(Qe.fragmented.fragment.putBuffer(Qe.record.fragment),Qe.record=Qe.fragmented):Qe.error(Qe,{message:"Invalid fragmented record.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unexpected_message}})),Qe.record.ready=!0)),We}(De)),!De.fail&&null!==De.record&&De.record.ready&&function(Qe,We){var bt=We.type-A.ContentType.change_cipher_spec,pt=ve[Qe.entity][Qe.expect];bt in pt?pt[bt](Qe,We):A.handleUnexpected(Qe,We)}(De,De.record)),We},De.prepare=function(Qe){return A.queue(De,A.createRecord(De,{type:A.ContentType.application_data,data:t.util.createBuffer(Qe)})),A.flush(De)},De.prepareHeartbeatRequest=function(Qe,We){return Qe instanceof t.util.ByteBuffer&&(Qe=Qe.bytes()),typeof We>"u"&&(We=Qe.length),De.expectedHeartbeatPayload=Qe,A.queue(De,A.createRecord(De,{type:A.ContentType.heartbeat,data:A.createHeartbeat(A.HeartbeatMessageType.heartbeat_request,Qe,We)})),A.flush(De)},De.close=function(Qe){if(!De.fail&&De.sessionCache&&De.session){var We={id:De.session.id,version:De.session.version,sp:De.session.sp};We.sp.keys=null,De.sessionCache.setSession(We.id,We)}De.open&&(De.open=!1,De.input.clear(),(De.isConnected||De.handshaking)&&(De.isConnected=De.handshaking=!1,A.queue(De,A.createAlert(De,{level:A.Alert.Level.warning,description:A.Alert.Description.close_notify})),A.flush(De)),De.closed(De)),De.reset(Qe)},De},st.exports=t.tls=t.tls||{},A)"function"!=typeof A[It]&&(t.tls[It]=A[It]);t.tls.prf_tls1=e,t.tls.hmac_sha1=function(Y,G,oe){var Ve=t.hmac.create();Ve.start("SHA1",Y);var Be=t.util.createBuffer();return Be.putInt32(G[0]),Be.putInt32(G[1]),Be.putByte(oe.type),Be.putByte(oe.version.major),Be.putByte(oe.version.minor),Be.putInt16(oe.length),Be.putBytes(oe.fragment.bytes()),Ve.update(Be.getBytes()),Ve.digest().getBytes()},t.tls.createSessionCache=A.createSessionCache,t.tls.createConnection=A.createConnection},4747:(st,ye,f)=>{var t=f(8659),e=f(2020),m=st.exports=t.util=t.util||{};function w(O){if(8!==O&&16!==O&&24!==O&&32!==O)throw new Error("Only 8, 16, 24, or 32 bits supported: "+O)}function b(O){if(this.data="",this.read=0,"string"==typeof O)this.data=O;else if(m.isArrayBuffer(O)||m.isArrayBufferView(O))if(typeof Buffer<"u"&&O instanceof Buffer)this.data=O.toString("binary");else{var L=new Uint8Array(O);try{this.data=String.fromCharCode.apply(null,L)}catch{for(var F=0;F<L.length;++F)this.putByte(L[F])}}else(O instanceof b||"object"==typeof O&&"string"==typeof O.data&&"number"==typeof O.read)&&(this.data=O.data,this.read=O.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return m.nextTick=process.nextTick,void(m.setImmediate="function"==typeof setImmediate?setImmediate:m.nextTick);if("function"==typeof setImmediate)return m.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(m.nextTick=function($){return setImmediate($)});if(m.setImmediate=function($){setTimeout($,0)},typeof window<"u"&&"function"==typeof window.postMessage){let $=function(z){if(z.source===window&&z.data===O){z.stopPropagation();var E=L.slice();L.length=0,E.forEach(function(X){X()})}};var O="forge.setImmediate",L=[];m.setImmediate=function(z){L.push(z),1===L.length&&window.postMessage(O,"*")},window.addEventListener("message",$,!0)}if(typeof MutationObserver<"u"){var F=Date.now(),V=!0,q=document.createElement("div");L=[],new MutationObserver(function(){var z=L.slice();L.length=0,z.forEach(function(E){E()})}).observe(q,{attributes:!0});var ie=m.setImmediate;m.setImmediate=function(z){Date.now()-F>15?(F=Date.now(),ie(z)):(L.push(z),1===L.length&&q.setAttribute("a",V=!V))}}m.nextTick=m.setImmediate})(),m.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,m.globalScope=m.isNodejs?global:typeof self>"u"?window:self,m.isArray=Array.isArray||function(O){return"[object Array]"===Object.prototype.toString.call(O)},m.isArrayBuffer=function(O){return typeof ArrayBuffer<"u"&&O instanceof ArrayBuffer},m.isArrayBufferView=function(O){return O&&m.isArrayBuffer(O.buffer)&&void 0!==O.byteLength},m.ByteBuffer=b,m.ByteStringBuffer=b,m.ByteStringBuffer.prototype._optimizeConstructedString=function(O){this._constructedStringLength+=O,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},m.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},m.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},m.ByteStringBuffer.prototype.putByte=function(O){return this.putBytes(String.fromCharCode(O))},m.ByteStringBuffer.prototype.fillWithByte=function(O,L){O=String.fromCharCode(O);for(var F=this.data;L>0;)1&L&&(F+=O),(L>>>=1)>0&&(O+=O);return this.data=F,this._optimizeConstructedString(L),this},m.ByteStringBuffer.prototype.putBytes=function(O){return this.data+=O,this._optimizeConstructedString(O.length),this},m.ByteStringBuffer.prototype.putString=function(O){return this.putBytes(m.encodeUtf8(O))},m.ByteStringBuffer.prototype.putInt16=function(O){return this.putBytes(String.fromCharCode(O>>8&255)+String.fromCharCode(255&O))},m.ByteStringBuffer.prototype.putInt24=function(O){return this.putBytes(String.fromCharCode(O>>16&255)+String.fromCharCode(O>>8&255)+String.fromCharCode(255&O))},m.ByteStringBuffer.prototype.putInt32=function(O){return this.putBytes(String.fromCharCode(O>>24&255)+String.fromCharCode(O>>16&255)+String.fromCharCode(O>>8&255)+String.fromCharCode(255&O))},m.ByteStringBuffer.prototype.putInt16Le=function(O){return this.putBytes(String.fromCharCode(255&O)+String.fromCharCode(O>>8&255))},m.ByteStringBuffer.prototype.putInt24Le=function(O){return this.putBytes(String.fromCharCode(255&O)+String.fromCharCode(O>>8&255)+String.fromCharCode(O>>16&255))},m.ByteStringBuffer.prototype.putInt32Le=function(O){return this.putBytes(String.fromCharCode(255&O)+String.fromCharCode(O>>8&255)+String.fromCharCode(O>>16&255)+String.fromCharCode(O>>24&255))},m.ByteStringBuffer.prototype.putInt=function(O,L){w(L);var F="";do{L-=8,F+=String.fromCharCode(O>>L&255)}while(L>0);return this.putBytes(F)},m.ByteStringBuffer.prototype.putSignedInt=function(O,L){return O<0&&(O+=2<<L-1),this.putInt(O,L)},m.ByteStringBuffer.prototype.putBuffer=function(O){return this.putBytes(O.getBytes())},m.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},m.ByteStringBuffer.prototype.getInt16=function(){var O=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,O},m.ByteStringBuffer.prototype.getInt24=function(){var O=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,O},m.ByteStringBuffer.prototype.getInt32=function(){var O=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,O},m.ByteStringBuffer.prototype.getInt16Le=function(){var O=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,O},m.ByteStringBuffer.prototype.getInt24Le=function(){var O=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,O},m.ByteStringBuffer.prototype.getInt32Le=function(){var O=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,O},m.ByteStringBuffer.prototype.getInt=function(O){w(O);var L=0;do{L=(L<<8)+this.data.charCodeAt(this.read++),O-=8}while(O>0);return L},m.ByteStringBuffer.prototype.getSignedInt=function(O){var L=this.getInt(O),F=2<<O-2;return L>=F&&(L-=F<<1),L},m.ByteStringBuffer.prototype.getBytes=function(O){var L;return O?(O=Math.min(this.length(),O),L=this.data.slice(this.read,this.read+O),this.read+=O):0===O?L="":(L=0===this.read?this.data:this.data.slice(this.read),this.clear()),L},m.ByteStringBuffer.prototype.bytes=function(O){return typeof O>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+O)},m.ByteStringBuffer.prototype.at=function(O){return this.data.charCodeAt(this.read+O)},m.ByteStringBuffer.prototype.setAt=function(O,L){return this.data=this.data.substr(0,this.read+O)+String.fromCharCode(L)+this.data.substr(this.read+O+1),this},m.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},m.ByteStringBuffer.prototype.copy=function(){var O=m.createBuffer(this.data);return O.read=this.read,O},m.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},m.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},m.ByteStringBuffer.prototype.truncate=function(O){var L=Math.max(0,this.length()-O);return this.data=this.data.substr(this.read,L),this.read=0,this},m.ByteStringBuffer.prototype.toHex=function(){for(var O="",L=this.read;L<this.data.length;++L){var F=this.data.charCodeAt(L);F<16&&(O+="0"),O+=F.toString(16)}return O},m.ByteStringBuffer.prototype.toString=function(){return m.decodeUtf8(this.bytes())},m.DataBuffer=function g(O,L){this.read=(L=L||{}).readOffset||0,this.growSize=L.growSize||1024;var F=m.isArrayBuffer(O),V=m.isArrayBufferView(O);if(F||V)return this.data=F?new DataView(O):new DataView(O.buffer,O.byteOffset,O.byteLength),void(this.write="writeOffset"in L?L.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=O&&this.putBytes(O),"writeOffset"in L&&(this.write=L.writeOffset)},m.DataBuffer.prototype.length=function(){return this.write-this.read},m.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},m.DataBuffer.prototype.accommodate=function(O,L){if(this.length()>=O)return this;L=Math.max(L||this.growSize,O);var F=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),V=new Uint8Array(this.length()+L);return V.set(F),this.data=new DataView(V.buffer),this},m.DataBuffer.prototype.putByte=function(O){return this.accommodate(1),this.data.setUint8(this.write++,O),this},m.DataBuffer.prototype.fillWithByte=function(O,L){this.accommodate(L);for(var F=0;F<L;++F)this.data.setUint8(O);return this},m.DataBuffer.prototype.putBytes=function(O,L){if(m.isArrayBufferView(O)){var V=(F=new Uint8Array(O.buffer,O.byteOffset,O.byteLength)).byteLength-F.byteOffset;return this.accommodate(V),new Uint8Array(this.data.buffer,this.write).set(F),this.write+=V,this}if(m.isArrayBuffer(O)){var F=new Uint8Array(O);return this.accommodate(F.byteLength),new Uint8Array(this.data.buffer).set(F,this.write),this.write+=F.byteLength,this}if(O instanceof m.DataBuffer||"object"==typeof O&&"number"==typeof O.read&&"number"==typeof O.write&&m.isArrayBufferView(O.data))return F=new Uint8Array(O.data.byteLength,O.read,O.length()),this.accommodate(F.byteLength),new Uint8Array(O.data.byteLength,this.write).set(F),this.write+=F.byteLength,this;if(O instanceof m.ByteStringBuffer&&(O=O.data,L="binary"),L=L||"binary","string"==typeof O){var ie;if("hex"===L)return this.accommodate(Math.ceil(O.length/2)),ie=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.hex.decode(O,ie,this.write),this;if("base64"===L)return this.accommodate(3*Math.ceil(O.length/4)),ie=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.base64.decode(O,ie,this.write),this;if("utf8"===L&&(O=m.encodeUtf8(O),L="binary"),"binary"===L||"raw"===L)return this.accommodate(O.length),ie=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.raw.decode(ie),this;if("utf16"===L)return this.accommodate(2*O.length),ie=new Uint16Array(this.data.buffer,this.write),this.write+=m.text.utf16.encode(ie),this;throw new Error("Invalid encoding: "+L)}throw Error("Invalid parameter: "+O)},m.DataBuffer.prototype.putBuffer=function(O){return this.putBytes(O),O.clear(),this},m.DataBuffer.prototype.putString=function(O){return this.putBytes(O,"utf16")},m.DataBuffer.prototype.putInt16=function(O){return this.accommodate(2),this.data.setInt16(this.write,O),this.write+=2,this},m.DataBuffer.prototype.putInt24=function(O){return this.accommodate(3),this.data.setInt16(this.write,O>>8&65535),this.data.setInt8(this.write,O>>16&255),this.write+=3,this},m.DataBuffer.prototype.putInt32=function(O){return this.accommodate(4),this.data.setInt32(this.write,O),this.write+=4,this},m.DataBuffer.prototype.putInt16Le=function(O){return this.accommodate(2),this.data.setInt16(this.write,O,!0),this.write+=2,this},m.DataBuffer.prototype.putInt24Le=function(O){return this.accommodate(3),this.data.setInt8(this.write,O>>16&255),this.data.setInt16(this.write,O>>8&65535,!0),this.write+=3,this},m.DataBuffer.prototype.putInt32Le=function(O){return this.accommodate(4),this.data.setInt32(this.write,O,!0),this.write+=4,this},m.DataBuffer.prototype.putInt=function(O,L){w(L),this.accommodate(L/8);do{L-=8,this.data.setInt8(this.write++,O>>L&255)}while(L>0);return this},m.DataBuffer.prototype.putSignedInt=function(O,L){return w(L),this.accommodate(L/8),O<0&&(O+=2<<L-1),this.putInt(O,L)},m.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},m.DataBuffer.prototype.getInt16=function(){var O=this.data.getInt16(this.read);return this.read+=2,O},m.DataBuffer.prototype.getInt24=function(){var O=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,O},m.DataBuffer.prototype.getInt32=function(){var O=this.data.getInt32(this.read);return this.read+=4,O},m.DataBuffer.prototype.getInt16Le=function(){var O=this.data.getInt16(this.read,!0);return this.read+=2,O},m.DataBuffer.prototype.getInt24Le=function(){var O=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,O},m.DataBuffer.prototype.getInt32Le=function(){var O=this.data.getInt32(this.read,!0);return this.read+=4,O},m.DataBuffer.prototype.getInt=function(O){w(O);var L=0;do{L=(L<<8)+this.data.getInt8(this.read++),O-=8}while(O>0);return L},m.DataBuffer.prototype.getSignedInt=function(O){var L=this.getInt(O),F=2<<O-2;return L>=F&&(L-=F<<1),L},m.DataBuffer.prototype.getBytes=function(O){var L;return O?(O=Math.min(this.length(),O),L=this.data.slice(this.read,this.read+O),this.read+=O):0===O?L="":(L=0===this.read?this.data:this.data.slice(this.read),this.clear()),L},m.DataBuffer.prototype.bytes=function(O){return typeof O>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+O)},m.DataBuffer.prototype.at=function(O){return this.data.getUint8(this.read+O)},m.DataBuffer.prototype.setAt=function(O,L){return this.data.setUint8(O,L),this},m.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},m.DataBuffer.prototype.copy=function(){return new m.DataBuffer(this)},m.DataBuffer.prototype.compact=function(){if(this.read>0){var O=new Uint8Array(this.data.buffer,this.read),L=new Uint8Array(O.byteLength);L.set(O),this.data=new DataView(L),this.write-=this.read,this.read=0}return this},m.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},m.DataBuffer.prototype.truncate=function(O){return this.write=Math.max(0,this.length()-O),this.read=Math.min(this.read,this.write),this},m.DataBuffer.prototype.toHex=function(){for(var O="",L=this.read;L<this.data.byteLength;++L){var F=this.data.getUint8(L);F<16&&(O+="0"),O+=F.toString(16)}return O},m.DataBuffer.prototype.toString=function(O){var L=new Uint8Array(this.data,this.read,this.length());if("binary"===(O=O||"utf8")||"raw"===O)return m.binary.raw.encode(L);if("hex"===O)return m.binary.hex.encode(L);if("base64"===O)return m.binary.base64.encode(L);if("utf8"===O)return m.text.utf8.decode(L);if("utf16"===O)return m.text.utf16.decode(L);throw new Error("Invalid encoding: "+O)},m.createBuffer=function(O,L){return L=L||"raw",void 0!==O&&"utf8"===L&&(O=m.encodeUtf8(O)),new m.ByteBuffer(O)},m.fillString=function(O,L){for(var F="";L>0;)1&L&&(F+=O),(L>>>=1)>0&&(O+=O);return F},m.xorBytes=function(O,L,F){for(var V="",q="",ie="",H=0,$=0;F>0;--F,++H)q=O.charCodeAt(H)^L.charCodeAt(H),$>=10&&(V+=ie,ie="",$=0),ie+=String.fromCharCode(q),++$;return V+ie},m.hexToBytes=function(O){var L="",F=0;for(!0&O.length&&(F=1,L+=String.fromCharCode(parseInt(O[0],16)));F<O.length;F+=2)L+=String.fromCharCode(parseInt(O.substr(F,2),16));return L},m.bytesToHex=function(O){return m.createBuffer(O).toHex()},m.int32ToBytes=function(O){return String.fromCharCode(O>>24&255)+String.fromCharCode(O>>16&255)+String.fromCharCode(O>>8&255)+String.fromCharCode(255&O)};var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";m.encode64=function(O,L){for(var q,ie,H,F="",V="",$=0;$<O.length;)q=O.charCodeAt($++),ie=O.charCodeAt($++),H=O.charCodeAt($++),F+=p.charAt(q>>2),F+=p.charAt((3&q)<<4|ie>>4),isNaN(ie)?F+="==":(F+=p.charAt((15&ie)<<2|H>>6),F+=isNaN(H)?"=":p.charAt(63&H)),L&&F.length>L&&(V+=F.substr(0,L)+"\r\n",F=F.substr(L));return V+F},m.decode64=function(O){O=O.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var F,V,q,ie,L="",H=0;H<O.length;)F=A[O.charCodeAt(H++)-43],V=A[O.charCodeAt(H++)-43],q=A[O.charCodeAt(H++)-43],ie=A[O.charCodeAt(H++)-43],L+=String.fromCharCode(F<<2|V>>4),64!==q&&(L+=String.fromCharCode((15&V)<<4|q>>2),64!==ie&&(L+=String.fromCharCode((3&q)<<6|ie)));return L},m.encodeUtf8=function(O){return unescape(encodeURIComponent(O))},m.decodeUtf8=function(O){return decodeURIComponent(escape(O))},m.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},m.binary.raw.encode=function(O){return String.fromCharCode.apply(null,O)},m.binary.raw.decode=function(O,L,F){var V=L;V||(V=new Uint8Array(O.length));for(var q=F=F||0,ie=0;ie<O.length;++ie)V[q++]=O.charCodeAt(ie);return L?q-F:V},m.binary.hex.encode=m.bytesToHex,m.binary.hex.decode=function(O,L,F){var V=L;V||(V=new Uint8Array(Math.ceil(O.length/2)));var q=0,ie=F=F||0;for(1&O.length&&(q=1,V[ie++]=parseInt(O[0],16));q<O.length;q+=2)V[ie++]=parseInt(O.substr(q,2),16);return L?ie-F:V},m.binary.base64.encode=function(O,L){for(var q,ie,H,F="",V="",$=0;$<O.byteLength;)q=O[$++],ie=O[$++],H=O[$++],F+=p.charAt(q>>2),F+=p.charAt((3&q)<<4|ie>>4),isNaN(ie)?F+="==":(F+=p.charAt((15&ie)<<2|H>>6),F+=isNaN(H)?"=":p.charAt(63&H)),L&&F.length>L&&(V+=F.substr(0,L)+"\r\n",F=F.substr(L));return V+F},m.binary.base64.decode=function(O,L,F){var V=L;V||(V=new Uint8Array(3*Math.ceil(O.length/4))),O=O.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var q,ie,H,$,z=0,E=F=F||0;z<O.length;)q=A[O.charCodeAt(z++)-43],ie=A[O.charCodeAt(z++)-43],H=A[O.charCodeAt(z++)-43],$=A[O.charCodeAt(z++)-43],V[E++]=q<<2|ie>>4,64!==H&&(V[E++]=(15&ie)<<4|H>>2,64!==$&&(V[E++]=(3&H)<<6|$));return L?E-F:V.subarray(0,E)},m.binary.base58.encode=function(O,L){return m.binary.baseN.encode(O,_,L)},m.binary.base58.decode=function(O,L){return m.binary.baseN.decode(O,_,L)},m.text={utf8:{},utf16:{}},m.text.utf8.encode=function(O,L,F){O=m.encodeUtf8(O);var V=L;V||(V=new Uint8Array(O.length));for(var q=F=F||0,ie=0;ie<O.length;++ie)V[q++]=O.charCodeAt(ie);return L?q-F:V},m.text.utf8.decode=function(O){return m.decodeUtf8(String.fromCharCode.apply(null,O))},m.text.utf16.encode=function(O,L,F){var V=L;V||(V=new Uint8Array(2*O.length));for(var q=new Uint16Array(V.buffer),ie=F=F||0,H=F,$=0;$<O.length;++$)q[H++]=O.charCodeAt($),ie+=2;return L?ie-F:V},m.text.utf16.decode=function(O){return String.fromCharCode.apply(null,new Uint16Array(O.buffer))},m.deflate=function(O,L,F){if(L=m.decode64(O.deflate(m.encode64(L)).rval),F){var V=2;32&L.charCodeAt(1)&&(V=6),L=L.substring(V,L.length-4)}return L},m.inflate=function(O,L,F){var V=O.inflate(m.encode64(L)).rval;return null===V?null:m.decode64(V)};var R=function(O,L,F){if(!O)throw new Error("WebStorage not available.");var V;if(null===F?V=O.removeItem(L):(F=m.encode64(JSON.stringify(F)),V=O.setItem(L,F)),typeof V<"u"&&!0!==V.rval){var q=new Error(V.error.message);throw q.id=V.error.id,q.name=V.error.name,q}},N=function(O,L){if(!O)throw new Error("WebStorage not available.");var F=O.getItem(L);if(O.init)if(null===F.rval){if(F.error){var V=new Error(F.error.message);throw V.id=F.error.id,V.name=F.error.name,V}F=null}else F=F.rval;return null!==F&&(F=JSON.parse(m.decode64(F))),F},a=function(O,L,F,V){var q=N(O,L);null===q&&(q={}),q[F]=V,R(O,L,q)},k=function(O,L,F){var V=N(O,L);return null!==V&&(V=F in V?V[F]:null),V},P=function(O,L,F){var V=N(O,L);if(null!==V&&F in V){delete V[F];var q=!0;for(var ie in V){q=!1;break}q&&(V=null),R(O,L,V)}},U=function(O,L){R(O,L,null)},J=function(O,L,F){var V=null;typeof F>"u"&&(F=["web","flash"]);var q,ie=!1,H=null;for(var $ in F){q=F[$];try{if("flash"===q||"both"===q){if(null===L[0])throw new Error("Flash local storage not available.");V=O.apply(this,L),ie="flash"===q}("web"===q||"both"===q)&&(L[0]=localStorage,V=O.apply(this,L),ie=!0)}catch(z){H=z}if(ie)break}if(!ie)throw H;return V};m.setItem=function(O,L,F,V,q){J(a,arguments,q)},m.getItem=function(O,L,F,V){return J(k,arguments,V)},m.removeItem=function(O,L,F,V){J(P,arguments,V)},m.clearItems=function(O,L,F){J(U,arguments,F)},m.isEmpty=function(O){for(var L in O)if(O.hasOwnProperty(L))return!1;return!0},m.format=function(O){for(var F,V,L=/%./g,q=0,ie=[],H=0;F=L.exec(O);){(V=O.substring(H,L.lastIndex-2)).length>0&&ie.push(V),H=L.lastIndex;var $=F[0][1];switch($){case"s":case"o":ie.push(q<arguments.length?arguments[1+q++]:"<?>");break;case"%":ie.push("%");break;default:ie.push("<%"+$+"?>")}}return ie.push(O.substring(H)),ie.join("")},m.formatNumber=function(O,L,F,V){var q=O,ie=isNaN(L=Math.abs(L))?2:L,H=void 0===F?",":F,$=void 0===V?".":V,z=q<0?"-":"",E=parseInt(q=Math.abs(+q||0).toFixed(ie),10)+"",X=E.length>3?E.length%3:0;return z+(X?E.substr(0,X)+$:"")+E.substr(X).replace(/(\d{3})(?=\d)/g,"$1"+$)+(ie?H+Math.abs(q-E).toFixed(ie).slice(2):"")},m.formatSize=function(O){return O>=1073741824?m.formatNumber(O/1073741824,2,".","")+" GiB":O>=1048576?m.formatNumber(O/1048576,2,".","")+" MiB":O>=1024?m.formatNumber(O/1024,0)+" KiB":m.formatNumber(O,0)+" bytes"},m.bytesFromIP=function(O){return-1!==O.indexOf(".")?m.bytesFromIPv4(O):-1!==O.indexOf(":")?m.bytesFromIPv6(O):null},m.bytesFromIPv4=function(O){if(4!==(O=O.split(".")).length)return null;for(var L=m.createBuffer(),F=0;F<O.length;++F){var V=parseInt(O[F],10);if(isNaN(V))return null;L.putByte(V)}return L.getBytes()},m.bytesFromIPv6=function(O){for(var L=0,F=2*(8-(O=O.split(":").filter(function(H){return 0===H.length&&++L,!0})).length+L),V=m.createBuffer(),q=0;q<8;++q)if(O[q]&&0!==O[q].length){var ie=m.hexToBytes(O[q]);ie.length<2&&V.putByte(0),V.putBytes(ie)}else V.fillWithByte(0,F),F=0;return V.getBytes()},m.bytesToIP=function(O){return 4===O.length?m.bytesToIPv4(O):16===O.length?m.bytesToIPv6(O):null},m.bytesToIPv4=function(O){if(4!==O.length)return null;for(var L=[],F=0;F<O.length;++F)L.push(O.charCodeAt(F));return L.join(".")},m.bytesToIPv6=function(O){if(16!==O.length)return null;for(var L=[],F=[],V=0,q=0;q<O.length;q+=2){for(var ie=m.bytesToHex(O[q]+O[q+1]);"0"===ie[0]&&"0"!==ie;)ie=ie.substr(1);if("0"===ie){var H=F[F.length-1],$=L.length;H&&$===H.end+1?(H.end=$,H.end-H.start>F[V].end-F[V].start&&(V=F.length-1)):F.push({start:$,end:$})}L.push(ie)}if(F.length>0){var z=F[V];z.end-z.start>0&&(L.splice(z.start,z.end-z.start+1,""),0===z.start&&L.unshift(""),7===z.end&&L.push(""))}return L.join(":")},m.estimateCores=function(O,L){if("function"==typeof O&&(L=O,O={}),O=O||{},"cores"in m&&!O.update)return L(null,m.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return m.cores=navigator.hardwareConcurrency,L(null,m.cores);if(typeof Worker>"u")return m.cores=1,L(null,m.cores);if(typeof Blob>"u")return m.cores=2,L(null,m.cores);var F=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(H){for(var $=Date.now(),z=$+4;Date.now()<z;);self.postMessage({st:$,et:z})})}.toString(),")()"],{type:"application/javascript"}));!function V(H,$,z){if(0===$){var E=Math.floor(H.reduce(function(X,Q){return X+Q},0)/H.length);return m.cores=Math.max(1,E),URL.revokeObjectURL(F),L(null,m.cores)}!function q(H,$){for(var z=[],E=[],X=0;X<H;++X){var Q=new Worker(F);Q.addEventListener("message",function(ce){if(E.push(ce.data),E.length===H){for(var _e=0;_e<H;++_e)z[_e].terminate();$(null,E)}}),z.push(Q)}for(X=0;X<H;++X)z[X].postMessage(X)}(z,function(X,Q){H.push(function ie(H,$){for(var z=[],E=0;E<H;++E)for(var X=$[E],Q=z[E]=[],ce=0;ce<H;++ce)if(E!==ce){var _e=$[ce];(X.st>_e.st&&X.st<_e.et||_e.st>X.st&&_e.st<X.et)&&Q.push(ce)}return z.reduce(function(Te,ve){return Math.max(Te,ve.length)},0)}(z,Q)),V(H,$-1,z)})}([],5,16)}},5911:(st,ye,f)=>{var t=f(8659);f(1298),f(7791),f(279),f(979),f(9386),f(6078),f(8604),f(7256),f(5517),f(4747);var e=t.asn1,m=st.exports=t.pki=t.pki||{},w=m.oids,b={};b.CN=w.commonName,b.commonName="CN",b.C=w.countryName,b.countryName="C",b.L=w.localityName,b.localityName="L",b.ST=w.stateOrProvinceName,b.stateOrProvinceName="ST",b.O=w.organizationName,b.organizationName="O",b.OU=w.organizationalUnitName,b.organizationalUnitName="OU",b.E=w.emailAddress,b.emailAddress="E";var C=t.pki.rsa.publicKeyValidator,g={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},C,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},p={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},_={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},C,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function R(H,$){"string"==typeof $&&($={shortName:$});for(var E,z=null,X=0;null===z&&X<H.attributes.length;++X)E=H.attributes[X],($.type&&$.type===E.type||$.name&&$.name===E.name||$.shortName&&$.shortName===E.shortName)&&(z=E);return z}m.RDNAttributesAsArray=function(H,$){for(var E,X,Q,z=[],ce=0;ce<H.value.length;++ce){E=H.value[ce];for(var _e=0;_e<E.value.length;++_e)(Q={}).type=e.derToOid((X=E.value[_e]).value[0].value),Q.value=X.value[1].value,Q.valueTagClass=X.value[1].type,Q.type in w&&(Q.name=w[Q.type],Q.name in b&&(Q.shortName=b[Q.name])),$&&($.update(Q.type),$.update(Q.value)),z.push(Q)}return z},m.CRIAttributesAsArray=function(H){for(var $=[],z=0;z<H.length;++z)for(var E=H[z],X=e.derToOid(E.value[0].value),Q=E.value[1].value,ce=0;ce<Q.length;++ce){var _e={};if(_e.type=X,_e.value=Q[ce].value,_e.valueTagClass=Q[ce].type,_e.type in w&&(_e.name=w[_e.type],_e.name in b&&(_e.shortName=b[_e.name])),_e.type===w.extensionRequest){_e.extensions=[];for(var Te=0;Te<_e.value.length;++Te)_e.extensions.push(m.certificateExtensionFromAsn1(_e.value[Te]))}$.push(_e)}return $};var N=function(H,$,z){var E={};if(H!==w["RSASSA-PSS"])return E;z&&(E={hash:{algorithmOid:w.sha1},mgf:{algorithmOid:w.mgf1,hash:{algorithmOid:w.sha1}},saltLength:20});var X={},Q=[];if(!e.validate($,p,X,Q)){var ce=new Error("Cannot read RSASSA-PSS parameter block.");throw ce.errors=Q,ce}return void 0!==X.hashOid&&(E.hash=E.hash||{},E.hash.algorithmOid=e.derToOid(X.hashOid)),void 0!==X.maskGenOid&&(E.mgf=E.mgf||{},E.mgf.algorithmOid=e.derToOid(X.maskGenOid),E.mgf.hash=E.mgf.hash||{},E.mgf.hash.algorithmOid=e.derToOid(X.maskGenHashOid)),void 0!==X.saltLength&&(E.saltLength=X.saltLength.charCodeAt(0)),E},a=function(H){switch(w[H.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();default:var $=new Error("Could not compute "+H.type+" digest. Unknown signature OID.");throw $.signatureOid=H.signatureOid,$}},k=function(H){var z,$=H.certificate;switch($.signatureOid){case w.sha1WithRSAEncryption:case w.sha1WithRSASignature:break;case w["RSASSA-PSS"]:var E,X,Q;if(void 0===(E=w[$.signatureParameters.mgf.hash.algorithmOid])||void 0===t.md[E])throw(Q=new Error("Unsupported MGF hash function.")).oid=$.signatureParameters.mgf.hash.algorithmOid,Q.name=E,Q;if(void 0===(X=w[$.signatureParameters.mgf.algorithmOid])||void 0===t.mgf[X])throw(Q=new Error("Unsupported MGF function.")).oid=$.signatureParameters.mgf.algorithmOid,Q.name=X,Q;if(X=t.mgf[X].create(t.md[E].create()),void 0===(E=w[$.signatureParameters.hash.algorithmOid])||void 0===t.md[E])throw(Q=new Error("Unsupported RSASSA-PSS hash function.")).oid=$.signatureParameters.hash.algorithmOid,Q.name=E,Q;z=t.pss.create(t.md[E].create(),X,$.signatureParameters.saltLength)}return $.publicKey.verify(H.md.digest().getBytes(),H.signature,z)};function P(H){for(var z,E,$=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),X=H.attributes,Q=0;Q<X.length;++Q){var ce=(z=X[Q]).value,_e=e.Type.PRINTABLESTRING;"valueTagClass"in z&&(_e=z.valueTagClass)===e.Type.UTF8&&(ce=t.util.encodeUtf8(ce)),E=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(z.type).getBytes()),e.create(e.Class.UNIVERSAL,_e,!1,ce)])]),$.value.push(E)}return $}function J(H){for(var $,z=0;z<H.length;++z){if(typeof($=H[z]).name>"u"&&($.type&&$.type in m.oids?$.name=m.oids[$.type]:$.shortName&&$.shortName in b&&($.name=m.oids[b[$.shortName]])),typeof $.type>"u"){if(!$.name||!($.name in m.oids))throw(E=new Error("Attribute type not specified.")).attribute=$,E;$.type=m.oids[$.name]}if(typeof $.shortName>"u"&&$.name&&$.name in b&&($.shortName=b[$.name]),$.type===w.extensionRequest&&($.valueConstructed=!0,$.valueTagClass=e.Type.SEQUENCE,!$.value&&$.extensions)){$.value=[];for(var X=0;X<$.extensions.length;++X)$.value.push(m.certificateExtensionToAsn1(O($.extensions[X])))}var E;if(typeof $.value>"u")throw(E=new Error("Attribute value not specified.")).attribute=$,E}}function O(H,$){if($=$||{},typeof H.name>"u"&&H.id&&H.id in m.oids&&(H.name=m.oids[H.id]),typeof H.id>"u"){if(!H.name||!(H.name in m.oids))throw(z=new Error("Extension ID not specified.")).extension=H,z;H.id=m.oids[H.name]}if(typeof H.value<"u")return H;if("keyUsage"===H.name){var E=0,X=0,Q=0;H.digitalSignature&&(X|=128,E=7),H.nonRepudiation&&(X|=64,E=6),H.keyEncipherment&&(X|=32,E=5),H.dataEncipherment&&(X|=16,E=4),H.keyAgreement&&(X|=8,E=3),H.keyCertSign&&(X|=4,E=2),H.cRLSign&&(X|=2,E=1),H.encipherOnly&&(X|=1,E=0),H.decipherOnly&&(Q|=128,E=7);var ce=String.fromCharCode(E);0!==Q?ce+=String.fromCharCode(X)+String.fromCharCode(Q):0!==X&&(ce+=String.fromCharCode(X)),H.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,ce)}else if("basicConstraints"===H.name)H.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),H.cA&&H.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in H&&H.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(H.pathLenConstraint).getBytes()));else if("extKeyUsage"===H.name){H.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var _e=H.value.value;for(var Te in H)!0===H[Te]&&(Te in w?_e.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(w[Te]).getBytes())):-1!==Te.indexOf(".")&&_e.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Te).getBytes())))}else if("nsCertType"===H.name)E=0,X=0,H.client&&(X|=128,E=7),H.server&&(X|=64,E=6),H.email&&(X|=32,E=5),H.objsign&&(X|=16,E=4),H.reserved&&(X|=8,E=3),H.sslCA&&(X|=4,E=2),H.emailCA&&(X|=2,E=1),H.objCA&&(X|=1,E=0),ce=String.fromCharCode(E),0!==X&&(ce+=String.fromCharCode(X)),H.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,ce);else if("subjectAltName"===H.name||"issuerAltName"===H.name){H.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var Ke=0;Ke<H.altNames.length;++Ke){if(ce=(ve=H.altNames[Ke]).value,7===ve.type&&ve.ip){if(null===(ce=t.util.bytesFromIP(ve.ip)))throw(z=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=H,z}else 8===ve.type&&(ce=e.oidToDer(ve.oid?e.oidToDer(ve.oid):ce));H.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,ve.type,!1,ce))}}else if("nsComment"===H.name&&$.cert){if(!/^[\x00-\x7F]*$/.test(H.comment)||H.comment.length<1||H.comment.length>128)throw new Error('Invalid "nsComment" content.');H.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,H.comment)}else if("subjectKeyIdentifier"===H.name&&$.cert){var xe=$.cert.generateSubjectKeyIdentifier();H.subjectKeyIdentifier=xe.toHex(),H.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,xe.getBytes())}else if("authorityKeyIdentifier"===H.name&&$.cert){if(H.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),_e=H.value.value,H.keyIdentifier){var Ge=!0===H.keyIdentifier?$.cert.generateSubjectKeyIdentifier().getBytes():H.keyIdentifier;_e.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,Ge))}if(H.authorityCertIssuer){var we=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[P(!0===H.authorityCertIssuer?$.cert.issuer:H.authorityCertIssuer)])];_e.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,we))}if(H.serialNumber){var Ye=t.util.hexToBytes(!0===H.serialNumber?$.cert.serialNumber:H.serialNumber);_e.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,Ye))}}else if("cRLDistributionPoints"===H.name){H.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),_e=H.value.value;var ve,rt=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Ct=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(Ke=0;Ke<H.altNames.length;++Ke){if(ce=(ve=H.altNames[Ke]).value,7===ve.type&&ve.ip){if(null===(ce=t.util.bytesFromIP(ve.ip)))throw(z=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=H,z}else 8===ve.type&&(ce=e.oidToDer(ve.oid?e.oidToDer(ve.oid):ce));Ct.value.push(e.create(e.Class.CONTEXT_SPECIFIC,ve.type,!1,ce))}rt.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Ct])),_e.push(rt)}var z;if(typeof H.value>"u")throw(z=new Error("Extension value not specified.")).extension=H,z;return H}function L(H,$){if(H===w["RSASSA-PSS"]){var z=[];return void 0!==$.hash.algorithmOid&&z.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer($.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==$.mgf.algorithmOid&&z.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer($.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer($.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==$.saltLength&&z.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer($.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,z)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function F(H){var $=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===H.attributes.length)return $;for(var z=H.attributes,E=0;E<z.length;++E){var X=z[E],Q=X.value,ce=e.Type.UTF8;"valueTagClass"in X&&(ce=X.valueTagClass),ce===e.Type.UTF8&&(Q=t.util.encodeUtf8(Q));var _e=!1;"valueConstructed"in X&&(_e=X.valueConstructed);var Te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(X.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,ce,_e,Q)])]);$.value.push(Te)}return $}m.certificateFromPem=function(H,$,z){var E=t.pem.decode(H)[0];if("CERTIFICATE"!==E.type&&"X509 CERTIFICATE"!==E.type&&"TRUSTED CERTIFICATE"!==E.type){var X=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw X.headerType=E.type,X}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var Q=e.fromDer(E.body,z);return m.certificateFromAsn1(Q,$)},m.certificateToPem=function(H,$){var z={type:"CERTIFICATE",body:e.toDer(m.certificateToAsn1(H)).getBytes()};return t.pem.encode(z,{maxline:$})},m.publicKeyFromPem=function(H){var $=t.pem.decode(H)[0];if("PUBLIC KEY"!==$.type&&"RSA PUBLIC KEY"!==$.type){var z=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw z.headerType=$.type,z}if($.procType&&"ENCRYPTED"===$.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var E=e.fromDer($.body);return m.publicKeyFromAsn1(E)},m.publicKeyToPem=function(H,$){var z={type:"PUBLIC KEY",body:e.toDer(m.publicKeyToAsn1(H)).getBytes()};return t.pem.encode(z,{maxline:$})},m.publicKeyToRSAPublicKeyPem=function(H,$){var z={type:"RSA PUBLIC KEY",body:e.toDer(m.publicKeyToRSAPublicKey(H)).getBytes()};return t.pem.encode(z,{maxline:$})},m.getPublicKeyFingerprint=function(H,$){var X,z=($=$||{}).md||t.md.sha1.create();switch($.type||"RSAPublicKey"){case"RSAPublicKey":X=e.toDer(m.publicKeyToRSAPublicKey(H)).getBytes();break;case"SubjectPublicKeyInfo":X=e.toDer(m.publicKeyToAsn1(H)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+$.type+'".')}z.start(),z.update(X);var Q=z.digest();if("hex"===$.encoding){var ce=Q.toHex();return $.delimiter?ce.match(/.{2}/g).join($.delimiter):ce}if("binary"===$.encoding)return Q.getBytes();if($.encoding)throw new Error('Unknown encoding "'+$.encoding+'".');return Q},m.certificationRequestFromPem=function(H,$,z){var E=t.pem.decode(H)[0];if("CERTIFICATE REQUEST"!==E.type){var X=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw X.headerType=E.type,X}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var Q=e.fromDer(E.body,z);return m.certificationRequestFromAsn1(Q,$)},m.certificationRequestToPem=function(H,$){var z={type:"CERTIFICATE REQUEST",body:e.toDer(m.certificationRequestToAsn1(H)).getBytes()};return t.pem.encode(z,{maxline:$})},m.createCertificate=function(){var H={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return H.siginfo.algorithmOid=null,H.validity={},H.validity.notBefore=new Date,H.validity.notAfter=new Date,H.issuer={},H.issuer.getField=function($){return R(H.issuer,$)},H.issuer.addField=function($){J([$]),H.issuer.attributes.push($)},H.issuer.attributes=[],H.issuer.hash=null,H.subject={},H.subject.getField=function($){return R(H.subject,$)},H.subject.addField=function($){J([$]),H.subject.attributes.push($)},H.subject.attributes=[],H.subject.hash=null,H.extensions=[],H.publicKey=null,H.md=null,H.setSubject=function($,z){J($),H.subject.attributes=$,delete H.subject.uniqueId,z&&(H.subject.uniqueId=z),H.subject.hash=null},H.setIssuer=function($,z){J($),H.issuer.attributes=$,delete H.issuer.uniqueId,z&&(H.issuer.uniqueId=z),H.issuer.hash=null},H.setExtensions=function($){for(var z=0;z<$.length;++z)O($[z],{cert:H});H.extensions=$},H.getExtension=function($){"string"==typeof $&&($={name:$});for(var E,z=null,X=0;null===z&&X<H.extensions.length;++X)E=H.extensions[X],($.id&&E.id===$.id||$.name&&E.name===$.name)&&(z=E);return z},H.sign=function($,z){H.md=z||t.md.sha1.create();var E=w[H.md.algorithm+"WithRSAEncryption"];if(!E){var X=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw X.algorithm=H.md.algorithm,X}H.signatureOid=H.siginfo.algorithmOid=E,H.tbsCertificate=m.getTBSCertificate(H);var Q=e.toDer(H.tbsCertificate);H.md.update(Q.getBytes()),H.signature=$.sign(H.md)},H.verify=function($){var z=!1;if(!H.issued($)){var E=$.issuer,X=H.subject,Q=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw Q.expectedIssuer=X.attributes,Q.actualIssuer=E.attributes,Q}var ce=$.md;if(null===ce){ce=a({signatureOid:$.signatureOid,type:"certificate"});var _e=$.tbsCertificate||m.getTBSCertificate($),Te=e.toDer(_e);ce.update(Te.getBytes())}return null!==ce&&(z=k({certificate:H,md:ce,signature:$.signature})),z},H.isIssuer=function($){var z=!1,E=H.issuer,X=$.subject;if(E.hash&&X.hash)z=E.hash===X.hash;else if(E.attributes.length===X.attributes.length){z=!0;for(var Q,ce,_e=0;z&&_e<E.attributes.length;++_e)((Q=E.attributes[_e]).type!==(ce=X.attributes[_e]).type||Q.value!==ce.value)&&(z=!1)}return z},H.issued=function($){return $.isIssuer(H)},H.generateSubjectKeyIdentifier=function(){return m.getPublicKeyFingerprint(H.publicKey,{type:"RSAPublicKey"})},H.verifySubjectKeyIdentifier=function(){for(var $=w.subjectKeyIdentifier,z=0;z<H.extensions.length;++z){var E=H.extensions[z];if(E.id===$){var X=H.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(E.subjectKeyIdentifier)===X}}return!1},H},m.certificateFromAsn1=function(H,$){var z={},E=[];if(!e.validate(H,g,z,E)){var X=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw X.errors=E,X}if(e.derToOid(z.publicKeyOid)!==m.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ce=m.createCertificate();ce.version=z.certVersion?z.certVersion.charCodeAt(0):0;var _e=t.util.createBuffer(z.certSerialNumber);ce.serialNumber=_e.toHex(),ce.signatureOid=t.asn1.derToOid(z.certSignatureOid),ce.signatureParameters=N(ce.signatureOid,z.certSignatureParams,!0),ce.siginfo.algorithmOid=t.asn1.derToOid(z.certinfoSignatureOid),ce.siginfo.parameters=N(ce.siginfo.algorithmOid,z.certinfoSignatureParams,!1),ce.signature=z.certSignature;var Te=[];if(void 0!==z.certValidity1UTCTime&&Te.push(e.utcTimeToDate(z.certValidity1UTCTime)),void 0!==z.certValidity2GeneralizedTime&&Te.push(e.generalizedTimeToDate(z.certValidity2GeneralizedTime)),void 0!==z.certValidity3UTCTime&&Te.push(e.utcTimeToDate(z.certValidity3UTCTime)),void 0!==z.certValidity4GeneralizedTime&&Te.push(e.generalizedTimeToDate(z.certValidity4GeneralizedTime)),Te.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Te.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(ce.validity.notBefore=Te[0],ce.validity.notAfter=Te[1],ce.tbsCertificate=z.tbsCertificate,$){ce.md=a({signatureOid:ce.signatureOid,type:"certificate"});var ve=e.toDer(ce.tbsCertificate);ce.md.update(ve.getBytes())}var Ke=t.md.sha1.create(),xe=e.toDer(z.certIssuer);Ke.update(xe.getBytes()),ce.issuer.getField=function(Ye){return R(ce.issuer,Ye)},ce.issuer.addField=function(Ye){J([Ye]),ce.issuer.attributes.push(Ye)},ce.issuer.attributes=m.RDNAttributesAsArray(z.certIssuer),z.certIssuerUniqueId&&(ce.issuer.uniqueId=z.certIssuerUniqueId),ce.issuer.hash=Ke.digest().toHex();var Ge=t.md.sha1.create(),we=e.toDer(z.certSubject);return Ge.update(we.getBytes()),ce.subject.getField=function(Ye){return R(ce.subject,Ye)},ce.subject.addField=function(Ye){J([Ye]),ce.subject.attributes.push(Ye)},ce.subject.attributes=m.RDNAttributesAsArray(z.certSubject),z.certSubjectUniqueId&&(ce.subject.uniqueId=z.certSubjectUniqueId),ce.subject.hash=Ge.digest().toHex(),ce.extensions=z.certExtensions?m.certificateExtensionsFromAsn1(z.certExtensions):[],ce.publicKey=m.publicKeyFromAsn1(z.subjectPublicKeyInfo),ce},m.certificateExtensionsFromAsn1=function(H){for(var $=[],z=0;z<H.value.length;++z)for(var E=H.value[z],X=0;X<E.value.length;++X)$.push(m.certificateExtensionFromAsn1(E.value[X]));return $},m.certificateExtensionFromAsn1=function(H){var $={};if($.id=e.derToOid(H.value[0].value),$.critical=!1,H.value[1].type===e.Type.BOOLEAN?($.critical=0!==H.value[1].value.charCodeAt(0),$.value=H.value[2].value):$.value=H.value[1].value,$.id in w)if($.name=w[$.id],"keyUsage"===$.name){var E=0,X=0;(z=e.fromDer($.value)).value.length>1&&(E=z.value.charCodeAt(1),X=z.value.length>2?z.value.charCodeAt(2):0),$.digitalSignature=128==(128&E),$.nonRepudiation=64==(64&E),$.keyEncipherment=32==(32&E),$.dataEncipherment=16==(16&E),$.keyAgreement=8==(8&E),$.keyCertSign=4==(4&E),$.cRLSign=2==(2&E),$.encipherOnly=1==(1&E),$.decipherOnly=128==(128&X)}else if("basicConstraints"===$.name){var z=e.fromDer($.value);$.cA=z.value.length>0&&z.value[0].type===e.Type.BOOLEAN&&0!==z.value[0].value.charCodeAt(0);var Q=null;z.value.length>0&&z.value[0].type===e.Type.INTEGER?Q=z.value[0].value:z.value.length>1&&(Q=z.value[1].value),null!==Q&&($.pathLenConstraint=e.derToInteger(Q))}else if("extKeyUsage"===$.name){z=e.fromDer($.value);for(var ce=0;ce<z.value.length;++ce){var _e=e.derToOid(z.value[ce].value);_e in w?$[w[_e]]=!0:$[_e]=!0}}else if("nsCertType"===$.name)E=0,(z=e.fromDer($.value)).value.length>1&&(E=z.value.charCodeAt(1)),$.client=128==(128&E),$.server=64==(64&E),$.email=32==(32&E),$.objsign=16==(16&E),$.reserved=8==(8&E),$.sslCA=4==(4&E),$.emailCA=2==(2&E),$.objCA=1==(1&E);else if("subjectAltName"===$.name||"issuerAltName"===$.name){$.altNames=[],z=e.fromDer($.value);for(var Te,ve=0;ve<z.value.length;++ve){var Ke={type:(Te=z.value[ve]).type,value:Te.value};switch($.altNames.push(Ke),Te.type){case 1:case 2:case 6:break;case 7:Ke.ip=t.util.bytesToIP(Te.value);break;case 8:Ke.oid=e.derToOid(Te.value)}}}else"subjectKeyIdentifier"===$.name&&(z=e.fromDer($.value),$.subjectKeyIdentifier=t.util.bytesToHex(z.value));return $},m.certificationRequestFromAsn1=function(H,$){var z={},E=[];if(!e.validate(H,_,z,E)){var X=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw X.errors=E,X}if(e.derToOid(z.publicKeyOid)!==m.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var ce=m.createCertificationRequest();if(ce.version=z.csrVersion?z.csrVersion.charCodeAt(0):0,ce.signatureOid=t.asn1.derToOid(z.csrSignatureOid),ce.signatureParameters=N(ce.signatureOid,z.csrSignatureParams,!0),ce.siginfo.algorithmOid=t.asn1.derToOid(z.csrSignatureOid),ce.siginfo.parameters=N(ce.siginfo.algorithmOid,z.csrSignatureParams,!1),ce.signature=z.csrSignature,ce.certificationRequestInfo=z.certificationRequestInfo,$){ce.md=a({signatureOid:ce.signatureOid,type:"certification request"});var _e=e.toDer(ce.certificationRequestInfo);ce.md.update(_e.getBytes())}var Te=t.md.sha1.create();return ce.subject.getField=function(ve){return R(ce.subject,ve)},ce.subject.addField=function(ve){J([ve]),ce.subject.attributes.push(ve)},ce.subject.attributes=m.RDNAttributesAsArray(z.certificationRequestInfoSubject,Te),ce.subject.hash=Te.digest().toHex(),ce.publicKey=m.publicKeyFromAsn1(z.subjectPublicKeyInfo),ce.getAttribute=function(ve){return R(ce,ve)},ce.addAttribute=function(ve){J([ve]),ce.attributes.push(ve)},ce.attributes=m.CRIAttributesAsArray(z.certificationRequestInfoAttributes||[]),ce},m.createCertificationRequest=function(){var H={version:0,signatureOid:null,signature:null,siginfo:{}};return H.siginfo.algorithmOid=null,H.subject={},H.subject.getField=function($){return R(H.subject,$)},H.subject.addField=function($){J([$]),H.subject.attributes.push($)},H.subject.attributes=[],H.subject.hash=null,H.publicKey=null,H.attributes=[],H.getAttribute=function($){return R(H,$)},H.addAttribute=function($){J([$]),H.attributes.push($)},H.md=null,H.setSubject=function($){J($),H.subject.attributes=$,H.subject.hash=null},H.setAttributes=function($){J($),H.attributes=$},H.sign=function($,z){H.md=z||t.md.sha1.create();var E=w[H.md.algorithm+"WithRSAEncryption"];if(!E){var X=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw X.algorithm=H.md.algorithm,X}H.signatureOid=H.siginfo.algorithmOid=E,H.certificationRequestInfo=m.getCertificationRequestInfo(H);var Q=e.toDer(H.certificationRequestInfo);H.md.update(Q.getBytes()),H.signature=$.sign(H.md)},H.verify=function(){var $=!1,z=H.md;if(null===z){z=a({signatureOid:H.signatureOid,type:"certification request"});var E=H.certificationRequestInfo||m.getCertificationRequestInfo(H),X=e.toDer(E);z.update(X.getBytes())}return null!==z&&($=k({certificate:H,md:z,signature:H.signature})),$},H};var V=new Date("1950-01-01T00:00:00Z"),q=new Date("2050-01-01T00:00:00Z");function ie(H){return H>=V&&H<q?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(H)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(H))}m.getTBSCertificate=function(H){var $=ie(H.validity.notBefore),z=ie(H.validity.notAfter),E=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(H.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(H.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(H.siginfo.algorithmOid).getBytes()),L(H.siginfo.algorithmOid,H.siginfo.parameters)]),P(H.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[$,z]),P(H.subject),m.publicKeyToAsn1(H.publicKey)]);return H.issuer.uniqueId&&E.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+H.issuer.uniqueId)])),H.subject.uniqueId&&E.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+H.subject.uniqueId)])),H.extensions.length>0&&E.value.push(m.certificateExtensionsToAsn1(H.extensions)),E},m.getCertificationRequestInfo=function(H){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(H.version).getBytes()),P(H.subject),m.publicKeyToAsn1(H.publicKey),F(H)])},m.distinguishedNameToAsn1=function(H){return P(H)},m.certificateToAsn1=function(H){var $=H.tbsCertificate||m.getTBSCertificate(H);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[$,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(H.signatureOid).getBytes()),L(H.signatureOid,H.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+H.signature)])},m.certificateExtensionsToAsn1=function(H){var $=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),z=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);$.value.push(z);for(var E=0;E<H.length;++E)z.value.push(m.certificateExtensionToAsn1(H[E]));return $},m.certificateExtensionToAsn1=function(H){var $=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);$.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(H.id).getBytes())),H.critical&&$.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,String.fromCharCode(255)));var z=H.value;return"string"!=typeof H.value&&(z=e.toDer(z).getBytes()),$.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,z)),$},m.certificationRequestToAsn1=function(H){var $=H.certificationRequestInfo||m.getCertificationRequestInfo(H);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[$,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(H.signatureOid).getBytes()),L(H.signatureOid,H.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+H.signature)])},m.createCaStore=function(H){var $={certs:{}};function z(ce){return E(ce),$.certs[ce.hash]||null}function E(ce){if(!ce.hash){var _e=t.md.sha1.create();ce.attributes=m.RDNAttributesAsArray(P(ce),_e),ce.hash=_e.digest().toHex()}}if($.getIssuer=function(ce){return z(ce.issuer)},$.addCertificate=function(ce){if("string"==typeof ce&&(ce=t.pki.certificateFromPem(ce)),E(ce.subject),!$.hasCertificate(ce))if(ce.subject.hash in $.certs){var _e=$.certs[ce.subject.hash];t.util.isArray(_e)||(_e=[_e]),_e.push(ce),$.certs[ce.subject.hash]=_e}else $.certs[ce.subject.hash]=ce},$.hasCertificate=function(ce){"string"==typeof ce&&(ce=t.pki.certificateFromPem(ce));var _e=z(ce.subject);if(!_e)return!1;t.util.isArray(_e)||(_e=[_e]);for(var Te=e.toDer(m.certificateToAsn1(ce)).getBytes(),ve=0;ve<_e.length;++ve)if(Te===e.toDer(m.certificateToAsn1(_e[ve])).getBytes())return!0;return!1},$.listAllCertificates=function(){var ce=[];for(var _e in $.certs)if($.certs.hasOwnProperty(_e)){var Te=$.certs[_e];if(t.util.isArray(Te))for(var ve=0;ve<Te.length;++ve)ce.push(Te[ve]);else ce.push(Te)}return ce},$.removeCertificate=function(ce){var _e;if("string"==typeof ce&&(ce=t.pki.certificateFromPem(ce)),E(ce.subject),!$.hasCertificate(ce))return null;var Te=z(ce.subject);if(!t.util.isArray(Te))return _e=$.certs[ce.subject.hash],delete $.certs[ce.subject.hash],_e;for(var ve=e.toDer(m.certificateToAsn1(ce)).getBytes(),Ke=0;Ke<Te.length;++Ke)ve===e.toDer(m.certificateToAsn1(Te[Ke])).getBytes()&&(_e=Te[Ke],Te.splice(Ke,1));return 0===Te.length&&delete $.certs[ce.subject.hash],_e},H)for(var X=0;X<H.length;++X)$.addCertificate(H[X]);return $},m.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},m.verifyCertificateChain=function(H,$,z){"function"==typeof z&&(z={verify:z}),z=z||{};var E=($=$.slice(0)).slice(0),X=z.validityCheckDate;typeof X>"u"&&(X=new Date);var Q=!0,ce=null,_e=0;do{var Te=$.shift(),ve=null,Ke=!1;if(X&&(X<Te.validity.notBefore||X>Te.validity.notAfter)&&(ce={message:"Certificate is not valid yet or has expired.",error:m.certificateError.certificate_expired,notBefore:Te.validity.notBefore,notAfter:Te.validity.notAfter,now:X}),null===ce){if(null===(ve=$[0]||H.getIssuer(Te))&&Te.isIssuer(Te)&&(Ke=!0,ve=Te),ve){var xe=ve;t.util.isArray(xe)||(xe=[xe]);for(var Ge=!1;!Ge&&xe.length>0;){ve=xe.shift();try{Ge=ve.verify(Te)}catch{}}Ge||(ce={message:"Certificate signature is invalid.",error:m.certificateError.bad_certificate})}null===ce&&(!ve||Ke)&&!H.hasCertificate(Te)&&(ce={message:"Certificate is not trusted.",error:m.certificateError.unknown_ca})}if(null===ce&&ve&&!Te.isIssuer(ve)&&(ce={message:"Certificate issuer is invalid.",error:m.certificateError.bad_certificate}),null===ce)for(var we={keyUsage:!0,basicConstraints:!0},Ye=0;null===ce&&Ye<Te.extensions.length;++Ye){var rt=Te.extensions[Ye];rt.critical&&!(rt.name in we)&&(ce={message:"Certificate has an unsupported critical extension.",error:m.certificateError.unsupported_certificate})}if(null===ce&&(!Q||0===$.length&&(!ve||Ke))){var Ct=Te.getExtension("basicConstraints"),at=Te.getExtension("keyUsage");null!==at&&(!at.keyCertSign||null===Ct)&&(ce={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:m.certificateError.bad_certificate}),null===ce&&null!==Ct&&!Ct.cA&&(ce={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:m.certificateError.bad_certificate}),null===ce&&null!==at&&"pathLenConstraint"in Ct&&_e-1>Ct.pathLenConstraint&&(ce={message:"Certificate basicConstraints pathLenConstraint violated.",error:m.certificateError.bad_certificate})}var ct=null===ce||ce.error,Gt=z.verify?z.verify(ct,_e,E):ct;if(!0!==Gt)throw!0===ct&&(ce={message:"The application rejected the certificate.",error:m.certificateError.bad_certificate}),(Gt||0===Gt)&&("object"!=typeof Gt||t.util.isArray(Gt)?"string"==typeof Gt&&(ce.error=Gt):(Gt.message&&(ce.message=Gt.message),Gt.error&&(ce.error=Gt.error))),ce;ce=null,Q=!1,++_e}while($.length>0);return!0}},1935:(st,ye,f)=>{"use strict";ye.KG=void 0;const e=f(592);ye.KG=(b,C)=>{var g;const p=e.asn1.fromDer(b.toString("binary")),_=e.pkcs12.pkcs12FromAsn1(p,!1,C).getBags({bagType:e.pki.oids.certBag});if(!_||null==_||null===(g=_[e.pki.oids.certBag])||void 0===g||!g[0])throw new Error("Unable to parse certificate. Incorrect Password?");return _[e.pki.oids.certBag][0]}},6801:(st,ye)=>{"use strict";class e{static isArrayBuffer(_){return"[object ArrayBuffer]"===Object.prototype.toString.call(_)}static toArrayBuffer(_){return this.isArrayBuffer(_)?_:_.byteLength===_.buffer.byteLength?_.buffer:this.toUint8Array(_).slice().buffer}static toUint8Array(_){return this.toView(_,Uint8Array)}static toView(_,R){if(_.constructor===R)return _;if(this.isArrayBuffer(_))return new R(_);if(this.isArrayBufferView(_))return new R(_.buffer,_.byteOffset,_.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(_){return this.isArrayBufferView(_)||this.isArrayBuffer(_)}static isArrayBufferView(_){return ArrayBuffer.isView(_)||_&&this.isArrayBuffer(_.buffer)}static isEqual(_,R){const N=e.toUint8Array(_),a=e.toUint8Array(R);if(N.length!==a.byteLength)return!1;for(let k=0;k<N.length;k++)if(N[k]!==a[k])return!1;return!0}static concat(..._){if(Array.isArray(_[0])){const R=_[0];let N=0;for(const P of R)N+=P.byteLength;const a=new Uint8Array(N);let k=0;for(const P of R){const U=this.toUint8Array(P);a.set(U,k),k+=U.length}return _[1]?this.toView(a,_[1]):a.buffer}return this.concat(_)}}class m{static fromString(_){const R=unescape(encodeURIComponent(_)),N=new Uint8Array(R.length);for(let a=0;a<R.length;a++)N[a]=R.charCodeAt(a);return N.buffer}static toString(_){const R=e.toUint8Array(_);let N="";for(let k=0;k<R.length;k++)N+=String.fromCharCode(R[k]);return decodeURIComponent(escape(N))}}class w{static toString(_,R=!1){const N=e.toArrayBuffer(_),a=new DataView(N);let k="";for(let P=0;P<N.byteLength;P+=2){const U=a.getUint16(P,R);k+=String.fromCharCode(U)}return k}static fromString(_,R=!1){const N=new ArrayBuffer(2*_.length),a=new DataView(N);for(let k=0;k<_.length;k++)a.setUint16(2*k,_.charCodeAt(k),R);return N}}let b=(()=>{class A{static isHex(R){return"string"==typeof R&&/^[a-z0-9]+$/i.test(R)}static isBase64(R){return"string"==typeof R&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(R)}static isBase64Url(R){return"string"==typeof R&&/^[a-zA-Z0-9-_]+$/i.test(R)}static ToString(R,N="utf8"){const a=e.toUint8Array(R);switch(N.toLowerCase()){case"utf8":return this.ToUtf8String(a);case"binary":return this.ToBinary(a);case"hex":return this.ToHex(a);case"base64":return this.ToBase64(a);case"base64url":return this.ToBase64Url(a);case"utf16le":return w.toString(a,!0);case"utf16":case"utf16be":return w.toString(a);default:throw new Error(`Unknown type of encoding '${N}'`)}}static FromString(R,N="utf8"){if(!R)return new ArrayBuffer(0);switch(N.toLowerCase()){case"utf8":return this.FromUtf8String(R);case"binary":return this.FromBinary(R);case"hex":return this.FromHex(R);case"base64":return this.FromBase64(R);case"base64url":return this.FromBase64Url(R);case"utf16le":return w.fromString(R,!0);case"utf16":case"utf16be":return w.fromString(R);default:throw new Error(`Unknown type of encoding '${N}'`)}}static ToBase64(R){const N=e.toUint8Array(R);if(typeof btoa<"u"){const a=this.ToString(N,"binary");return btoa(a)}return Buffer.from(N).toString("base64")}static FromBase64(R){const N=this.formatString(R);if(!N)return new ArrayBuffer(0);if(!A.isBase64(N))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(N)):new Uint8Array(Buffer.from(N,"base64")).buffer}static FromBase64Url(R){const N=this.formatString(R);if(!N)return new ArrayBuffer(0);if(!A.isBase64Url(N))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(N.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(R){return this.ToBase64(R).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(R,N=A.DEFAULT_UTF8_ENCODING){switch(N){case"ascii":return this.FromBinary(R);case"utf8":return m.fromString(R);case"utf16":case"utf16be":return w.fromString(R);case"utf16le":case"usc2":return w.fromString(R,!0);default:throw new Error(`Unknown type of encoding '${N}'`)}}static ToUtf8String(R,N=A.DEFAULT_UTF8_ENCODING){switch(N){case"ascii":return this.ToBinary(R);case"utf8":return m.toString(R);case"utf16":case"utf16be":return w.toString(R);case"utf16le":case"usc2":return w.toString(R,!0);default:throw new Error(`Unknown type of encoding '${N}'`)}}static FromBinary(R){const N=R.length,a=new Uint8Array(N);for(let k=0;k<N;k++)a[k]=R.charCodeAt(k);return a.buffer}static ToBinary(R){const N=e.toUint8Array(R);let a="";for(let k=0;k<N.length;k++)a+=String.fromCharCode(N[k]);return a}static ToHex(R){const N=e.toUint8Array(R),k=[],P=N.length;for(let U=0;U<P;U++){const J=N[U].toString(16).padStart(2,"0");k.push(J)}return k.join("")}static FromHex(R){let N=this.formatString(R);if(!N)return new ArrayBuffer(0);if(!A.isHex(N))throw new TypeError("Argument 'hexString' is not HEX encoded");N.length%2&&(N=`0${N}`);const a=new Uint8Array(N.length/2);for(let k=0;k<N.length;k+=2){const P=N.slice(k,k+2);a[k/2]=parseInt(P,16)}return a.buffer}static ToUtf16String(R,N=!1){return w.toString(R,N)}static FromUtf16String(R,N=!1){return w.fromString(R,N)}static Base64Padding(R){const N=4-R.length%4;if(N<4)for(let a=0;a<N;a++)R+="=";return R}static formatString(R){return R?.replace(/[\n\r\t ]/g,"")||""}}return A.DEFAULT_UTF8_ENCODING="utf8",A})();ye.vJ=e,ye.ep=b},1135:(st,ye,f)=>{"use strict";f.d(ye,{X:()=>e});var t=f(7579);class e extends t.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const b=super._subscribe(w);return!b.closed&&w.next(this._value),b}getValue(){const{hasError:w,thrownError:b,_value:C}=this;if(w)throw b;return this._throwIfClosed(),C}next(w){super.next(this._value=w)}}},9751:(st,ye,f)=>{"use strict";f.d(ye,{y:()=>p});var t=f(930),e=f(727),m=f(8822),w=f(9635),b=f(2416),C=f(576),g=f(2806);let p=(()=>{class N{constructor(k){k&&(this._subscribe=k)}lift(k){const P=new N;return P.source=this,P.operator=k,P}subscribe(k,P,U){const J=function R(N){return N&&N instanceof t.Lv||function _(N){return N&&(0,C.m)(N.next)&&(0,C.m)(N.error)&&(0,C.m)(N.complete)}(N)&&(0,e.Nn)(N)}(k)?k:new t.Hp(k,P,U);return(0,g.x)(()=>{const{operator:O,source:L}=this;J.add(O?O.call(J,L):L?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(k){try{return this._subscribe(k)}catch(P){k.error(P)}}forEach(k,P){return new(P=A(P))((U,J)=>{const O=new t.Hp({next:L=>{try{k(L)}catch(F){J(F),O.unsubscribe()}},error:J,complete:U});this.subscribe(O)})}_subscribe(k){var P;return null===(P=this.source)||void 0===P?void 0:P.subscribe(k)}[m.L](){return this}pipe(...k){return(0,w.U)(k)(this)}toPromise(k){return new(k=A(k))((P,U)=>{let J;this.subscribe(O=>J=O,O=>U(O),()=>P(J))})}}return N.create=a=>new N(a),N})();function A(N){var a;return null!==(a=N??b.v.Promise)&&void 0!==a?a:Promise}},4707:(st,ye,f)=>{"use strict";f.d(ye,{t:()=>m});var t=f(7579),e=f(6063);class m extends t.x{constructor(b=1/0,C=1/0,g=e.l){super(),this._bufferSize=b,this._windowTime=C,this._timestampProvider=g,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=C===1/0,this._bufferSize=Math.max(1,b),this._windowTime=Math.max(1,C)}next(b){const{isStopped:C,_buffer:g,_infiniteTimeWindow:p,_timestampProvider:A,_windowTime:_}=this;C||(g.push(b),!p&&g.push(A.now()+_)),this._trimBuffer(),super.next(b)}_subscribe(b){this._throwIfClosed(),this._trimBuffer();const C=this._innerSubscribe(b),{_infiniteTimeWindow:g,_buffer:p}=this,A=p.slice();for(let _=0;_<A.length&&!b.closed;_+=g?1:2)b.next(A[_]);return this._checkFinalizedStatuses(b),C}_trimBuffer(){const{_bufferSize:b,_timestampProvider:C,_buffer:g,_infiniteTimeWindow:p}=this,A=(p?1:2)*b;if(b<1/0&&A<g.length&&g.splice(0,g.length-A),!p){const _=C.now();let R=0;for(let N=1;N<g.length&&g[N]<=_;N+=2)R=N;R&&g.splice(0,R+1)}}}},7579:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>g});var t=f(9751),e=f(727);const w=(0,f(3888).d)(A=>function(){A(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=f(8737),C=f(2806);let g=(()=>{class A extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(R){const N=new p(this,this);return N.operator=R,N}_throwIfClosed(){if(this.closed)throw new w}next(R){(0,C.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const N of this.currentObservers)N.next(R)}})}error(R){(0,C.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=R;const{observers:N}=this;for(;N.length;)N.shift().error(R)}})}complete(){(0,C.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:R}=this;for(;R.length;)R.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var R;return(null===(R=this.observers)||void 0===R?void 0:R.length)>0}_trySubscribe(R){return this._throwIfClosed(),super._trySubscribe(R)}_subscribe(R){return this._throwIfClosed(),this._checkFinalizedStatuses(R),this._innerSubscribe(R)}_innerSubscribe(R){const{hasError:N,isStopped:a,observers:k}=this;return N||a?e.Lc:(this.currentObservers=null,k.push(R),new e.w0(()=>{this.currentObservers=null,(0,b.P)(k,R)}))}_checkFinalizedStatuses(R){const{hasError:N,thrownError:a,isStopped:k}=this;N?R.error(a):k&&R.complete()}asObservable(){const R=new t.y;return R.source=this,R}}return A.create=(_,R)=>new p(_,R),A})();class p extends g{constructor(_,R){super(),this.destination=_,this.source=R}next(_){var R,N;null===(N=null===(R=this.destination)||void 0===R?void 0:R.next)||void 0===N||N.call(R,_)}error(_){var R,N;null===(N=null===(R=this.destination)||void 0===R?void 0:R.error)||void 0===N||N.call(R,_)}complete(){var _,R;null===(R=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===R||R.call(_)}_subscribe(_){var R,N;return null!==(N=null===(R=this.source)||void 0===R?void 0:R.subscribe(_))&&void 0!==N?N:e.Lc}}},930:(st,ye,f)=>{"use strict";f.d(ye,{Hp:()=>U,Lv:()=>N});var t=f(576),e=f(727),m=f(2416),w=f(7849),b=f(5032);const C=A("C",void 0,void 0);function A(V,q,ie){return{kind:V,value:q,error:ie}}var _=f(3410),R=f(2806);class N extends e.w0{constructor(q){super(),this.isStopped=!1,q?(this.destination=q,(0,e.Nn)(q)&&q.add(this)):this.destination=F}static create(q,ie,H){return new U(q,ie,H)}next(q){this.isStopped?L(function p(V){return A("N",V,void 0)}(q),this):this._next(q)}error(q){this.isStopped?L(function g(V){return A("E",void 0,V)}(q),this):(this.isStopped=!0,this._error(q))}complete(){this.isStopped?L(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(q){this.destination.next(q)}_error(q){try{this.destination.error(q)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const a=Function.prototype.bind;function k(V,q){return a.call(V,q)}class P{constructor(q){this.partialObserver=q}next(q){const{partialObserver:ie}=this;if(ie.next)try{ie.next(q)}catch(H){J(H)}}error(q){const{partialObserver:ie}=this;if(ie.error)try{ie.error(q)}catch(H){J(H)}else J(q)}complete(){const{partialObserver:q}=this;if(q.complete)try{q.complete()}catch(ie){J(ie)}}}class U extends N{constructor(q,ie,H){let $;if(super(),(0,t.m)(q)||!q)$={next:q??void 0,error:ie??void 0,complete:H??void 0};else{let z;this&&m.v.useDeprecatedNextContext?(z=Object.create(q),z.unsubscribe=()=>this.unsubscribe(),$={next:q.next&&k(q.next,z),error:q.error&&k(q.error,z),complete:q.complete&&k(q.complete,z)}):$=q}this.destination=new P($)}}function J(V){m.v.useDeprecatedSynchronousErrorHandling?(0,R.O)(V):(0,w.h)(V)}function L(V,q){const{onStoppedNotification:ie}=m.v;ie&&_.z.setTimeout(()=>ie(V,q))}const F={closed:!0,next:b.Z,error:function O(V){throw V},complete:b.Z}},727:(st,ye,f)=>{"use strict";f.d(ye,{Lc:()=>C,w0:()=>b,Nn:()=>g});var t=f(576);const m=(0,f(3888).d)(A=>function(R){A(this),this.message=R?`${R.length} errors occurred during unsubscription:\n${R.map((N,a)=>`${a+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=R});var w=f(8737);class b{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:R}=this;if(R)if(this._parentage=null,Array.isArray(R))for(const k of R)k.remove(this);else R.remove(this);const{initialTeardown:N}=this;if((0,t.m)(N))try{N()}catch(k){_=k instanceof m?k.errors:[k]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const k of a)try{p(k)}catch(P){_=_??[],P instanceof m?_=[..._,...P.errors]:_.push(P)}}if(_)throw new m(_)}}add(_){var R;if(_&&_!==this)if(this.closed)p(_);else{if(_ instanceof b){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=null!==(R=this._finalizers)&&void 0!==R?R:[]).push(_)}}_hasParent(_){const{_parentage:R}=this;return R===_||Array.isArray(R)&&R.includes(_)}_addParent(_){const{_parentage:R}=this;this._parentage=Array.isArray(R)?(R.push(_),R):R?[R,_]:_}_removeParent(_){const{_parentage:R}=this;R===_?this._parentage=null:Array.isArray(R)&&(0,w.P)(R,_)}remove(_){const{_finalizers:R}=this;R&&(0,w.P)(R,_),_ instanceof b&&_._removeParent(this)}}b.EMPTY=(()=>{const A=new b;return A.closed=!0,A})();const C=b.EMPTY;function g(A){return A instanceof b||A&&"closed"in A&&(0,t.m)(A.remove)&&(0,t.m)(A.add)&&(0,t.m)(A.unsubscribe)}function p(A){(0,t.m)(A)?A():A.unsubscribe()}},2416:(st,ye,f)=>{"use strict";f.d(ye,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(st,ye,f)=>{"use strict";f.d(ye,{a:()=>_,l:()=>R});var t=f(9751),e=f(4742),m=f(2076),w=f(4671),b=f(3268),C=f(3269),g=f(1810),p=f(5403),A=f(9672);function _(...a){const k=(0,C.yG)(a),P=(0,C.jO)(a),{args:U,keys:J}=(0,e.D)(a);if(0===U.length)return(0,m.D)([],k);const O=new t.y(R(U,k,J?L=>(0,g.n)(J,L):w.y));return P?O.pipe((0,b.Z)(P)):O}function R(a,k,P=w.y){return U=>{N(k,()=>{const{length:J}=a,O=new Array(J);let L=J,F=J;for(let V=0;V<J;V++)N(k,()=>{const q=(0,m.D)(a[V],k);let ie=!1;q.subscribe((0,p.x)(U,H=>{O[V]=H,ie||(ie=!0,F--),F||U.next(P(O.slice()))},()=>{--L||U.complete()}))},U)},U)}}function N(a,k,P){a?(0,A.f)(P,a,k):k()}},7272:(st,ye,f)=>{"use strict";f.d(ye,{z:()=>b});var t=f(8189),m=f(3269),w=f(2076);function b(...C){return function e(){return(0,t.J)(1)}()((0,w.D)(C,(0,m.yG)(C)))}},9770:(st,ye,f)=>{"use strict";f.d(ye,{P:()=>m});var t=f(9751),e=f(8421);function m(w){return new t.y(b=>{(0,e.Xf)(w()).subscribe(b)})}},515:(st,ye,f)=>{"use strict";f.d(ye,{E:()=>e,c:()=>m});var t=f(9751);const e=new t.y(b=>b.complete());function m(b){return b?function w(b){return new t.y(C=>b.schedule(()=>C.complete()))}(b):e}},4128:(st,ye,f)=>{"use strict";f.d(ye,{D:()=>p});var t=f(9751),e=f(4742),m=f(8421),w=f(3269),b=f(5403),C=f(3268),g=f(1810);function p(...A){const _=(0,w.jO)(A),{args:R,keys:N}=(0,e.D)(A),a=new t.y(k=>{const{length:P}=R;if(!P)return void k.complete();const U=new Array(P);let J=P,O=P;for(let L=0;L<P;L++){let F=!1;(0,m.Xf)(R[L]).subscribe((0,b.x)(k,V=>{F||(F=!0,O--),U[L]=V},()=>J--,void 0,()=>{(!J||!F)&&(O||k.next(N?(0,g.n)(N,U):U),k.complete())}))}});return _?a.pipe((0,C.Z)(_)):a}},2076:(st,ye,f)=>{"use strict";f.d(ye,{D:()=>H});var t=f(8421),e=f(9672),m=f(4482),w=f(5403);function b($,z=0){return(0,m.e)((E,X)=>{E.subscribe((0,w.x)(X,Q=>(0,e.f)(X,$,()=>X.next(Q),z),()=>(0,e.f)(X,$,()=>X.complete(),z),Q=>(0,e.f)(X,$,()=>X.error(Q),z)))})}function C($,z=0){return(0,m.e)((E,X)=>{X.add($.schedule(()=>E.subscribe(X),z))})}var A=f(9751),R=f(2202),N=f(576);function k($,z){if(!$)throw new Error("Iterable cannot be null");return new A.y(E=>{(0,e.f)(E,z,()=>{const X=$[Symbol.asyncIterator]();(0,e.f)(E,z,()=>{X.next().then(Q=>{Q.done?E.complete():E.next(Q.value)})},0,!0)})})}var P=f(3670),U=f(8239),J=f(1144),O=f(6495),L=f(2206),F=f(4532),V=f(3260);function H($,z){return z?function ie($,z){if(null!=$){if((0,P.c)($))return function g($,z){return(0,t.Xf)($).pipe(C(z),b(z))}($,z);if((0,J.z)($))return function _($,z){return new A.y(E=>{let X=0;return z.schedule(function(){X===$.length?E.complete():(E.next($[X++]),E.closed||this.schedule())})})}($,z);if((0,U.t)($))return function p($,z){return(0,t.Xf)($).pipe(C(z),b(z))}($,z);if((0,L.D)($))return k($,z);if((0,O.T)($))return function a($,z){return new A.y(E=>{let X;return(0,e.f)(E,z,()=>{X=$[R.h](),(0,e.f)(E,z,()=>{let Q,ce;try{({value:Q,done:ce}=X.next())}catch(_e){return void E.error(_e)}ce?E.complete():E.next(Q)},0,!0)}),()=>(0,N.m)(X?.return)&&X.return()})}($,z);if((0,V.L)($))return function q($,z){return k((0,V.Q)($),z)}($,z)}throw(0,F.z)($)}($,z):(0,t.Xf)($)}},4968:(st,ye,f)=>{"use strict";f.d(ye,{R:()=>_});var t=f(8421),e=f(9751),m=f(5577),w=f(1144),b=f(576),C=f(3268);const g=["addListener","removeListener"],p=["addEventListener","removeEventListener"],A=["on","off"];function _(P,U,J,O){if((0,b.m)(J)&&(O=J,J=void 0),O)return _(P,U,J).pipe((0,C.Z)(O));const[L,F]=function k(P){return(0,b.m)(P.addEventListener)&&(0,b.m)(P.removeEventListener)}(P)?p.map(V=>q=>P[V](U,q,J)):function N(P){return(0,b.m)(P.addListener)&&(0,b.m)(P.removeListener)}(P)?g.map(R(P,U)):function a(P){return(0,b.m)(P.on)&&(0,b.m)(P.off)}(P)?A.map(R(P,U)):[];if(!L&&(0,w.z)(P))return(0,m.z)(V=>_(V,U,J))((0,t.Xf)(P));if(!L)throw new TypeError("Invalid event target");return new e.y(V=>{const q=(...ie)=>V.next(1<ie.length?ie:ie[0]);return L(q),()=>F(q)})}function R(P,U){return J=>O=>P[J](U,O)}},8421:(st,ye,f)=>{"use strict";f.d(ye,{Xf:()=>a});var t=f(655),e=f(1144),m=f(8239),w=f(9751),b=f(3670),C=f(2206),g=f(4532),p=f(6495),A=f(3260),_=f(576),R=f(7849),N=f(8822);function a(V){if(V instanceof w.y)return V;if(null!=V){if((0,b.c)(V))return function k(V){return new w.y(q=>{const ie=V[N.L]();if((0,_.m)(ie.subscribe))return ie.subscribe(q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(V);if((0,e.z)(V))return function P(V){return new w.y(q=>{for(let ie=0;ie<V.length&&!q.closed;ie++)q.next(V[ie]);q.complete()})}(V);if((0,m.t)(V))return function U(V){return new w.y(q=>{V.then(ie=>{q.closed||(q.next(ie),q.complete())},ie=>q.error(ie)).then(null,R.h)})}(V);if((0,C.D)(V))return O(V);if((0,p.T)(V))return function J(V){return new w.y(q=>{for(const ie of V)if(q.next(ie),q.closed)return;q.complete()})}(V);if((0,A.L)(V))return function L(V){return O((0,A.Q)(V))}(V)}throw(0,g.z)(V)}function O(V){return new w.y(q=>{(function F(V,q){var ie,H,$,z;return(0,t.mG)(this,void 0,void 0,function*(){try{for(ie=(0,t.KL)(V);!(H=yield ie.next()).done;)if(q.next(H.value),q.closed)return}catch(E){$={error:E}}finally{try{H&&!H.done&&(z=ie.return)&&(yield z.call(ie))}finally{if($)throw $.error}}q.complete()})})(V,q).catch(ie=>q.error(ie))})}},6451:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>C});var t=f(8189),e=f(8421),m=f(515),w=f(3269),b=f(2076);function C(...g){const p=(0,w.yG)(g),A=(0,w._6)(g,1/0),_=g;return _.length?1===_.length?(0,e.Xf)(_[0]):(0,t.J)(A)((0,b.D)(_,p)):m.E}},1848:(st,ye,f)=>{"use strict";f.d(ye,{C:()=>m});var t=f(9751),e=f(5032);const m=new t.y(e.Z)},9646:(st,ye,f)=>{"use strict";f.d(ye,{of:()=>m});var t=f(3269),e=f(2076);function m(...w){const b=(0,t.yG)(w);return(0,e.D)(w,b)}},2843:(st,ye,f)=>{"use strict";f.d(ye,{_:()=>m});var t=f(9751),e=f(576);function m(w,b){const C=(0,e.m)(w)?w:()=>w,g=p=>p.error(C());return new t.y(b?p=>b.schedule(g,0,p):g)}},5963:(st,ye,f)=>{"use strict";f.d(ye,{H:()=>b});var t=f(9751),e=f(4986),m=f(3532);function b(C=0,g,p=e.P){let A=-1;return null!=g&&((0,m.K)(g)?p=g:A=g),new t.y(_=>{let R=function w(C){return C instanceof Date&&!isNaN(C)}(C)?+C-p.now():C;R<0&&(R=0);let N=0;return p.schedule(function(){_.closed||(_.next(N++),0<=A?this.schedule(void 0,A):_.complete())},R)})}},5403:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>e});var t=f(930);function e(w,b,C,g,p){return new m(w,b,C,g,p)}class m extends t.Lv{constructor(b,C,g,p,A,_){super(b),this.onFinalize=A,this.shouldUnsubscribe=_,this._next=C?function(R){try{C(R)}catch(N){b.error(N)}}:super._next,this._error=p?function(R){try{p(R)}catch(N){b.error(N)}finally{this.unsubscribe()}}:super._error,this._complete=g?function(){try{g()}catch(R){b.error(R)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:C}=this;super.unsubscribe(),!C&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},262:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>w});var t=f(8421),e=f(5403),m=f(4482);function w(b){return(0,m.e)((C,g)=>{let _,p=null,A=!1;p=C.subscribe((0,e.x)(g,void 0,void 0,R=>{_=(0,t.Xf)(b(R,w(b)(C))),p?(p.unsubscribe(),p=null,_.subscribe(g)):A=!0})),A&&(p.unsubscribe(),p=null,_.subscribe(g))})}},2718:(st,ye,f)=>{"use strict";f.d(ye,{V:()=>p});var t=f(9841),e=f(4482),m=f(5797),w=f(3268),b=f(9635),C=f(3269);function g(...A){const _=(0,C.jO)(A);return _?(0,b.z)(g(...A),(0,w.Z)(_)):(0,e.e)((R,N)=>{(0,t.l)([R,...(0,m.k)(A)])(N)})}function p(...A){return g(...A)}},4351:(st,ye,f)=>{"use strict";f.d(ye,{b:()=>m});var t=f(5577),e=f(576);function m(w,b){return(0,e.m)(b)?(0,t.z)(w,b,1):(0,t.z)(w,1)}},8372:(st,ye,f)=>{"use strict";f.d(ye,{b:()=>w});var t=f(4986),e=f(4482),m=f(5403);function w(b,C=t.z){return(0,e.e)((g,p)=>{let A=null,_=null,R=null;const N=()=>{if(A){A.unsubscribe(),A=null;const k=_;_=null,p.next(k)}};function a(){const k=R+b,P=C.now();if(P<k)return A=this.schedule(void 0,k-P),void p.add(A);N()}g.subscribe((0,m.x)(p,k=>{_=k,R=C.now(),A||(A=C.schedule(a,b),p.add(A))},()=>{N(),p.complete()},void 0,()=>{_=A=null}))})}},6590:(st,ye,f)=>{"use strict";f.d(ye,{d:()=>m});var t=f(4482),e=f(5403);function m(w){return(0,t.e)((b,C)=>{let g=!1;b.subscribe((0,e.x)(C,p=>{g=!0,C.next(p)},()=>{g||C.next(w),C.complete()}))})}},1005:(st,ye,f)=>{"use strict";f.d(ye,{g:()=>N});var t=f(4986),e=f(7272),m=f(5698),w=f(4482),b=f(5403),C=f(5032),p=f(9718),A=f(5577);function _(a,k){return k?P=>(0,e.z)(k.pipe((0,m.q)(1),function g(){return(0,w.e)((a,k)=>{a.subscribe((0,b.x)(k,C.Z))})}()),P.pipe(_(a))):(0,A.z)((P,U)=>a(P,U).pipe((0,m.q)(1),(0,p.h)(P)))}var R=f(5963);function N(a,k=t.z){const P=(0,R.H)(a,k);return _(()=>P)}},1884:(st,ye,f)=>{"use strict";f.d(ye,{x:()=>w});var t=f(4671),e=f(4482),m=f(5403);function w(C,g=t.y){return C=C??b,(0,e.e)((p,A)=>{let _,R=!0;p.subscribe((0,m.x)(A,N=>{const a=g(N);(R||!C(_,a))&&(R=!1,_=a,A.next(N))}))})}function b(C,g){return C===g}},9300:(st,ye,f)=>{"use strict";f.d(ye,{h:()=>m});var t=f(4482),e=f(5403);function m(w,b){return(0,t.e)((C,g)=>{let p=0;C.subscribe((0,e.x)(g,A=>w.call(b,A,p++)&&g.next(A)))})}},590:(st,ye,f)=>{"use strict";f.d(ye,{P:()=>g});var t=f(6805),e=f(9300),m=f(5698),w=f(6590),b=f(8068),C=f(4671);function g(p,A){const _=arguments.length>=2;return R=>R.pipe(p?(0,e.h)((N,a)=>p(N,a,R)):C.y,(0,m.q)(1),_?(0,w.d)(A):(0,b.T)(()=>new t.K))}},4004:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>m});var t=f(4482),e=f(5403);function m(w,b){return(0,t.e)((C,g)=>{let p=0;C.subscribe((0,e.x)(g,A=>{g.next(w.call(b,A,p++))}))})}},9718:(st,ye,f)=>{"use strict";f.d(ye,{h:()=>e});var t=f(4004);function e(m){return(0,t.U)(()=>m)}},5683:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>C});var t=f(4482),e=f(5797),m=f(8189),w=f(3269),b=f(2076);function C(...g){const p=(0,w.yG)(g),A=(0,w._6)(g,1/0);return g=(0,e.k)(g),(0,t.e)((_,R)=>{(0,m.J)(A)((0,b.D)([_,...g],p)).subscribe(R)})}},8189:(st,ye,f)=>{"use strict";f.d(ye,{J:()=>m});var t=f(5577),e=f(4671);function m(w=1/0){return(0,t.z)(e.y,w)}},5577:(st,ye,f)=>{"use strict";f.d(ye,{z:()=>p});var t=f(4004),e=f(8421),m=f(4482),w=f(9672),b=f(5403),g=f(576);function p(A,_,R=1/0){return(0,g.m)(_)?p((N,a)=>(0,t.U)((k,P)=>_(N,k,a,P))((0,e.Xf)(A(N,a))),R):("number"==typeof _&&(R=_),(0,m.e)((N,a)=>function C(A,_,R,N,a,k,P,U){const J=[];let O=0,L=0,F=!1;const V=()=>{F&&!J.length&&!O&&_.complete()},q=H=>O<N?ie(H):J.push(H),ie=H=>{k&&_.next(H),O++;let $=!1;(0,e.Xf)(R(H,L++)).subscribe((0,b.x)(_,z=>{a?.(z),k?q(z):_.next(z)},()=>{$=!0},void 0,()=>{if($)try{for(O--;J.length&&O<N;){const z=J.shift();P?(0,w.f)(_,P,()=>ie(z)):ie(z)}V()}catch(z){_.error(z)}}))};return A.subscribe((0,b.x)(_,q,()=>{F=!0,V()})),()=>{U?.()}}(N,a,A,R)))}},3635:(st,ye,f)=>{"use strict";f.d(ye,{b:()=>e});var t=f(5683);function e(...m){return(0,t.T)(...m)}},7359:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>e});var t=f(5403);function e(m,w,b,C,g){return(p,A)=>{let _=b,R=w,N=0;p.subscribe((0,t.x)(A,a=>{const k=N++;R=_?m(R,a,k):(_=!0,a),C&&A.next(R)},g&&(()=>{_&&A.next(R),A.complete()})))}}},3099:(st,ye,f)=>{"use strict";f.d(ye,{B:()=>b});var t=f(8421),e=f(7579),m=f(930),w=f(4482);function b(g={}){const{connector:p=(()=>new e.x),resetOnError:A=!0,resetOnComplete:_=!0,resetOnRefCountZero:R=!0}=g;return N=>{let a,k,P,U=0,J=!1,O=!1;const L=()=>{k?.unsubscribe(),k=void 0},F=()=>{L(),a=P=void 0,J=O=!1},V=()=>{const q=a;F(),q?.unsubscribe()};return(0,w.e)((q,ie)=>{U++,!O&&!J&&L();const H=P=P??p();ie.add(()=>{U--,0===U&&!O&&!J&&(k=C(V,R))}),H.subscribe(ie),!a&&U>0&&(a=new m.Hp({next:$=>H.next($),error:$=>{O=!0,L(),k=C(F,A,$),H.error($)},complete:()=>{J=!0,L(),k=C(F,_),H.complete()}}),(0,t.Xf)(q).subscribe(a))})(N)}}function C(g,p,...A){if(!0===p)return void g();if(!1===p)return;const _=new m.Hp({next:()=>{_.unsubscribe(),g()}});return p(...A).subscribe(_)}},4782:(st,ye,f)=>{"use strict";f.d(ye,{d:()=>m});var t=f(4707),e=f(3099);function m(w,b,C){let g,p=!1;return w&&"object"==typeof w?({bufferSize:g=1/0,windowTime:b=1/0,refCount:p=!1,scheduler:C}=w):g=w??1/0,(0,e.B)({connector:()=>new t.t(g,b,C),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}},8675:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>w});var t=f(7272),e=f(3269),m=f(4482);function w(...b){const C=(0,e.yG)(b);return(0,m.e)((g,p)=>{(C?(0,t.z)(b,g,C):(0,t.z)(b,g)).subscribe(p)})}},3900:(st,ye,f)=>{"use strict";f.d(ye,{w:()=>w});var t=f(8421),e=f(4482),m=f(5403);function w(b,C){return(0,e.e)((g,p)=>{let A=null,_=0,R=!1;const N=()=>R&&!A&&p.complete();g.subscribe((0,m.x)(p,a=>{A?.unsubscribe();let k=0;const P=_++;(0,t.Xf)(b(a,P)).subscribe(A=(0,m.x)(p,U=>p.next(C?C(a,U,P,k++):U),()=>{A=null,N()}))},()=>{R=!0,N()}))})}},5698:(st,ye,f)=>{"use strict";f.d(ye,{q:()=>w});var t=f(515),e=f(4482),m=f(5403);function w(b){return b<=0?()=>t.E:(0,e.e)((C,g)=>{let p=0;C.subscribe((0,m.x)(g,A=>{++p<=b&&(g.next(A),b<=p&&g.complete())}))})}},2722:(st,ye,f)=>{"use strict";f.d(ye,{R:()=>b});var t=f(4482),e=f(5403),m=f(8421),w=f(5032);function b(C){return(0,t.e)((g,p)=>{(0,m.Xf)(C).subscribe((0,e.x)(p,()=>p.complete(),w.Z)),!p.closed&&g.subscribe(p)})}},8505:(st,ye,f)=>{"use strict";f.d(ye,{b:()=>b});var t=f(576),e=f(4482),m=f(5403),w=f(4671);function b(C,g,p){const A=(0,t.m)(C)||g||p?{next:C,error:g,complete:p}:C;return A?(0,e.e)((_,R)=>{var N;null===(N=A.subscribe)||void 0===N||N.call(A);let a=!0;_.subscribe((0,m.x)(R,k=>{var P;null===(P=A.next)||void 0===P||P.call(A,k),R.next(k)},()=>{var k;a=!1,null===(k=A.complete)||void 0===k||k.call(A),R.complete()},k=>{var P;a=!1,null===(P=A.error)||void 0===P||P.call(A,k),R.error(k)},()=>{var k,P;a&&(null===(k=A.unsubscribe)||void 0===k||k.call(A)),null===(P=A.finalize)||void 0===P||P.call(A)}))}):w.y}},8068:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>w});var t=f(6805),e=f(4482),m=f(5403);function w(C=b){return(0,e.e)((g,p)=>{let A=!1;g.subscribe((0,m.x)(p,_=>{A=!0,p.next(_)},()=>A?p.complete():p.error(C())))})}function b(){return new t.K}},1365:(st,ye,f)=>{"use strict";f.d(ye,{M:()=>g});var t=f(4482),e=f(5403),m=f(8421),w=f(4671),b=f(5032),C=f(3269);function g(...p){const A=(0,C.jO)(p);return(0,t.e)((_,R)=>{const N=p.length,a=new Array(N);let k=p.map(()=>!1),P=!1;for(let U=0;U<N;U++)(0,m.Xf)(p[U]).subscribe((0,e.x)(R,J=>{a[U]=J,!P&&!k[U]&&(k[U]=!0,(P=k.every(w.y))&&(k=null))},b.Z));_.subscribe((0,e.x)(R,U=>{if(P){const J=[U,...a];R.next(A?A(...J):J)}}))})}},4408:(st,ye,f)=>{"use strict";f.d(ye,{o:()=>b});var t=f(727);class e extends t.w0{constructor(g,p){super()}schedule(g,p=0){return this}}const m={setInterval(C,g,...p){const{delegate:A}=m;return A?.setInterval?A.setInterval(C,g,...p):setInterval(C,g,...p)},clearInterval(C){const{delegate:g}=m;return(g?.clearInterval||clearInterval)(C)},delegate:void 0};var w=f(8737);class b extends e{constructor(g,p){super(g,p),this.scheduler=g,this.work=p,this.pending=!1}schedule(g,p=0){if(this.closed)return this;this.state=g;const A=this.id,_=this.scheduler;return null!=A&&(this.id=this.recycleAsyncId(_,A,p)),this.pending=!0,this.delay=p,this.id=this.id||this.requestAsyncId(_,this.id,p),this}requestAsyncId(g,p,A=0){return m.setInterval(g.flush.bind(g,this),A)}recycleAsyncId(g,p,A=0){if(null!=A&&this.delay===A&&!1===this.pending)return p;m.clearInterval(p)}execute(g,p){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const A=this._execute(g,p);if(A)return A;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,p){let _,A=!1;try{this.work(g)}catch(R){A=!0,_=R||new Error("Scheduled action threw falsy error")}if(A)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:g,scheduler:p}=this,{actions:A}=p;this.work=this.state=this.scheduler=null,this.pending=!1,(0,w.P)(A,this),null!=g&&(this.id=this.recycleAsyncId(p,g,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,ye,f)=>{"use strict";f.d(ye,{v:()=>m});var t=f(6063);class e{constructor(b,C=e.now){this.schedulerActionCtor=b,this.now=C}schedule(b,C=0,g){return new this.schedulerActionCtor(this,b).schedule(g,C)}}e.now=t.l.now;class m extends e{constructor(b,C=e.now){super(b,C),this.actions=[],this._active=!1,this._scheduled=void 0}flush(b){const{actions:C}=this;if(this._active)return void C.push(b);let g;this._active=!0;do{if(g=b.execute(b.state,b.delay))break}while(b=C.shift());if(this._active=!1,g){for(;b=C.shift();)b.unsubscribe();throw g}}}},4986:(st,ye,f)=>{"use strict";f.d(ye,{P:()=>w,z:()=>m});var t=f(4408);const m=new(f(7565).v)(t.o),w=m},6063:(st,ye,f)=>{"use strict";f.d(ye,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},3410:(st,ye,f)=>{"use strict";f.d(ye,{z:()=>t});const t={setTimeout(e,m,...w){const{delegate:b}=t;return b?.setTimeout?b.setTimeout(e,m,...w):setTimeout(e,m,...w)},clearTimeout(e){const{delegate:m}=t;return(m?.clearTimeout||clearTimeout)(e)},delegate:void 0}},2202:(st,ye,f)=>{"use strict";f.d(ye,{h:()=>e});const e=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,ye,f)=>{"use strict";f.d(ye,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>e});const e=(0,f(3888).d)(m=>function(){m(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(st,ye,f)=>{"use strict";f.d(ye,{_6:()=>C,jO:()=>w,yG:()=>b});var t=f(576),e=f(3532);function m(g){return g[g.length-1]}function w(g){return(0,t.m)(m(g))?g.pop():void 0}function b(g){return(0,e.K)(m(g))?g.pop():void 0}function C(g,p){return"number"==typeof m(g)?g.pop():p}},4742:(st,ye,f)=>{"use strict";f.d(ye,{D:()=>b});const{isArray:t}=Array,{getPrototypeOf:e,prototype:m,keys:w}=Object;function b(g){if(1===g.length){const p=g[0];if(t(p))return{args:p,keys:null};if(function C(g){return g&&"object"==typeof g&&e(g)===m}(p)){const A=w(p);return{args:A.map(_=>p[_]),keys:A}}}return{args:g,keys:null}}},5797:(st,ye,f)=>{"use strict";f.d(ye,{k:()=>e});const{isArray:t}=Array;function e(m){return 1===m.length&&t(m[0])?m[0]:m}},8737:(st,ye,f)=>{"use strict";function t(e,m){if(e){const w=e.indexOf(m);0<=w&&e.splice(w,1)}}f.d(ye,{P:()=>t})},3888:(st,ye,f)=>{"use strict";function t(e){const w=e(b=>{Error.call(b),b.stack=(new Error).stack});return w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w}f.d(ye,{d:()=>t})},1810:(st,ye,f)=>{"use strict";function t(e,m){return e.reduce((w,b,C)=>(w[b]=m[C],w),{})}f.d(ye,{n:()=>t})},2806:(st,ye,f)=>{"use strict";f.d(ye,{O:()=>w,x:()=>m});var t=f(2416);let e=null;function m(b){if(t.v.useDeprecatedSynchronousErrorHandling){const C=!e;if(C&&(e={errorThrown:!1,error:null}),b(),C){const{errorThrown:g,error:p}=e;if(e=null,g)throw p}}else b()}function w(b){t.v.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=b)}},9672:(st,ye,f)=>{"use strict";function t(e,m,w,b=0,C=!1){const g=m.schedule(function(){w(),C?e.add(this.schedule(null,b)):this.unsubscribe()},b);if(e.add(g),!C)return g}f.d(ye,{f:()=>t})},4671:(st,ye,f)=>{"use strict";function t(e){return e}f.d(ye,{y:()=>t})},1144:(st,ye,f)=>{"use strict";f.d(ye,{z:()=>t});const t=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2206:(st,ye,f)=>{"use strict";f.d(ye,{D:()=>e});var t=f(576);function e(m){return Symbol.asyncIterator&&(0,t.m)(m?.[Symbol.asyncIterator])}},576:(st,ye,f)=>{"use strict";function t(e){return"function"==typeof e}f.d(ye,{m:()=>t})},3670:(st,ye,f)=>{"use strict";f.d(ye,{c:()=>m});var t=f(8822),e=f(576);function m(w){return(0,e.m)(w[t.L])}},6495:(st,ye,f)=>{"use strict";f.d(ye,{T:()=>m});var t=f(2202),e=f(576);function m(w){return(0,e.m)(w?.[t.h])}},5191:(st,ye,f)=>{"use strict";f.d(ye,{b:()=>m});var t=f(9751),e=f(576);function m(w){return!!w&&(w instanceof t.y||(0,e.m)(w.lift)&&(0,e.m)(w.subscribe))}},8239:(st,ye,f)=>{"use strict";f.d(ye,{t:()=>e});var t=f(576);function e(m){return(0,t.m)(m?.then)}},3260:(st,ye,f)=>{"use strict";f.d(ye,{L:()=>w,Q:()=>m});var t=f(655),e=f(576);function m(b){return(0,t.FC)(this,arguments,function*(){const g=b.getReader();try{for(;;){const{value:p,done:A}=yield(0,t.qq)(g.read());if(A)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(p)}}finally{g.releaseLock()}})}function w(b){return(0,e.m)(b?.getReader)}},3532:(st,ye,f)=>{"use strict";f.d(ye,{K:()=>e});var t=f(576);function e(m){return m&&(0,t.m)(m.schedule)}},4482:(st,ye,f)=>{"use strict";f.d(ye,{A:()=>e,e:()=>m});var t=f(576);function e(w){return(0,t.m)(w?.lift)}function m(w){return b=>{if(e(b))return b.lift(function(C){try{return w(C,this)}catch(g){this.error(g)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(st,ye,f)=>{"use strict";f.d(ye,{Z:()=>w});var t=f(4004);const{isArray:e}=Array;function w(b){return(0,t.U)(C=>function m(b,C){return e(C)?b(...C):b(C)}(b,C))}},5032:(st,ye,f)=>{"use strict";function t(){}f.d(ye,{Z:()=>t})},9635:(st,ye,f)=>{"use strict";f.d(ye,{U:()=>m,z:()=>e});var t=f(4671);function e(...w){return m(w)}function m(w){return 0===w.length?t.y:1===w.length?w[0]:function(C){return w.reduce((g,p)=>p(g),C)}}},7849:(st,ye,f)=>{"use strict";f.d(ye,{h:()=>m});var t=f(2416),e=f(3410);function m(w){e.z.setTimeout(()=>{const{onUnhandledError:b}=t.v;if(!b)throw w;b(w)})}},4532:(st,ye,f)=>{"use strict";function t(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}f.d(ye,{z:()=>t})},5834:function(st,ye,f){var t;!function(e,m){"use strict";var g="function",p="undefined",A="object",_="string",R="major",N="model",a="name",k="type",P="vendor",U="version",J="architecture",O="console",L="mobile",F="tablet",V="smarttv",q="wearable",ie="embedded",$="Amazon",z="Apple",E="ASUS",X="BlackBerry",Q="Browser",ce="Chrome",Te="Firefox",ve="Google",Ge="Microsoft",we="Motorola",Ye="Opera",rt="Samsung",at="Sony",ct="Xiaomi",Gt="Zebra",ln="Facebook",Mt="Chromium OS",G=function(He){for(var ae={},te=0;te<He.length;te++)ae[He[te].toUpperCase()]=He[te];return ae},oe=function(He,ae){return typeof He===_&&-1!==Ve(ae).indexOf(Ve(He))},Ve=function(He){return He.toLowerCase()},o=function(He,ae){if(typeof He===_)return He=He.replace(/^\s\s*/,""),typeof ae===p?He:He.substring(0,350)},De=function(He,ae){for(var B,ee,Re,tt,ot,Et,te=0;te<ae.length&&!ot;){var Kt=ae[te],wn=ae[te+1];for(B=ee=0;B<Kt.length&&!ot&&Kt[B];)if(ot=Kt[B++].exec(He))for(Re=0;Re<wn.length;Re++)Et=ot[++ee],typeof(tt=wn[Re])===A&&tt.length>0?2===tt.length?this[tt[0]]=typeof tt[1]==g?tt[1].call(this,Et):tt[1]:3===tt.length?this[tt[0]]=typeof tt[1]!==g||tt[1].exec&&tt[1].test?Et?Et.replace(tt[1],tt[2]):m:Et?tt[1].call(this,Et,tt[2]):m:4===tt.length&&(this[tt[0]]=Et?tt[3].call(this,Et.replace(tt[1],tt[2])):m):this[tt]=Et||m;te+=2}},be=function(He,ae){for(var te in ae)if(typeof ae[te]===A&&ae[te].length>0){for(var B=0;B<ae[te].length;B++)if(oe(ae[te][B],He))return"?"===te?m:te}else if(oe(ae[te],He))return"?"===te?m:te;return He},et={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[U,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[U,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,U],[/opios[\/ ]+([\w\.]+)/i],[U,[a,Ye+" Mini"]],[/\bopr\/([\w\.]+)/i],[U,[a,Ye]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[a,U],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[U,[a,"UC"+Q]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[U,[a,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[U,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[U,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[U,[a,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[U,[a,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+Q],U],[/\bfocus\/([\w\.]+)/i],[U,[a,Te+" Focus"]],[/\bopt\/([\w\.]+)/i],[U,[a,Ye+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[U,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[U,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[U,[a,Ye+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[U,[a,"MIUI "+Q]],[/fxios\/([-\w\.]+)/i],[U,[a,Te]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+Q]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+Q],U],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],U],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[a,U],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,ln],U],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[a,U],[/\bgsa\/([\w\.]+) .*safari\//i],[U,[a,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[U,[a,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[U,[a,ce+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,ce+" WebView"],U],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[U,[a,"Android "+Q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,U],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[U,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[U,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[U,be,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[a,U],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],U],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[U,[a,Te+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[a,U],[/(cobalt)\/([\w\.]+)/i],[a,[U,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[J,"amd64"]],[/(ia32(?=;))/i],[[J,Ve]],[/((?:i[346]|x)86)[;\)]/i],[[J,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[J,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[J,"armhf"]],[/windows (ce|mobile); ppc;/i],[[J,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[J,/ower/,"",Ve]],[/(sun4\w)[;\)]/i],[[J,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[J,Ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[N,[P,rt],[k,F]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[N,[P,rt],[k,L]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[N,[P,z],[k,L]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[N,[P,z],[k,F]],[/(macintosh);/i],[N,[P,z]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[N,[P,"Sharp"],[k,L]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[N,[P,"Huawei"],[k,F]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[N,[P,"Huawei"],[k,L]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[N,/_/g," "],[P,ct],[k,L]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[N,/_/g," "],[P,ct],[k,F]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[N,[P,"OPPO"],[k,L]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[N,[P,"Vivo"],[k,L]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[N,[P,"Realme"],[k,L]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[N,[P,we],[k,L]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[N,[P,we],[k,F]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[N,[P,"LG"],[k,F]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[N,[P,"LG"],[k,L]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[N,[P,"Lenovo"],[k,F]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[N,/_/g," "],[P,"Nokia"],[k,L]],[/(pixel c)\b/i],[N,[P,ve],[k,F]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[N,[P,ve],[k,L]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[N,[P,at],[k,L]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[N,"Xperia Tablet"],[P,at],[k,F]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[N,[P,"OnePlus"],[k,L]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[N,[P,$],[k,F]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[N,/(.+)/g,"Fire Phone $1"],[P,$],[k,L]],[/(playbook);[-\w\),; ]+(rim)/i],[N,P,[k,F]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[N,[P,X],[k,L]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[N,[P,E],[k,F]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[N,[P,E],[k,L]],[/(nexus 9)/i],[N,[P,"HTC"],[k,F]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[P,[N,/_/g," "],[k,L]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[N,[P,"Acer"],[k,F]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[N,[P,"Meizu"],[k,L]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[P,N,[k,L]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[P,N,[k,F]],[/(surface duo)/i],[N,[P,Ge],[k,F]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[N,[P,"Fairphone"],[k,L]],[/(u304aa)/i],[N,[P,"AT&T"],[k,L]],[/\bsie-(\w*)/i],[N,[P,"Siemens"],[k,L]],[/\b(rct\w+) b/i],[N,[P,"RCA"],[k,F]],[/\b(venue[\d ]{2,7}) b/i],[N,[P,"Dell"],[k,F]],[/\b(q(?:mv|ta)\w+) b/i],[N,[P,"Verizon"],[k,F]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[N,[P,"Barnes & Noble"],[k,F]],[/\b(tm\d{3}\w+) b/i],[N,[P,"NuVision"],[k,F]],[/\b(k88) b/i],[N,[P,"ZTE"],[k,F]],[/\b(nx\d{3}j) b/i],[N,[P,"ZTE"],[k,L]],[/\b(gen\d{3}) b.+49h/i],[N,[P,"Swiss"],[k,L]],[/\b(zur\d{3}) b/i],[N,[P,"Swiss"],[k,F]],[/\b((zeki)?tb.*\b) b/i],[N,[P,"Zeki"],[k,F]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[P,"Dragon Touch"],N,[k,F]],[/\b(ns-?\w{0,9}) b/i],[N,[P,"Insignia"],[k,F]],[/\b((nxa|next)-?\w{0,9}) b/i],[N,[P,"NextBook"],[k,F]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[P,"Voice"],N,[k,L]],[/\b(lvtel\-)?(v1[12]) b/i],[[P,"LvTel"],N,[k,L]],[/\b(ph-1) /i],[N,[P,"Essential"],[k,L]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[N,[P,"Envizen"],[k,F]],[/\b(trio[-\w\. ]+) b/i],[N,[P,"MachSpeed"],[k,F]],[/\btu_(1491) b/i],[N,[P,"Rotor"],[k,F]],[/(shield[\w ]+) b/i],[N,[P,"Nvidia"],[k,F]],[/(sprint) (\w+)/i],[P,N,[k,L]],[/(kin\.[onetw]{3})/i],[[N,/\./g," "],[P,Ge],[k,L]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[N,[P,Gt],[k,F]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[N,[P,Gt],[k,L]],[/smart-tv.+(samsung)/i],[P,[k,V]],[/hbbtv.+maple;(\d+)/i],[[N,/^/,"SmartTV"],[P,rt],[k,V]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[P,"LG"],[k,V]],[/(apple) ?tv/i],[P,[N,z+" TV"],[k,V]],[/crkey/i],[[N,ce+"cast"],[P,ve],[k,V]],[/droid.+aft(\w)( bui|\))/i],[N,[P,$],[k,V]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[N,[P,"Sharp"],[k,V]],[/(bravia[\w ]+)( bui|\))/i],[N,[P,at],[k,V]],[/(mitv-\w{5}) bui/i],[N,[P,ct],[k,V]],[/Hbbtv.*(technisat) (.*);/i],[P,N,[k,V]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[P,o],[N,o],[k,V]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[k,V]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[P,N,[k,O]],[/droid.+; (shield) bui/i],[N,[P,"Nvidia"],[k,O]],[/(playstation [345portablevi]+)/i],[N,[P,at],[k,O]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[N,[P,Ge],[k,O]],[/((pebble))app/i],[P,N,[k,q]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[N,[P,z],[k,q]],[/droid.+; (glass) \d/i],[N,[P,ve],[k,q]],[/droid.+; (wt63?0{2,3})\)/i],[N,[P,Gt],[k,q]],[/(quest( 2| pro)?)/i],[N,[P,ln],[k,q]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[P,[k,ie]],[/(aeobc)\b/i],[N,[P,$],[k,ie]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[N,[k,L]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[N,[k,F]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[k,F]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[k,L]],[/(android[-\w\. ]{0,9});.+buil/i],[N,[P,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[U,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[U,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[a,U],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[U,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,U],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[a,[U,be,et]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[a,"Windows"],[U,be,et]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[U,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,"Mac OS"],[U,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[U,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,U],[/\(bb(10);/i],[U,[a,X]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[U,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[U,[a,Te+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[U,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[U,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[U,[a,ce+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,Mt],U],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,U],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],U],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[a,U]]},We=function(He,ae){if(typeof He===A&&(ae=He,He=m),!(this instanceof We))return new We(He,ae).getResult();var te=typeof e!==p&&e.navigator?e.navigator:m,B=He||(te&&te.userAgent?te.userAgent:""),ee=te&&te.userAgentData?te.userAgentData:m,Re=ae?function(He,ae){var te={};for(var B in He)te[B]=ae[B]&&ae[B].length%2==0?ae[B].concat(He[B]):He[B];return te}(Qe,ae):Qe,tt=te&&te.userAgent==B;return this.getBrowser=function(){var ot={};return ot[a]=m,ot[U]=m,De.call(ot,B,Re.browser),ot[R]=function(He){return typeof He===_?He.replace(/[^\d\.]/g,"").split(".")[0]:m}(ot[U]),tt&&te&&te.brave&&typeof te.brave.isBrave==g&&(ot[a]="Brave"),ot},this.getCPU=function(){var ot={};return ot[J]=m,De.call(ot,B,Re.cpu),ot},this.getDevice=function(){var ot={};return ot[P]=m,ot[N]=m,ot[k]=m,De.call(ot,B,Re.device),tt&&!ot[k]&&ee&&ee.mobile&&(ot[k]=L),tt&&"Macintosh"==ot[N]&&te&&typeof te.standalone!==p&&te.maxTouchPoints&&te.maxTouchPoints>2&&(ot[N]="iPad",ot[k]=F),ot},this.getEngine=function(){var ot={};return ot[a]=m,ot[U]=m,De.call(ot,B,Re.engine),ot},this.getOS=function(){var ot={};return ot[a]=m,ot[U]=m,De.call(ot,B,Re.os),tt&&!ot[a]&&ee&&"Unknown"!=ee.platform&&(ot[a]=ee.platform.replace(/chrome os/i,Mt).replace(/macos/i,"Mac OS")),ot},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return B},this.setUA=function(ot){return B=typeof ot===_&&ot.length>350?o(ot,350):ot,this},this.setUA(B),this};We.VERSION="1.0.35",We.BROWSER=G([a,U,R]),We.CPU=G([J]),We.DEVICE=G([N,P,k,O,L,V,F,q,ie]),We.ENGINE=We.OS=G([a,U]),typeof ye!==p?(st.exports&&(ye=st.exports=We),ye.UAParser=We):f.amdO?(t=function(){return We}.call(ye,f,ye,st))!==m&&(st.exports=t):typeof e!==p&&(e.UAParser=We);var bt=typeof e!==p&&(e.jQuery||e.Zepto);if(bt&&!bt.ua){var pt=new We;bt.ua=pt.getResult(),bt.ua.get=function(){return pt.getUA()},bt.ua.set=function(He){pt.setUA(He);var ae=pt.getResult();for(var te in ae)bt.ua[te]=ae[te]}}}("object"==typeof window?window:this)},317:function(st,ye){var f,e;!function(m,w){"use strict";f=function(m){return function(b){b=b||{},function g(){b.arrayAccessForm=b.arrayAccessForm||"none",b.emptyNodeForm=b.emptyNodeForm||"text",b.jsAttributeFilter=b.jsAttributeFilter,b.jsAttributeConverter=b.jsAttributeConverter,b.attributeConverters=b.attributeConverters||[],b.datetimeAccessFormPaths=b.datetimeAccessFormPaths||[],b.arrayAccessFormPaths=b.arrayAccessFormPaths||[],b.xmldomOptions=b.xmldomOptions||{},void 0===b.enableToStringFunc&&(b.enableToStringFunc=!0),void 0===b.skipEmptyTextNodesForObj&&(b.skipEmptyTextNodesForObj=!0),void 0===b.stripWhitespaces&&(b.stripWhitespaces=!0),void 0===b.useDoubleQuotes&&(b.useDoubleQuotes=!0),void 0===b.ignoreRoot&&(b.ignoreRoot=!1),void 0===b.escapeMode&&(b.escapeMode=!0),void 0===b.attributePrefix&&(b.attributePrefix="_"),void 0===b.selfClosingElements&&(b.selfClosingElements=!0),void 0===b.keepCData&&(b.keepCData=!1),void 0===b.keepText&&(b.keepText=!1),void 0===b.jsDateUTC&&(b.jsDateUTC=!1)}(),function p(){function Te(ve){var Ke=String(ve);return 1===Ke.length&&(Ke="0"+Ke),Ke}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Te(this.getUTCMonth()+1)+"-"+Te(this.getUTCDate())+"T"+Te(this.getUTCHours())+":"+Te(this.getUTCMinutes())+":"+Te(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var A_ELEMENT_NODE=1,A_TEXT_NODE=3,A_CDATA_SECTION_NODE=4,A_COMMENT_NODE=8,A_DOCUMENT_NODE=9;function _(Te){var ve=Te.localName;return null==ve&&(ve=Te.baseName),(null==ve||""===ve)&&(ve=Te.nodeName),ve}function N(Te){return"string"==typeof Te?Te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Te}function k(Te,ve,Ke){if("property"===b.arrayAccessForm&&(Te[ve+"_asArray"]=Te[ve]instanceof Array?Te[ve]:[Te[ve]]),!(Te[ve]instanceof Array)&&b.arrayAccessFormPaths.length>0){for(var xe=!1,Ge=0;Ge<b.arrayAccessFormPaths.length;Ge++){var we=b.arrayAccessFormPaths[Ge];if("string"==typeof we){if(we===Ke){xe=!0;break}}else if(we instanceof RegExp){if(we.test(Ke)){xe=!0;break}}else if("function"==typeof we&&we(ve,Ke)){xe=!0;break}}xe&&(Te[ve]=[Te[ve]])}}function P(Te){var Ke=Te.split(/[-T:+Z]/g),xe=new Date(Ke[0],Ke[1]-1,Ke[2]),Ge=Ke[5].split(".");if(xe.setHours(Ke[3],Ke[4],Ge[0]),Ge.length>1&&xe.setMilliseconds(Ge[1]),Ke[6]&&Ke[7]){var we=60*Ke[6]+Number(Ke[7]);we=0+("-"==(/\d\d-\d\d:\d\d$/.test(Te)?"-":"+")?-1*we:we),xe.setMinutes(xe.getMinutes()-we-xe.getTimezoneOffset())}else-1!==Te.indexOf("Z",Te.length-1)&&(xe=new Date(Date.UTC(xe.getFullYear(),xe.getMonth(),xe.getDate(),xe.getHours(),xe.getMinutes(),xe.getSeconds(),xe.getMilliseconds())));return xe}function O(Te,ve){for(var Ke={__cnt:0},xe=Te.childNodes,Ge=0;Ge<xe.length;Ge++){var we=xe.item(Ge),Ye=_(we);we.nodeType!==A_COMMENT_NODE&&(Ke.__cnt++,null==Ke[Ye]?(Ke[Ye]=L(we,ve+"."+Ye),k(Ke,Ye,ve+"."+Ye)):(Ke[Ye]instanceof Array||(Ke[Ye]=[Ke[Ye]],k(Ke,Ye,ve+"."+Ye)),Ke[Ye][Ke[Ye].length]=L(we,ve+"."+Ye)))}for(var rt=0;rt<Te.attributes.length;rt++){var Ct=Te.attributes.item(rt);Ke.__cnt++;for(var at=Ct.value,dt=0;dt<b.attributeConverters.length;dt++){var ct=b.attributeConverters[dt];ct.test.call(null,Ct.name,Ct.value)&&(at=ct.convert.call(null,Ct.name,Ct.value))}Ke[b.attributePrefix+Ct.name]=at}var Gt=function R(Te){return Te.prefix}(Te);return Gt&&(Ke.__cnt++,Ke.__prefix=Gt),Ke["#text"]&&(Ke.__text=Ke["#text"],Ke.__text instanceof Array&&(Ke.__text=Ke.__text.join("\n")),b.escapeMode&&(Ke.__text=function a(Te){return Te.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(Ke.__text)),b.stripWhitespaces&&(Ke.__text=Ke.__text.trim()),delete Ke["#text"],"property"===b.arrayAccessForm&&delete Ke["#text_asArray"],Ke.__text=function U(Te,ve,Ke){if(b.datetimeAccessFormPaths.length>0)for(var xe=Ke.split(".#")[0],Ge=0;Ge<b.datetimeAccessFormPaths.length;Ge++){var we=b.datetimeAccessFormPaths[Ge];if("string"==typeof we){if(we===xe)return P(Te)}else if(we instanceof RegExp){if(we.test(xe))return P(Te)}else if("function"==typeof we&&we(xe))return P(Te)}return Te}(Ke.__text,0,ve+".#text")),Ke.hasOwnProperty("#cdata-section")&&(Ke.__cdata=Ke["#cdata-section"],delete Ke["#cdata-section"],"property"===b.arrayAccessForm&&delete Ke["#cdata-section_asArray"]),1===Ke.__cnt&&Ke.__text&&!b.keepText?Ke=Ke.__text:0===Ke.__cnt&&"text"===b.emptyNodeForm?Ke="":Ke.__cnt>1&&void 0!==Ke.__text&&b.skipEmptyTextNodesForObj&&(b.stripWhitespaces&&""===Ke.__text||""===Ke.__text.trim())&&delete Ke.__text,delete Ke.__cnt,b.keepCData||Ke.hasOwnProperty("__text")||!Ke.hasOwnProperty("__cdata")||1!==Object.keys(Ke).length?(b.enableToStringFunc&&(Ke.__text||Ke.__cdata)&&(Ke.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),Ke):Ke.__cdata?Ke.__cdata:""}function L(Te,ve){return Te.nodeType===A_DOCUMENT_NODE?function J(Te){for(var ve={},Ke=Te.childNodes,xe=0;xe<Ke.length;xe++){var Ge=Ke.item(xe);if(Ge.nodeType===A_ELEMENT_NODE){var we=_(Ge);b.ignoreRoot?ve=L(Ge,we):ve[we]=L(Ge,we)}}return ve}(Te):Te.nodeType===A_ELEMENT_NODE?O(Te,ve):Te.nodeType===A_TEXT_NODE||Te.nodeType===A_CDATA_SECTION_NODE?Te.nodeValue:null}function F(Te,ve,Ke,xe){var Ge="<"+(Te&&Te.__prefix?Te.__prefix+":":"")+ve;if(Ke)for(var we=0;we<Ke.length;we++){var Ye=Ke[we],rt=Te[Ye];b.escapeMode&&(rt=N(rt)),Ge+=" "+Ye.substr(b.attributePrefix.length)+"=",Ge+=b.useDoubleQuotes?'"'+rt+'"':"'"+rt+"'"}return Ge+(xe?" />":">")}function V(Te,ve){return"</"+(Te&&Te.__prefix?Te.__prefix+":":"")+ve+">"}function ie(Te,ve){return!!("property"===b.arrayAccessForm&&function q(Te,ve){return-1!==Te.indexOf(ve,Te.length-ve.length)}(ve.toString(),"_asArray")||0===ve.toString().indexOf(b.attributePrefix)||0===ve.toString().indexOf("__")||Te[ve]instanceof Function)}function H(Te){var ve=0;if(Te instanceof Object)for(var Ke in Te)ie(Te,Ke)||ve++;return ve}function $(Te){var ve=[];if(Te instanceof Object)for(var Ke in Te)-1===Ke.toString().indexOf("__")&&0===Ke.toString().indexOf(b.attributePrefix)&&ve.push(Ke);return ve}function E(Te){var ve="";return Te instanceof Object?ve+=function z(Te){var ve="";return Te.__cdata&&(ve+="<![CDATA["+Te.__cdata+"]]>"),(Te.__text||"number"==typeof Te.__text||"boolean"==typeof Te.__text)&&(ve+=b.escapeMode?N(Te.__text):Te.__text),ve}(Te):null!==Te&&(ve+=b.escapeMode?N(Te):Te),ve}function Q(Te,ve,Ke){var xe="";return b.jsAttributeFilter&&b.jsAttributeFilter.call(null,ve,Te)||(b.jsAttributeConverter&&(Te=b.jsAttributeConverter.call(null,ve,Te)),null!=Te&&""!==Te||!b.selfClosingElements?"object"==typeof Te?"[object Array]"===Object.prototype.toString.call(Te)?xe+=function X(Te,ve,Ke){var xe="";if(0===Te.length)xe+=F(Te,ve,Ke,!0);else for(var Ge=0;Ge<Te.length;Ge++)xe+=Q(Te[Ge],ve,$(Te[Ge]));return xe}(Te,ve,Ke):Te instanceof Date?(xe+=F(Te,ve,Ke,!1),xe+=b.jsDateUTC?Te.toUTCString():Te.toISOString(),xe+=V(Te,ve)):H(Te)>0||"number"==typeof Te.__text||"boolean"==typeof Te.__text||Te.__text||Te.__cdata?(xe+=F(Te,ve,Ke,!1),xe+=ce(Te),xe+=V(Te,ve)):b.selfClosingElements?xe+=F(Te,ve,Ke,!0):(xe+=F(Te,ve,Ke,!1),xe+=V(Te,ve)):(xe+=F(Te,ve,Ke,!1),xe+=E(Te),xe+=V(Te,ve)):xe+=F(Te,ve,Ke,!0)),xe}function ce(Te){var ve="";if(H(Te)>0)for(var xe in Te)if(!ie(Te,xe)){var Ge=Te[xe];ve+=Q(Ge,xe,$(Ge))}return ve+E(Te)}function _e(Te){if(void 0===Te||"string"!=typeof Te)return null;var ve=null,Ke=null;if(m)Ke=(ve=new m(b.xmldomOptions)).parseFromString(Te,"text/xml");else if(window&&window.DOMParser){ve=new window.DOMParser;var xe=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{xe=ve.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{xe=null}try{Ke=ve.parseFromString(Te,"text/xml"),null!==xe&&Ke.getElementsByTagNameNS(xe,"parsererror").length>0&&(Ke=null)}catch{Ke=null}}else 0===Te.indexOf("<?")&&(Te=Te.substr(Te.indexOf("?>")+2)),(Ke=new ActiveXObject("Microsoft.XMLDOM")).async="false",Ke.loadXML(Te);return Ke}this.asArray=function(ve){return null==ve?[]:ve instanceof Array?ve:[ve]},this.toXmlDateTime=function(ve){return ve instanceof Date?ve.toISOString():"number"==typeof ve?new Date(ve).toISOString():null},this.asDateTime=function(ve){return"string"==typeof ve?P(ve):ve},this.xml2dom=function(ve){return _e(ve)},this.dom2js=function(ve){return L(ve,null)},this.js2dom=function(ve){return _e(this.js2xml(ve))},this.xml2js=function(ve){var Ke=_e(ve);return null!=Ke?this.dom2js(Ke):null},this.js2xml=function(ve){return ce(ve)},this.getVersion=function(){return"3.4.0"}}},void 0!==(e=f.apply(ye,[]))&&(st.exports=e)}()},655:(st,ye,f)=>{"use strict";function b(X,Q,ce,_e){var Ke,Te=arguments.length,ve=Te<3?Q:null===_e?_e=Object.getOwnPropertyDescriptor(Q,ce):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ve=Reflect.decorate(X,Q,ce,_e);else for(var xe=X.length-1;xe>=0;xe--)(Ke=X[xe])&&(ve=(Te<3?Ke(ve):Te>3?Ke(Q,ce,ve):Ke(Q,ce))||ve);return Te>3&&ve&&Object.defineProperty(Q,ce,ve),ve}function g(X,Q){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(X,Q)}function p(X,Q,ce,_e){return new(ce||(ce=Promise))(function(ve,Ke){function xe(Ye){try{we(_e.next(Ye))}catch(rt){Ke(rt)}}function Ge(Ye){try{we(_e.throw(Ye))}catch(rt){Ke(rt)}}function we(Ye){Ye.done?ve(Ye.value):function Te(ve){return ve instanceof ce?ve:new ce(function(Ke){Ke(ve)})}(Ye.value).then(xe,Ge)}we((_e=_e.apply(X,Q||[])).next())})}function J(X){return this instanceof J?(this.v=X,this):new J(X)}function O(X,Q,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,_e=ce.apply(X,Q||[]),ve=[];return Te={},Ke("next"),Ke("throw"),Ke("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function Ke(Ct){_e[Ct]&&(Te[Ct]=function(at){return new Promise(function(dt,ct){ve.push([Ct,at,dt,ct])>1||xe(Ct,at)})})}function xe(Ct,at){try{!function Ge(Ct){Ct.value instanceof J?Promise.resolve(Ct.value.v).then(we,Ye):rt(ve[0][2],Ct)}(_e[Ct](at))}catch(dt){rt(ve[0][3],dt)}}function we(Ct){xe("next",Ct)}function Ye(Ct){xe("throw",Ct)}function rt(Ct,at){Ct(at),ve.shift(),ve.length&&xe(ve[0][0],ve[0][1])}}function F(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,Q=X[Symbol.asyncIterator];return Q?Q.call(X):(X=function N(X){var Q="function"==typeof Symbol&&Symbol.iterator,ce=Q&&X[Q],_e=0;if(ce)return ce.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&_e>=X.length&&(X=void 0),{value:X&&X[_e++],done:!X}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ce={},_e("next"),_e("throw"),_e("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function _e(ve){ce[ve]=X[ve]&&function(Ke){return new Promise(function(xe,Ge){!function Te(ve,Ke,xe,Ge){Promise.resolve(Ge).then(function(we){ve({value:we,done:xe})},Ke)}(xe,Ge,(Ke=X[ve](Ke)).done,Ke.value)})}}}f.d(ye,{FC:()=>O,KL:()=>F,gn:()=>b,mG:()=>p,qq:()=>J,w6:()=>g})},5819:()=>{},7340:(st,ye,f)=>{"use strict";f.d(ye,{LC:()=>e,SB:()=>A,X$:()=>w,ZE:()=>L,ZN:()=>O,_j:()=>t,eR:()=>R,jt:()=>b,k1:()=>F,l3:()=>m,oB:()=>p,vP:()=>g});class t{}class e{}const m="*";function w(V,q){return{type:7,name:V,definitions:q,options:{}}}function b(V,q=null){return{type:4,styles:q,timings:V}}function g(V,q=null){return{type:2,steps:V,options:q}}function p(V){return{type:6,styles:V,offset:null}}function A(V,q,ie){return{type:0,name:V,styles:q,options:ie}}function R(V,q,ie=null){return{type:1,expr:V,animation:q,options:ie}}function J(V){Promise.resolve().then(V)}class O{constructor(q=0,ie=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=q+ie}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}onStart(q){this._originalOnStartFns.push(q),this._onStartFns.push(q)}onDone(q){this._originalOnDoneFns.push(q),this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){J(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(q=>q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(q){this._position=this.totalTime?q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(q){const ie="start"==q?this._onStartFns:this._onDoneFns;ie.forEach(H=>H()),ie.length=0}}class L{constructor(q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=q;let ie=0,H=0,$=0;const z=this.players.length;0==z?J(()=>this._onFinish()):this.players.forEach(E=>{E.onDone(()=>{++ie==z&&this._onFinish()}),E.onDestroy(()=>{++H==z&&this._onDestroy()}),E.onStart(()=>{++$==z&&this._onStart()})}),this.totalTime=this.players.reduce((E,X)=>Math.max(E,X.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}init(){this.players.forEach(q=>q.init())}onStart(q){this._onStartFns.push(q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(q=>q()),this._onStartFns=[])}onDone(q){this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(q=>q.play())}pause(){this.players.forEach(q=>q.pause())}restart(){this.players.forEach(q=>q.restart())}finish(){this._onFinish(),this.players.forEach(q=>q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(q=>q.destroy()),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this.players.forEach(q=>q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(q){const ie=q*this.totalTime;this.players.forEach(H=>{const $=H.totalTime?Math.min(1,ie/H.totalTime):1;H.setPosition($)})}getPosition(){const q=this.players.reduce((ie,H)=>null===ie||H.totalTime>ie.totalTime?H:ie,null);return null!=q?q.getPosition():0}beforeDestroy(){this.players.forEach(q=>{q.beforeDestroy&&q.beforeDestroy()})}triggerCallback(q){const ie="start"==q?this._onStartFns:this._onDoneFns;ie.forEach(H=>H()),ie.length=0}}const F="!"},6895:(st,ye,f)=>{"use strict";f.d(ye,{Do:()=>F,EM:()=>As,HT:()=>b,JF:()=>Ns,JJ:()=>Mr,K0:()=>g,Mx:()=>Fn,NF:()=>ps,Nd:()=>Hn,O5:()=>Pt,OU:()=>cs,S$:()=>J,V_:()=>_,Ye:()=>V,b0:()=>L,bD:()=>us,ez:()=>br,gd:()=>Ys,mk:()=>kt,q:()=>m,sg:()=>Ze,tP:()=>Mi,w_:()=>C});var t=f(4650);let e=null;function m(){return e}function b(he){e||(e=he)}class C{}const g=new t.OlP("DocumentToken");let p=(()=>{class he{historyGo(Ce){throw new Error("Not implemented")}}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275prov=t.Yz7({token:he,factory:function(){return function A(){return(0,t.LFG)(R)}()},providedIn:"platform"}),he})();const _=new t.OlP("Location Initialized");let R=(()=>{class he extends p{constructor(Ce){super(),this._doc=Ce,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return m().getBaseHref(this._doc)}onPopState(Ce){const ze=m().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("popstate",Ce,!1),()=>ze.removeEventListener("popstate",Ce)}onHashChange(Ce){const ze=m().getGlobalEventTarget(this._doc,"window");return ze.addEventListener("hashchange",Ce,!1),()=>ze.removeEventListener("hashchange",Ce)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Ce){this.location.pathname=Ce}pushState(Ce,ze,vt){N()?this._history.pushState(Ce,ze,vt):this.location.hash=vt}replaceState(Ce,ze,vt){N()?this._history.replaceState(Ce,ze,vt):this.location.hash=vt}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ce=0){this._history.go(Ce)}getState(){return this._history.state}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.LFG(g))},he.\u0275prov=t.Yz7({token:he,factory:function(){return function a(){return new R((0,t.LFG)(g))}()},providedIn:"platform"}),he})();function N(){return!!window.history.pushState}function k(he,Pe){if(0==he.length)return Pe;if(0==Pe.length)return he;let Ce=0;return he.endsWith("/")&&Ce++,Pe.startsWith("/")&&Ce++,2==Ce?he+Pe.substring(1):1==Ce?he+Pe:he+"/"+Pe}function P(he){const Pe=he.match(/#|\?|$/),Ce=Pe&&Pe.index||he.length;return he.slice(0,Ce-("/"===he[Ce-1]?1:0))+he.slice(Ce)}function U(he){return he&&"?"!==he[0]?"?"+he:he}let J=(()=>{class he{historyGo(Ce){throw new Error("Not implemented")}}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275prov=t.Yz7({token:he,factory:function(){return(0,t.f3M)(L)},providedIn:"root"}),he})();const O=new t.OlP("appBaseHref");let L=(()=>{class he extends J{constructor(Ce,ze){var vt,Xt,sn;super(),this._platformLocation=Ce,this._removeListenerFns=[],this._baseHref=null!==(vt=null!==(Xt=ze??this._platformLocation.getBaseHrefFromDOM())&&void 0!==Xt?Xt:null===(sn=(0,t.f3M)(g).location)||void 0===sn?void 0:sn.origin)&&void 0!==vt?vt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ce){return k(this._baseHref,Ce)}path(Ce=!1){const ze=this._platformLocation.pathname+U(this._platformLocation.search),vt=this._platformLocation.hash;return vt&&Ce?`${ze}${vt}`:ze}pushState(Ce,ze,vt,Xt){const sn=this.prepareExternalUrl(vt+U(Xt));this._platformLocation.pushState(Ce,ze,sn)}replaceState(Ce,ze,vt,Xt){const sn=this.prepareExternalUrl(vt+U(Xt));this._platformLocation.replaceState(Ce,ze,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ce=0){var ze,vt;null===(ze=(vt=this._platformLocation).historyGo)||void 0===ze||ze.call(vt,Ce)}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.LFG(p),t.LFG(O,8))},he.\u0275prov=t.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),F=(()=>{class he extends J{constructor(Ce,ze){super(),this._platformLocation=Ce,this._baseHref="",this._removeListenerFns=[],null!=ze&&(this._baseHref=ze)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}path(Ce=!1){let ze=this._platformLocation.hash;return null==ze&&(ze="#"),ze.length>0?ze.substring(1):ze}prepareExternalUrl(Ce){const ze=k(this._baseHref,Ce);return ze.length>0?"#"+ze:ze}pushState(Ce,ze,vt,Xt){let sn=this.prepareExternalUrl(vt+U(Xt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.pushState(Ce,ze,sn)}replaceState(Ce,ze,vt,Xt){let sn=this.prepareExternalUrl(vt+U(Xt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.replaceState(Ce,ze,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ce=0){var ze,vt;null===(ze=(vt=this._platformLocation).historyGo)||void 0===ze||ze.call(vt,Ce)}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.LFG(p),t.LFG(O,8))},he.\u0275prov=t.Yz7({token:he,factory:he.\u0275fac}),he})(),V=(()=>{class he{constructor(Ce){this._subject=new t.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ce;const ze=this._locationStrategy.getBaseHref();this._baseHref=P(H(ze)),this._locationStrategy.onPopState(vt=>{this._subject.emit({url:this.path(!0),pop:!0,state:vt.state,type:vt.type})})}ngOnDestroy(){var Ce;null===(Ce=this._urlChangeSubscription)||void 0===Ce||Ce.unsubscribe(),this._urlChangeListeners=[]}path(Ce=!1){return this.normalize(this._locationStrategy.path(Ce))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ce,ze=""){return this.path()==this.normalize(Ce+U(ze))}normalize(Ce){return he.stripTrailingSlash(function ie(he,Pe){return he&&Pe.startsWith(he)?Pe.substring(he.length):Pe}(this._baseHref,H(Ce)))}prepareExternalUrl(Ce){return Ce&&"/"!==Ce[0]&&(Ce="/"+Ce),this._locationStrategy.prepareExternalUrl(Ce)}go(Ce,ze="",vt=null){this._locationStrategy.pushState(vt,"",Ce,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+U(ze)),vt)}replaceState(Ce,ze="",vt=null){this._locationStrategy.replaceState(vt,"",Ce,ze),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+U(ze)),vt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ce=0){var ze,vt;null===(ze=(vt=this._locationStrategy).historyGo)||void 0===ze||ze.call(vt,Ce)}onUrlChange(Ce){return this._urlChangeListeners.push(Ce),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ze=>{this._notifyUrlChangeListeners(ze.url,ze.state)})),()=>{const ze=this._urlChangeListeners.indexOf(Ce);var vt;this._urlChangeListeners.splice(ze,1),0===this._urlChangeListeners.length&&(null===(vt=this._urlChangeSubscription)||void 0===vt||vt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ce="",ze){this._urlChangeListeners.forEach(vt=>vt(Ce,ze))}subscribe(Ce,ze,vt){return this._subject.subscribe({next:Ce,error:ze,complete:vt})}}return he.normalizeQueryParams=U,he.joinWithSlash=k,he.stripTrailingSlash=P,he.\u0275fac=function(Ce){return new(Ce||he)(t.LFG(J))},he.\u0275prov=t.Yz7({token:he,factory:function(){return function q(){return new V((0,t.LFG)(J))}()},providedIn:"root"}),he})();function H(he){return he.replace(/\/index.html$/,"")}var z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Percent=1]="Percent",z[z.Currency=2]="Currency",z[z.Scientific=3]="Scientific",z))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function ct(he,Pe){const Ce=(0,t.cg1)(he),ze=Ce[t.wAp.NumberSymbols][Pe];if(typeof ze>"u"){if(Pe===_e.CurrencyDecimal)return Ce[t.wAp.NumberSymbols][_e.Decimal];if(Pe===_e.CurrencyGroup)return Ce[t.wAp.NumberSymbols][_e.Group]}return ze}const zn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Di(he){const Pe=parseInt(he);if(isNaN(Pe))throw new Error("Invalid integer literal when parsing "+he);return Pe}function Fn(he,Pe){Pe=encodeURIComponent(Pe);for(const Ce of he.split(";")){const ze=Ce.indexOf("="),[vt,Xt]=-1==ze?[Ce,""]:[Ce.slice(0,ze),Ce.slice(ze+1)];if(vt.trim()===Pe)return decodeURIComponent(Xt)}return null}let kt=(()=>{class he{constructor(Ce,ze,vt,Xt){this._iterableDiffers=Ce,this._keyValueDiffers=ze,this._ngEl=vt,this._renderer=Xt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Ce){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Ce?Ce.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Ce){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Ce?Ce.split(/\s+/):Ce,this._rawClass&&((0,t.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Ce=this._iterableDiffer.diff(this._rawClass);Ce&&this._applyIterableChanges(Ce)}else if(this._keyValueDiffer){const Ce=this._keyValueDiffer.diff(this._rawClass);Ce&&this._applyKeyValueChanges(Ce)}}_applyKeyValueChanges(Ce){Ce.forEachAddedItem(ze=>this._toggleClass(ze.key,ze.currentValue)),Ce.forEachChangedItem(ze=>this._toggleClass(ze.key,ze.currentValue)),Ce.forEachRemovedItem(ze=>{ze.previousValue&&this._toggleClass(ze.key,!1)})}_applyIterableChanges(Ce){Ce.forEachAddedItem(ze=>{if("string"!=typeof ze.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,t.AaK)(ze.item)}`);this._toggleClass(ze.item,!0)}),Ce.forEachRemovedItem(ze=>this._toggleClass(ze.item,!1))}_applyClasses(Ce){Ce&&(Array.isArray(Ce)||Ce instanceof Set?Ce.forEach(ze=>this._toggleClass(ze,!0)):Object.keys(Ce).forEach(ze=>this._toggleClass(ze,!!Ce[ze])))}_removeClasses(Ce){Ce&&(Array.isArray(Ce)||Ce instanceof Set?Ce.forEach(ze=>this._toggleClass(ze,!1)):Object.keys(Ce).forEach(ze=>this._toggleClass(ze,!1)))}_toggleClass(Ce,ze){(Ce=Ce.trim())&&Ce.split(/\s+/g).forEach(vt=>{ze?this._renderer.addClass(this._ngEl.nativeElement,vt):this._renderer.removeClass(this._ngEl.nativeElement,vt)})}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},he.\u0275dir=t.lG2({type:he,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),he})();class ki{constructor(Pe,Ce,ze,vt){this.$implicit=Pe,this.ngForOf=Ce,this.index=ze,this.count=vt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ze=(()=>{class he{constructor(Ce,ze,vt){this._viewContainer=Ce,this._template=ze,this._differs=vt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Ce){this._ngForOf=Ce,this._ngForOfDirty=!0}set ngForTrackBy(Ce){this._trackByFn=Ce}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Ce){Ce&&(this._template=Ce)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ce=this._ngForOf;!this._differ&&Ce&&(this._differ=this._differs.find(Ce).create(this.ngForTrackBy))}if(this._differ){const Ce=this._differ.diff(this._ngForOf);Ce&&this._applyChanges(Ce)}}_applyChanges(Ce){const ze=this._viewContainer;Ce.forEachOperation((vt,Xt,sn)=>{if(null==vt.previousIndex)ze.createEmbeddedView(this._template,new ki(vt.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)ze.remove(null===Xt?void 0:Xt);else if(null!==Xt){const $t=ze.get(Xt);ze.move($t,sn),qe($t,vt)}});for(let vt=0,Xt=ze.length;vt<Xt;vt++){const $t=ze.get(vt).context;$t.index=vt,$t.count=Xt,$t.ngForOf=this._ngForOf}Ce.forEachIdentityChange(vt=>{qe(ze.get(vt.currentIndex),vt)})}static ngTemplateContextGuard(Ce,ze){return!0}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},he.\u0275dir=t.lG2({type:he,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),he})();function qe(he,Pe){he.context.$implicit=Pe.item}let Pt=(()=>{class he{constructor(Ce,ze){this._viewContainer=Ce,this._context=new un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ze}set ngIf(Ce){this._context.$implicit=this._context.ngIf=Ce,this._updateView()}set ngIfThen(Ce){hn("ngIfThen",Ce),this._thenTemplateRef=Ce,this._thenViewRef=null,this._updateView()}set ngIfElse(Ce){hn("ngIfElse",Ce),this._elseTemplateRef=Ce,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ce,ze){return!0}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.Y36(t.s_b),t.Y36(t.Rgc))},he.\u0275dir=t.lG2({type:he,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),he})();class un{constructor(){this.$implicit=null,this.ngIf=null}}function hn(he,Pe){if(Pe&&!Pe.createEmbeddedView)throw new Error(`${he} must be a TemplateRef, but received '${(0,t.AaK)(Pe)}'.`)}let Mi=(()=>{class he{constructor(Ce){this._viewContainerRef=Ce,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ce){if(Ce.ngTemplateOutlet||Ce.ngTemplateOutletInjector){const ze=this._viewContainerRef;if(this._viewRef&&ze.remove(ze.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:vt,ngTemplateOutletContext:Xt,ngTemplateOutletInjector:sn}=this;this._viewRef=ze.createEmbeddedView(vt,Xt,sn?{injector:sn}:void 0)}else this._viewRef=null}else this._viewRef&&Ce.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.Y36(t.s_b))},he.\u0275dir=t.lG2({type:he,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.TTD]}),he})();function Qi(he,Pe){return new t.vHH(2100,!1)}let Ys=(()=>{class he{transform(Ce){if(null==Ce)return null;if("string"!=typeof Ce)throw Qi();return Ce.toUpperCase()}}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275pipe=t.Yjl({name:"uppercase",type:he,pure:!0,standalone:!0}),he})(),Hn=(()=>{class he{constructor(Ce){this.differs=Ce,this.keyValues=[],this.compareFn=yr}transform(Ce,ze=yr){if(!Ce||!(Ce instanceof Map)&&"object"!=typeof Ce)return null;this.differ||(this.differ=this.differs.find(Ce).create());const vt=this.differ.diff(Ce),Xt=ze!==this.compareFn;return vt&&(this.keyValues=[],vt.forEachItem(sn=>{this.keyValues.push(function ws(he,Pe){return{key:he,value:Pe}}(sn.key,sn.currentValue))})),(vt||Xt)&&(this.keyValues.sort(ze),this.compareFn=ze),this.keyValues}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.Y36(t.aQg,16))},he.\u0275pipe=t.Yjl({name:"keyvalue",type:he,pure:!1,standalone:!0}),he})();function yr(he,Pe){const Ce=he.key,ze=Pe.key;if(Ce===ze)return 0;if(void 0===Ce)return 1;if(void 0===ze)return-1;if(null===Ce)return 1;if(null===ze)return-1;if("string"==typeof Ce&&"string"==typeof ze)return Ce<ze?-1:1;if("number"==typeof Ce&&"number"==typeof ze)return Ce-ze;if("boolean"==typeof Ce&&"boolean"==typeof ze)return Ce<ze?-1:1;const vt=String(Ce),Xt=String(ze);return vt==Xt?0:vt<Xt?-1:1}let Mr=(()=>{class he{constructor(Ce){this._locale=Ce}transform(Ce,ze,vt){if(!function Wr(he){return!(null==he||""===he||he!=he)}(Ce))return null;vt=vt||this._locale;try{return function Rn(he,Pe,Ce){return function ti(he,Pe,Ce,ze,vt,Xt,sn=!1){let $t="",Ui=!1;if(isFinite(he)){let bi=function ri(he){let ze,vt,Xt,sn,$t,Pe=Math.abs(he)+"",Ce=0;for((vt=Pe.indexOf("."))>-1&&(Pe=Pe.replace(".","")),(Xt=Pe.search(/e/i))>0?(vt<0&&(vt=Xt),vt+=+Pe.slice(Xt+1),Pe=Pe.substring(0,Xt)):vt<0&&(vt=Pe.length),Xt=0;"0"===Pe.charAt(Xt);Xt++);if(Xt===($t=Pe.length))ze=[0],vt=1;else{for($t--;"0"===Pe.charAt($t);)$t--;for(vt-=Xt,ze=[],sn=0;Xt<=$t;Xt++,sn++)ze[sn]=Number(Pe.charAt(Xt))}return vt>22&&(ze=ze.splice(0,21),Ce=vt-1,vt=1),{digits:ze,exponent:Ce,integerLen:vt}}(he);sn&&(bi=function rr(he){if(0===he.digits[0])return he;const Pe=he.digits.length-he.integerLen;return he.exponent?he.exponent+=2:(0===Pe?he.digits.push(0,0):1===Pe&&he.digits.push(0),he.integerLen+=2),he}(bi));let gi=Pe.minInt,mn=Pe.minFrac,hi=Pe.maxFrac;if(Xt){const Vr=Xt.match(zn);if(null===Vr)throw new Error(`${Xt} is not a valid digit info`);const Sr=Vr[1],xs=Vr[3],eo=Vr[5];null!=Sr&&(gi=Di(Sr)),null!=xs&&(mn=Di(xs)),null!=eo?hi=Di(eo):null!=xs&&mn>hi&&(hi=mn)}!function Gi(he,Pe,Ce){if(Pe>Ce)throw new Error(`The minimum number of digits after fraction (${Pe}) is higher than the maximum (${Ce}).`);let ze=he.digits,vt=ze.length-he.integerLen;const Xt=Math.min(Math.max(Pe,vt),Ce);let sn=Xt+he.integerLen,$t=ze[sn];if(sn>0){ze.splice(Math.max(he.integerLen,sn));for(let mn=sn;mn<ze.length;mn++)ze[mn]=0}else{vt=Math.max(0,vt),he.integerLen=1,ze.length=Math.max(1,sn=Xt+1),ze[0]=0;for(let mn=1;mn<sn;mn++)ze[mn]=0}if($t>=5)if(sn-1<0){for(let mn=0;mn>sn;mn--)ze.unshift(0),he.integerLen++;ze.unshift(1),he.integerLen++}else ze[sn-1]++;for(;vt<Math.max(0,Xt);vt++)ze.push(0);let Ui=0!==Xt;const bi=Pe+he.integerLen,gi=ze.reduceRight(function(mn,hi,Ri,gr){return gr[Ri]=(hi+=mn)<10?hi:hi-10,Ui&&(0===gr[Ri]&&Ri>=bi?gr.pop():Ui=!1),hi>=10?1:0},0);gi&&(ze.unshift(gi),he.integerLen++)}(bi,mn,hi);let Ri=bi.digits,gr=bi.integerLen;const _r=bi.exponent;let ir=[];for(Ui=Ri.every(Vr=>!Vr);gr<gi;gr++)Ri.unshift(0);for(;gr<0;gr++)Ri.unshift(0);gr>0?ir=Ri.splice(gr,Ri.length):(ir=Ri,Ri=[0]);const Bs=[];for(Ri.length>=Pe.lgSize&&Bs.unshift(Ri.splice(-Pe.lgSize,Ri.length).join(""));Ri.length>Pe.gSize;)Bs.unshift(Ri.splice(-Pe.gSize,Ri.length).join(""));Ri.length&&Bs.unshift(Ri.join("")),$t=Bs.join(ct(Ce,ze)),ir.length&&($t+=ct(Ce,vt)+ir.join("")),_r&&($t+=ct(Ce,_e.Exponential)+"+"+_r)}else $t=ct(Ce,_e.Infinity);return $t=he<0&&!Ui?Pe.negPre+$t+Pe.negSuf:Pe.posPre+$t+Pe.posSuf,$t}(he,function yi(he,Pe="-"){const Ce={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ze=he.split(";"),vt=ze[0],Xt=ze[1],sn=-1!==vt.indexOf(".")?vt.split("."):[vt.substring(0,vt.lastIndexOf("0")+1),vt.substring(vt.lastIndexOf("0")+1)],$t=sn[0],Ui=sn[1]||"";Ce.posPre=$t.substring(0,$t.indexOf("#"));for(let gi=0;gi<Ui.length;gi++){const mn=Ui.charAt(gi);"0"===mn?Ce.minFrac=Ce.maxFrac=gi+1:"#"===mn?Ce.maxFrac=gi+1:Ce.posSuf+=mn}const bi=$t.split(",");if(Ce.gSize=bi[1]?bi[1].length:0,Ce.lgSize=bi[2]||bi[1]?(bi[2]||bi[1]).length:0,Xt){const gi=vt.length-Ce.posPre.length-Ce.posSuf.length,mn=Xt.indexOf("#");Ce.negPre=Xt.substring(0,mn).replace(/'/g,""),Ce.negSuf=Xt.slice(mn+gi).replace(/'/g,"")}else Ce.negPre=Pe+Ce.posPre,Ce.negSuf=Ce.posSuf;return Ce}(function Gt(he,Pe){return(0,t.cg1)(he)[t.wAp.NumberFormats][Pe]}(Pe,z.Decimal),ct(Pe,_e.MinusSign)),Pe,_e.Group,_e.Decimal,Ce)}(function Cr(he){if("string"==typeof he&&!isNaN(Number(he)-parseFloat(he)))return Number(he);if("number"!=typeof he)throw new Error(`${he} is not a number`);return he}(Ce),vt,ze)}catch(Xt){throw Qi()}}}return he.\u0275fac=function(Ce){return new(Ce||he)(t.Y36(t.soG,16))},he.\u0275pipe=t.Yjl({name:"number",type:he,pure:!0,standalone:!0}),he})();let cs=(()=>{class he{transform(Ce,ze,vt){if(null==Ce)return null;if(!this.supports(Ce))throw Qi();return Ce.slice(ze,vt)}supports(Ce){return"string"==typeof Ce||Array.isArray(Ce)}}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275pipe=t.Yjl({name:"slice",type:he,pure:!1,standalone:!0}),he})(),br=(()=>{class he{}return he.\u0275fac=function(Ce){return new(Ce||he)},he.\u0275mod=t.oAB({type:he}),he.\u0275inj=t.cJS({}),he})();const us="browser";function ps(he){return he===us}let As=(()=>{class he{}return he.\u0275prov=(0,t.Yz7)({token:he,providedIn:"root",factory:()=>new co((0,t.LFG)(g),window)}),he})();class co{constructor(Pe,Ce){this.document=Pe,this.window=Ce,this.offset=()=>[0,0]}setOffset(Pe){this.offset=Array.isArray(Pe)?()=>Pe:Pe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Pe){this.supportsScrolling()&&this.window.scrollTo(Pe[0],Pe[1])}scrollToAnchor(Pe){if(!this.supportsScrolling())return;const Ce=function as(he,Pe){const Ce=he.getElementById(Pe)||he.getElementsByName(Pe)[0];if(Ce)return Ce;if("function"==typeof he.createTreeWalker&&he.body&&(he.body.createShadowRoot||he.body.attachShadow)){const ze=he.createTreeWalker(he.body,NodeFilter.SHOW_ELEMENT);let vt=ze.currentNode;for(;vt;){const Xt=vt.shadowRoot;if(Xt){const sn=Xt.getElementById(Pe)||Xt.querySelector(`[name="${Pe}"]`);if(sn)return sn}vt=ze.nextNode()}}return null}(this.document,Pe);Ce&&(this.scrollToElement(Ce),Ce.focus())}setHistoryScrollRestoration(Pe){if(this.supportScrollRestoration()){const Ce=this.window.history;Ce&&Ce.scrollRestoration&&(Ce.scrollRestoration=Pe)}}scrollToElement(Pe){const Ce=Pe.getBoundingClientRect(),ze=Ce.left+this.window.pageXOffset,vt=Ce.top+this.window.pageYOffset,Xt=this.offset();this.window.scrollTo(ze-Xt[0],vt-Xt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Pe=Gr(this.window.history)||Gr(Object.getPrototypeOf(this.window.history));return!(!Pe||!Pe.writable&&!Pe.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gr(he){return Object.getOwnPropertyDescriptor(he,"scrollRestoration")}class Ns{}},529:(st,ye,f)=>{"use strict";f.d(ye,{JF:()=>Qe,LE:()=>O,TP:()=>xe,UA:()=>_e,WM:()=>_,eN:()=>ve});var t=f(6895),e=f(4650),m=f(9646),w=f(9751),b=f(4351),C=f(9300),g=f(4004);class p{}class A{}class _{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?this.lazyInit="string"==typeof He?()=>{this.headers=new Map,He.split("\n").forEach(ae=>{const te=ae.indexOf(":");if(te>0){const B=ae.slice(0,te),ee=B.toLowerCase(),Re=ae.slice(te+1).trim();this.maybeSetNormalizedName(B,ee),this.headers.has(ee)?this.headers.get(ee).push(Re):this.headers.set(ee,[Re])}})}:()=>{this.headers=new Map,Object.keys(He).forEach(ae=>{let te=He[ae];const B=ae.toLowerCase();"string"==typeof te&&(te=[te]),te.length>0&&(this.headers.set(B,te),this.maybeSetNormalizedName(ae,B))})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const ae=this.headers.get(He.toLowerCase());return ae&&ae.length>0?ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,ae){return this.clone({name:He,value:ae,op:"a"})}set(He,ae){return this.clone({name:He,value:ae,op:"s"})}delete(He,ae){return this.clone({name:He,value:ae,op:"d"})}maybeSetNormalizedName(He,ae){this.normalizedNames.has(ae)||this.normalizedNames.set(ae,He)}init(){this.lazyInit&&(this.lazyInit instanceof _?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(ae=>{this.headers.set(ae,He.headers.get(ae)),this.normalizedNames.set(ae,He.normalizedNames.get(ae))})}clone(He){const ae=new _;return ae.lazyInit=this.lazyInit&&this.lazyInit instanceof _?this.lazyInit:this,ae.lazyUpdate=(this.lazyUpdate||[]).concat([He]),ae}applyUpdate(He){const ae=He.name.toLowerCase();switch(He.op){case"a":case"s":let te=He.value;if("string"==typeof te&&(te=[te]),0===te.length)return;this.maybeSetNormalizedName(He.name,ae);const B=("a"===He.op?this.headers.get(ae):void 0)||[];B.push(...te),this.headers.set(ae,B);break;case"d":const ee=He.value;if(ee){let Re=this.headers.get(ae);if(!Re)return;Re=Re.filter(tt=>-1===ee.indexOf(tt)),0===Re.length?(this.headers.delete(ae),this.normalizedNames.delete(ae)):this.headers.set(ae,Re)}else this.headers.delete(ae),this.normalizedNames.delete(ae)}}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(ae=>He(this.normalizedNames.get(ae),this.headers.get(ae)))}}class N{encodeKey(He){return U(He)}encodeValue(He){return U(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}const k=/%(\d[a-f0-9])/gi,P={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function U(pt){return encodeURIComponent(pt).replace(k,(He,ae)=>{var te;return null!==(te=P[ae])&&void 0!==te?te:He})}function J(pt){return`${pt}`}class O{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new N,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function a(pt,He){const ae=new Map;return pt.length>0&&pt.replace(/^\?/,"").split("&").forEach(B=>{const ee=B.indexOf("="),[Re,tt]=-1==ee?[He.decodeKey(B),""]:[He.decodeKey(B.slice(0,ee)),He.decodeValue(B.slice(ee+1))],ot=ae.get(Re)||[];ot.push(tt),ae.set(Re,ot)}),ae}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(ae=>{const te=He.fromObject[ae],B=Array.isArray(te)?te.map(J):[J(te)];this.map.set(ae,B)})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const ae=this.map.get(He);return ae?ae[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,ae){return this.clone({param:He,value:ae,op:"a"})}appendAll(He){const ae=[];return Object.keys(He).forEach(te=>{const B=He[te];Array.isArray(B)?B.forEach(ee=>{ae.push({param:te,value:ee,op:"a"})}):ae.push({param:te,value:B,op:"a"})}),this.clone(ae)}set(He,ae){return this.clone({param:He,value:ae,op:"s"})}delete(He,ae){return this.clone({param:He,value:ae,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const ae=this.encoder.encodeKey(He);return this.map.get(He).map(te=>ae+"="+this.encoder.encodeValue(te)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const ae=new O({encoder:this.encoder});return ae.cloneFrom=this.cloneFrom||this,ae.updates=(this.updates||[]).concat(He),ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const ae=("a"===He.op?this.map.get(He.param):void 0)||[];ae.push(J(He.value)),this.map.set(He.param,ae);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let te=this.map.get(He.param)||[];const B=te.indexOf(J(He.value));-1!==B&&te.splice(B,1),te.length>0?this.map.set(He.param,te):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}class F{constructor(){this.map=new Map}set(He,ae){return this.map.set(He,ae),this}get(He){return this.map.has(He)||this.map.set(He,He.defaultValue()),this.map.get(He)}delete(He){return this.map.delete(He),this}has(He){return this.map.has(He)}keys(){return this.map.keys()}}function q(pt){return typeof ArrayBuffer<"u"&&pt instanceof ArrayBuffer}function ie(pt){return typeof Blob<"u"&&pt instanceof Blob}function H(pt){return typeof FormData<"u"&&pt instanceof FormData}class z{constructor(He,ae,te,B){let ee;if(this.url=ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function V(pt){switch(pt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||B?(this.body=void 0!==te?te:null,ee=B):ee=te,ee&&(this.reportProgress=!!ee.reportProgress,this.withCredentials=!!ee.withCredentials,ee.responseType&&(this.responseType=ee.responseType),ee.headers&&(this.headers=ee.headers),ee.context&&(this.context=ee.context),ee.params&&(this.params=ee.params)),this.headers||(this.headers=new _),this.context||(this.context=new F),this.params){const Re=this.params.toString();if(0===Re.length)this.urlWithParams=ae;else{const tt=ae.indexOf("?");this.urlWithParams=ae+(-1===tt?"?":tt<ae.length-1?"&":"")+Re}}else this.params=new O,this.urlWithParams=ae}serializeBody(){return null===this.body?null:q(this.body)||ie(this.body)||H(this.body)||function $(pt){return typeof URLSearchParams<"u"&&pt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof O?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||H(this.body)?null:ie(this.body)?this.body.type||null:q(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof O?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){var ae;const te=He.method||this.method,B=He.url||this.url,ee=He.responseType||this.responseType,Re=void 0!==He.body?He.body:this.body,tt=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,ot=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let Et=He.headers||this.headers,Kt=He.params||this.params;const wn=null!==(ae=He.context)&&void 0!==ae?ae:this.context;return void 0!==He.setHeaders&&(Et=Object.keys(He.setHeaders).reduce((rn,fn)=>rn.set(fn,He.setHeaders[fn]),Et)),He.setParams&&(Kt=Object.keys(He.setParams).reduce((rn,fn)=>rn.set(fn,He.setParams[fn]),Kt)),new z(te,B,Re,{params:Kt,headers:Et,context:wn,reportProgress:ot,responseType:ee,withCredentials:tt})}}var E=(()=>((E=E||{})[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E))();class X{constructor(He,ae=200,te="OK"){this.headers=He.headers||new _,this.status=void 0!==He.status?He.status:ae,this.statusText=He.statusText||te,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class Q extends X{constructor(He={}){super(He),this.type=E.ResponseHeader}clone(He={}){return new Q({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class ce extends X{constructor(He={}){super(He),this.type=E.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new ce({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class _e extends X{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function Te(pt,He){return{body:He,headers:pt.headers,context:pt.context,observe:pt.observe,params:pt.params,reportProgress:pt.reportProgress,responseType:pt.responseType,withCredentials:pt.withCredentials}}let ve=(()=>{class pt{constructor(ae){this.handler=ae}request(ae,te,B={}){let ee;if(ae instanceof z)ee=ae;else{let ot,Et;ot=B.headers instanceof _?B.headers:new _(B.headers),B.params&&(Et=B.params instanceof O?B.params:new O({fromObject:B.params})),ee=new z(ae,te,void 0!==B.body?B.body:null,{headers:ot,context:B.context,params:Et,reportProgress:B.reportProgress,responseType:B.responseType||"json",withCredentials:B.withCredentials})}const Re=(0,m.of)(ee).pipe((0,b.b)(ot=>this.handler.handle(ot)));if(ae instanceof z||"events"===B.observe)return Re;const tt=Re.pipe((0,C.h)(ot=>ot instanceof ce));switch(B.observe||"body"){case"body":switch(ee.responseType){case"arraybuffer":return tt.pipe((0,g.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ot.body}));case"blob":return tt.pipe((0,g.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof Blob))throw new Error("Response is not a Blob.");return ot.body}));case"text":return tt.pipe((0,g.U)(ot=>{if(null!==ot.body&&"string"!=typeof ot.body)throw new Error("Response is not a string.");return ot.body}));default:return tt.pipe((0,g.U)(ot=>ot.body))}case"response":return tt;default:throw new Error(`Unreachable: unhandled observe type ${B.observe}}`)}}delete(ae,te={}){return this.request("DELETE",ae,te)}get(ae,te={}){return this.request("GET",ae,te)}head(ae,te={}){return this.request("HEAD",ae,te)}jsonp(ae,te){return this.request("JSONP",ae,{params:(new O).append(te,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ae,te={}){return this.request("OPTIONS",ae,te)}patch(ae,te,B={}){return this.request("PATCH",ae,Te(B,te))}post(ae,te,B={}){return this.request("POST",ae,Te(B,te))}put(ae,te,B={}){return this.request("PUT",ae,Te(B,te))}}return pt.\u0275fac=function(ae){return new(ae||pt)(e.LFG(p))},pt.\u0275prov=e.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class Ke{constructor(He,ae){this.next=He,this.interceptor=ae}handle(He){return this.interceptor.intercept(He,this.next)}}const xe=new e.OlP("HTTP_INTERCEPTORS");let Ge=(()=>{class pt{intercept(ae,te){return te.handle(ae)}}return pt.\u0275fac=function(ae){return new(ae||pt)},pt.\u0275prov=e.Yz7({token:pt,factory:pt.\u0275fac}),pt})();const Mt=/^\)\]\}',?\n/;let Y=(()=>{class pt{constructor(ae){this.xhrFactory=ae}handle(ae){if("JSONP"===ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new w.y(te=>{const B=this.xhrFactory.build();if(B.open(ae.method,ae.urlWithParams),ae.withCredentials&&(B.withCredentials=!0),ae.headers.forEach((fn,cn)=>B.setRequestHeader(fn,cn.join(","))),ae.headers.has("Accept")||B.setRequestHeader("Accept","application/json, text/plain, */*"),!ae.headers.has("Content-Type")){const fn=ae.detectContentTypeHeader();null!==fn&&B.setRequestHeader("Content-Type",fn)}if(ae.responseType){const fn=ae.responseType.toLowerCase();B.responseType="json"!==fn?fn:"text"}const ee=ae.serializeBody();let Re=null;const tt=()=>{if(null!==Re)return Re;const fn=B.statusText||"OK",cn=new _(B.getAllResponseHeaders()),lt=function It(pt){return"responseURL"in pt&&pt.responseURL?pt.responseURL:/^X-Request-URL:/m.test(pt.getAllResponseHeaders())?pt.getResponseHeader("X-Request-URL"):null}(B)||ae.url;return Re=new Q({headers:cn,status:B.status,statusText:fn,url:lt}),Re},ot=()=>{let{headers:fn,status:cn,statusText:lt,url:tn}=tt(),St=null;204!==cn&&(St=typeof B.response>"u"?B.responseText:B.response),0===cn&&(cn=St?200:0);let qt=cn>=200&&cn<300;if("json"===ae.responseType&&"string"==typeof St){const gn=St;St=St.replace(Mt,"");try{St=""!==St?JSON.parse(St):null}catch(Vn){St=gn,qt&&(qt=!1,St={error:Vn,text:St})}}qt?(te.next(new ce({body:St,headers:fn,status:cn,statusText:lt,url:tn||void 0})),te.complete()):te.error(new _e({error:St,headers:fn,status:cn,statusText:lt,url:tn||void 0}))},Et=fn=>{const{url:cn}=tt(),lt=new _e({error:fn,status:B.status||0,statusText:B.statusText||"Unknown Error",url:cn||void 0});te.error(lt)};let Kt=!1;const wn=fn=>{Kt||(te.next(tt()),Kt=!0);let cn={type:E.DownloadProgress,loaded:fn.loaded};fn.lengthComputable&&(cn.total=fn.total),"text"===ae.responseType&&!!B.responseText&&(cn.partialText=B.responseText),te.next(cn)},rn=fn=>{let cn={type:E.UploadProgress,loaded:fn.loaded};fn.lengthComputable&&(cn.total=fn.total),te.next(cn)};return B.addEventListener("load",ot),B.addEventListener("error",Et),B.addEventListener("timeout",Et),B.addEventListener("abort",Et),ae.reportProgress&&(B.addEventListener("progress",wn),null!==ee&&B.upload&&B.upload.addEventListener("progress",rn)),B.send(ee),te.next({type:E.Sent}),()=>{B.removeEventListener("error",Et),B.removeEventListener("abort",Et),B.removeEventListener("load",ot),B.removeEventListener("timeout",Et),ae.reportProgress&&(B.removeEventListener("progress",wn),null!==ee&&B.upload&&B.upload.removeEventListener("progress",rn)),B.readyState!==B.DONE&&B.abort()}})}}return pt.\u0275fac=function(ae){return new(ae||pt)(e.LFG(t.JF))},pt.\u0275prov=e.Yz7({token:pt,factory:pt.\u0275fac}),pt})();const G=new e.OlP("XSRF_COOKIE_NAME"),oe=new e.OlP("XSRF_HEADER_NAME");class Ve{}let Be=(()=>{class pt{constructor(ae,te,B){this.doc=ae,this.platform=te,this.cookieName=B,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ae=this.doc.cookie||"";return ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,t.Mx)(ae,this.cookieName),this.lastCookieString=ae),this.lastToken}}return pt.\u0275fac=function(ae){return new(ae||pt)(e.LFG(t.K0),e.LFG(e.Lbi),e.LFG(G))},pt.\u0275prov=e.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),o=(()=>{class pt{constructor(ae,te){this.tokenService=ae,this.headerName=te}intercept(ae,te){const B=ae.url.toLowerCase();if("GET"===ae.method||"HEAD"===ae.method||B.startsWith("http://")||B.startsWith("https://"))return te.handle(ae);const ee=this.tokenService.getToken();return null!==ee&&!ae.headers.has(this.headerName)&&(ae=ae.clone({headers:ae.headers.set(this.headerName,ee)})),te.handle(ae)}}return pt.\u0275fac=function(ae){return new(ae||pt)(e.LFG(Ve),e.LFG(oe))},pt.\u0275prov=e.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),De=(()=>{class pt{constructor(ae,te){this.backend=ae,this.injector=te,this.chain=null}handle(ae){if(null===this.chain){const te=this.injector.get(xe,[]);this.chain=te.reduceRight((B,ee)=>new Ke(B,ee),this.backend)}return this.chain.handle(ae)}}return pt.\u0275fac=function(ae){return new(ae||pt)(e.LFG(A),e.LFG(e.zs3))},pt.\u0275prov=e.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),et=(()=>{class pt{static disable(){return{ngModule:pt,providers:[{provide:o,useClass:Ge}]}}static withOptions(ae={}){return{ngModule:pt,providers:[ae.cookieName?{provide:G,useValue:ae.cookieName}:[],ae.headerName?{provide:oe,useValue:ae.headerName}:[]]}}}return pt.\u0275fac=function(ae){return new(ae||pt)},pt.\u0275mod=e.oAB({type:pt}),pt.\u0275inj=e.cJS({providers:[o,{provide:xe,useExisting:o,multi:!0},{provide:Ve,useClass:Be},{provide:G,useValue:"XSRF-TOKEN"},{provide:oe,useValue:"X-XSRF-TOKEN"}]}),pt})(),Qe=(()=>{class pt{}return pt.\u0275fac=function(ae){return new(ae||pt)},pt.\u0275mod=e.oAB({type:pt}),pt.\u0275inj=e.cJS({providers:[ve,{provide:p,useClass:De},Y,{provide:A,useExisting:Y}],imports:[et.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),pt})()},4650:(st,ye,f)=>{"use strict";f.d(ye,{$8M:()=>xo,$Z:()=>Yf,AFp:()=>a_,ALo:()=>ru,AaK:()=>p,AsE:()=>jh,BQk:()=>Zh,CHM:()=>fs,CRH:()=>Gg,CZH:()=>Td,CqO:()=>Y0,D6c:()=>uT,DdM:()=>h1,Dn7:()=>ol,EJc:()=>wt,EiD:()=>Zp,EpF:()=>Mm,F$t:()=>Pm,F4k:()=>q0,FYo:()=>Yp,FiY:()=>na,G48:()=>Kw,Gf:()=>$g,GfV:()=>ef,GkF:()=>Im,Gpc:()=>R,Gre:()=>ag,HTZ:()=>v1,Hsn:()=>Lm,Ikx:()=>ad,JOm:()=>xa,JVY:()=>M_,Jf7:()=>pf,KtG:()=>di,L6k:()=>O_,LAX:()=>R_,LFG:()=>is,LMc:()=>hT,LSH:()=>Pd,Lbi:()=>n,Lck:()=>np,MAs:()=>G0,MGl:()=>td,MMx:()=>eu,MT6:()=>sd,NdJ:()=>Om,OlP:()=>Se,Oqu:()=>rg,PXZ:()=>Rl,Q6J:()=>xm,QGY:()=>Vh,QP$:()=>Pn,QbO:()=>M,Qsj:()=>X_,QtT:()=>s1,R0b:()=>Er,RDi:()=>b_,Rgc:()=>su,SBq:()=>yc,SDv:()=>r1,Sil:()=>Zn,Suo:()=>zg,TTD:()=>os,TgZ:()=>Xu,Tol:()=>Ym,Udp:()=>Jh,VKq:()=>p1,W1O:()=>I1,WLB:()=>f1,X6Q:()=>jw,XFs:()=>De,Xpm:()=>tn,Xts:()=>Sa,Y36:()=>Ec,YKP:()=>Cs,YNc:()=>z0,Yjl:()=>ci,Yz7:()=>at,Z0I:()=>ln,ZZ4:()=>eC,_Bn:()=>a1,_UZ:()=>Dm,_Vd:()=>Zl,_c5:()=>lT,_uU:()=>ig,aQg:()=>tC,c2e:()=>ue,cJS:()=>ct,cg1:()=>gg,d8E:()=>Gc,dDg:()=>hs,dqk:()=>B,eBb:()=>N_,eFA:()=>bp,ekj:()=>Wh,eoX:()=>Bo,evT:()=>ff,f3M:()=>_u,g9A:()=>h,h0i:()=>Mo,hGG:()=>cT,hYB:()=>Hh,hij:()=>rd,iGM:()=>vp,ifc:()=>te,ip1:()=>o_,jDz:()=>rc,kEZ:()=>m1,kL8:()=>Ey,l5B:()=>g1,lG2:()=>ui,lcZ:()=>C1,lqb:()=>fl,lri:()=>_i,mCW:()=>xu,n5z:()=>qr,oAB:()=>Vn,oJD:()=>Vp,oxw:()=>km,pB0:()=>Tu,pQV:()=>Ig,q3G:()=>zs,qLn:()=>bc,qOj:()=>Ph,qZA:()=>ed,qbA:()=>_1,qzn:()=>Ll,rWj:()=>Ji,s9C:()=>Bm,sBO:()=>$w,sIi:()=>rl,s_b:()=>_d,soG:()=>$e,tb:()=>u,tp0:()=>dc,uIk:()=>Uh,vHH:()=>P,vpe:()=>Ba,wAp:()=>Ai,xi3:()=>up,xp6:()=>Ff,ynx:()=>Fh,z2F:()=>uu,z3N:()=>Za,zSh:()=>Bd,zs3:()=>gl});var t=f(7579),e=f(727),m=f(9751),w=f(6451),b=f(3099);function C(i){for(let r in i)if(i[r]===C)return r;throw Error("Could not find renamed property on target object.")}function g(i,r){for(const d in r)r.hasOwnProperty(d)&&!i.hasOwnProperty(d)&&(i[d]=r[d])}function p(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(p).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const r=i.toString();if(null==r)return""+r;const d=r.indexOf("\n");return-1===d?r:r.substring(0,d)}function A(i,r){return null==i||""===i?null===r?"":r:null==r||""===r?i:i+" "+r}const _=C({__forward_ref__:C});function R(i){return i.__forward_ref__=R,i.toString=function(){return p(this())},i}function N(i){return a(i)?i():i}function a(i){return"function"==typeof i&&i.hasOwnProperty(_)&&i.__forward_ref__===R}class P extends Error{constructor(r,d){super(function U(i,r){return`NG0${Math.abs(i)}${r?": "+r.trim():""}`}(r,d)),this.code=r}}function J(i){return"string"==typeof i?i:null==i?"":String(i)}function q(i,r){throw new P(-201,!1)}function we(i,r,d,y){throw new Error(`ASSERTION ERROR: ${i}`+(null==y?"":` [Expected=> ${d} ${y} ${r} <=Actual]`))}function at(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ct(i){return{providers:i.providers||[],imports:i.imports||[]}}function Gt(i){return Mt(i,oe)||Mt(i,Be)}function ln(i){return null!==Gt(i)}function Mt(i,r){return i.hasOwnProperty(r)?i[r]:null}function G(i){return i&&(i.hasOwnProperty(Ve)||i.hasOwnProperty(o))?i[Ve]:null}const oe=C({\u0275prov:C}),Ve=C({\u0275inj:C}),Be=C({ngInjectableDef:C}),o=C({ngInjectorDef:C});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let be;function et(i){const r=be;return be=i,r}function Qe(i,r,d){const y=Gt(i);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:d&De.Optional?null:void 0!==r?r:void q(p(i))}function bt(i){return{toString:i}.toString()}var pt=(()=>((pt=pt||{})[pt.OnPush=0]="OnPush",pt[pt.Default=1]="Default",pt))(),te=(()=>{return(i=te||(te={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",te;var i})();const B=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),tt={},ot=[],Et=C({\u0275cmp:C}),Kt=C({\u0275dir:C}),wn=C({\u0275pipe:C}),rn=C({\u0275mod:C}),fn=C({\u0275fac:C}),cn=C({__NG_ELEMENT_ID__:C});let lt=0;function tn(i){return bt(()=>{const d=!0===i.standalone,y={},x={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:y,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===pt.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||ot,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||te.Emulated,id:"c"+lt++,styles:i.styles||ot,_:null,setInput:null,schemas:i.schemas||null,tView:null},I=i.dependencies,K=i.features;return x.inputs=qn(i.inputs,y),x.outputs=qn(i.outputs),K&&K.forEach(se=>se(x)),x.directiveDefs=I?()=>("function"==typeof I?I():I).map(qt).filter(gn):null,x.pipeDefs=I?()=>("function"==typeof I?I():I).map(In).filter(gn):null,x})}function qt(i){return jt(i)||$n(i)}function gn(i){return null!==i}function Vn(i){return bt(()=>({type:i.type,bootstrap:i.bootstrap||ot,declarations:i.declarations||ot,imports:i.imports||ot,exports:i.exports||ot,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function qn(i,r){if(null==i)return tt;const d={};for(const y in i)if(i.hasOwnProperty(y)){let x=i[y],I=x;Array.isArray(x)&&(I=x[1],x=x[0]),d[x]=y,r&&(r[x]=I)}return d}const ui=tn;function ci(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function jt(i){return i[Et]||null}function $n(i){return i[Kt]||null}function In(i){return i[wn]||null}function Pn(i){const r=jt(i)||$n(i)||In(i);return null!==r&&r.standalone}function zn(i,r){const d=i[rn]||null;if(!d&&!0===r)throw new Error(`Type ${p(i)} does not have '\u0275mod' property.`);return d}function hn(i){return Array.isArray(i)&&"object"==typeof i[1]}function Dn(i){return Array.isArray(i)&&!0===i[1]}function Nn(i){return 0!=(8&i.flags)}function Ii(i){return 2==(2&i.flags)}function Ci(i){return 1==(1&i.flags)}function Xn(i){return null!==i.template}function fr(i){return 0!=(256&i[2])}function yr(i,r){return i.hasOwnProperty(fn)?i[fn]:null}class Mr{constructor(r,d,y){this.previousValue=r,this.currentValue=d,this.firstChange=y}isFirstChange(){return this.firstChange}}function os(){return zr}function zr(i){return i.type.prototype.ngOnChanges&&(i.setInput=Cr),Wr}function Wr(){const i=nr(this),r=i?.current;if(r){const d=i.previous;if(d===tt)i.previous=r;else for(let y in r)d[y]=r[y];i.current=null,this.ngOnChanges(r)}}function Cr(i,r,d,y){const x=nr(i)||function br(i,r){return i[cs]=r}(i,{previous:tt,current:null}),I=x.current||(x.current={}),K=x.previous,se=this.declaredInputs[d],fe=K[se];I[se]=new Mr(fe&&fe.currentValue,r,K===tt),i[y]=r}os.ngInherit=!0;const cs="__ngSimpleChanges__";function nr(i){return i[cs]||null}function Zi(i){for(;Array.isArray(i);)i=i[0];return i}function Gr(i,r){return Zi(r[i])}function as(i,r){return Zi(r[i.index])}function Ns(i,r){return i.data[r]}function Ss(i,r){return i[r]}function Vi(i,r){const d=r[i];return hn(d)?d:d[0]}function Or(i){return 64==(64&i[2])}function Fi(i,r){return null==r?null:i[r]}function Tr(i){i[18]=0}function Nr(i,r){i[5]+=r;let d=i,y=i[3];for(;null!==y&&(1===r&&1===d[5]||-1===r&&0===d[5]);)y[5]+=r,d=y,y=y[3]}const si={lFrame:Co(null),bindingsEnabled:!0};function Ar(){return si.bindingsEnabled}function _n(){return si.lFrame.lView}function oi(){return si.lFrame.tView}function fs(i){return si.lFrame.contextLView=i,i[8]}function di(i){return si.lFrame.contextLView=null,i}function qi(){let i=Ie();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ie(){return si.lFrame.currentTNode}function ge(){const i=si.lFrame,r=i.currentTNode;return i.isParent?r:r.parent}function ne(i,r){const d=si.lFrame;d.currentTNode=i,d.isParent=r}function Xe(){return si.lFrame.isParent}function nn(){si.lFrame.isParent=!1}function Yi(){const i=si.lFrame;let r=i.bindingRootIndex;return-1===r&&(r=i.bindingRootIndex=i.tView.bindingStartIndex),r}function mi(){return si.lFrame.bindingIndex}function Je(){return si.lFrame.bindingIndex++}function At(i){const r=si.lFrame,d=r.bindingIndex;return r.bindingIndex=r.bindingIndex+i,d}function Jt(i){si.lFrame.inI18n=i}function Vt(i,r){const d=si.lFrame;d.bindingIndex=d.bindingRootIndex=i,bn(r)}function bn(i){si.lFrame.currentDirectiveIndex=i}function Yn(i){const r=si.lFrame.currentDirectiveIndex;return-1===r?null:i[r]}function Kn(){return si.lFrame.currentQueryIndex}function cr(i){si.lFrame.currentQueryIndex=i}function es(i){const r=i[1];return 2===r.type?r.declTNode:1===r.type?i[6]:null}function ur(i,r,d){if(d&De.SkipSelf){let x=r,I=i;for(;!(x=x.parent,null!==x||d&De.Host||(x=es(I),null===x||(I=I[15],10&x.type))););if(null===x)return!1;r=x,i=I}const y=si.lFrame=ni();return y.currentTNode=r,y.lView=i,!0}function ji(i){const r=ni(),d=i[1];si.lFrame=r,r.currentTNode=d.firstChild,r.lView=i,r.tView=d,r.contextLView=i,r.bindingIndex=d.bindingStartIndex,r.inI18n=!1}function ni(){const i=si.lFrame,r=null===i?null:i.child;return null===r?Co(i):r}function Co(i){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=r),r}function Xs(){const i=si.lFrame;return si.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const he=Xs;function Pe(){const i=Xs();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function vt(){return si.lFrame.selectedIndex}function Xt(i){si.lFrame.selectedIndex=i}function sn(){const i=si.lFrame;return Ns(i.tView,i.selectedIndex)}function Ri(i,r){for(let d=r.directiveStart,y=r.directiveEnd;d<y;d++){const I=i.data[d].type.prototype,{ngAfterContentInit:K,ngAfterContentChecked:se,ngAfterViewInit:fe,ngAfterViewChecked:Ne,ngOnDestroy:it}=I;K&&(i.contentHooks||(i.contentHooks=[])).push(-d,K),se&&((i.contentHooks||(i.contentHooks=[])).push(d,se),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(d,se)),fe&&(i.viewHooks||(i.viewHooks=[])).push(-d,fe),Ne&&((i.viewHooks||(i.viewHooks=[])).push(d,Ne),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(d,Ne)),null!=it&&(i.destroyHooks||(i.destroyHooks=[])).push(d,it)}}function gr(i,r,d){Bs(i,r,3,d)}function _r(i,r,d,y){(3&i[2])===d&&Bs(i,r,d,y)}function ir(i,r){let d=i[2];(3&d)===r&&(d&=2047,d+=1,i[2]=d)}function Bs(i,r,d,y){const I=y??-1,K=r.length-1;let se=0;for(let fe=void 0!==y?65535&i[18]:0;fe<K;fe++)if("number"==typeof r[fe+1]){if(se=r[fe],null!=y&&se>=y)break}else r[fe]<0&&(i[18]+=65536),(se<I||-1==I)&&(Vr(i,d,r,fe),i[18]=(4294901760&i[18])+fe+2),fe++}function Vr(i,r,d,y){const x=d[y]<0,I=d[y+1],se=i[x?-d[y]:d[y]];if(x){if(i[2]>>11<i[18]>>16&&(3&i[2])===r){i[2]+=2048;try{I.call(se)}finally{}}}else try{I.call(se)}finally{}}class xs{constructor(r,d,y){this.factory=r,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=y}}function wo(i,r,d){let y=0;for(;y<d.length;){const x=d[y];if("number"==typeof x){if(0!==x)break;y++;const I=d[y++],K=d[y++],se=d[y++];i.setAttribute(r,K,se,I)}else{const I=x,K=d[++y];Ds(I)?i.setProperty(r,I,K):i.setAttribute(r,I,K),y++}}return y}function ds(i){return 3===i||4===i||6===i}function Ds(i){return 64===i.charCodeAt(0)}function To(i,r){if(null!==r&&0!==r.length)if(null===i||0===i.length)i=r.slice();else{let d=-1;for(let y=0;y<r.length;y++){const x=r[y];"number"==typeof x?d=x:0===d||Ko(i,d,x,null,-1===d||2===d?r[++y]:null)}}return i}function Ko(i,r,d,y,x){let I=0,K=i.length;if(-1===r)K=-1;else for(;I<i.length;){const se=i[I++];if("number"==typeof se){if(se===r){K=-1;break}if(se>r){K=I-1;break}}}for(;I<i.length;){const se=i[I];if("number"==typeof se)break;if(se===d){if(null===y)return void(null!==x&&(i[I+1]=x));if(y===i[I+1])return void(i[I+2]=x)}I++,null!==y&&I++,null!==x&&I++}-1!==K&&(i.splice(K,0,r),I=K+1),i.splice(I++,0,d),null!==y&&i.splice(I++,0,y),null!==x&&i.splice(I++,0,x)}function Us(i){return-1!==i}function Br(i){return 32767&i}function ro(i,r){let d=function $o(i){return i>>16}(i),y=r;for(;d>0;)y=y[15],d--;return y}let ho=!0;function to(i){const r=ho;return ho=i,r}let Ao=0;const pi={};function No(i,r){const d=W(i,r);if(-1!==d)return d;const y=r[1];y.firstCreatePass&&(i.injectorIndex=r.length,Ee(y.data,i),Ee(r,null),Ee(y.blueprint,null));const x=Ae(i,r),I=i.injectorIndex;if(Us(x)){const K=Br(x),se=ro(x,r),fe=se[1].data;for(let Ne=0;Ne<8;Ne++)r[I+Ne]=se[K+Ne]|fe[K+Ne]}return r[I+8]=x,I}function Ee(i,r){i.push(0,0,0,0,0,0,0,0,r)}function W(i,r){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===r[i.injectorIndex+8]?-1:i.injectorIndex}function Ae(i,r){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let d=0,y=null,x=r;for(;null!==x;){if(y=gs(x),null===y)return-1;if(d++,x=x[15],-1!==y.injectorIndex)return y.injectorIndex|d<<16}return-1}function Ue(i,r,d){!function Ks(i,r,d){let y;"string"==typeof d?y=d.charCodeAt(0)||0:d.hasOwnProperty(cn)&&(y=d[cn]),null==y&&(y=d[cn]=Ao++);const x=255&y;r.data[i+(x>>5)]|=1<<x}(i,r,d)}function Lt(i,r,d){if(d&De.Optional||void 0!==i)return i;q()}function Nt(i,r,d,y){if(d&De.Optional&&void 0===y&&(y=null),0==(d&(De.Self|De.Host))){const x=i[9],I=et(void 0);try{return x?x.get(r,y,d&De.Optional):Qe(r,y,d&De.Optional)}finally{et(I)}}return Lt(y,0,d)}function Qt(i,r,d,y=De.Default,x){if(null!==i){if(1024&r[2]){const K=function So(i,r,d,y,x){let I=i,K=r;for(;null!==I&&null!==K&&1024&K[2]&&!(256&K[2]);){const se=pe(I,K,d,y|De.Self,pi);if(se!==pi)return se;let fe=I.parent;if(!fe){const Ne=K[21];if(Ne){const it=Ne.get(d,pi,y);if(it!==pi)return it}fe=gs(K),K=K[15]}I=fe}return x}(i,r,d,y,pi);if(K!==pi)return K}const I=pe(i,r,d,y,pi);if(I!==pi)return I}return Nt(r,d,y,x)}function pe(i,r,d,y,x){const I=function Bt(i){if("string"==typeof i)return i.charCodeAt(0)||0;const r=i.hasOwnProperty(cn)?i[cn]:void 0;return"number"==typeof r?r>=0?255&r:ls:r}(d);if("function"==typeof I){if(!ur(r,i,y))return y&De.Host?Lt(x,0,y):Nt(r,d,y,x);try{const K=I(y);if(null!=K||y&De.Optional)return K;q()}finally{he()}}else if("number"==typeof I){let K=null,se=W(i,r),fe=-1,Ne=y&De.Host?r[16][6]:null;for((-1===se||y&De.SkipSelf)&&(fe=-1===se?Ae(i,r):r[se+8],-1!==fe&&Un(y,!1)?(K=r[1],se=Br(fe),r=ro(fe,r)):se=-1);-1!==se;){const it=r[1];if(on(I,se,it.data)){const _t=nt(se,r,d,K,y,Ne);if(_t!==pi)return _t}fe=r[se+8],-1!==fe&&Un(y,r[1].data[se+8]===Ne)&&on(I,se,r)?(K=it,se=Br(fe),r=ro(fe,r)):se=-1}}return x}function nt(i,r,d,y,x,I){const K=r[1],se=K.data[i+8],it=le(se,K,d,null==y?Ii(se)&&ho:y!=K&&0!=(3&se.type),x&De.Host&&I===se);return null!==it?Le(r,K,it,se):pi}function le(i,r,d,y,x){const I=i.providerIndexes,K=r.data,se=1048575&I,fe=i.directiveStart,it=I>>20,Ft=x?se+it:i.directiveEnd;for(let en=y?se:se+it;en<Ft;en++){const Cn=K[en];if(en<fe&&d===Cn||en>=fe&&Cn.type===d)return en}if(x){const en=K[fe];if(en&&Xn(en)&&en.type===d)return fe}return null}function Le(i,r,d,y){let x=i[d];const I=r.data;if(function eo(i){return i instanceof xs}(x)){const K=x;K.resolving&&function L(i,r){const d=r?`. Dependency path: ${r.join(" > ")} > ${i}`:"";throw new P(-200,`Circular dependency in DI detected for ${i}${d}`)}(function O(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():J(i)}(I[d]));const se=to(K.canSeeViewProviders);K.resolving=!0;const fe=K.injectImpl?et(K.injectImpl):null;ur(i,y,De.Default);try{x=i[d]=K.factory(void 0,I,i,y),r.firstCreatePass&&d>=y.directiveStart&&function hi(i,r,d){const{ngOnChanges:y,ngOnInit:x,ngDoCheck:I}=r.type.prototype;if(y){const K=zr(r);(d.preOrderHooks||(d.preOrderHooks=[])).push(i,K),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(i,K)}x&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-i,x),I&&((d.preOrderHooks||(d.preOrderHooks=[])).push(i,I),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(i,I))}(d,I[d],r)}finally{null!==fe&&et(fe),to(se),K.resolving=!1,he()}}return x}function on(i,r,d){return!!(d[r+(i>>5)]&1<<i)}function Un(i,r){return!(i&De.Self||i&De.Host&&r)}class wi{constructor(r,d){this._tNode=r,this._lView=d}get(r,d,y){return Qt(this._tNode,this._lView,r,y,d)}}function ls(){return new wi(qi(),_n())}function qr(i){return bt(()=>{const r=i.prototype.constructor,d=r[fn]||xr(r),y=Object.prototype;let x=Object.getPrototypeOf(i.prototype).constructor;for(;x&&x!==y;){const I=x[fn]||xr(x);if(I&&I!==d)return I;x=Object.getPrototypeOf(x)}return I=>new I})}function xr(i){return a(i)?()=>{const r=xr(N(i));return r&&r()}:yr(i)}function gs(i){const r=i[1],d=r.type;return 2===d?r.declTNode:1===d?i[6]:null}function xo(i){return function mt(i,r){if("class"===r)return i.classes;if("style"===r)return i.styles;const d=i.attrs;if(d){const y=d.length;let x=0;for(;x<y;){const I=d[x];if(ds(I))break;if(0===I)x+=2;else if("number"==typeof I)for(x++;x<y&&"string"==typeof d[x];)x++;else{if(I===r)return d[x+1];x+=2}}}return null}(qi(),i)}const so="__parameters__";function me(i,r,d){return bt(()=>{const y=function da(i){return function(...d){if(i){const y=i(...d);for(const x in y)this[x]=y[x]}}}(r);function x(...I){if(this instanceof x)return y.apply(this,I),this;const K=new x(...I);return se.annotation=K,se;function se(fe,Ne,it){const _t=fe.hasOwnProperty(so)?fe[so]:Object.defineProperty(fe,so,{value:[]})[so];for(;_t.length<=it;)_t.push(null);return(_t[it]=_t[it]||[]).push(K),fe}}return d&&(x.prototype=Object.create(d.prototype)),x.prototype.ngMetadataName=i,x.annotationCls=x,x})}class Se{constructor(r,d){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=at({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oo(i,r){void 0===r&&(r=i);for(let d=0;d<i.length;d++){let y=i[d];Array.isArray(y)?(r===i&&(r=i.slice(0,d)),oo(y,r)):r!==i&&r.push(y)}return r}function Yo(i,r){i.forEach(d=>Array.isArray(d)?Yo(d,r):r(d))}function al(i,r,d){r>=i.length?i.push(d):i.splice(r,0,d)}function Ga(i,r){return r>=i.length-1?i.pop():i.splice(r,1)[0]}function Fe(i,r){const d=[];for(let y=0;y<i;y++)d.push(r);return d}function re(i,r,d){let y=Oe(i,r);return y>=0?i[1|y]=d:(y=~y,function v(i,r,d,y){let x=i.length;if(x==r)i.push(d,y);else if(1===x)i.push(y,i[0]),i[0]=d;else{for(x--,i.push(i[x-1],i[x]);x>r;)i[x]=i[x-2],x--;i[r]=d,i[r+1]=y}}(i,y,r,d)),y}function de(i,r){const d=Oe(i,r);if(d>=0)return i[1|d]}function Oe(i,r){return function Dt(i,r,d){let y=0,x=i.length>>d;for(;x!==y;){const I=y+(x-y>>1),K=i[I<<d];if(r===K)return I<<d;K>r?x=I:y=I+1}return~(x<<d)}(i,r,1)}const Kr={},Zs="__NG_DI_FLAG__",Ua="ngTempTokenPath",wa=/\n/gm,gu="__source";let ko;function $r(i){const r=ko;return ko=i,r}function ma(i,r=De.Default){if(void 0===ko)throw new P(-203,!1);return null===ko?Qe(i,void 0,r):ko.get(i,r&De.Optional?null:void 0,r)}function is(i,r=De.Default){return(function je(){return be}()||ma)(N(i),r)}function _u(i,r=De.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),is(i,r)}function cl(i){const r=[];for(let d=0;d<i.length;d++){const y=N(i[d]);if(Array.isArray(y)){if(0===y.length)throw new P(900,!1);let x,I=De.Default;for(let K=0;K<y.length;K++){const se=y[K],fe=vu(se);"number"==typeof fe?-1===fe?x=se.token:I|=fe:x=se}r.push(is(x,I))}else r.push(is(y))}return r}function ga(i,r){return i[Zs]=r,i.prototype[Zs]=r,i}function vu(i){return i[Zs]}const na=ga(me("Optional"),8),dc=ga(me("SkipSelf"),4);let Dd,bu,wu;function b_(i){Dd=i}function Np(){return void 0!==Dd?Dd:typeof document<"u"?document:void 0}function Pl(i){var r;return(null===(r=function Id(){if(void 0===bu&&(bu=null,B.trustedTypes))try{bu=B.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return bu}())||void 0===r?void 0:r.createHTML(i))||i}function Rp(i){var r;return(null===(r=function Md(){if(void 0===wu&&(wu=null,B.trustedTypes))try{wu=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return wu}())||void 0===r?void 0:r.createHTML(i))||i}class dl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class A_ extends dl{getTypeName(){return"HTML"}}class S_ extends dl{getTypeName(){return"Style"}}class x_ extends dl{getTypeName(){return"Script"}}class E_ extends dl{getTypeName(){return"URL"}}class D_ extends dl{getTypeName(){return"ResourceURL"}}function Za(i){return i instanceof dl?i.changingThisBreaksApplicationSecurity:i}function Ll(i,r){const d=function I_(i){return i instanceof dl&&i.getTypeName()||null}(i);if(null!=d&&d!==r){if("ResourceURL"===d&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===r}function M_(i){return new A_(i)}function O_(i){return new S_(i)}function N_(i){return new x_(i)}function R_(i){return new E_(i)}function Tu(i){return new D_(i)}function qa(i){const r=new Ul(i);return function Au(){try{return!!(new window.DOMParser).parseFromString(Pl(""),"text/html")}catch{return!1}}()?new Bl(r):r}class Bl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const d=(new window.DOMParser).parseFromString(Pl(r),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(r):(d.removeChild(d.firstChild),d)}catch{return null}}}class Ul{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const y=this.inertDocument.createElement("body");d.appendChild(y)}}getInertBodyElement(r){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Pl(r),d;const y=this.inertDocument.createElement("body");return y.innerHTML=Pl(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(y),y}stripCustomNsAttrs(r){const d=r.attributes;for(let x=d.length-1;0<x;x--){const K=d.item(x).name;("xmlns:ns1"===K||0===K.indexOf("ns1:"))&&r.removeAttribute(K)}let y=r.firstChild;for(;y;)y.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(y),y=y.nextSibling}}const Su=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function xu(i){return(i=String(i)).match(Su)?i:"unsafe:"+i}function ia(i){const r={};for(const d of i.split(","))r[d]=!0;return r}function pc(...i){const r={};for(const d of i)for(const y in d)d.hasOwnProperty(y)&&(r[y]=!0);return r}const Lp=ia("area,br,col,hr,img,wbr"),Bp=ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Up=ia("rp,rt"),Od=pc(Lp,pc(Bp,ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pc(Up,ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pc(Up,Bp)),Nd=ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fc=pc(Nd,ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rd=ia("script,style,template");class Va{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let d=r.firstChild,y=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?y=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,y&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let x=this.checkClobberedElement(d,d.nextSibling);if(x){d=x;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(r){const d=r.nodeName.toLowerCase();if(!Od.hasOwnProperty(d))return this.sanitizedSomething=!0,!Rd.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const y=r.attributes;for(let x=0;x<y.length;x++){const I=y.item(x),K=I.name,se=K.toLowerCase();if(!fc.hasOwnProperty(se)){this.sanitizedSomething=!0;continue}let fe=I.value;Nd[se]&&(fe=xu(fe)),this.buf.push(" ",K,'="',Fp(fe),'"')}return this.buf.push(">"),!0}endElement(r){const d=r.nodeName.toLowerCase();Od.hasOwnProperty(d)&&!Lp.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(r){this.buf.push(Fp(r))}checkClobberedElement(r,d){if(d&&(r.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return d}}const va=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hl=/([^\#-~ |!])/g;function Fp(i){return i.replace(/&/g,"&amp;").replace(va,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(hl,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Eu;function Zp(i,r){let d=null;try{Eu=Eu||qa(i);let y=r?String(r):"";d=Eu.getInertBodyElement(y);let x=5,I=y;do{if(0===x)throw new Error("Failed to sanitize html because the input is unstable");x--,y=I,I=d.innerHTML,d=Eu.getInertBodyElement(y)}while(y!==I);return Pl((new Va).sanitizeChildren(kd(d)||d))}finally{if(d){const y=kd(d)||d;for(;y.firstChild;)y.removeChild(y.firstChild)}}}function kd(i){return"content"in i&&function k_(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var zs=(()=>((zs=zs||{})[zs.NONE=0]="NONE",zs[zs.HTML=1]="HTML",zs[zs.STYLE=2]="STYLE",zs[zs.SCRIPT=3]="SCRIPT",zs[zs.URL=4]="URL",zs[zs.RESOURCE_URL=5]="RESOURCE_URL",zs))();function Vp(i){const r=mc();return r?Rp(r.sanitize(zs.HTML,i)||""):Ll(i,"HTML")?Rp(Za(i)):Zp(Np(),J(i))}function Pd(i){const r=mc();return r?r.sanitize(zs.URL,i)||"":Ll(i,"URL")?Za(i):xu(J(i))}function mc(){const i=_n();return i&&i[12]}const Sa=new Se("ENVIRONMENT_INITIALIZER"),Jp=new Se("INJECTOR",-1),Wp=new Se("INJECTOR_DEF_TYPES");class Du{get(r,d=Kr){if(d===Kr){const y=new Error(`NullInjectorError: No provider for ${p(r)}!`);throw y.name="NullInjectorError",y}return d}}function V_(...i){return{\u0275providers:jp(0,i)}}function jp(i,...r){const d=[],y=new Set;let x;return Yo(r,I=>{const K=I;_c(K,d,[],y)&&(x||(x=[]),x.push(K))}),void 0!==x&&gc(x,d),d}function gc(i,r){for(let d=0;d<i.length;d++){const{providers:x}=i[d];Yo(x,I=>{r.push(I)})}}function _c(i,r,d,y){if(!(i=N(i)))return!1;let x=null,I=G(i);const K=!I&&jt(i);if(I||K){if(K&&!K.standalone)return!1;x=i}else{const fe=i.ngModule;if(I=G(fe),!I)return!1;x=fe}const se=y.has(x);if(K){if(se)return!1;if(y.add(x),K.dependencies){const fe="function"==typeof K.dependencies?K.dependencies():K.dependencies;for(const Ne of fe)_c(Ne,r,d,y)}}else{if(!I)return!1;{if(null!=I.imports&&!se){let Ne;y.add(x);try{Yo(I.imports,it=>{_c(it,r,d,y)&&(Ne||(Ne=[]),Ne.push(it))})}finally{}void 0!==Ne&&gc(Ne,r)}if(!se){const Ne=yr(x)||(()=>new x);r.push({provide:x,useFactory:Ne,deps:ot},{provide:Wp,useValue:x,multi:!0},{provide:Sa,useValue:()=>is(x),multi:!0})}const fe=I.providers;null==fe||se||Yo(fe,it=>{r.push(it)})}}return x!==i&&void 0!==i.providers}const Ld=C({provide:String,useValue:C});function vc(i){return null!==i&&"object"==typeof i&&Ld in i}function pl(i){return"function"==typeof i}const Bd=new Se("Set Injector scope."),Mu={},J_={};let Ud;function Ou(){return void 0===Ud&&(Ud=new Du),Ud}class fl{}class $p extends fl{constructor(r,d,y,x){super(),this.parent=d,this.source=y,this.scopes=x,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zd(r,K=>this.processProvider(K)),this.records.set(Jp,Fl(void 0,this)),x.has("environment")&&this.records.set(fl,Fl(void 0,this));const I=this.records.get(Bd);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(Wp.multi,ot,De.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const d=$r(this),y=et(void 0);try{return r()}finally{$r(d),et(y)}}get(r,d=Kr,y=De.Default){this.assertNotDestroyed();const x=$r(this),I=et(void 0);try{if(!(y&De.SkipSelf)){let se=this.records.get(r);if(void 0===se){const fe=function z_(i){return"function"==typeof i||"object"==typeof i&&i instanceof Se}(r)&&Gt(r);se=fe&&this.injectableDefInScope(fe)?Fl(Fd(r),Mu):null,this.records.set(r,se)}if(null!=se)return this.hydrate(r,se)}return(y&De.Self?Ou():this.parent).get(r,d=y&De.Optional&&d===Kr?null:d)}catch(K){if("NullInjectorError"===K.name){if((K[Ua]=K[Ua]||[]).unshift(p(r)),x)throw K;return function Fa(i,r,d,y){const x=i[Ua];throw r[gu]&&x.unshift(r[gu]),i.message=function uc(i,r,d,y=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let x=p(r);if(Array.isArray(r))x=r.map(p).join(" -> ");else if("object"==typeof r){let I=[];for(let K in r)if(r.hasOwnProperty(K)){let se=r[K];I.push(K+":"+("string"==typeof se?JSON.stringify(se):p(se)))}x=`{${I.join(", ")}}`}return`${d}${y?"("+y+")":""}[${x}]: ${i.replace(wa,"\n  ")}`}("\n"+i.message,x,d,y),i.ngTokenPath=x,i[Ua]=null,i}(K,r,"R3InjectorError",this.source)}throw K}finally{et(I),$r(x)}}resolveInjectorInitializers(){const r=$r(this),d=et(void 0);try{const y=this.get(Sa.multi,ot,De.Self);for(const x of y)x()}finally{$r(r),et(d)}}toString(){const r=[],d=this.records;for(const y of d.keys())r.push(p(y));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(r){let d=pl(r=N(r))?r:N(r&&r.provide);const y=function j_(i){return vc(i)?Fl(void 0,i.useValue):Fl(zp(i),Mu)}(r);if(pl(r)||!0!==r.multi)this.records.get(d);else{let x=this.records.get(d);x||(x=Fl(void 0,Mu,!0),x.factory=()=>cl(x.multi),this.records.set(d,x)),d=r,x.multi.push(r)}this.records.set(d,y)}hydrate(r,d){return d.value===Mu&&(d.value=J_,d.value=d.factory()),"object"==typeof d.value&&d.value&&function $_(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(r){if(!r.providedIn)return!1;const d=N(r.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function Fd(i){const r=Gt(i),d=null!==r?r.factory:yr(i);if(null!==d)return d;if(i instanceof Se)throw new P(204,!1);if(i instanceof Function)return function W_(i){const r=i.length;if(r>0)throw Fe(r,"?"),new P(204,!1);const d=function It(i){const r=i&&(i[oe]||i[Be]);if(r){const d=function Y(i){if(i.hasOwnProperty("name"))return i.name;const r=(""+i).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),r}return null}(i);return null!==d?()=>d.factory(i):()=>new i}(i);throw new P(204,!1)}function zp(i,r,d){let y;if(pl(i)){const x=N(i);return yr(x)||Fd(x)}if(vc(i))y=()=>N(i.useValue);else if(function Xo(i){return!(!i||!i.useFactory)}(i))y=()=>i.useFactory(...cl(i.deps||[]));else if(function Iu(i){return!(!i||!i.useExisting)}(i))y=()=>is(N(i.useExisting));else{const x=N(i&&(i.useClass||i.provide));if(!function K_(i){return!!i.deps}(i))return yr(x)||Fd(x);y=()=>new x(...cl(i.deps))}return y}function Fl(i,r,d=!1){return{factory:i,value:r,multi:d?[]:void 0}}function G_(i){return!!i.\u0275providers}function Zd(i,r){for(const d of i)Array.isArray(d)?Zd(d,r):G_(d)?Zd(d.\u0275providers,r):r(d)}class Gp{}class q_{resolveComponentFactory(r){throw function Q_(i){const r=Error(`No component factory found for ${p(i)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=i,r}(r)}}let Zl=(()=>{class i{}return i.NULL=new q_,i})();function Y_(){return Vl(qi(),_n())}function Vl(i,r){return new yc(as(i,r))}let yc=(()=>{class i{constructor(d){this.nativeElement=d}}return i.__NG_ELEMENT_ID__=Y_,i})();function Cc(i){return i instanceof yc?i.nativeElement:i}class Yp{}let X_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Xp(){const i=_n(),d=Vi(qi().index,i);return(hn(d)?d:i)[11]}(),i})(),ev=(()=>{class i{}return i.\u0275prov=at({token:i,providedIn:"root",factory:()=>null}),i})();class ef{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const tv=new ef("14.2.2"),Hd={};function $d(i){return i.ngOriginalError}class bc{constructor(){this._console=console}handleError(r){const d=this._findOriginalError(r);this._console.error("ERROR",r),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(r){let d=r&&$d(r);for(;d&&$d(d);)d=$d(d);return d||null}}const ov=/^>|^->|<!--|-->|--!>|<!-$/g,av=/(<|>)/;const zd=new Map;let Rs=0;const ku="__ngContext__";function Eo(i,r){hn(r)?(i[ku]=r[20],function pv(i){zd.set(i[20],i)}(r)):i[ku]=r}function pf(i){return i.ownerDocument.defaultView}function ff(i){return i.ownerDocument}function Ja(i){return i instanceof Function?i():i}var xa=(()=>((xa=xa||{})[xa.Important=1]="Important",xa[xa.DashCase=2]="DashCase",xa))();let Yd;function Xd(i,r){return Yd(i,r)}function Tc(i){const r=i[3];return Dn(r)?r[3]:r}function eh(i){return _f(i[13])}function th(i){return _f(i[4])}function _f(i){for(;null!==i&&!Dn(i);)i=i[4];return i}function Xa(i,r,d,y,x){if(null!=y){let I,K=!1;Dn(y)?I=y:hn(y)&&(K=!0,y=y[0]);const se=Zi(y);0===i&&null!==d?null==x?Af(r,d,se):ml(r,d,se,x||null,!0):1===i&&null!==d?ml(r,d,se,x||null,!0):2===i?Of(r,se,K):3===i&&r.destroyNode(se),null!=I&&function Bv(i,r,d,y,x){const I=d[7];I!==Zi(d)&&Xa(r,i,y,I,x);for(let se=10;se<d.length;se++){const fe=d[se];Sc(fe[1],fe,i,r,y,I)}}(r,i,I,d,x)}}function nh(i,r){return i.createText(r)}function vf(i,r,d){i.setValue(r,d)}function Ev(i,r){return i.createComment(function af(i){return i.replace(ov,r=>r.replace(av,"\u200b$1\u200b"))}(r))}function ih(i,r,d){return i.createElement(r,d)}function Cf(i,r){const d=i[9],y=d.indexOf(r),x=r[3];512&r[2]&&(r[2]&=-513,Nr(x,-1)),d.splice(y,1)}function rh(i,r){if(i.length<=10)return;const d=10+r,y=i[d];if(y){const x=y[17];null!==x&&x!==i&&Cf(x,y),r>0&&(i[d-1][4]=y[4]);const I=Ga(i,10+r);!function Dv(i,r){Sc(i,r,r[11],2,null,null),r[0]=null,r[6]=null}(y[1],y);const K=I[19];null!==K&&K.detachView(I[1]),y[3]=null,y[4]=null,y[2]&=-65}return y}function bf(i,r){if(!(128&r[2])){const d=r[11];d.destroyNode&&Sc(i,r,d,3,null,null),function Ov(i){let r=i[13];if(!r)return sh(i[1],i);for(;r;){let d=null;if(hn(r))d=r[13];else{const y=r[10];y&&(d=y)}if(!d){for(;r&&!r[4]&&r!==i;)hn(r)&&sh(r[1],r),r=r[3];null===r&&(r=i),hn(r)&&sh(r[1],r),d=r&&r[4]}r=d}}(r)}}function sh(i,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Rv(i,r){let d;if(null!=i&&null!=(d=i.destroyHooks))for(let y=0;y<d.length;y+=2){const x=r[d[y]];if(!(x instanceof xs)){const I=d[y+1];if(Array.isArray(I))for(let K=0;K<I.length;K+=2){const se=x[I[K]],fe=I[K+1];try{fe.call(se)}finally{}}else try{I.call(x)}finally{}}}}(i,r),function Ac(i,r){const d=i.cleanup,y=r[7];let x=-1;if(null!==d)for(let I=0;I<d.length-1;I+=2)if("string"==typeof d[I]){const K=d[I+1],se="function"==typeof K?K(r):Zi(r[K]),fe=y[x=d[I+2]],Ne=d[I+3];"boolean"==typeof Ne?se.removeEventListener(d[I],fe,Ne):Ne>=0?y[x=Ne]():y[x=-Ne].unsubscribe(),I+=2}else{const K=y[x=d[I+1]];d[I].call(K)}if(null!==y){for(let I=x+1;I<y.length;I++)(0,y[I])();r[7]=null}}(i,r),1===r[1].type&&r[11].destroy();const d=r[17];if(null!==d&&Dn(r[3])){d!==r[3]&&Cf(d,r);const y=r[19];null!==y&&y.detachView(i)}!function fv(i){zd.delete(i[20])}(r)}}function wf(i,r,d){return Tf(i,r.parent,d)}function Tf(i,r,d){let y=r;for(;null!==y&&40&y.type;)y=(r=y).parent;if(null===y)return d[0];if(2&y.flags){const x=i.data[y.directiveStart].encapsulation;if(x===te.None||x===te.Emulated)return null}return as(y,d)}function ml(i,r,d,y,x){i.insertBefore(r,d,y,x)}function Af(i,r,d){i.appendChild(r,d)}function Sf(i,r,d,y,x){null!==y?ml(i,r,d,y,x):Af(i,r,d)}function Pu(i,r){return i.parentNode(r)}function xf(i,r,d){return Df(i,r,d)}function Ef(i,r,d){return 40&i.type?as(i,d):null}let oh,Df=Ef;function If(i,r){Df=i,oh=r}function Lu(i,r,d,y){const x=wf(i,y,r),I=r[11],se=xf(y.parent||r[6],y,r);if(null!=x)if(Array.isArray(d))for(let fe=0;fe<d.length;fe++)Sf(I,x,d[fe],se,!1);else Sf(I,x,d,se,!1);void 0!==oh&&oh(I,y,r,d,x)}function Bu(i,r){if(null!==r){const d=r.type;if(3&d)return as(r,i);if(4&d)return ah(-1,i[r.index]);if(8&d){const y=r.child;if(null!==y)return Bu(i,y);{const x=i[r.index];return Dn(x)?ah(-1,x):Zi(x)}}if(32&d)return Xd(r,i)()||Zi(i[r.index]);{const y=Mf(i,r);return null!==y?Array.isArray(y)?y[0]:Bu(Tc(i[16]),y):Bu(i,r.next)}}return null}function Mf(i,r){return null!==r?i[16][6].projection[r.projection]:null}function ah(i,r){const d=10+i+1;if(d<r.length){const y=r[d],x=y[1].firstChild;if(null!==x)return Bu(y,x)}return r[7]}function Of(i,r,d){const y=Pu(i,r);y&&function kv(i,r,d,y){i.removeChild(r,d,y)}(i,y,r,d)}function lh(i,r,d,y,x,I,K){for(;null!=d;){const se=y[d.index],fe=d.type;if(K&&0===r&&(se&&Eo(Zi(se),y),d.flags|=4),64!=(64&d.flags))if(8&fe)lh(i,r,d.child,y,x,I,!1),Xa(r,i,x,se,I);else if(32&fe){const Ne=Xd(d,y);let it;for(;it=Ne();)Xa(r,i,x,it,I);Xa(r,i,x,se,I)}else 16&fe?Nf(i,r,y,d,x,I):Xa(r,i,x,se,I);d=K?d.projectionNext:d.next}}function Sc(i,r,d,y,x,I){lh(d,y,i.firstChild,r,x,I,!1)}function Nf(i,r,d,y,x,I){const K=d[16],fe=K[6].projection[y.projection];if(Array.isArray(fe))for(let Ne=0;Ne<fe.length;Ne++)Xa(r,i,x,fe[Ne],I);else lh(i,r,fe,K[3],x,I,!0)}function Rf(i,r,d){i.setAttribute(r,"style",d)}function ch(i,r,d){""===d?i.removeAttribute(r,"class"):i.setAttribute(r,"class",d)}function kf(i,r,d){let y=i.length;for(;;){const x=i.indexOf(r,d);if(-1===x)return x;if(0===x||i.charCodeAt(x-1)<=32){const I=r.length;if(x+I===y||i.charCodeAt(x+I)<=32)return x}d=x+1}}const Pf="ng-template";function Lf(i,r,d){let y=0;for(;y<i.length;){let x=i[y++];if(d&&"class"===x){if(x=i[y],-1!==kf(x.toLowerCase(),r,0))return!0}else if(1===x){for(;y<i.length&&"string"==typeof(x=i[y++]);)if(x.toLowerCase()===r)return!0;return!1}}return!1}function uh(i){return 4===i.type&&i.value!==Pf}function Fv(i,r,d){return r===(4!==i.type||d?i.value:Pf)}function Zv(i,r,d){let y=4;const x=i.attrs||[],I=function Hv(i){for(let r=0;r<i.length;r++)if(ds(i[r]))return r;return i.length}(x);let K=!1;for(let se=0;se<r.length;se++){const fe=r[se];if("number"!=typeof fe){if(!K)if(4&y){if(y=2|1&y,""!==fe&&!Fv(i,fe,d)||""===fe&&1===r.length){if(ra(y))return!1;K=!0}}else{const Ne=8&y?fe:r[++se];if(8&y&&null!==i.attrs){if(!Lf(i.attrs,Ne,d)){if(ra(y))return!1;K=!0}continue}const _t=Vv(8&y?"class":fe,x,uh(i),d);if(-1===_t){if(ra(y))return!1;K=!0;continue}if(""!==Ne){let Ft;Ft=_t>I?"":x[_t+1].toLowerCase();const en=8&y?Ft:null;if(en&&-1!==kf(en,Ne,0)||2&y&&Ne!==Ft){if(ra(y))return!1;K=!0}}}}else{if(!K&&!ra(y)&&!ra(fe))return!1;if(K&&ra(fe))continue;K=!1,y=fe|1&y}}return ra(y)||K}function ra(i){return 0==(1&i)}function Vv(i,r,d,y){if(null===r)return-1;let x=0;if(y||!d){let I=!1;for(;x<r.length;){const K=r[x];if(K===i)return x;if(3===K||6===K)I=!0;else{if(1===K||2===K){let se=r[++x];for(;"string"==typeof se;)se=r[++x];continue}if(4===K)break;if(0===K){x+=4;continue}}x+=I?1:2}return-1}return function Jv(i,r){let d=i.indexOf(4);if(d>-1)for(d++;d<i.length;){const y=i[d];if("number"==typeof y)return-1;if(y===r)return d;d++}return-1}(r,i)}function dh(i,r,d=!1){for(let y=0;y<r.length;y++)if(Zv(i,r[y],d))return!0;return!1}function Wv(i,r){e:for(let d=0;d<r.length;d++){const y=r[d];if(i.length===y.length){for(let x=0;x<i.length;x++)if(i[x]!==y[x])continue e;return!0}}return!1}function Uf(i,r){return i?":not("+r.trim()+")":r}function jv(i){let r=i[0],d=1,y=2,x="",I=!1;for(;d<i.length;){let K=i[d];if("string"==typeof K)if(2&y){const se=i[++d];x+="["+K+(se.length>0?'="'+se+'"':"")+"]"}else 8&y?x+="."+K:4&y&&(x+=" "+K);else""!==x&&!ra(K)&&(r+=Uf(I,x),x=""),y=K,I=I||!ra(y);d++}return""!==x&&(r+=Uf(I,x)),r}const Ki={};function Ff(i){Zf(oi(),_n(),vt()+i,!1)}function Zf(i,r,d,y){if(!y)if(3==(3&r[2])){const I=i.preOrderCheckHooks;null!==I&&gr(r,I,d)}else{const I=i.preOrderHooks;null!==I&&_r(r,I,0,d)}Xt(d)}function Wf(i,r=null,d=null,y){const x=jf(i,r,d,y);return x.resolveInjectorInitializers(),x}function jf(i,r=null,d=null,y,x=new Set){const I=[d||ot,V_(i)];return y=y||("object"==typeof i?void 0:p(i)),new $p(I,r||Ou(),y||null,x)}let gl=(()=>{class i{static create(d,y){if(Array.isArray(d))return Wf({name:""},y,d,"");{var x;const I=null!==(x=d.name)&&void 0!==x?x:"";return Wf({name:I},d.parent,d.providers,I)}}}return i.THROW_IF_NOT_FOUND=Kr,i.NULL=new Du,i.\u0275prov=at({token:i,providedIn:"any",factory:()=>is(Jp)}),i.__NG_ELEMENT_ID__=-1,i})();function Ec(i,r=De.Default){const d=_n();return null===d?is(i,r):Qt(qi(),d,N(i),r)}function Yf(){throw new Error("invalid")}function Fu(i,r){return i<<17|r<<2}function Ho(i){return i>>17&32767}function Mc(i){return 2|i}function Ea(i){return(131068&i)>>2}function Hl(i,r){return-131069&i|r<<2}function Oc(i){return 1|i}function Pc(i,r){const d=i.contentQueries;if(null!==d)for(let y=0;y<d.length;y+=2){const x=d[y],I=d[y+1];if(-1!==I){const K=i.data[I];cr(x),K.contentQueries(2,r[I],I)}}}function Lc(i,r,d,y,x,I,K,se,fe,Ne,it){const _t=r.blueprint.slice();return _t[0]=x,_t[2]=76|y,(null!==it||i&&1024&i[2])&&(_t[2]|=1024),Tr(_t),_t[3]=_t[15]=i,_t[8]=d,_t[10]=K||i&&i[10],_t[11]=se||i&&i[11],_t[12]=fe||i&&i[12]||null,_t[9]=Ne||i&&i[9]||null,_t[6]=I,_t[20]=function hv(){return Rs++}(),_t[21]=it,_t[16]=2==r.type?i[16]:_t,_t}function fo(i,r,d,y,x){let I=i.data[r];if(null===I)I=ea(i,r,d,y,x),function Ot(){return si.lFrame.inI18n}()&&(I.flags|=64);else if(64&I.type){I.type=d,I.value=y,I.attrs=x;const K=ge();I.injectorIndex=null===K?-1:K.injectorIndex}return ne(I,!0),I}function ea(i,r,d,y,x){const I=Ie(),K=Xe(),fe=i.data[r]=function T0(i,r,d,y,x,I){return{type:d,index:y,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:x,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,K?I:I&&I.parent,d,r,y,x);return null===i.firstChild&&(i.firstChild=fe),null!==I&&(K?null==I.child&&null!==fe.parent&&(I.child=fe):null===I.next&&(I.next=fe)),fe}function Do(i,r,d,y){if(0===d)return-1;const x=r.length;for(let I=0;I<d;I++)r.push(y),i.blueprint.push(y),i.data.push(null);return x}function Lo(i,r,d){ji(r);try{const y=i.viewQuery;null!==y&&Oh(1,y,d);const x=i.template;null!==x&&jl(i,r,x,1,d),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Pc(i,r),i.staticViewQueries&&Oh(2,i.viewQuery,d);const I=i.components;null!==I&&function C0(i,r){for(let d=0;d<r.length;d++)I0(i,r[d])}(r,I)}catch(y){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),y}finally{r[2]&=-5,Pe()}}function Wl(i,r,d,y){const x=r[2];if(128!=(128&x)){ji(r);try{Tr(r),function Me(i){return si.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==d&&jl(i,r,d,2,y);const K=3==(3&x);if(K){const Ne=i.preOrderCheckHooks;null!==Ne&&gr(r,Ne,null)}else{const Ne=i.preOrderHooks;null!==Ne&&_r(r,Ne,0,null),ir(r,0)}if(function Bc(i){for(let r=eh(i);null!==r;r=th(r)){if(!r[2])continue;const d=r[9];for(let y=0;y<d.length;y++){const x=d[y],I=x[3];0==(512&x[2])&&Nr(I,1),x[2]|=512}}}(r),function fm(i){for(let r=eh(i);null!==r;r=th(r))for(let d=10;d<r.length;d++){const y=r[d],x=y[1];Or(y)&&Wl(x,y,x.template,y[8])}}(r),null!==i.contentQueries&&Pc(i,r),K){const Ne=i.contentCheckHooks;null!==Ne&&gr(r,Ne)}else{const Ne=i.contentHooks;null!==Ne&&_r(r,Ne,1),ir(r,1)}!function y0(i,r){const d=i.hostBindingOpCodes;if(null!==d)try{for(let y=0;y<d.length;y++){const x=d[y];if(x<0)Xt(~x);else{const I=x,K=d[++y],se=d[++y];Vt(K,I),se(2,r[I])}}}finally{Xt(-1)}}(i,r);const se=i.components;null!==se&&function Da(i,r){for(let d=0;d<r.length;d++)D0(i,r[d])}(r,se);const fe=i.viewQuery;if(null!==fe&&Oh(2,fe,y),K){const Ne=i.viewCheckHooks;null!==Ne&&gr(r,Ne)}else{const Ne=i.viewHooks;null!==Ne&&_r(r,Ne,2),ir(r,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Nr(r[3],-1))}finally{Pe()}}}function jl(i,r,d,y,x){const I=vt(),K=2&y;try{Xt(-1),K&&r.length>22&&Zf(i,r,22,!1),d(y,x)}finally{Xt(I)}}function _l(i,r,d){if(Nn(r)){const x=r.directiveEnd;for(let I=r.directiveStart;I<x;I++){const K=i.data[I];K.contentQueries&&K.contentQueries(1,d[I],I)}}}function vl(i,r,d){!Ar()||(function Eh(i,r,d,y){const x=d.directiveStart,I=d.directiveEnd;i.firstCreatePass||No(d,r),Eo(y,r);const K=d.initialInputs;for(let se=x;se<I;se++){const fe=i.data[se],Ne=Xn(fe);Ne&&Ih(r,d,fe);const it=Le(r,i,se,d);Eo(it,r),null!==K&&E0(0,se-x,it,fe,0,K),Ne&&(Vi(d.index,r)[8]=it)}}(i,r,d,as(d,r)),128==(128&d.flags)&&function nl(i,r,d){const y=d.directiveStart,x=d.directiveEnd,I=d.index,K=function dn(){return si.lFrame.currentDirectiveIndex}();try{Xt(I);for(let se=y;se<x;se++){const fe=i.data[se],Ne=r[se];bn(se),(null!==fe.hostBindings||0!==fe.hostVars||null!==fe.hostAttrs)&&il(fe,Ne)}}finally{Xt(-1),bn(K)}}(i,r,d))}function Sh(i,r,d=as){const y=r.localNames;if(null!==y){let x=r.index+1;for(let I=0;I<y.length;I+=2){const K=y[I+1],se=-1===K?d(r,i):i[K];i[x++]=se}}}function xh(i){const r=i.tView;return null===r||r.incompleteFirstPass?i.tView=yl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):r}function yl(i,r,d,y,x,I,K,se,fe,Ne){const it=22+y,_t=it+x,Ft=function b0(i,r){const d=[];for(let y=0;y<r;y++)d.push(y<i?null:Ki);return d}(it,_t),en="function"==typeof Ne?Ne():Ne;return Ft[1]={type:i,blueprint:Ft,template:d,queries:null,viewQuery:se,declTNode:r,data:Ft.slice().fill(null,it),bindingStartIndex:it,expandoStartIndex:_t,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof K?K():K,firstChild:null,schemas:fe,consts:en,incompleteFirstPass:!1}}function cm(i,r,d,y){const x=wl(r);null===d?x.push(y):(x.push(d),i.firstCreatePass&&Gu(i).push(y,x.length-1))}function um(i,r,d){for(let y in i)if(i.hasOwnProperty(y)){const x=i[y];(d=null===d?{}:d).hasOwnProperty(y)?d[y].push(r,x):d[y]=[r,x]}return d}function dm(i,r){const y=r.directiveEnd,x=i.data,I=r.attrs,K=[];let se=null,fe=null;for(let Ne=r.directiveStart;Ne<y;Ne++){const it=x[Ne],_t=it.inputs,Ft=null===I||uh(r)?null:Ma(_t,I);K.push(Ft),se=um(_t,Ne,se),fe=um(it.outputs,Ne,fe)}null!==se&&(se.hasOwnProperty("class")&&(r.flags|=16),se.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=K,r.inputs=se,r.outputs=fe}function ta(i,r,d,y,x,I,K,se){const fe=as(r,d);let it,Ne=r.inputs;!se&&null!=Ne&&(it=Ne[y])?(Qu(i,d,it,y,x),Ii(r)&&hm(d,r.index)):3&r.type&&(y=function A0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(y),x=null!=K?K(x,r.value||"",y):x,I.setProperty(fe,y,x))}function hm(i,r){const d=Vi(r,i);16&d[2]||(d[2]|=32)}function Jo(i,r,d,y){let x=!1;if(Ar()){const I=function Wu(i,r,d){const y=i.directiveRegistry;let x=null;if(y)for(let I=0;I<y.length;I++){const K=y[I];dh(d,K.selectors,!1)&&(x||(x=[]),Ue(No(d,r),i,K.type),Xn(K)?(Cl(i,d),x.unshift(K)):x.push(K))}return x}(i,r,d),K=null===y?null:{"":-1};if(null!==I){x=!0,bl(d,i.data.length,I.length);for(let it=0;it<I.length;it++){const _t=I[it];_t.providersResolver&&_t.providersResolver(_t)}let se=!1,fe=!1,Ne=Do(i,r,I.length,null);for(let it=0;it<I.length;it++){const _t=I[it];d.mergedAttrs=To(d.mergedAttrs,_t.hostAttrs),ju(i,d,r,Ne,_t),pm(Ne,_t,K),null!==_t.contentQueries&&(d.flags|=8),(null!==_t.hostBindings||null!==_t.hostAttrs||0!==_t.hostVars)&&(d.flags|=128);const Ft=_t.type.prototype;!se&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(d.index),se=!0),!fe&&(Ft.ngOnChanges||Ft.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(d.index),fe=!0),Ne++}dm(i,d)}K&&function Dh(i,r,d){if(r){const y=i.localNames=[];for(let x=0;x<r.length;x+=2){const I=d[r[x+1]];if(null==I)throw new P(-301,!1);y.push(r[x],I)}}}(d,y,K)}return d.mergedAttrs=To(d.mergedAttrs,d.attrs),x}function tl(i,r,d,y,x,I){const K=I.hostBindings;if(K){let se=i.hostBindingOpCodes;null===se&&(se=i.hostBindingOpCodes=[]);const fe=~r.index;(function aa(i){let r=i.length;for(;r>0;){const d=i[--r];if("number"==typeof d&&d<0)return d}return 0})(se)!=fe&&se.push(fe),se.push(y,x,K)}}function il(i,r){null!==i.hostBindings&&i.hostBindings(1,r)}function Cl(i,r){r.flags|=2,(i.components||(i.components=[])).push(r.index)}function pm(i,r,d){if(d){if(r.exportAs)for(let y=0;y<r.exportAs.length;y++)d[r.exportAs[y]]=i;Xn(r)&&(d[""]=i)}}function bl(i,r,d){i.flags|=1,i.directiveStart=r,i.directiveEnd=r+d,i.providerIndexes=r}function ju(i,r,d,y,x){i.data[y]=x;const I=x.factory||(x.factory=yr(x.type)),K=new xs(I,Xn(x),Ec);i.blueprint[y]=K,d[y]=K,tl(i,r,0,y,Do(i,d,x.hostVars,Ki),x)}function Ih(i,r,d){const y=as(r,i),x=xh(d),I=i[10],K=Fc(i,Lc(i,x,null,d.onPush?32:16,y,r,I,I.createRenderer(y,d),null,null,null));i[r.index]=K}function ya(i,r,d,y,x,I,K){if(null==I)i.removeAttribute(r,x,d);else{const se=null==K?J(I):K(I,y||"",x);i.setAttribute(r,x,se,d)}}function E0(i,r,d,y,x,I){const K=I[r];if(null!==K){const se=y.setInput;for(let fe=0;fe<K.length;){const Ne=K[fe++],it=K[fe++],_t=K[fe++];null!==se?y.setInput(d,_t,Ne,it):d[it]=_t}}}function Ma(i,r){let d=null,y=0;for(;y<r.length;){const x=r[y];if(0!==x)if(5!==x){if("number"==typeof x)break;i.hasOwnProperty(x)&&(null===d&&(d=[]),d.push(x,i[x],r[y+1])),y+=2}else y+=2;else y+=4}return d}function Ku(i,r,d,y){return new Array(i,!0,!1,r,null,0,y,d,null,null)}function D0(i,r){const d=Vi(r,i);if(Or(d)){const y=d[1];48&d[2]?Wl(y,d,y.template,d[8]):d[5]>0&&$u(d)}}function $u(i){for(let y=eh(i);null!==y;y=th(y))for(let x=10;x<y.length;x++){const I=y[x];if(Or(I))if(512&I[2]){const K=I[1];Wl(K,I,K.template,I[8])}else I[5]>0&&$u(I)}const d=i[1].components;if(null!==d)for(let y=0;y<d.length;y++){const x=Vi(d[y],i);Or(x)&&x[5]>0&&$u(x)}}function I0(i,r){const d=Vi(r,i),y=d[1];(function Uc(i,r){for(let d=r.length;d<i.blueprint.length;d++)r.push(i.blueprint[d])})(y,d),Lo(y,d,d[8])}function Fc(i,r){return i[13]?i[14][4]=r:i[13]=r,i[14]=r,r}function Zc(i){for(;i;){i[2]|=32;const r=Tc(i);if(fr(i)&&!r)return i;i=r}return null}function zu(i,r,d,y=!0){const x=r[10];x.begin&&x.begin();try{Wl(i,r,i.template,d)}catch(K){throw y&&Rh(r,K),K}finally{x.end&&x.end()}}function Oh(i,r,d){cr(0),r(i,d)}function wl(i){return i[7]||(i[7]=[])}function Gu(i){return i.cleanup||(i.cleanup=[])}function Rh(i,r){const d=i[9],y=d?d.get(bc,null):null;y&&y.handleError(r)}function Qu(i,r,d,y,x){for(let I=0;I<d.length;){const K=d[I++],se=d[I++],fe=r[K],Ne=i.data[K];null!==Ne.setInput?Ne.setInput(fe,x,y,se):fe[se]=x}}function Oa(i,r,d){const y=Gr(r,i);vf(i[11],y,d)}function Kl(i,r,d){let y=d?i.styles:null,x=d?i.classes:null,I=0;if(null!==r)for(let K=0;K<r.length;K++){const se=r[K];"number"==typeof se?I=se:1==I?x=A(x,se):2==I&&(y=A(y,se+": "+r[++K]+";"))}d?i.styles=y:i.stylesWithoutHost=y,d?i.classes=x:i.classesWithoutHost=x}function qu(i,r,d,y,x=!1){for(;null!==d;){const I=r[d.index];if(null!==I&&y.push(Zi(I)),Dn(I))for(let se=10;se<I.length;se++){const fe=I[se],Ne=fe[1].firstChild;null!==Ne&&qu(fe[1],fe,Ne,y)}const K=d.type;if(8&K)qu(i,r,d.child,y);else if(32&K){const se=Xd(d,r);let fe;for(;fe=se();)y.push(fe)}else if(16&K){const se=Mf(r,d);if(Array.isArray(se))y.push(...se);else{const fe=Tc(r[16]);qu(fe[1],fe,se,y,!0)}}d=x?d.projectionNext:d.next}return y}class Vc{constructor(r,d){this._lView=r,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,d=r[1];return qu(d,r,d.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Dn(r)){const d=r[8],y=d?d.indexOf(this):-1;y>-1&&(rh(r,y),Ga(d,y))}this._attachedToViewContainer=!1}bf(this._lView[1],this._lView)}onDestroy(r){cm(this._lView[1],this._lView,null,r)}markForCheck(){Zc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mv(i,r){Sc(i,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=r}}class O0 extends Vc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;zu(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class kh extends Zl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const d=jt(r);return new Tl(d,this.ngModule)}}function mm(i){const r=[];for(let d in i)i.hasOwnProperty(d)&&r.push({propName:i[d],templateName:d});return r}class N0{constructor(r,d){this.injector=r,this.parentInjector=d}get(r,d,y){const x=this.injector.get(r,Hd,y);return x!==Hd||d===Hd?x:this.parentInjector.get(r,d,y)}}class Tl extends Gp{constructor(r,d){super(),this.componentDef=r,this.ngModule=d,this.componentType=r.type,this.selector=function Kv(i){return i.map(jv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return mm(this.componentDef.inputs)}get outputs(){return mm(this.componentDef.outputs)}create(r,d,y,x){var I;let K=(x=x||this.ngModule)instanceof fl?x:null===(I=x)||void 0===I?void 0:I.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const se=K?new N0(r,K):r,fe=se.get(Yp,null);if(null===fe)throw new P(407,!1);const Ne=se.get(ev,null),it=fe.createRenderer(null,this.componentDef),_t=this.componentDef.selectors[0][0]||"div",Ft=y?function lm(i,r,d){return i.selectRootElement(r,d===te.ShadowDom)}(it,y,this.componentDef.encapsulation):ih(fe.createRenderer(null,this.componentDef),_t,function Hc(i){const r=i.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(_t)),en=this.componentDef.onPush?288:272,Cn=yl(0,null,null,1,0,null,null,null,null,null),kn=Lc(null,Cn,null,en,null,null,fe,it,Ne,se,null);let jn,li;ji(kn);try{const Li=function P0(i,r,d,y,x,I){const K=d[1];d[22]=i;const fe=fo(K,22,2,"#host",null),Ne=fe.mergedAttrs=r.hostAttrs;null!==Ne&&(Kl(fe,Ne,!0),null!==i&&(wo(x,i,Ne),null!==fe.classes&&ch(x,i,fe.classes),null!==fe.styles&&Rf(x,i,fe.styles)));const it=y.createRenderer(i,r),_t=Lc(d,xh(r),null,r.onPush?32:16,d[22],fe,y,it,I||null,null,null);return K.firstCreatePass&&(Ue(No(fe,d),K,r.type),Cl(K,fe),bl(fe,d.length,1)),Fc(d,_t),d[22]=_t}(Ft,this.componentDef,kn,fe,it);if(Ft)if(y)wo(it,Ft,["ng-version",tv.full]);else{const{attrs:Sn,classes:xi}=function $v(i){const r=[],d=[];let y=1,x=2;for(;y<i.length;){let I=i[y];if("string"==typeof I)2===x?""!==I&&r.push(I,i[++y]):8===x&&d.push(I);else{if(!ra(x))break;x=I}y++}return{attrs:r,classes:d}}(this.componentDef.selectors[0]);Sn&&wo(it,Ft,Sn),xi&&xi.length>0&&ch(it,Ft,xi.join(" "))}if(li=Ns(Cn,22),void 0!==d){const Sn=li.projection=[];for(let xi=0;xi<this.ngContentSelectors.length;xi++){const Dr=d[xi];Sn.push(null!=Dr?Array.from(Dr):null)}}jn=function L0(i,r,d,y){const x=d[1],I=function x0(i,r,d){const y=qi();i.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),ju(i,y,r,Do(i,r,1,null),d),dm(i,y));const x=Le(r,i,y.directiveStart,y);Eo(x,r);const I=as(y,r);return I&&Eo(I,r),x}(x,d,r);if(i[8]=d[8]=I,null!==y)for(const se of y)se(I,r);if(r.contentQueries){const se=qi();r.contentQueries(1,I,se.directiveStart)}const K=qi();return!x.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Xt(K.index),tl(d[1],K,0,K.directiveStart,K.directiveEnd,r),il(r,I)),I}(Li,this.componentDef,kn,[B0]),Lo(Cn,kn,null)}finally{Pe()}return new k0(this.componentType,jn,Vl(li,kn),kn,li)}}class k0 extends class Vd{}{constructor(r,d,y,x,I){super(),this.location=y,this._rootLView=x,this._tNode=I,this.instance=d,this.hostView=this.changeDetectorRef=new O0(x),this.componentType=r}setInput(r,d){const y=this._tNode.inputs;let x;if(null!==y&&(x=y[r])){const I=this._rootLView;Qu(I[1],I,x,r,d),hm(I,this._tNode.index)}}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function B0(){const i=qi();Ri(_n()[1],i)}function Ph(i){let r=function gm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),d=!0;const y=[i];for(;r;){let x;if(Xn(i))x=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new P(903,!1);x=r.\u0275dir}if(x){if(d){y.push(x);const K=i;K.inputs=Lh(i.inputs),K.declaredInputs=Lh(i.declaredInputs),K.outputs=Lh(i.outputs);const se=x.hostBindings;se&&V0(i,se);const fe=x.viewQuery,Ne=x.contentQueries;if(fe&&F0(i,fe),Ne&&Z0(i,Ne),g(i.inputs,x.inputs),g(i.declaredInputs,x.declaredInputs),g(i.outputs,x.outputs),Xn(x)&&x.data.animation){const it=i.data;it.animation=(it.animation||[]).concat(x.data.animation)}}const I=x.features;if(I)for(let K=0;K<I.length;K++){const se=I[K];se&&se.ngInherit&&se(i),se===Ph&&(d=!1)}}r=Object.getPrototypeOf(r)}!function U0(i){let r=0,d=null;for(let y=i.length-1;y>=0;y--){const x=i[y];x.hostVars=r+=x.hostVars,x.hostAttrs=To(x.hostAttrs,d=To(d,x.hostAttrs))}}(y)}function Lh(i){return i===tt?{}:i===ot?[]:i}function F0(i,r){const d=i.viewQuery;i.viewQuery=d?(y,x)=>{r(y,x),d(y,x)}:r}function Z0(i,r){const d=i.contentQueries;i.contentQueries=d?(y,x,I)=>{r(y,x,I),d(y,x,I)}:r}function V0(i,r){const d=i.hostBindings;i.hostBindings=d?(y,x)=>{r(y,x),d(y,x)}:r}let Jc=null;function Al(){if(!Jc){const i=B.Symbol;if(i&&i.iterator)Jc=i.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<r.length;++d){const y=r[d];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(Jc=y)}}}return Jc}function rl(i){return!!Bh(i)&&(Array.isArray(i)||!(i instanceof Map)&&Al()in i)}function Bh(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Na(i,r,d){return i[r]=d}function Wc(i,r){return i[r]}function vo(i,r,d){return!Object.is(i[r],d)&&(i[r]=d,!0)}function Sl(i,r,d,y){const x=vo(i,r,d);return vo(i,r+1,y)||x}function la(i,r,d,y,x,I){const K=Sl(i,r,d,y);return Sl(i,r+2,x,I)||K}function Uh(i,r,d,y){const x=_n();return vo(x,Je(),r)&&(oi(),function Ia(i,r,d,y,x,I){const K=as(i,r);ya(r[11],K,I,i.value,d,y,x)}(sn(),x,i,r,d,y)),Uh}function $l(i,r,d,y){return vo(i,Je(),d)?r+J(d)+y:Ki}function zl(i,r,d,y,x,I){const se=Sl(i,mi(),d,x);return At(2),se?r+J(d)+y+J(x)+I:Ki}function z0(i,r,d,y,x,I,K,se){const fe=_n(),Ne=oi(),it=i+22,_t=Ne.firstCreatePass?function $0(i,r,d,y,x,I,K,se,fe){const Ne=r.consts,it=fo(r,i,4,K||null,Fi(Ne,se));Jo(r,d,it,Fi(Ne,fe)),Ri(r,it);const _t=it.tViews=yl(2,it,y,x,I,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ne);return null!==r.queries&&(r.queries.template(r,it),_t.queries=r.queries.embeddedTView(it)),it}(it,Ne,fe,r,d,y,x,I,K):Ne.data[it];ne(_t,!1);const Ft=fe[11].createComment("");Lu(Ne,fe,Ft,_t),Eo(Ft,fe),Fc(fe,fe[it]=Ku(Ft,fe,Ft,_t)),Ci(_t)&&vl(Ne,fe,_t),null!=K&&Sh(fe,_t,se)}function G0(i){return Ss(function Wi(){return si.lFrame.contextLView}(),22+i)}function xm(i,r,d){const y=_n();return vo(y,Je(),r)&&ta(oi(),sn(),y,i,r,y[11],d,!1),xm}function Em(i,r,d,y,x){const K=x?"class":"style";Qu(i,d,r.inputs[K],K,y)}function Xu(i,r,d,y){const x=_n(),I=oi(),K=22+i,se=x[11],fe=x[K]=ih(se,r,function mn(){return si.lFrame.currentNamespace}()),Ne=I.firstCreatePass?function Q0(i,r,d,y,x,I,K){const se=r.consts,Ne=fo(r,i,2,x,Fi(se,I));return Jo(r,d,Ne,Fi(se,K)),null!==Ne.attrs&&Kl(Ne,Ne.attrs,!1),null!==Ne.mergedAttrs&&Kl(Ne,Ne.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Ne),Ne}(K,I,x,0,r,d,y):I.data[K];ne(Ne,!0);const it=Ne.mergedAttrs;null!==it&&wo(se,fe,it);const _t=Ne.classes;null!==_t&&ch(se,fe,_t);const Ft=Ne.styles;return null!==Ft&&Rf(se,fe,Ft),64!=(64&Ne.flags)&&Lu(I,x,fe,Ne),0===function Qr(){return si.lFrame.elementDepthCount}()&&Eo(fe,x),function uo(){si.lFrame.elementDepthCount++}(),Ci(Ne)&&(vl(I,x,Ne),_l(I,Ne,x)),null!==y&&Sh(x,Ne),Xu}function ed(){let i=qi();Xe()?nn():(i=i.parent,ne(i,!1));const r=i;!function Ni(){si.lFrame.elementDepthCount--}();const d=oi();return d.firstCreatePass&&(Ri(d,i),Nn(i)&&d.queries.elementEnd(i)),null!=r.classesWithoutHost&&function bo(i){return 0!=(16&i.flags)}(r)&&Em(d,r,_n(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function jo(i){return 0!=(32&i.flags)}(r)&&Em(d,r,_n(),r.stylesWithoutHost,!1),ed}function Dm(i,r,d,y){return Xu(i,r,d,y),ed(),Dm}function Fh(i,r,d){const y=_n(),x=oi(),I=i+22,K=x.firstCreatePass?function XC(i,r,d,y,x){const I=r.consts,K=Fi(I,y),se=fo(r,i,8,"ng-container",K);return null!==K&&Kl(se,K,!0),Jo(r,d,se,Fi(I,x)),null!==r.queries&&r.queries.elementStart(r,se),se}(I,x,y,r,d):x.data[I];ne(K,!0);const se=y[I]=y[11].createComment("");return Lu(x,y,se,K),Eo(se,y),Ci(K)&&(vl(x,y,K),_l(x,K,y)),null!=d&&Sh(y,K),Fh}function Zh(){let i=qi();const r=oi();return Xe()?nn():(i=i.parent,ne(i,!1)),r.firstCreatePass&&(Ri(r,i),Nn(i)&&r.queries.elementEnd(i)),Zh}function Im(i,r,d){return Fh(i,r,d),Zh(),Im}function Mm(){return _n()}function Vh(i){return!!i&&"function"==typeof i.then}function q0(i){return!!i&&"function"==typeof i.subscribe}const Y0=q0;function Om(i,r,d,y){const x=_n(),I=oi(),K=qi();return function Nm(i,r,d,y,x,I,K,se){const fe=Ci(y),it=i.firstCreatePass&&Gu(i),_t=r[8],Ft=wl(r);let en=!0;if(3&y.type||se){const jn=as(y,r),li=se?se(jn):jn,Li=Ft.length,Sn=se?Dr=>se(Zi(Dr[y.index])):y.index;let xi=null;if(!se&&fe&&(xi=function ey(i,r,d,y){const x=i.cleanup;if(null!=x)for(let I=0;I<x.length-1;I+=2){const K=x[I];if(K===d&&x[I+1]===y){const se=r[7],fe=x[I+2];return se.length>fe?se[fe]:null}"string"==typeof K&&(I+=2)}return null}(i,r,x,y.index)),null!==xi)(xi.__ngLastListenerFn__||xi).__ngNextListenerFn__=I,xi.__ngLastListenerFn__=I,en=!1;else{I=Rm(y,r,_t,I,!1);const Dr=d.listen(li,x,I);Ft.push(I,Dr),it&&it.push(x,Sn,Li,Li+1)}}else I=Rm(y,r,_t,I,!1);const Cn=y.outputs;let kn;if(en&&null!==Cn&&(kn=Cn[x])){const jn=kn.length;if(jn)for(let li=0;li<jn;li+=2){const Js=r[kn[li]][kn[li+1]].subscribe(I),pu=Ft.length;Ft.push(I,Js),it&&it.push(x,y.index,pu,-(pu+1))}}}(I,x,x[11],K,i,r,0,y),Om}function ty(i,r,d,y){try{return!1!==d(y)}catch(x){return Rh(i,x),!1}}function Rm(i,r,d,y,x){return function I(K){if(K===Function)return y;Zc(2&i.flags?Vi(i.index,r):r);let fe=ty(r,0,y,K),Ne=I.__ngNextListenerFn__;for(;Ne;)fe=ty(r,0,Ne,K)&&fe,Ne=Ne.__ngNextListenerFn__;return x&&!1===fe&&(K.preventDefault(),K.returnValue=!1),fe}}function km(i=1){return function Ce(i){return(si.lFrame.contextLView=function ze(i,r){for(;i>0;)r=r[15],i--;return r}(i,si.lFrame.contextLView))[8]}(i)}function ny(i,r){let d=null;const y=function Bf(i){const r=i.attrs;if(null!=r){const d=r.indexOf(5);if(0==(1&d))return r[d+1]}return null}(i);for(let x=0;x<r.length;x++){const I=r[x];if("*"!==I){if(null===y?dh(i,I,!0):Wv(y,I))return x}else d=x}return d}function Pm(i){const r=_n()[16][6];if(!r.projection){const y=r.projection=Fe(i?i.length:1,null),x=y.slice();let I=r.child;for(;null!==I;){const K=i?ny(I,i):0;null!==K&&(x[K]?x[K].projectionNext=I:y[K]=I,x[K]=I),I=I.next}}}function Lm(i,r=0,d){const y=_n(),x=oi(),I=fo(x,22+i,16,null,d||null);null===I.projection&&(I.projection=r),nn(),64!=(64&I.flags)&&function Lv(i,r,d){Nf(r[11],0,r,d,wf(i,d,r),xf(d.parent||r[6],d,r))}(x,y,I)}function Bm(i,r,d){return td(i,"",r,"",d),Bm}function td(i,r,d,y,x){const I=_n(),K=$l(I,r,d,y);return K!==Ki&&ta(oi(),sn(),I,i,K,I[11],x,!1),td}function Hh(i,r,d,y,x,I,K){const se=_n(),fe=zl(se,r,d,y,x,I);return fe!==Ki&&ta(oi(),sn(),se,i,fe,se[11],K,!1),Hh}function jm(i,r,d,y,x){const I=i[d+1],K=null===r;let se=y?Ho(I):Ea(I),fe=!1;for(;0!==se&&(!1===fe||K);){const it=i[se+1];sy(i[se],r)&&(fe=!0,i[se+1]=y?Oc(it):Mc(it)),se=y?Ho(it):Ea(it)}fe&&(i[d+1]=y?Mc(I):Oc(I))}function sy(i,r){return null===i||null==r||(Array.isArray(i)?i[1]:i)===r||!(!Array.isArray(i)||"string"!=typeof r)&&Oe(i,r)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Km(i){return i.substring(ao.key,ao.keyEnd)}function $m(i,r){const d=ao.textEnd;return d===r?-1:(r=ao.keyEnd=function cy(i,r,d){for(;r<d&&i.charCodeAt(r)>32;)r++;return r}(i,ao.key=r,d),sl(i,r,d))}function sl(i,r,d){for(;r<d&&i.charCodeAt(r)<=32;)r++;return r}function Jh(i,r,d){return Pa(i,r,d,!1),Jh}function Wh(i,r){return Pa(i,r,null,!0),Wh}function Ym(i){La(re,ka,i,!0)}function ka(i,r){for(let d=function ay(i){return function Gm(i){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=i.length}(i),$m(i,sl(i,0,ao.textEnd))}(r);d>=0;d=$m(r,d))re(i,Km(r),!0)}function Pa(i,r,d,y){const x=_n(),I=oi(),K=At(2);I.firstUpdatePass&&Xm(I,i,K,y),r!==Ki&&vo(x,K,r)&&my(I,I.data[vt()],x,x[11],i,x[K+1]=function ab(i,r){return null==i||("string"==typeof r?i+=r:"object"==typeof i&&(i=p(Za(i)))),i}(r,d),y,K)}function La(i,r,d,y){const x=oi(),I=At(2);x.firstUpdatePass&&Xm(x,null,I,y);const K=_n();if(d!==Ki&&vo(K,I,d)){const se=x.data[vt()];if(gy(se,y)&&!py(x,I)){let fe=y?se.classesWithoutHost:se.stylesWithoutHost;null!==fe&&(d=A(fe,d||"")),Em(x,se,K,d,y)}else!function ob(i,r,d,y,x,I,K,se){x===Ki&&(x=ot);let fe=0,Ne=0,it=0<x.length?x[0]:null,_t=0<I.length?I[0]:null;for(;null!==it||null!==_t;){const Ft=fe<x.length?x[fe+1]:void 0,en=Ne<I.length?I[Ne+1]:void 0;let kn,Cn=null;it===_t?(fe+=2,Ne+=2,Ft!==en&&(Cn=_t,kn=en)):null===_t||null!==it&&it<_t?(fe+=2,Cn=it):(Ne+=2,Cn=_t,kn=en),null!==Cn&&my(i,r,d,y,Cn,kn,K,se),it=fe<x.length?x[fe]:null,_t=Ne<I.length?I[Ne]:null}}(x,se,K,K[11],K[I+1],K[I+1]=function fy(i,r,d){if(null==d||""===d)return ot;const y=[],x=Za(d);if(Array.isArray(x))for(let I=0;I<x.length;I++)i(y,x[I],!0);else if("object"==typeof x)for(const I in x)x.hasOwnProperty(I)&&i(y,I,x[I]);else"string"==typeof x&&r(y,x);return y}(i,r,d),y,I)}}function py(i,r){return r>=i.expandoStartIndex}function Xm(i,r,d,y){const x=i.data;if(null===x[d+1]){const I=x[vt()],K=py(i,d);gy(I,y)&&null===r&&!K&&(r=!1),r=function nb(i,r,d,y){const x=Yn(i);let I=y?r.residualClasses:r.residualStyles;if(null===x)0===(y?r.classBindings:r.styleBindings)&&(d=nd(d=eg(null,i,r,d,y),r.attrs,y),I=null);else{const K=r.directiveStylingLast;if(-1===K||i[K]!==x)if(d=eg(x,i,r,d,y),null===I){let fe=function ib(i,r,d){const y=d?r.classBindings:r.styleBindings;if(0!==Ea(y))return i[Ho(y)]}(i,r,y);void 0!==fe&&Array.isArray(fe)&&(fe=eg(null,i,r,fe[1],y),fe=nd(fe,r.attrs,y),function rb(i,r,d,y){i[Ho(d?r.classBindings:r.styleBindings)]=y}(i,r,y,fe))}else I=function sb(i,r,d){let y;const x=r.directiveEnd;for(let I=1+r.directiveStylingLast;I<x;I++)y=nd(y,i[I].hostAttrs,d);return nd(y,r.attrs,d)}(i,r,y)}return void 0!==I&&(y?r.residualClasses=I:r.residualStyles=I),d}(x,I,r,y),function iy(i,r,d,y,x,I){let K=I?r.classBindings:r.styleBindings,se=Ho(K),fe=Ea(K);i[y]=d;let it,Ne=!1;if(Array.isArray(d)){const _t=d;it=_t[1],(null===it||Oe(_t,it)>0)&&(Ne=!0)}else it=d;if(x)if(0!==fe){const Ft=Ho(i[se+1]);i[y+1]=Fu(Ft,se),0!==Ft&&(i[Ft+1]=Hl(i[Ft+1],y)),i[se+1]=function _h(i,r){return 131071&i|r<<17}(i[se+1],y)}else i[y+1]=Fu(se,0),0!==se&&(i[se+1]=Hl(i[se+1],y)),se=y;else i[y+1]=Fu(fe,0),0===se?se=y:i[fe+1]=Hl(i[fe+1],y),fe=y;Ne&&(i[y+1]=Mc(i[y+1])),jm(i,it,y,!0),jm(i,it,y,!1),function ry(i,r,d,y,x){const I=x?i.residualClasses:i.residualStyles;null!=I&&"string"==typeof r&&Oe(I,r)>=0&&(d[y+1]=Oc(d[y+1]))}(r,it,i,y,I),K=Fu(se,fe),I?r.classBindings=K:r.styleBindings=K}(x,I,r,d,K,y)}}function eg(i,r,d,y,x){let I=null;const K=d.directiveEnd;let se=d.directiveStylingLast;for(-1===se?se=d.directiveStart:se++;se<K&&(I=r[se],y=nd(y,I.hostAttrs,x),I!==i);)se++;return null!==i&&(d.directiveStylingLast=se),y}function nd(i,r,d){const y=d?1:2;let x=-1;if(null!==r)for(let I=0;I<r.length;I++){const K=r[I];"number"==typeof K?x=K:x===y&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),re(i,K,!!d||r[++I]))}return void 0===i?null:i}function my(i,r,d,y,x,I,K,se){if(!(3&r.type))return;const fe=i.data,Ne=fe[se+1];id(function vh(i){return 1==(1&i)}(Ne)?ng(fe,r,d,x,Ea(Ne),K):void 0)||(id(I)||function Ic(i){return 2==(2&i)}(Ne)&&(I=ng(fe,null,d,x,se,K)),function Uv(i,r,d,y,x){if(r)x?i.addClass(d,y):i.removeClass(d,y);else{let I=-1===y.indexOf("-")?void 0:xa.DashCase;null==x?i.removeStyle(d,y,I):("string"==typeof x&&x.endsWith("!important")&&(x=x.slice(0,-10),I|=xa.Important),i.setStyle(d,y,x,I))}}(y,K,Gr(vt(),d),x,I))}function ng(i,r,d,y,x,I){const K=null===r;let se;for(;x>0;){const fe=i[x],Ne=Array.isArray(fe),it=Ne?fe[1]:fe,_t=null===it;let Ft=d[x+1];Ft===Ki&&(Ft=_t?ot:void 0);let en=_t?de(Ft,y):it===y?Ft:void 0;if(Ne&&!id(en)&&(en=de(fe,y)),id(en)&&(se=en,K))return se;const Cn=i[x+1];x=K?Ho(Cn):Ea(Cn)}if(null!==r){let fe=I?r.residualClasses:r.residualStyles;null!=fe&&(se=de(fe,y))}return se}function id(i){return void 0!==i}function gy(i,r){return 0!=(i.flags&(r?16:32))}function ig(i,r=""){const d=_n(),y=oi(),x=i+22,I=y.firstCreatePass?fo(y,x,1,r,null):y.data[x],K=d[x]=nh(d[11],r);Lu(y,d,K,I),ne(I,!1)}function rg(i){return rd("",i,""),rg}function rd(i,r,d){const y=_n(),x=$l(y,i,r,d);return x!==Ki&&Oa(y,vt(),x),rd}function jh(i,r,d,y,x){const I=_n(),K=zl(I,i,r,d,y,x);return K!==Ki&&Oa(I,vt(),K),jh}function ag(i,r,d){La(re,ka,$l(_n(),i,r,d),!0)}function sd(i,r,d,y,x){La(re,ka,zl(_n(),i,r,d,y,x),!0)}function ad(i,r,d){const y=_n();return vo(y,Je(),r)&&ta(oi(),sn(),y,i,r,y[11],d,!0),ad}function Gc(i,r,d){const y=_n();if(vo(y,Je(),r)){const I=oi(),K=sn();ta(I,K,y,i,r,function Nh(i,r,d){return(null===i||Xn(i))&&(d=function As(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(d[r.index])),d[11]}(Yn(I.data),K,y),d,!0)}return Gc}const El=void 0;var mg=["en",[["a","p"],["AM","PM"],El],[["AM","PM"],El,El],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],El,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],El,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",El,"{1} 'at' {0}",El],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fg(i){const d=Math.floor(Math.abs(i)),y=i.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===y?1:5}];let Qc={};function gg(i){const r=function qc(i){return i.toLowerCase().replace(/_/g,"-")}(i);let d=Gh(r);if(d)return d;const y=r.split("-")[0];if(d=Gh(y),d)return d;if("en"===y)return mg;throw new P(701,!1)}function Ey(i){return gg(i)[Ai.PluralCase]}function Gh(i){return i in Qc||(Qc[i]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[i]),Qc[i]}var Ai=(()=>((Ai=Ai||{})[Ai.LocaleId=0]="LocaleId",Ai[Ai.DayPeriodsFormat=1]="DayPeriodsFormat",Ai[Ai.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ai[Ai.DaysFormat=3]="DaysFormat",Ai[Ai.DaysStandalone=4]="DaysStandalone",Ai[Ai.MonthsFormat=5]="MonthsFormat",Ai[Ai.MonthsStandalone=6]="MonthsStandalone",Ai[Ai.Eras=7]="Eras",Ai[Ai.FirstDayOfWeek=8]="FirstDayOfWeek",Ai[Ai.WeekendRange=9]="WeekendRange",Ai[Ai.DateFormat=10]="DateFormat",Ai[Ai.TimeFormat=11]="TimeFormat",Ai[Ai.DateTimeFormat=12]="DateTimeFormat",Ai[Ai.NumberSymbols=13]="NumberSymbols",Ai[Ai.NumberFormats=14]="NumberFormats",Ai[Ai.CurrencyCode=15]="CurrencyCode",Ai[Ai.CurrencySymbol=16]="CurrencySymbol",Ai[Ai.CurrencyName=17]="CurrencyName",Ai[Ai.Currencies=18]="Currencies",Ai[Ai.Directionality=19]="Directionality",Ai[Ai.PluralCase=20]="PluralCase",Ai[Ai.ExtraData=21]="ExtraData",Ai))();const ld=["zero","one","two","few","many"],nc="en-US",cd={marker:"element"},Yc={marker:"ICU"};var Vs=(()=>((Vs=Vs||{})[Vs.SHIFT=2]="SHIFT",Vs[Vs.APPEND_EAGERLY=1]="APPEND_EAGERLY",Vs[Vs.COMMENT=2]="COMMENT",Vs))();let My=nc;function Qh(i){(function Ge(i,r){null==i&&we(r,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(My=i.toLowerCase().replace(/_/g,"-"))}function Oy(i,r,d){const y=r.insertBeforeIndex,x=Array.isArray(y)?y[0]:y;return null===x?Ef(i,0,d):Zi(d[x])}function qh(i,r,d,y,x){const I=r.insertBeforeIndex;if(Array.isArray(I)){let K=y,se=null;if(3&r.type||(se=K,K=x),null!==K&&0==(2&r.flags))for(let fe=1;fe<I.length;fe++)ml(i,K,d[I[fe]],se,!1)}}function Ca(i,r){if(i.push(r),i.length>1)for(let d=i.length-2;d>=0;d--){const y=i[d];Ny(y)||pb(y,r)&&null===Ry(y)&&fb(y,r.index)}}function Ny(i){return!(64&i.type)}function pb(i,r){return Ny(r)||i.index>r.index}function Ry(i){const r=i.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function fb(i,r){const d=i.insertBeforeIndex;Array.isArray(d)?d[0]=r:(If(Oy,qh),i.insertBeforeIndex=r)}function ud(i,r){const d=i.data[r];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function _b(i,r,d){const y=ea(i,d,64,null,null);return Ca(r,y),y}function Yh(i,r){const d=r[i.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function ky(i){return i>>>17}function Py(i){return(131070&i)>>>1}let dd=0,hd=0;function Uy(i,r,d,y){const x=d[11];let K,I=null;for(let se=0;se<r.length;se++){const fe=r[se];if("string"==typeof fe){const Ne=r[++se];null===d[Ne]&&(d[Ne]=nh(x,fe))}else if("number"==typeof fe)switch(1&fe){case 0:const Ne=ky(fe);let it,_t;if(null===I&&(I=Ne,K=Pu(x,y)),Ne===I?(it=y,_t=K):(it=null,_t=Zi(d[Ne])),null!==_t){const kn=Py(fe);ml(x,_t,d[kn],it,!1);const li=ud(i,kn);if(null!==li&&"object"==typeof li){const Li=Yh(li,d);null!==Li&&Uy(i,li.create[Li],d,d[li.anchorIdx])}}break;case 1:const en=r[++se],Cn=r[++se];ya(x,Gr(fe>>>1,d),null,null,en,Cn,null)}else switch(fe){case Yc:const Ne=r[++se],it=r[++se];null===d[it]&&Eo(d[it]=Ev(x,Ne),d);break;case cd:const _t=r[++se],Ft=r[++se];null===d[Ft]&&Eo(d[Ft]=ih(x,_t,null),d)}}}function Fy(i,r,d,y,x){for(let I=0;I<d.length;I++){const K=d[I],se=d[++I];if(K&x){let fe="";for(let Ne=I+1;Ne<=I+se;Ne++){const it=d[Ne];if("string"==typeof it)fe+=it;else if("number"==typeof it)if(it<0)fe+=J(r[y-it]);else{const _t=it>>>2;switch(3&it){case 1:const Ft=d[++Ne],en=d[++Ne],Cn=i.data[_t];"string"==typeof Cn?ya(r[11],r[_t],null,Cn,Ft,fe,en):ta(i,Cn,r,Ft,fe,r[11],en,!1);break;case 0:const kn=r[_t];null!==kn&&vf(r[11],kn,fe);break;case 2:Cb(i,ud(i,_t),r,fe);break;case 3:vg(i,ud(i,_t),y,r)}}}}else{const fe=d[I+1];if(fe>0&&3==(3&fe)){const it=ud(i,fe>>>2);r[it.currentCaseLViewIndex]<0&&vg(i,it,y,r)}}I+=se}}function vg(i,r,d,y){let x=y[r.currentCaseLViewIndex];if(null!==x){let I=dd;x<0&&(x=y[r.currentCaseLViewIndex]=~x,I=-1),Fy(i,y,r.update[x],d,I)}}function Cb(i,r,d,y){const x=function bb(i,r){let d=i.cases.indexOf(r);if(-1===d)switch(i.type){case 1:{const y=function Dy(i,r){const d=Ey(r)(parseInt(i,10)),y=ld[d];return void 0!==y?y:"other"}(r,function hb(){return My}());d=i.cases.indexOf(y),-1===d&&"other"!==y&&(d=i.cases.indexOf("other"));break}case 0:d=i.cases.indexOf("other")}return-1===d?null:d}(r,y);if(Yh(r,d)!==x&&(Zy(i,r,d),d[r.currentCaseLViewIndex]=null===x?null:~x,null!==x)){const K=d[r.anchorIdx];K&&Uy(i,r.create[x],d,K)}}function Zy(i,r,d){let y=Yh(r,d);if(null!==y){const x=r.remove[y];for(let I=0;I<x.length;I++){const K=x[I];if(K>0){const se=Gr(K,d);null!==se&&Of(d[11],se)}else Zy(i,ud(i,~K),d)}}}function wb(){const i=[];let d,y,r=-1;function I(se,fe){r=0;const Ne=Yh(se,fe);y=null!==Ne?se.remove[Ne]:ot}function K(){if(r<y.length){const se=y[r++];return se>0?d[se]:(i.push(r,y),I(d[1].data[~se],d),K())}return 0===i.length?null:(y=i.pop(),r=i.pop(),K())}return function x(se,fe){for(d=fe;i.length;)i.pop();return I(se.value,fe),K}}const Hs=/\ufffd(\d+):?\d*\ufffd/gi,Sb=/\ufffd(\d+)\ufffd/,Hy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,fd=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yg=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Jy=/\uE500/g;function Xh(i,r,d,y,x,I,K){const se=Do(i,y,1,null);let fe=se<<Vs.SHIFT,Ne=ge();r===Ne&&(Ne=null),null===Ne&&(fe|=Vs.APPEND_EAGERLY),K&&(fe|=Vs.COMMENT,function Tv(i){void 0===Yd&&(Yd=i())}(wb)),x.push(fe,null===I?"":I);const it=ea(i,se,K?32:1,null===I?"":I,null);Ca(d,it);const _t=it.index;return ne(it,!1),null!==Ne&&r!==Ne&&function gb(i,r){let d=i.insertBeforeIndex;null===d?(If(Oy,qh),d=i.insertBeforeIndex=[null,r]):(function E(i,r,d){i!=r&&we(d,i,r,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(r))}(Ne,_t),it}function Cg(i,r,d,y,x,I,K){const se=K.match(Hs),fe=Xh(i,r,d,I,y,se?null:K,!1);se&&Xc(x,K,fe.index,null,0,null)}function Xc(i,r,d,y,x,I){const K=i.length,se=K+1;i.push(null,null);const fe=K+2,Ne=r.split(Hs);let it=0;for(let _t=0;_t<Ne.length;_t++){const Ft=Ne[_t];if(1&_t){const en=x+parseInt(Ft,10);i.push(-1-en),it|=bg(en)}else""!==Ft&&i.push(Ft)}return i.push(d<<2|(y?1:0)),y&&i.push(y,I),i[K]=it,i[se]=i.length-fe,it}function bg(i){return 1<<Math.min(i,31)}function wg(i){let r,I,d="",y=0,x=!1;for(;null!==(r=fd.exec(i));)x?r[0]===`\ufffd/*${I}\ufffd`&&(y=r.index,x=!1):(d+=i.substring(y,r.index+r[0].length),I=r[1],x=!0);return d+=i.slice(y),d}function Tg(i,r,d,y,x,I){let K=0;const se={type:x.type,currentCaseLViewIndex:Do(i,r,1,null),anchorIdx:I,cases:[],create:[],remove:[],update:[]};(function Eg(i,r,d){i.push(bg(r.mainBinding),2,-1-r.mainBinding,d<<2|2)})(d,x,I),function mb(i,r,d){const y=i.data[r];null===y?i.data[r]=d:y.value=d}(i,I,se);const fe=x.values;for(let Ne=0;Ne<fe.length;Ne++){const it=fe[Ne],_t=[];for(let Ft=0;Ft<it.length;Ft++){const en=it[Ft];if("string"!=typeof en){const Cn=_t.push(en)-1;it[Ft]=`\x3c!--\ufffd${Cn}\ufffd--\x3e`}}K=qy(i,se,r,d,y,x.cases[Ne],it.join(""),_t)|K}K&&function Yy(i,r,d){i.push(r,1,d<<2|3)}(d,K,I)}function Qy(i){const r=[],d=[];let y=1,x=0;const I=ep(i=i.replace(Hy,function(K,se,fe){return y="select"===fe?0:1,x=parseInt(se.slice(1),10),""}));for(let K=0;K<I.length;){let se=I[K++].trim();1===y&&(se=se.replace(/\s*(?:=)?(\w+)\s*/,"$1")),se.length&&r.push(se);const fe=ep(I[K++]);r.length>d.length&&d.push(fe)}return{type:y,mainBinding:x,cases:r,values:d}}function ep(i){if(!i)return[];let r=0;const d=[],y=[],x=/[{}]/g;let I;for(x.lastIndex=0;I=x.exec(i);){const se=I.index;if("}"==I[0]){if(d.pop(),0==d.length){const fe=i.substring(r,se);Hy.test(fe)?y.push(Qy(fe)):y.push(fe),r=se+1}}else{if(0==d.length){const fe=i.substring(r,se);y.push(fe),r=se+1}d.push("{")}}const K=i.substring(r);return y.push(K),y}function qy(i,r,d,y,x,I,K,se){const fe=[],Ne=[],it=[];r.cases.push(I),r.create.push(fe),r.remove.push(Ne),r.update.push(it);const Ft=qa(Np()).getInertBodyElement(K),en=kd(Ft)||Ft;return en?Ag(i,r,d,y,fe,Ne,it,en,x,se,0):0}function Ag(i,r,d,y,x,I,K,se,fe,Ne,it){let _t=0,Ft=se.firstChild;for(;Ft;){const en=Do(i,d,1,null);switch(Ft.nodeType){case Node.ELEMENT_NODE:const Cn=Ft,kn=Cn.tagName.toLowerCase();if(Od.hasOwnProperty(kn)){Dg(x,cd,kn,fe,en),i.data[en]=kn;const Sn=Cn.attributes;for(let xi=0;xi<Sn.length;xi++){const Dr=Sn.item(xi),Js=Dr.name.toLowerCase();Dr.value.match(Hs)?fc.hasOwnProperty(Js)&&Xc(K,Dr.value,en,Dr.name,0,Nd[Js]?xu:null):Xy(x,en,Dr)}_t=Ag(i,r,d,y,x,I,K,Ft,en,Ne,it+1)|_t,Sg(I,en,it)}break;case Node.TEXT_NODE:const jn=Ft.textContent||"",li=jn.match(Hs);Dg(x,null,li?"":jn,fe,en),Sg(I,en,it),li&&(_t=Xc(K,jn,en,null,0,null)|_t);break;case Node.COMMENT_NODE:const Li=Sb.exec(Ft.textContent||"");if(Li){const xi=Ne[parseInt(Li[1],10)];Dg(x,Yc,"",fe,en),Tg(i,d,y,fe,xi,en),xg(I,en,it)}}Ft=Ft.nextSibling}return _t}function Sg(i,r,d){0===d&&i.push(r)}function xg(i,r,d){0===d&&(i.push(~r),i.push(r))}function Dg(i,r,d,y,x){null!==r&&i.push(r),i.push(d,x,function Ly(i,r,d){return i|r<<17|d<<1}(0,y,x))}function Xy(i,r,d){i.push(r<<1|1,d.name,d.value)}function n1(i,r,d=-1){const y=oi(),x=_n(),I=22+i,K=Fi(y.consts,r),se=ge();y.firstCreatePass&&function jy(i,r,d,y,x,I){const K=ge(),se=[],fe=[],Ne=[[]];x=function Gy(i,r){if(function zy(i){return-1===i}(r))return wg(i);{const d=i.indexOf(`:${r}\ufffd`)+2+r.toString().length,y=i.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return wg(i.substring(d,y))}}(x,I);const it=function Wy(i){return i.replace(Jy," ")}(x).split(yg);for(let _t=0;_t<it.length;_t++){let Ft=it[_t];if(0==(1&_t)){const en=ep(Ft);for(let Cn=0;Cn<en.length;Cn++){let kn=en[Cn];if(0==(1&Cn)){const jn=kn;""!==jn&&Cg(i,K,Ne[0],se,fe,d,jn)}else{const jn=kn;if("object"!=typeof jn)throw new Error(`Unable to parse ICU expression in "${x}" message.`);Tg(i,d,fe,r,jn,Xh(i,K,Ne[0],d,se,"",!0).index)}}}else{const en=47===Ft.charCodeAt(0),kn=(Ft.charCodeAt(en?1:0),22+Number.parseInt(Ft.substring(en?2:1)));if(en)Ne.shift(),ne(ge(),!1);else{const jn=_b(i,Ne[0],kn);Ne.unshift([]),ne(jn,!0)}}}i.data[y]={create:se,update:fe}}(y,null===se?0:se.index,x,I,K,d);const fe=y.data[I],it=Tf(y,se===x[6]?null:se,x);(function By(i,r,d,y){const x=i[11];for(let I=0;I<r.length;I++){const K=r[I++],se=r[I],fe=(K&Vs.COMMENT)===Vs.COMMENT,Ne=(K&Vs.APPEND_EAGERLY)===Vs.APPEND_EAGERLY,it=K>>>Vs.SHIFT;let _t=i[it];null===_t&&(_t=i[it]=fe?x.createComment(se):nh(x,se)),Ne&&null!==d&&ml(x,d,_t,y,!1)}})(x,fe.create,it,se&&8&se.type?x[se.index]:null),Jt(!0)}function r1(i,r,d){n1(i,r,d),function i1(){Jt(!1)}()}function Ig(i){return function vb(i){i&&(dd|=1<<Math.min(hd,31)),hd++}(vo(_n(),Je(),i)),Ig}function s1(i){!function yb(i,r,d){if(hd>0){const y=i.data[d];Fy(i,r,Array.isArray(y)?y:y.update,mi()-hd-1,dd)}dd=0,hd=0}(oi(),_n(),i+22)}function tp(i,r,d,y,x){if(i=N(i),Array.isArray(i))for(let I=0;I<i.length;I++)tp(i[I],r,d,y,x);else{const I=oi(),K=_n();let se=pl(i)?i:N(i.provide),fe=zp(i);const Ne=qi(),it=1048575&Ne.providerIndexes,_t=Ne.directiveStart,Ft=Ne.providerIndexes>>20;if(pl(i)||!i.multi){const en=new xs(fe,x,Ec),Cn=Og(se,r,x?it:it+Ft,_t);-1===Cn?(Ue(No(Ne,K),I,se),Mg(I,i,r.length),r.push(se),Ne.directiveStart++,Ne.directiveEnd++,x&&(Ne.providerIndexes+=1048576),d.push(en),K.push(en)):(d[Cn]=en,K[Cn]=en)}else{const en=Og(se,r,it+Ft,_t),Cn=Og(se,r,it,it+Ft),kn=en>=0&&d[en],jn=Cn>=0&&d[Cn];if(x&&!jn||!x&&!kn){Ue(No(Ne,K),I,se);const li=function Rg(i,r,d,y,x){const I=new xs(i,d,Ec);return I.multi=[],I.index=r,I.componentProviders=0,o1(I,x,y&&!d),I}(x?Bb:Lb,d.length,x,y,fe);!x&&jn&&(d[Cn].providerFactory=li),Mg(I,i,r.length,0),r.push(se),Ne.directiveStart++,Ne.directiveEnd++,x&&(Ne.providerIndexes+=1048576),d.push(li),K.push(li)}else Mg(I,i,en>-1?en:Cn,o1(d[x?Cn:en],fe,!x&&y));!x&&y&&jn&&d[Cn].componentProviders++}}}function Mg(i,r,d,y){const x=pl(r),I=function H_(i){return!!i.useClass}(r);if(x||I){const fe=(I?N(r.useClass):r).prototype.ngOnDestroy;if(fe){const Ne=i.destroyHooks||(i.destroyHooks=[]);if(!x&&r.multi){const it=Ne.indexOf(d);-1===it?Ne.push(d,[y,fe]):Ne[it+1].push(y,fe)}else Ne.push(d,fe)}}}function o1(i,r,d){return d&&i.componentProviders++,i.multi.push(r)-1}function Og(i,r,d,y){for(let x=d;x<y;x++)if(r[x]===i)return x;return-1}function Lb(i,r,d,y){return Ng(this.multi,[])}function Bb(i,r,d,y){const x=this.multi;let I;if(this.providerFactory){const K=this.providerFactory.componentProviders,se=Le(d,d[1],this.providerFactory.index,y);I=se.slice(0,K),Ng(x,I);for(let fe=K;fe<se.length;fe++)I.push(se[fe])}else I=[],Ng(x,I);return I}function Ng(i,r){for(let d=0;d<i.length;d++)r.push((0,i[d])());return r}function a1(i,r=[]){return d=>{d.providersResolver=(y,x)=>function Pb(i,r,d){const y=oi();if(y.firstCreatePass){const x=Xn(i);tp(d,y.data,y.blueprint,x,!0),tp(r,y.data,y.blueprint,x,!1)}}(y,x?x(i):i,r)}}class Mo{}class Cs{}function np(i,r){return new md(i,r??null)}class md extends Mo{constructor(r,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kh(this);const y=zn(r);this._bootstrapComponents=Ja(y.bootstrap),this._r3Injector=jf(r,d,[{provide:Mo,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],p(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ip extends Cs{constructor(r){super(),this.moduleType=r}create(r){return new md(this.moduleType,r)}}class c1 extends Mo{constructor(r,d,y){super(),this.componentFactoryResolver=new kh(this),this.instance=null;const x=new $p([...r,{provide:Mo,useValue:this},{provide:Zl,useValue:this.componentFactoryResolver}],d||Ou(),y,new Set(["environment"]));this.injector=x,x.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function eu(i,r,d=null){return new c1(i,r,d).injector}let Ub=(()=>{class i{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const y=jp(0,d.type),x=y.length>0?eu([y],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,x)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=at({token:i,providedIn:"environment",factory:()=>new i(is(fl))}),i})();function rc(i){i.getStandaloneInjector=r=>r.get(Ub).getOrCreateStandaloneInjector(i)}function h1(i,r,d){const y=Yi()+i,x=_n();return x[y]===Ki?Na(x,y,d?r.call(d):r()):Wc(x,y)}function p1(i,r,d,y){return sp(_n(),Yi(),i,r,d,y)}function f1(i,r,d,y,x){return Ug(_n(),Yi(),i,r,d,y,x)}function m1(i,r,d,y,x,I){return op(_n(),Yi(),i,r,d,y,x,I)}function g1(i,r,d,y,x,I,K){return function ap(i,r,d,y,x,I,K,se,fe){const Ne=r+d;return la(i,Ne,x,I,K,se)?Na(i,Ne+4,fe?y.call(fe,x,I,K,se):y(x,I,K,se)):gd(i,Ne+4)}(_n(),Yi(),i,r,d,y,x,I,K)}function _1(i,r,d,y,x,I,K,se){const fe=Yi()+i,Ne=_n(),it=la(Ne,fe,d,y,x,I);return vo(Ne,fe+4,K)||it?Na(Ne,fe+5,se?r.call(se,d,y,x,I,K):r(d,y,x,I,K)):Wc(Ne,fe+5)}function v1(i,r,d,y,x,I,K,se,fe){const Ne=Yi()+i,it=_n(),_t=la(it,Ne,d,y,x,I);return Sl(it,Ne+4,K,se)||_t?Na(it,Ne+6,fe?r.call(fe,d,y,x,I,K,se):r(d,y,x,I,K,se)):Wc(it,Ne+6)}function gd(i,r){const d=i[r];return d===Ki?void 0:d}function sp(i,r,d,y,x,I){const K=r+d;return vo(i,K,x)?Na(i,K+1,I?y.call(I,x):y(x)):gd(i,K+1)}function Ug(i,r,d,y,x,I,K){const se=r+d;return Sl(i,se,x,I)?Na(i,se+2,K?y.call(K,x,I):y(x,I)):gd(i,se+2)}function op(i,r,d,y,x,I,K,se){const fe=r+d;return function Yu(i,r,d,y,x){const I=Sl(i,r,d,y);return vo(i,r+2,x)||I}(i,fe,x,I,K)?Na(i,fe+3,se?y.call(se,x,I,K):y(x,I,K)):gd(i,fe+3)}function ru(i,r){const d=oi();let y;const x=i+22;d.firstCreatePass?(y=function y1(i,r){if(r)for(let d=r.length-1;d>=0;d--){const y=r[d];if(i===y.name)return y}}(r,d.pipeRegistry),d.data[x]=y,y.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(x,y.onDestroy)):y=d.data[x];const I=y.factory||(y.factory=yr(y.type)),K=et(Ec);try{const se=to(!1),fe=I();return to(se),function YC(i,r,d,y){d>=i.data.length&&(i.data[d]=null,i.blueprint[d]=null),r[d]=y}(d,_n(),x,fe),fe}finally{et(K)}}function C1(i,r,d){const y=i+22,x=_n(),I=Ss(x,y);return ac(x,y)?sp(x,Yi(),r,I.transform,d,I):I.transform(d)}function up(i,r,d,y){const x=i+22,I=_n(),K=Ss(I,x);return ac(I,x)?Ug(I,Yi(),r,K.transform,d,y,K):K.transform(d,y)}function ol(i,r,d,y,x){const I=i+22,K=_n(),se=Ss(K,I);return ac(K,I)?op(K,Yi(),r,se.transform,d,y,x,se):se.transform(d,y,x)}function ac(i,r){return i[1].data[r].pure}function Ol(i){return r=>{setTimeout(i,void 0,r)}}const Ba=class w1 extends t.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,d,y){let x=r,I=d||(()=>null),K=y;if(r&&"object"==typeof r){var se,fe,Ne;const _t=r;x=null===(se=_t.next)||void 0===se?void 0:se.bind(_t),I=null===(fe=_t.error)||void 0===fe?void 0:fe.bind(_t),K=null===(Ne=_t.complete)||void 0===Ne?void 0:Ne.bind(_t)}this.__isAsync&&(I=Ol(I),x&&(x=Ol(x)),K&&(K=Ol(K)));const it=super.subscribe({next:x,error:I,complete:K});return r instanceof e.w0&&r.add(it),it}};function T1(){return this._results[Al()]()}class dp{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Al(),y=dp.prototype;y[d]||(y[d]=T1)}get changes(){return this._changes||(this._changes=new Ba)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,d){return this._results.reduce(r,d)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,d){const y=this;y.dirty=!1;const x=oo(r);(this._changesDetected=!function mu(i,r,d){if(i.length!==r.length)return!1;for(let y=0;y<i.length;y++){let x=i[y],I=r[y];if(d&&(x=d(x),I=d(I)),I!==x)return!1}return!0}(y._results,x,d))&&(y._results=x,y.length=x.length,y.last=x[this.length-1],y.first=x[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let su=(()=>{class i{}return i.__NG_ELEMENT_ID__=S1,i})();const A1=su,Fg=class extends A1{constructor(r,d,y){super(),this._declarationLView=r,this._declarationTContainer=d,this.elementRef=y}createEmbeddedView(r,d){const y=this._declarationTContainer.tViews,x=Lc(this._declarationLView,y,r,16,null,y.declTNode,null,null,null,null,d||null);x[17]=this._declarationLView[this._declarationTContainer.index];const K=this._declarationLView[19];return null!==K&&(x[19]=K.createEmbeddedView(y)),Lo(y,x,r),new Vc(x)}};function S1(){return ou(qi(),_n())}function ou(i,r){return 4&i.type?new Fg(r,i,Vl(i,r)):null}let _d=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zg,i})();function Zg(){return Vg(qi(),_n())}const hp=_d,vd=class extends hp{constructor(r,d,y){super(),this._lContainer=r,this._hostTNode=d,this._hostLView=y}get element(){return Vl(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ae(this._hostTNode,this._hostLView);if(Us(r)){const d=ro(r,this._hostLView),y=Br(r);return new wi(d[1].data[y+8],d)}return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const d=pp(this._lContainer);return null!==d&&d[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,d,y){let x,I;"number"==typeof y?x=y:null!=y&&(x=y.index,I=y.injector);const K=r.createEmbeddedView(d||{},I);return this.insert(K,x),K}createComponent(r,d,y,x,I){const K=r&&!function qo(i){return"function"==typeof i}(r);let se;if(K)se=d;else{const _t=d||{};se=_t.index,y=_t.injector,x=_t.projectableNodes,I=_t.environmentInjector||_t.ngModuleRef}const fe=K?r:new Tl(jt(r)),Ne=y||this.parentInjector;if(!I&&null==fe.ngModule){const Ft=(K?Ne:this.parentInjector).get(fl,null);Ft&&(I=Ft)}const it=fe.create(Ne,x,void 0,I);return this.insert(it.hostView,se),it}insert(r,d){const y=r._lView,x=y[1];if(function go(i){return Dn(i[3])}(y)){const it=this.indexOf(r);if(-1!==it)this.detach(it);else{const _t=y[3],Ft=new vd(_t,_t[6],_t[3]);Ft.detach(Ft.indexOf(r))}}const I=this._adjustIndex(d),K=this._lContainer;!function yf(i,r,d,y){const x=10+y,I=d.length;y>0&&(d[x-1][4]=r),y<I-10?(r[4]=d[x],al(d,10+y,r)):(d.push(r),r[4]=null),r[3]=d;const K=r[17];null!==K&&d!==K&&function Nv(i,r){const d=i[9];r[16]!==r[3][3][16]&&(i[2]=!0),null===d?i[9]=[r]:d.push(r)}(K,r);const se=r[19];null!==se&&se.insertView(i),r[2]|=64}(x,y,K,I);const se=ah(I,K),fe=y[11],Ne=Pu(fe,K[7]);return null!==Ne&&function Iv(i,r,d,y,x,I){y[0]=x,y[6]=r,Sc(i,y,d,1,x,I)}(x,K[6],fe,y,Ne,se),r.attachToViewContainerRef(),al(fp(K),I,r),r}move(r,d){return this.insert(r,d)}indexOf(r){const d=pp(this._lContainer);return null!==d?d.indexOf(r):-1}remove(r){const d=this._adjustIndex(r,-1),y=rh(this._lContainer,d);y&&(Ga(fp(this._lContainer),d),bf(y[1],y))}detach(r){const d=this._adjustIndex(r,-1),y=rh(this._lContainer,d);return y&&null!=Ga(fp(this._lContainer),d)?new Vc(y):null}_adjustIndex(r,d=0){return r??this.length+d}};function pp(i){return i[8]}function fp(i){return i[8]||(i[8]=[])}function Vg(i,r){let d;const y=r[i.index];if(Dn(y))d=y;else{let x;if(8&i.type)x=Zi(y);else{const I=r[11];x=I.createComment("");const K=as(i,r);ml(I,Pu(I,K),x,function Pv(i,r){return i.nextSibling(r)}(I,K),!1)}r[i.index]=d=Ku(y,r,x,i),Fc(r,d)}return new vd(d,i,r)}class yd{constructor(r){this.queryList=r,this.matches=null}clone(){return new yd(this.queryList)}setDirty(){this.queryList.setDirty()}}class gp{constructor(r=[]){this.queries=r}createEmbeddedView(r){const d=r.queries;if(null!==d){const y=null!==r.contentQueries?r.contentQueries[0]:d.length,x=[];for(let I=0;I<y;I++){const K=d.getByIndex(I);x.push(this.queries[K.indexInDeclarationView].clone())}return new gp(x)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let d=0;d<this.queries.length;d++)null!==D1(r,d).matches&&this.queries[d].setDirty()}}class _p{constructor(r,d,y=null){this.predicate=r,this.flags=d,this.read=y}}class Cd{constructor(r=[]){this.queries=r}elementStart(r,d){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(r,d)}elementEnd(r){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(r)}embeddedTView(r){let d=null;for(let y=0;y<this.length;y++){const x=null!==d?d.length:0,I=this.getByIndex(y).embeddedTView(r,x);I&&(I.indexInDeclarationView=y,null!==d?d.push(I):d=[I])}return null!==d?new Cd(d):null}template(r,d){for(let y=0;y<this.queries.length;y++)this.queries[y].template(r,d)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class bd{constructor(r,d=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(r,d){this.isApplyingToNode(d)&&this.matchTNode(r,d)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,d){this.elementStart(r,d)}embeddedTView(r,d){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,d),new bd(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let y=r.parent;for(;null!==y&&8&y.type&&y.index!==d;)y=y.parent;return d===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(r,d){const y=this.metadata.predicate;if(Array.isArray(y))for(let x=0;x<y.length;x++){const I=y[x];this.matchTNodeWithReadOption(r,d,Hg(d,I)),this.matchTNodeWithReadOption(r,d,le(d,r,I,!1,!1))}else y===su?4&d.type&&this.matchTNodeWithReadOption(r,d,-1):this.matchTNodeWithReadOption(r,d,le(d,r,y,!1,!1))}matchTNodeWithReadOption(r,d,y){if(null!==y){const x=this.metadata.read;if(null!==x)if(x===yc||x===_d||x===su&&4&d.type)this.addMatch(d.index,-2);else{const I=le(d,r,x,!1,!1);null!==I&&this.addMatch(d.index,I)}else this.addMatch(d.index,y)}}addMatch(r,d){null===this.matches?this.matches=[r,d]:this.matches.push(r,d)}}function Hg(i,r){const d=i.localNames;if(null!==d)for(let y=0;y<d.length;y+=2)if(d[y]===r)return d[y+1];return null}function Wg(i,r,d,y){return-1===d?function Jg(i,r){return 11&i.type?Vl(i,r):4&i.type?ou(i,r):null}(r,i):-2===d?function jg(i,r,d){return d===yc?Vl(r,i):d===su?ou(r,i):d===_d?Vg(r,i):void 0}(i,r,y):Le(i,i[1],d,r)}function x1(i,r,d,y){const x=r[19].queries[y];if(null===x.matches){const I=i.data,K=d.matches,se=[];for(let fe=0;fe<K.length;fe+=2){const Ne=K[fe];se.push(Ne<0?null:Wg(r,I[Ne],K[fe+1],d.metadata.read))}x.matches=se}return x.matches}function Kg(i,r,d,y){const x=i.queries.getByIndex(d),I=x.matches;if(null!==I){const K=x1(i,r,x,d);for(let se=0;se<I.length;se+=2){const fe=I[se];if(fe>0)y.push(K[se/2]);else{const Ne=I[se+1],it=r[-fe];for(let _t=10;_t<it.length;_t++){const Ft=it[_t];Ft[17]===Ft[3]&&Kg(Ft[1],Ft,Ne,y)}if(null!==it[9]){const _t=it[9];for(let Ft=0;Ft<_t.length;Ft++){const en=_t[Ft];Kg(en[1],en,Ne,y)}}}}}return y}function vp(i){const r=_n(),d=oi(),y=Kn();cr(y+1);const x=D1(d,y);if(i.dirty&&function mo(i){return 4==(4&i[2])}(r)===(2==(2&x.metadata.flags))){if(null===x.matches)i.reset([]);else{const I=x.crossesNgTemplate?Kg(d,r,y,[]):x1(d,r,x,y);i.reset(I,Cc),i.notifyOnChanges()}return!0}return!1}function $g(i,r,d){const y=oi();y.firstCreatePass&&(Qg(y,new _p(i,r,d),-1),2==(2&r)&&(y.staticViewQueries=!0)),yp(y,_n(),r)}function zg(i,r,d,y){const x=oi();if(x.firstCreatePass){const I=qi();Qg(x,new _p(r,d,y),I.index),function Kb(i,r){const d=i.contentQueries||(i.contentQueries=[]);r!==(d.length?d[d.length-1]:-1)&&d.push(i.queries.length-1,r)}(x,i),2==(2&d)&&(x.staticContentQueries=!0)}yp(x,_n(),d)}function Gg(){return function E1(i,r){return i[19].queries[r].queryList}(_n(),Kn())}function yp(i,r,d){const y=new dp(4==(4&d));cm(i,r,y,y.destroy),null===r[19]&&(r[19]=new gp),r[19].queries.push(new yd(y))}function Qg(i,r,d){null===i.queries&&(i.queries=new Cd),i.queries.track(new bd(r,d))}function D1(i,r){return i.queries.getByIndex(r)}function I1(i,r){return ou(i,r)}function wd(...i){}const o_=new Se("Application Initializer");let Td=(()=>{class i{constructor(d){this.appInits=d,this.resolve=wd,this.reject=wd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,x)=>{this.resolve=y,this.reject=x})}runInitializers(){if(this.initialized)return;const d=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let x=0;x<this.appInits.length;x++){const I=this.appInits[x]();if(Vh(I))d.push(I);else if(Y0(I)){const K=new Promise((se,fe)=>{I.subscribe({complete:se,error:fe})});d.push(K)}}Promise.all(d).then(()=>{y()}).catch(x=>{this.reject(x)}),0===d.length&&y(),this.initialized=!0}}return i.\u0275fac=function(d){return new(d||i)(is(o_,8))},i.\u0275prov=at({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const a_=new Se("AppId",{providedIn:"root",factory:function l_(){return`${l()}${l()}${l()}`}});function l(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h=new Se("Platform Initializer"),n=new Se("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u=new Se("appBootstrapListener"),M=new Se("AnimationModuleType");let ue=(()=>{class i{log(d){console.log(d)}warn(d){console.warn(d)}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275prov=at({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const $e=new Se("LocaleId",{providedIn:"root",factory:()=>_u($e,De.Optional|De.SkipSelf)||function ke(){return typeof $localize<"u"&&$localize.locale||nc}()}),wt=new Se("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class An{constructor(r,d){this.ngModuleFactory=r,this.componentFactories=d}}let Zn=(()=>{class i{compileModuleSync(d){return new ip(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const y=this.compileModuleSync(d),I=Ja(zn(d).declarations).reduce((K,se)=>{const fe=jt(se);return fe&&K.push(new Tl(fe)),K},[]);return new An(y,I)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275prov=at({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const er=(()=>Promise.resolve(0))();function zi(i){typeof Zone>"u"?er.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Er{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const x=this;if(x._nesting=0,x._outer=x._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const I=Zone.AsyncStackTaggingZoneSpec;x._inner=x._inner.fork(new I("Angular"))}Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!y&&d,x.shouldCoalesceRunChangeDetection=y,x.lastRequestAnimationFrameId=-1,x.nativeRequestAnimationFrame=function tr(){let i=B.requestAnimationFrame,r=B.cancelAnimationFrame;if(typeof Zone<"u"&&i&&r){const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d);const y=r[Zone.__symbol__("OriginalDelegate")];y&&(r=y)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Qs(i){const r=()=>{!function yo(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(B,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Oo(i),i.isCheckStableRunning=!0,rs(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Oo(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,y,x,I,K,se)=>{try{return ba(i),d.invokeTask(x,I,K,se)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||i.shouldCoalesceRunChangeDetection)&&r(),Jn(i)}},onInvoke:(d,y,x,I,K,se,fe)=>{try{return ba(i),d.invoke(x,I,K,se,fe)}finally{i.shouldCoalesceRunChangeDetection&&r(),Jn(i)}},onHasTask:(d,y,x,I)=>{d.hasTask(x,I),y===x&&("microTask"==I.change?(i._hasPendingMicrotasks=I.microTask,Oo(i),rs(i)):"macroTask"==I.change&&(i.hasPendingMacrotasks=I.macroTask))},onHandleError:(d,y,x,I)=>(d.handleError(x,I),i.runOutsideAngular(()=>i.onError.emit(I)),!1)})}(x)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Er.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Er.isInAngularZone())throw new P(909,!1)}run(r,d,y){return this._inner.run(r,d,y)}runTask(r,d,y,x){const I=this._inner,K=I.scheduleEventTask("NgZoneEvent: "+x,r,Yr,wd,wd);try{return I.runTask(K,d,y)}finally{I.cancelTask(K)}}runGuarded(r,d,y){return this._inner.runGuarded(r,d,y)}runOutsideAngular(r){return this._outer.run(r)}}const Yr={};function rs(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Oo(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ba(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Jn(i){i._nesting--,rs(i)}class ei{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(r,d,y){return r.apply(d,y)}runGuarded(r,d,y){return r.apply(d,y)}runOutsideAngular(r){return r()}runTask(r,d,y,x){return r.apply(d,y)}}const _i=new Se(""),Ji=new Se("");let Uo,hs=(()=>{class i{constructor(d,y,x){this._ngZone=d,this.registry=y,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uo||(function lo(i){Uo=i}(x),x.addToWindow(y)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Er.assertNotInAngularZone(),zi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zi(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(d)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,y,x){let I=-1;y&&y>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(K=>K.timeoutId!==I),d(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:d,timeoutId:I,updateCb:x})}whenStable(d,y,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,y,x),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,y,x){return[]}}return i.\u0275fac=function(d){return new(d||i)(is(Er),is(Bo),is(Ji))},i.\u0275prov=at({token:i,factory:i.\u0275fac}),i})(),Bo=(()=>{class i{constructor(){this._applications=new Map}registerApplication(d,y){this._applications.set(d,y)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,y=!0){var x,I;return null!==(x=null===(I=Uo)||void 0===I?void 0:I.findTestabilityInTree(this,d,y))&&void 0!==x?x:null}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275prov=at({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),hr=null;const ca=new Se("AllowMultipleToken"),$a=new Se("PlatformDestroyListeners");class Rl{constructor(r,d){this.name=r,this.token=d}}function bp(i,r,d=[]){const y=`Platform: ${r}`,x=new Se(y);return(I=[])=>{let K=za();if(!K||K.injector.get(ca,!1)){const se=[...d,...I,{provide:x,useValue:!0}];i?i(se):function G1(i){if(hr&&!hr.get(ca,!1))throw new P(400,!1);hr=i;const r=i.get(cu);(function u_(i){const r=i.get(h,null);r&&r.forEach(d=>d())})(i)}(function h_(i=[],r){return gl.create({name:r,providers:[{provide:Bd,useValue:"platform"},{provide:$a,useValue:new Set([()=>hr=null])},...i]})}(se,y))}return function d_(i){const r=za();if(!r)throw new P(401,!1);return r}()}}function za(){var i,r;return null!==(i=null===(r=hr)||void 0===r?void 0:r.get(cu))&&void 0!==i?i:null}let cu=(()=>{class i{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,y){const x=function Tp(i,r){let d;return d="noop"===i?new ei:("zone.js"===i?void 0:i)||new Er(r),d}(y?.ngZone,function wp(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(y)),I=[{provide:Er,useValue:x}];return x.run(()=>{const K=gl.create({providers:I,parent:this.injector,name:d.moduleType.name}),se=d.create(K),fe=se.injector.get(bc,null);if(!fe)throw new P(402,!1);return x.runOutsideAngular(()=>{const Ne=x.onError.subscribe({next:it=>{fe.handleError(it)}});se.onDestroy(()=>{du(this._modules,se),Ne.unsubscribe()})}),function Ad(i,r,d){try{const y=d();return Vh(y)?y.catch(x=>{throw r.runOutsideAngular(()=>i.handleError(x)),x}):y}catch(y){throw r.runOutsideAngular(()=>i.handleError(y)),y}}(fe,x,()=>{const Ne=se.injector.get(Td);return Ne.runInitializers(),Ne.donePromise.then(()=>(Qh(se.injector.get($e,nc)||nc),this._moduleDoBootstrap(se),se))})})}bootstrapModule(d,y=[]){const x=Ap({},y);return function Fo(i,r,d){const y=new ip(d);return Promise.resolve(y)}(0,0,d).then(I=>this.bootstrapModuleFactory(I,x))}_moduleDoBootstrap(d){const y=d.injector.get(uu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(x=>y.bootstrap(x));else{if(!d.instance.ngDoBootstrap)throw new P(403,!1);d.instance.ngDoBootstrap(y)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(y=>y.destroy()),this._destroyListeners.forEach(y=>y());const d=this._injector.get($a,null);d&&(d.forEach(y=>y()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(d){return new(d||i)(is(gl))},i.\u0275prov=at({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Ap(i,r){return Array.isArray(r)?r.reduce(Ap,i):{...i,...r}}let uu=(()=>{class i{constructor(d,y,x){this._zone=d,this._injector=y,this._exceptionHandler=x,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new m.y(se=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{se.next(this._stable),se.complete()})}),K=new m.y(se=>{let fe;this._zone.runOutsideAngular(()=>{fe=this._zone.onStable.subscribe(()=>{Er.assertNotInAngularZone(),zi(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,se.next(!0))})})});const Ne=this._zone.onUnstable.subscribe(()=>{Er.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{se.next(!1)}))});return()=>{fe.unsubscribe(),Ne.unsubscribe()}});this.isStable=(0,w.T)(I,K.pipe((0,b.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,y){const x=d instanceof Gp;if(!this._injector.get(Td).done)throw!x&&Pn(d),new P(405,false);let K;K=x?d:this._injector.get(Zl).resolveComponentFactory(d),this.componentTypes.push(K.componentType);const se=function cc(i){return i.isBoundToModule}(K)?void 0:this._injector.get(Mo),Ne=K.create(gl.NULL,[],y||K.selector,se),it=Ne.location.nativeElement,_t=Ne.injector.get(_i,null);return _t?.registerApplication(it),Ne.onDestroy(()=>{this.detachView(Ne.hostView),du(this.components,Ne),_t?.unregisterApplication(it)}),this._loadComponent(Ne),Ne}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const y=d;this._views.push(y),y.attachToAppRef(this)}detachView(d){const y=d;du(this._views,y),y.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(u,[]).concat(this._bootstrapListeners).forEach(x=>x(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>du(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new P(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(d){return new(d||i)(is(Er),is(fl),is(bc))},i.\u0275prov=at({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function du(i,r){const d=i.indexOf(r);d>-1&&i.splice(d,1)}let vw=!0,yw=!1;function jw(){return yw=!0,vw}function Kw(){if(yw)throw new Error("Cannot enable prod mode after platform setup.");vw=!1}let $w=(()=>{class i{}return i.__NG_ELEMENT_ID__=zw,i})();function zw(i){return function Gw(i,r,d){if(Ii(i)&&!d){const y=Vi(i.index,r);return new Vc(y,y)}return 47&i.type?new Vc(r[16],r):null}(qi(),_n(),16==(16&i))}class Tw{constructor(){}supports(r){return rl(r)}create(r){return new tT(r)}}const eT=(i,r)=>r;class tT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||eT}forEachItem(r){let d;for(d=this._itHead;null!==d;d=d._next)r(d)}forEachOperation(r){let d=this._itHead,y=this._removalsHead,x=0,I=null;for(;d||y;){const K=!y||d&&d.currentIndex<Sw(y,x,I)?d:y,se=Sw(K,x,I),fe=K.currentIndex;if(K===y)x--,y=y._nextRemoved;else if(d=d._next,null==K.previousIndex)x++;else{I||(I=[]);const Ne=se-x,it=fe-x;if(Ne!=it){for(let Ft=0;Ft<Ne;Ft++){const en=Ft<I.length?I[Ft]:I[Ft]=0,Cn=en+Ft;it<=Cn&&Cn<Ne&&(I[Ft]=en+1)}I[K.previousIndex]=it-Ne}}se!==fe&&r(K,se,fe)}}forEachPreviousItem(r){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)r(d)}forEachAddedItem(r){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)r(d)}forEachMovedItem(r){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)r(d)}forEachRemovedItem(r){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)r(d)}forEachIdentityChange(r){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)r(d)}diff(r){if(null==r&&(r=[]),!rl(r))throw new P(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let x,I,K,d=this._itHead,y=!1;if(Array.isArray(r)){this.length=r.length;for(let se=0;se<this.length;se++)I=r[se],K=this._trackByFn(se,I),null!==d&&Object.is(d.trackById,K)?(y&&(d=this._verifyReinsertion(d,I,K,se)),Object.is(d.item,I)||this._addIdentityChange(d,I)):(d=this._mismatch(d,I,K,se),y=!0),d=d._next}else x=0,function J0(i,r){if(Array.isArray(i))for(let d=0;d<i.length;d++)r(i[d]);else{const d=i[Al()]();let y;for(;!(y=d.next()).done;)r(y.value)}}(r,se=>{K=this._trackByFn(x,se),null!==d&&Object.is(d.trackById,K)?(y&&(d=this._verifyReinsertion(d,se,K,x)),Object.is(d.item,se)||this._addIdentityChange(d,se)):(d=this._mismatch(d,se,K,x),y=!0),d=d._next,x++}),this.length=x;return this._truncate(d),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,d,y,x){let I;return null===r?I=this._itTail:(I=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(r.item,d)||this._addIdentityChange(r,d),this._reinsertAfter(r,I,x)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(y,x))?(Object.is(r.item,d)||this._addIdentityChange(r,d),this._moveAfter(r,I,x)):r=this._addAfter(new nT(d,y),I,x),r}_verifyReinsertion(r,d,y,x){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==I?r=this._reinsertAfter(I,r._prev,x):r.currentIndex!=x&&(r.currentIndex=x,this._addToMoves(r,x)),r}_truncate(r){for(;null!==r;){const d=r._next;this._addToRemovals(this._unlink(r)),r=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,d,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const x=r._prevRemoved,I=r._nextRemoved;return null===x?this._removalsHead=I:x._nextRemoved=I,null===I?this._removalsTail=x:I._prevRemoved=x,this._insertAfter(r,d,y),this._addToMoves(r,y),r}_moveAfter(r,d,y){return this._unlink(r),this._insertAfter(r,d,y),this._addToMoves(r,y),r}_addAfter(r,d,y){return this._insertAfter(r,d,y),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,d,y){const x=null===d?this._itHead:d._next;return r._next=x,r._prev=d,null===x?this._itTail=r:x._prev=r,null===d?this._itHead=r:d._next=r,null===this._linkedRecords&&(this._linkedRecords=new Aw),this._linkedRecords.put(r),r.currentIndex=y,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const d=r._prev,y=r._next;return null===d?this._itHead=y:d._next=y,null===y?this._itTail=d:y._prev=d,r}_addToMoves(r,d){return r.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,d){return r.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class nT{constructor(r,d){this.item=r,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,d){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===d||d<=y.currentIndex)&&Object.is(y.trackById,r))return y;return null}remove(r){const d=r._prevDup,y=r._nextDup;return null===d?this._head=y:d._nextDup=y,null===y?this._tail=d:y._prevDup=d,null===this._head}}class Aw{constructor(){this.map=new Map}put(r){const d=r.trackById;let y=this.map.get(d);y||(y=new iT,this.map.set(d,y)),y.add(r)}get(r,d){const x=this.map.get(r);return x?x.get(r,d):null}remove(r){const d=r.trackById;return this.map.get(d).remove(r)&&this.map.delete(d),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sw(i,r,d){const y=i.previousIndex;if(null===y)return y;let x=0;return d&&y<d.length&&(x=d[y]),y+r+x}class xw{constructor(){}supports(r){return r instanceof Map||Bh(r)}create(){return new rT}}class rT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let d;for(d=this._mapHead;null!==d;d=d._next)r(d)}forEachPreviousItem(r){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)r(d)}forEachChangedItem(r){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)r(d)}forEachAddedItem(r){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)r(d)}forEachRemovedItem(r){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)r(d)}diff(r){if(r){if(!(r instanceof Map||Bh(r)))throw new P(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(r,(y,x)=>{if(d&&d.key===x)this._maybeAddToChanges(d,y),this._appendAfter=d,d=d._next;else{const I=this._getOrCreateRecordForKey(x,y);d=this._insertBeforeOrAppend(d,I)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let y=d;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,d){if(r){const y=r._prev;return d._next=r,d._prev=y,r._prev=d,y&&(y._next=d),r===this._mapHead&&(this._mapHead=d),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(r,d){if(this._records.has(r)){const x=this._records.get(r);this._maybeAddToChanges(x,d);const I=x._prev,K=x._next;return I&&(I._next=K),K&&(K._prev=I),x._next=null,x._prev=null,x}const y=new sT(r);return this._records.set(r,y),y.currentValue=d,this._addToAdditions(y),y}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,d){Object.is(d,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=d,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,d){r instanceof Map?r.forEach(d):Object.keys(r).forEach(y=>d(r[y],y))}}class sT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ew(){return new eC([new Tw])}let eC=(()=>{class i{constructor(d){this.factories=d}static create(d,y){if(null!=y){const x=y.factories.slice();d=d.concat(x)}return new i(d)}static extend(d){return{provide:i,useFactory:y=>i.create(d,y||Ew()),deps:[[i,new dc,new na]]}}find(d){const y=this.factories.find(x=>x.supports(d));if(null!=y)return y;throw new P(901,!1)}}return i.\u0275prov=at({token:i,providedIn:"root",factory:Ew}),i})();function Dw(){return new tC([new xw])}let tC=(()=>{class i{constructor(d){this.factories=d}static create(d,y){if(y){const x=y.factories.slice();d=d.concat(x)}return new i(d)}static extend(d){return{provide:i,useFactory:y=>i.create(d,y||Dw()),deps:[[i,new dc,new na]]}}find(d){const y=this.factories.find(x=>x.supports(d));if(y)return y;throw new P(901,!1)}}return i.\u0275prov=at({token:i,providedIn:"root",factory:Dw}),i})();const lT=bp(null,"core",[]);let cT=(()=>{class i{constructor(d){}}return i.\u0275fac=function(d){return new(d||i)(is(uu))},i.\u0275mod=Vn({type:i}),i.\u0275inj=ct({}),i})();function uT(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function hT(i,r){const d=jt(i),y=r.elementInjector||Ou();return new Tl(d).create(y,r.projectableNodes,r.hostElement,r.environmentInjector)}},4006:(st,ye,f)=>{"use strict";f.d(ye,{Cf:()=>O,EJ:()=>Cr,F:()=>Ln,Fj:()=>k,JJ:()=>De,JL:()=>be,JU:()=>p,Kr:()=>Xr,On:()=>Ir,Q7:()=>Ps,QS:()=>di,UX:()=>Ni,Wl:()=>_,YN:()=>cs,_:()=>_s,_Y:()=>Mi,a5:()=>oe,kI:()=>V,nD:()=>Fi,oH:()=>ks,p4:()=>ut,qQ:()=>co,qu:()=>oi,sg:()=>sr,u:()=>Mr,u5:()=>uo,wO:()=>Or,wV:()=>Qi,x0:()=>vs});var t=f(4650),e=f(6895),m=f(2076),w=f(4128),b=f(4004);let C=(()=>{class Ie{constructor(ne,Xe){this._renderer=ne,this._elementRef=Xe,this.onChange=nn=>{},this.onTouched=()=>{}}setProperty(ne,Xe){this._renderer.setProperty(this._elementRef.nativeElement,ne,Xe)}registerOnTouched(ne){this.onTouched=ne}registerOnChange(ne){this.onChange=ne}setDisabledState(ne){this.setProperty("disabled",ne)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(t.Qsj),t.Y36(t.SBq))},Ie.\u0275dir=t.lG2({type:Ie}),Ie})(),g=(()=>{class Ie extends C{}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,features:[t.qOj]}),Ie})();const p=new t.OlP("NgValueAccessor"),A={provide:p,useExisting:(0,t.Gpc)(()=>_),multi:!0};let _=(()=>{class Ie extends g{writeValue(ne){this.setProperty("checked",ne)}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("change",function(Bn){return Xe.onChange(Bn.target.checked)})("blur",function(){return Xe.onTouched()})},features:[t._Bn([A]),t.qOj]}),Ie})();const R={provide:p,useExisting:(0,t.Gpc)(()=>k),multi:!0},a=new t.OlP("CompositionEventMode");let k=(()=>{class Ie extends C{constructor(ne,Xe,nn){super(ne,Xe),this._compositionMode=nn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function N(){const Ie=(0,e.q)()?(0,e.q)().getUserAgent():"";return/android (\d+)/.test(Ie.toLowerCase())}())}writeValue(ne){this.setProperty("value",ne??"")}_handleInput(ne){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ne)}_compositionStart(){this._composing=!0}_compositionEnd(ne){this._composing=!1,this._compositionMode&&this.onChange(ne)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(a,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("input",function(Bn){return Xe._handleInput(Bn.target.value)})("blur",function(){return Xe.onTouched()})("compositionstart",function(){return Xe._compositionStart()})("compositionend",function(Bn){return Xe._compositionEnd(Bn.target.value)})},features:[t._Bn([R]),t.qOj]}),Ie})();function U(Ie){return null==Ie||("string"==typeof Ie||Array.isArray(Ie))&&0===Ie.length}function J(Ie){return null!=Ie&&"number"==typeof Ie.length}const O=new t.OlP("NgValidators"),L=new t.OlP("NgAsyncValidators"),F=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class V{static min(ge){return q(ge)}static max(ge){return function ie(Ie){return ge=>{if(U(ge.value)||U(Ie))return null;const ne=parseFloat(ge.value);return!isNaN(ne)&&ne>Ie?{max:{max:Ie,actual:ge.value}}:null}}(ge)}static required(ge){return H(ge)}static requiredTrue(ge){return function $(Ie){return!0===Ie.value?null:{required:!0}}(ge)}static email(ge){return function z(Ie){return U(Ie.value)||F.test(Ie.value)?null:{email:!0}}(ge)}static minLength(ge){return E(ge)}static maxLength(ge){return X(ge)}static pattern(ge){return function Q(Ie){if(!Ie)return ce;let ge,ne;return"string"==typeof Ie?(ne="","^"!==Ie.charAt(0)&&(ne+="^"),ne+=Ie,"$"!==Ie.charAt(Ie.length-1)&&(ne+="$"),ge=new RegExp(ne)):(ne=Ie.toString(),ge=Ie),Xe=>{if(U(Xe.value))return null;const nn=Xe.value;return ge.test(nn)?null:{pattern:{requiredPattern:ne,actualValue:nn}}}}(ge)}static nullValidator(ge){return null}static compose(ge){return we(ge)}static composeAsync(ge){return rt(ge)}}function q(Ie){return ge=>{if(U(ge.value)||U(Ie))return null;const ne=parseFloat(ge.value);return!isNaN(ne)&&ne<Ie?{min:{min:Ie,actual:ge.value}}:null}}function H(Ie){return U(Ie.value)?{required:!0}:null}function E(Ie){return ge=>U(ge.value)||!J(ge.value)?null:ge.value.length<Ie?{minlength:{requiredLength:Ie,actualLength:ge.value.length}}:null}function X(Ie){return ge=>J(ge.value)&&ge.value.length>Ie?{maxlength:{requiredLength:Ie,actualLength:ge.value.length}}:null}function ce(Ie){return null}function _e(Ie){return null!=Ie}function Te(Ie){return(0,t.QGY)(Ie)?(0,m.D)(Ie):Ie}function ve(Ie){let ge={};return Ie.forEach(ne=>{ge=null!=ne?{...ge,...ne}:ge}),0===Object.keys(ge).length?null:ge}function Ke(Ie,ge){return ge.map(ne=>ne(Ie))}function Ge(Ie){return Ie.map(ge=>function xe(Ie){return!Ie.validate}(ge)?ge:ne=>ge.validate(ne))}function we(Ie){if(!Ie)return null;const ge=Ie.filter(_e);return 0==ge.length?null:function(ne){return ve(Ke(ne,ge))}}function Ye(Ie){return null!=Ie?we(Ge(Ie)):null}function rt(Ie){if(!Ie)return null;const ge=Ie.filter(_e);return 0==ge.length?null:function(ne){const Xe=Ke(ne,ge).map(Te);return(0,w.D)(Xe).pipe((0,b.U)(ve))}}function Ct(Ie){return null!=Ie?rt(Ge(Ie)):null}function at(Ie,ge){return null===Ie?[ge]:Array.isArray(Ie)?[...Ie,ge]:[Ie,ge]}function dt(Ie){return Ie._rawValidators}function ct(Ie){return Ie._rawAsyncValidators}function Gt(Ie){return Ie?Array.isArray(Ie)?Ie:[Ie]:[]}function ln(Ie,ge){return Array.isArray(Ie)?Ie.includes(ge):Ie===ge}function Mt(Ie,ge){const ne=Gt(ge);return Gt(Ie).forEach(nn=>{ln(ne,nn)||ne.push(nn)}),ne}function It(Ie,ge){return Gt(ge).filter(ne=>!ln(Ie,ne))}class Y{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ge){this._rawValidators=ge||[],this._composedValidatorFn=Ye(this._rawValidators)}_setAsyncValidators(ge){this._rawAsyncValidators=ge||[],this._composedAsyncValidatorFn=Ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ge){this._onDestroyCallbacks.push(ge)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ge=>ge()),this._onDestroyCallbacks=[]}reset(ge){this.control&&this.control.reset(ge)}hasError(ge,ne){return!!this.control&&this.control.hasError(ge,ne)}getError(ge,ne){return this.control?this.control.getError(ge,ne):null}}class G extends Y{get formDirective(){return null}get path(){return null}}class oe extends Y{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ve{constructor(ge){this._cd=ge}get isTouched(){var ge,ne;return!(null===(ge=this._cd)||void 0===ge||null===(ne=ge.control)||void 0===ne||!ne.touched)}get isUntouched(){var ge,ne;return!(null===(ge=this._cd)||void 0===ge||null===(ne=ge.control)||void 0===ne||!ne.untouched)}get isPristine(){var ge,ne;return!(null===(ge=this._cd)||void 0===ge||null===(ne=ge.control)||void 0===ne||!ne.pristine)}get isDirty(){var ge,ne;return!(null===(ge=this._cd)||void 0===ge||null===(ne=ge.control)||void 0===ne||!ne.dirty)}get isValid(){var ge,ne;return!(null===(ge=this._cd)||void 0===ge||null===(ne=ge.control)||void 0===ne||!ne.valid)}get isInvalid(){var ge,ne;return!(null===(ge=this._cd)||void 0===ge||null===(ne=ge.control)||void 0===ne||!ne.invalid)}get isPending(){var ge,ne;return!(null===(ge=this._cd)||void 0===ge||null===(ne=ge.control)||void 0===ne||!ne.pending)}get isSubmitted(){var ge;return!(null===(ge=this._cd)||void 0===ge||!ge.submitted)}}let De=(()=>{class Ie extends Ve{constructor(ne){super(ne)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(oe,2))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ne,Xe){2&ne&&t.ekj("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)},features:[t.qOj]}),Ie})(),be=(()=>{class Ie extends Ve{constructor(ne){super(ne)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(G,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ne,Xe){2&ne&&t.ekj("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)("ng-submitted",Xe.isSubmitted)},features:[t.qOj]}),Ie})();const fn="VALID",cn="INVALID",lt="PENDING",tn="DISABLED";function St(Ie){return(Mn(Ie)?Ie.validators:Ie)||null}function qt(Ie){return Array.isArray(Ie)?Ye(Ie):Ie||null}function gn(Ie,ge){return(Mn(ge)?ge.asyncValidators:Ie)||null}function Vn(Ie){return Array.isArray(Ie)?Ct(Ie):Ie||null}function Mn(Ie){return null!=Ie&&!Array.isArray(Ie)&&"object"==typeof Ie}function qn(Ie,ge,ne){const Xe=Ie.controls;if(!(ge?Object.keys(Xe):Xe).length)throw new t.vHH(1e3,"");if(!Xe[ne])throw new t.vHH(1001,"")}function ui(Ie,ge,ne){Ie._forEachChild((Xe,nn)=>{if(void 0===ne[nn])throw new t.vHH(1002,"")})}class ci{constructor(ge,ne){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=ge,this._rawAsyncValidators=ne,this._composedValidatorFn=qt(this._rawValidators),this._composedAsyncValidatorFn=Vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(ge){this._rawValidators=this._composedValidatorFn=ge}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ge){this._rawAsyncValidators=this._composedAsyncValidatorFn=ge}get parent(){return this._parent}get valid(){return this.status===fn}get invalid(){return this.status===cn}get pending(){return this.status==lt}get disabled(){return this.status===tn}get enabled(){return this.status!==tn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ge){this._rawValidators=ge,this._composedValidatorFn=qt(ge)}setAsyncValidators(ge){this._rawAsyncValidators=ge,this._composedAsyncValidatorFn=Vn(ge)}addValidators(ge){this.setValidators(Mt(ge,this._rawValidators))}addAsyncValidators(ge){this.setAsyncValidators(Mt(ge,this._rawAsyncValidators))}removeValidators(ge){this.setValidators(It(ge,this._rawValidators))}removeAsyncValidators(ge){this.setAsyncValidators(It(ge,this._rawAsyncValidators))}hasValidator(ge){return ln(this._rawValidators,ge)}hasAsyncValidator(ge){return ln(this._rawAsyncValidators,ge)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ge={}){this.touched=!0,this._parent&&!ge.onlySelf&&this._parent.markAsTouched(ge)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ge=>ge.markAllAsTouched())}markAsUntouched(ge={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ne=>{ne.markAsUntouched({onlySelf:!0})}),this._parent&&!ge.onlySelf&&this._parent._updateTouched(ge)}markAsDirty(ge={}){this.pristine=!1,this._parent&&!ge.onlySelf&&this._parent.markAsDirty(ge)}markAsPristine(ge={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ne=>{ne.markAsPristine({onlySelf:!0})}),this._parent&&!ge.onlySelf&&this._parent._updatePristine(ge)}markAsPending(ge={}){this.status=lt,!1!==ge.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ge.onlySelf&&this._parent.markAsPending(ge)}disable(ge={}){const ne=this._parentMarkedDirty(ge.onlySelf);this.status=tn,this.errors=null,this._forEachChild(Xe=>{Xe.disable({...ge,onlySelf:!0})}),this._updateValue(),!1!==ge.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ge,skipPristineCheck:ne}),this._onDisabledChange.forEach(Xe=>Xe(!0))}enable(ge={}){const ne=this._parentMarkedDirty(ge.onlySelf);this.status=fn,this._forEachChild(Xe=>{Xe.enable({...ge,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ge.emitEvent}),this._updateAncestors({...ge,skipPristineCheck:ne}),this._onDisabledChange.forEach(Xe=>Xe(!1))}_updateAncestors(ge){this._parent&&!ge.onlySelf&&(this._parent.updateValueAndValidity(ge),ge.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ge){this._parent=ge}getRawValue(){return this.value}updateValueAndValidity(ge={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===lt)&&this._runAsyncValidator(ge.emitEvent)),!1!==ge.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ge.onlySelf&&this._parent.updateValueAndValidity(ge)}_updateTreeValidity(ge={emitEvent:!0}){this._forEachChild(ne=>ne._updateTreeValidity(ge)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ge.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tn:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ge){if(this.asyncValidator){this.status=lt,this._hasOwnPendingAsyncValidator=!0;const ne=Te(this.asyncValidator(this));this._asyncValidationSubscription=ne.subscribe(Xe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Xe,{emitEvent:ge})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ge,ne={}){this.errors=ge,this._updateControlsErrors(!1!==ne.emitEvent)}get(ge){let ne=ge;return null==ne||(Array.isArray(ne)||(ne=ne.split(".")),0===ne.length)?null:ne.reduce((Xe,nn)=>Xe&&Xe._find(nn),this)}getError(ge,ne){const Xe=ne?this.get(ne):this;return Xe&&Xe.errors?Xe.errors[ge]:null}hasError(ge,ne){return!!this.getError(ge,ne)}get root(){let ge=this;for(;ge._parent;)ge=ge._parent;return ge}_updateControlsErrors(ge){this.status=this._calculateStatus(),ge&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ge)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?tn:this.errors?cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lt)?lt:this._anyControlsHaveStatus(cn)?cn:fn}_anyControlsHaveStatus(ge){return this._anyControls(ne=>ne.status===ge)}_anyControlsDirty(){return this._anyControls(ge=>ge.dirty)}_anyControlsTouched(){return this._anyControls(ge=>ge.touched)}_updatePristine(ge={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ge.onlySelf&&this._parent._updatePristine(ge)}_updateTouched(ge={}){this.touched=this._anyControlsTouched(),this._parent&&!ge.onlySelf&&this._parent._updateTouched(ge)}_registerOnCollectionChange(ge){this._onCollectionChange=ge}_setUpdateStrategy(ge){Mn(ge)&&null!=ge.updateOn&&(this._updateOn=ge.updateOn)}_parentMarkedDirty(ge){return!ge&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ge){return null}}class jt extends ci{constructor(ge,ne,Xe){super(St(ne),gn(Xe,ne)),this.controls=ge,this._initObservables(),this._setUpdateStrategy(ne),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ge,ne){return this.controls[ge]?this.controls[ge]:(this.controls[ge]=ne,ne.setParent(this),ne._registerOnCollectionChange(this._onCollectionChange),ne)}addControl(ge,ne,Xe={}){this.registerControl(ge,ne),this.updateValueAndValidity({emitEvent:Xe.emitEvent}),this._onCollectionChange()}removeControl(ge,ne={}){this.controls[ge]&&this.controls[ge]._registerOnCollectionChange(()=>{}),delete this.controls[ge],this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}setControl(ge,ne,Xe={}){this.controls[ge]&&this.controls[ge]._registerOnCollectionChange(()=>{}),delete this.controls[ge],ne&&this.registerControl(ge,ne),this.updateValueAndValidity({emitEvent:Xe.emitEvent}),this._onCollectionChange()}contains(ge){return this.controls.hasOwnProperty(ge)&&this.controls[ge].enabled}setValue(ge,ne={}){ui(this,0,ge),Object.keys(ge).forEach(Xe=>{qn(this,!0,Xe),this.controls[Xe].setValue(ge[Xe],{onlySelf:!0,emitEvent:ne.emitEvent})}),this.updateValueAndValidity(ne)}patchValue(ge,ne={}){null!=ge&&(Object.keys(ge).forEach(Xe=>{const nn=this.controls[Xe];nn&&nn.patchValue(ge[Xe],{onlySelf:!0,emitEvent:ne.emitEvent})}),this.updateValueAndValidity(ne))}reset(ge={},ne={}){this._forEachChild((Xe,nn)=>{Xe.reset(ge[nn],{onlySelf:!0,emitEvent:ne.emitEvent})}),this._updatePristine(ne),this._updateTouched(ne),this.updateValueAndValidity(ne)}getRawValue(){return this._reduceChildren({},(ge,ne,Xe)=>(ge[Xe]=ne.getRawValue(),ge))}_syncPendingControls(){let ge=this._reduceChildren(!1,(ne,Xe)=>!!Xe._syncPendingControls()||ne);return ge&&this.updateValueAndValidity({onlySelf:!0}),ge}_forEachChild(ge){Object.keys(this.controls).forEach(ne=>{const Xe=this.controls[ne];Xe&&ge(Xe,ne)})}_setUpControls(){this._forEachChild(ge=>{ge.setParent(this),ge._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ge){for(const[ne,Xe]of Object.entries(this.controls))if(this.contains(ne)&&ge(Xe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ne,Xe,nn)=>((Xe.enabled||this.disabled)&&(ne[nn]=Xe.value),ne))}_reduceChildren(ge,ne){let Xe=ge;return this._forEachChild((nn,Bn)=>{Xe=ne(Xe,nn,Bn)}),Xe}_allControlsDisabled(){for(const ge of Object.keys(this.controls))if(this.controls[ge].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ge){return this.controls.hasOwnProperty(ge)?this.controls[ge]:null}}class Pn extends jt{}function ii(Ie,ge){return[...ge.path,Ie]}function ft(Ie,ge){var ne,Xe;zt(Ie,ge),ge.valueAccessor.writeValue(Ie.value),Ie.disabled&&(null===(ne=(Xe=ge.valueAccessor).setDisabledState)||void 0===ne||ne.call(Xe,!0)),function Zt(Ie,ge){ge.valueAccessor.registerOnChange(ne=>{Ie._pendingValue=ne,Ie._pendingChange=!0,Ie._pendingDirty=!0,"change"===Ie.updateOn&&vi(Ie,ge)})}(Ie,ge),function vr(Ie,ge){const ne=(Xe,nn)=>{ge.valueAccessor.writeValue(Xe),nn&&ge.viewToModelUpdate(Xe)};Ie.registerOnChange(ne),ge._registerOnDestroy(()=>{Ie._unregisterOnChange(ne)})}(Ie,ge),function ti(Ie,ge){ge.valueAccessor.registerOnTouched(()=>{Ie._pendingTouched=!0,"blur"===Ie.updateOn&&Ie._pendingChange&&vi(Ie,ge),"submit"!==Ie.updateOn&&Ie.markAsTouched()})}(Ie,ge),function xt(Ie,ge){if(ge.valueAccessor.setDisabledState){const ne=Xe=>{ge.valueAccessor.setDisabledState(Xe)};Ie.registerOnDisabledChange(ne),ge._registerOnDestroy(()=>{Ie._unregisterOnDisabledChange(ne)})}}(Ie,ge)}function yt(Ie,ge,ne=!0){const Xe=()=>{};ge.valueAccessor&&(ge.valueAccessor.registerOnChange(Xe),ge.valueAccessor.registerOnTouched(Xe)),vn(Ie,ge),Ie&&(ge._invokeOnDestroyCallbacks(),Ie._registerOnCollectionChange(()=>{}))}function ht(Ie,ge){Ie.forEach(ne=>{ne.registerOnValidatorChange&&ne.registerOnValidatorChange(ge)})}function zt(Ie,ge){const ne=dt(Ie);null!==ge.validator?Ie.setValidators(at(ne,ge.validator)):"function"==typeof ne&&Ie.setValidators([ne]);const Xe=ct(Ie);null!==ge.asyncValidator?Ie.setAsyncValidators(at(Xe,ge.asyncValidator)):"function"==typeof Xe&&Ie.setAsyncValidators([Xe]);const nn=()=>Ie.updateValueAndValidity();ht(ge._rawValidators,nn),ht(ge._rawAsyncValidators,nn)}function vn(Ie,ge){let ne=!1;if(null!==Ie){if(null!==ge.validator){const nn=dt(Ie);if(Array.isArray(nn)&&nn.length>0){const Bn=nn.filter(Wi=>Wi!==ge.validator);Bn.length!==nn.length&&(ne=!0,Ie.setValidators(Bn))}}if(null!==ge.asyncValidator){const nn=ct(Ie);if(Array.isArray(nn)&&nn.length>0){const Bn=nn.filter(Wi=>Wi!==ge.asyncValidator);Bn.length!==nn.length&&(ne=!0,Ie.setAsyncValidators(Bn))}}}const Xe=()=>{};return ht(ge._rawValidators,Xe),ht(ge._rawAsyncValidators,Xe),ne}function vi(Ie,ge){Ie._pendingDirty&&Ie.markAsDirty(),Ie.setValue(Ie._pendingValue,{emitModelToViewChange:!1}),ge.viewToModelUpdate(Ie._pendingValue),Ie._pendingChange=!1}function Rn(Ie,ge){zt(Ie,ge)}function Bi(Ie,ge){if(!Ie.hasOwnProperty("model"))return!1;const ne=Ie.model;return!!ne.isFirstChange()||!Object.is(ge,ne.currentValue)}function $i(Ie,ge){Ie._syncPendingControls(),ge.forEach(ne=>{const Xe=ne.control;"submit"===Xe.updateOn&&Xe._pendingChange&&(ne.viewToModelUpdate(Xe._pendingValue),Xe._pendingChange=!1)})}function Wt(Ie,ge){if(!ge)return null;let ne,Xe,nn;return Array.isArray(ge),ge.forEach(Bn=>{Bn.constructor===k?ne=Bn:function pr(Ie){return Object.getPrototypeOf(Ie.constructor)===g}(Bn)?Xe=Bn:nn=Bn}),nn||Xe||ne||null}const Yt={provide:G,useExisting:(0,t.Gpc)(()=>Ln)},En=(()=>Promise.resolve())();let Ln=(()=>{class Ie extends G{constructor(ne,Xe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new t.vpe,this.form=new jt({},Ye(ne),Ct(Xe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ne){En.then(()=>{const Xe=this._findContainer(ne.path);ne.control=Xe.registerControl(ne.name,ne.control),ft(ne.control,ne),ne.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ne)})}getControl(ne){return this.form.get(ne.path)}removeControl(ne){En.then(()=>{const Xe=this._findContainer(ne.path);Xe&&Xe.removeControl(ne.name),this._directives.delete(ne)})}addFormGroup(ne){En.then(()=>{const Xe=this._findContainer(ne.path),nn=new jt({});Rn(nn,ne),Xe.registerControl(ne.name,nn),nn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ne){En.then(()=>{const Xe=this._findContainer(ne.path);Xe&&Xe.removeControl(ne.name)})}getFormGroup(ne){return this.form.get(ne.path)}updateModel(ne,Xe){En.then(()=>{this.form.get(ne.path).setValue(Xe)})}setValue(ne){this.control.setValue(ne)}onSubmit(ne){var Xe;return this.submitted=!0,$i(this.form,this._directives),this.ngSubmit.emit(ne),"dialog"===(null==ne||null===(Xe=ne.target)||void 0===Xe?void 0:Xe.method)}onReset(){this.resetForm()}resetForm(ne){this.form.reset(ne),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ne){return ne.pop(),ne.length?this.form.get(ne):this.form}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(O,10),t.Y36(L,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("submit",function(Bn){return Xe.onSubmit(Bn)})("reset",function(){return Xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([Yt]),t.qOj]}),Ie})();function ki(Ie,ge){const ne=Ie.indexOf(ge);ne>-1&&Ie.splice(ne,1)}function Ze(Ie){return"object"==typeof Ie&&null!==Ie&&2===Object.keys(Ie).length&&"value"in Ie&&"disabled"in Ie}const qe=class extends ci{constructor(ge=null,ne,Xe){super(St(ne),gn(Xe,ne)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ge),this._setUpdateStrategy(ne),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mn(ne)&&(ne.nonNullable||ne.initialValueIsDefault)&&(this.defaultValue=Ze(ge)?ge.value:ge)}setValue(ge,ne={}){this.value=this._pendingValue=ge,this._onChange.length&&!1!==ne.emitModelToViewChange&&this._onChange.forEach(Xe=>Xe(this.value,!1!==ne.emitViewToModelChange)),this.updateValueAndValidity(ne)}patchValue(ge,ne={}){this.setValue(ge,ne)}reset(ge=this.defaultValue,ne={}){this._applyFormState(ge),this.markAsPristine(ne),this.markAsUntouched(ne),this.setValue(this.value,ne),this._pendingChange=!1}_updateValue(){}_anyControls(ge){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ge){this._onChange.push(ge)}_unregisterOnChange(ge){ki(this._onChange,ge)}registerOnDisabledChange(ge){this._onDisabledChange.push(ge)}_unregisterOnDisabledChange(ge){ki(this._onDisabledChange,ge)}_forEachChild(ge){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ge){Ze(ge)?(this.value=this._pendingValue=ge.value,ge.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ge}},ut=qe;let un=(()=>{class Ie extends G{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ii(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,features:[t.qOj]}),Ie})();const fr={provide:oe,useExisting:(0,t.Gpc)(()=>Ir)},mr=(()=>Promise.resolve())();let Ir=(()=>{class Ie extends oe{constructor(ne,Xe,nn,Bn,Wi){super(),this._changeDetectorRef=Wi,this.control=new qe,this._registered=!1,this.update=new t.vpe,this._parent=ne,this._setValidators(Xe),this._setAsyncValidators(nn),this.valueAccessor=Wt(0,Bn)}ngOnChanges(ne){if(this._checkForErrors(),!this._registered||"name"in ne){if(this._registered&&(this._checkName(),this.formDirective)){const Xe=ne.name.previousValue;this.formDirective.removeControl({name:Xe,path:this._getPath(Xe)})}this._setUpControl()}"isDisabled"in ne&&this._updateDisabled(ne),Bi(ne,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ne){this.viewModel=ne,this.update.emit(ne)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ft(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ne){mr.then(()=>{var Xe;this.control.setValue(ne,{emitViewToModelChange:!1}),null===(Xe=this._changeDetectorRef)||void 0===Xe||Xe.markForCheck()})}_updateDisabled(ne){const Xe=ne.isDisabled.currentValue,nn=0!==Xe&&(0,t.D6c)(Xe);mr.then(()=>{var Bn;nn&&!this.control.disabled?this.control.disable():!nn&&this.control.disabled&&this.control.enable(),null===(Bn=this._changeDetectorRef)||void 0===Bn||Bn.markForCheck()})}_getPath(ne){return this._parent?ii(ne,this._parent):[ne]}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(G,9),t.Y36(O,10),t.Y36(L,10),t.Y36(p,10),t.Y36(t.sBO,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([fr]),t.qOj,t.TTD]}),Ie})(),Mi=(()=>{class Ie{}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Ie})();const Fr={provide:p,useExisting:(0,t.Gpc)(()=>Qi),multi:!0};let Qi=(()=>{class Ie extends g{writeValue(ne){this.setProperty("value",ne??"")}registerOnChange(ne){this.onChange=Xe=>{ne(""==Xe?null:parseFloat(Xe))}}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("input",function(Bn){return Xe.onChange(Bn.target.value)})("blur",function(){return Xe.onTouched()})},features:[t._Bn([Fr]),t.qOj]}),Ie})();const ar={provide:p,useExisting:(0,t.Gpc)(()=>_s),multi:!0};let Ws=(()=>{class Ie{}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({}),Ie})(),qs=(()=>{class Ie{constructor(){this._accessors=[]}add(ne,Xe){this._accessors.push([ne,Xe])}remove(ne){for(let Xe=this._accessors.length-1;Xe>=0;--Xe)if(this._accessors[Xe][1]===ne)return void this._accessors.splice(Xe,1)}select(ne){this._accessors.forEach(Xe=>{this._isSameGroup(Xe,ne)&&Xe[1]!==ne&&Xe[1].fireUncheck(ne.value)})}_isSameGroup(ne,Xe){return!!ne[0].control&&ne[0]._parent===Xe._control._parent&&ne[1].name===Xe.name}}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:Ws}),Ie})(),_s=(()=>{class Ie extends g{constructor(ne,Xe,nn,Bn){super(ne,Xe),this._registry=nn,this._injector=Bn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(oe),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ne){this._state=ne===this.value,this.setProperty("checked",this._state)}registerOnChange(ne){this._fn=ne,this.onChange=()=>{ne(this.value),this._registry.select(this)}}fireUncheck(ne){this.writeValue(ne)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(qs),t.Y36(t.zs3))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("change",function(){return Xe.onChange()})("blur",function(){return Xe.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[t._Bn([ar]),t.qOj]}),Ie})();const bs=new t.OlP("NgModelWithFormControlWarning"),Ys={provide:oe,useExisting:(0,t.Gpc)(()=>ks)};let ks=(()=>{class Ie extends oe{constructor(ne,Xe,nn,Bn){super(),this._ngModelWarningConfig=Bn,this.update=new t.vpe,this._ngModelWarningSent=!1,this._setValidators(ne),this._setAsyncValidators(Xe),this.valueAccessor=Wt(0,nn)}set isDisabled(ne){}ngOnChanges(ne){if(this._isControlChanged(ne)){const Xe=ne.form.previousValue;Xe&&yt(Xe,this,!1),ft(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Bi(ne,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&yt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ne){this.viewModel=ne,this.update.emit(ne)}_isControlChanged(ne){return ne.hasOwnProperty("form")}}return Ie._ngModelWarningSentOnce=!1,Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(O,10),t.Y36(L,10),t.Y36(p,10),t.Y36(bs,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[t._Bn([Ys]),t.qOj,t.TTD]}),Ie})();const Jr={provide:G,useExisting:(0,t.Gpc)(()=>sr)};let sr=(()=>{class Ie extends G{constructor(ne,Xe){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.vpe,this._setValidators(ne),this._setAsyncValidators(Xe)}ngOnChanges(ne){this._checkFormPresent(),ne.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ne){const Xe=this.form.get(ne.path);return ft(Xe,ne),Xe.updateValueAndValidity({emitEvent:!1}),this.directives.push(ne),Xe}getControl(ne){return this.form.get(ne.path)}removeControl(ne){yt(ne.control||null,ne,!1),function Fn(Ie,ge){const ne=Ie.indexOf(ge);ne>-1&&Ie.splice(ne,1)}(this.directives,ne)}addFormGroup(ne){this._setUpFormContainer(ne)}removeFormGroup(ne){this._cleanUpFormContainer(ne)}getFormGroup(ne){return this.form.get(ne.path)}addFormArray(ne){this._setUpFormContainer(ne)}removeFormArray(ne){this._cleanUpFormContainer(ne)}getFormArray(ne){return this.form.get(ne.path)}updateModel(ne,Xe){this.form.get(ne.path).setValue(Xe)}onSubmit(ne){var Xe;return this.submitted=!0,$i(this.form,this.directives),this.ngSubmit.emit(ne),"dialog"===(null==ne||null===(Xe=ne.target)||void 0===Xe?void 0:Xe.method)}onReset(){this.resetForm()}resetForm(ne){this.form.reset(ne),this.submitted=!1}_updateDomValue(){this.directives.forEach(ne=>{const Xe=ne.control,nn=this.form.get(ne.path);Xe!==nn&&(yt(Xe||null,ne),(Ie=>Ie instanceof qe)(nn)&&(ft(nn,ne),ne.control=nn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ne){const Xe=this.form.get(ne.path);Rn(Xe,ne),Xe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ne){if(this.form){const Xe=this.form.get(ne.path);Xe&&function yi(Ie,ge){return vn(Ie,ge)}(Xe,ne)&&Xe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zt(this.form,this),this._oldForm&&vn(this._oldForm,this)}_checkFormPresent(){}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(O,10),t.Y36(L,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formGroup",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("submit",function(Bn){return Xe.onSubmit(Bn)})("reset",function(){return Xe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t._Bn([Jr]),t.qOj,t.TTD]}),Ie})();const Pi={provide:G,useExisting:(0,t.Gpc)(()=>vs)};let vs=(()=>{class Ie extends un{constructor(ne,Xe,nn){super(),this._parent=ne,this._setValidators(Xe),this._setAsyncValidators(nn)}_checkParentType(){Hn(this._parent)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(G,13),t.Y36(O,10),t.Y36(L,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[t._Bn([Pi]),t.qOj]}),Ie})();const Gn={provide:G,useExisting:(0,t.Gpc)(()=>ws)};let ws=(()=>{class Ie extends G{constructor(ne,Xe,nn){super(),this._parent=ne,this._setValidators(Xe),this._setAsyncValidators(nn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ii(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Hn(this._parent)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(G,13),t.Y36(O,10),t.Y36(L,10))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[t._Bn([Gn]),t.qOj]}),Ie})();function Hn(Ie){return!(Ie instanceof vs||Ie instanceof sr||Ie instanceof ws)}const yr={provide:oe,useExisting:(0,t.Gpc)(()=>Mr)};let Mr=(()=>{class Ie extends oe{constructor(ne,Xe,nn,Bn,Wi){super(),this._ngModelWarningConfig=Wi,this._added=!1,this.update=new t.vpe,this._ngModelWarningSent=!1,this._parent=ne,this._setValidators(Xe),this._setAsyncValidators(nn),this.valueAccessor=Wt(0,Bn)}set isDisabled(ne){}ngOnChanges(ne){this._added||this._setUpControl(),Bi(ne,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ne){this.viewModel=ne,this.update.emit(ne)}get path(){return ii(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Ie._ngModelWarningSentOnce=!1,Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(G,13),t.Y36(O,10),t.Y36(L,10),t.Y36(p,10),t.Y36(bs,8))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[t._Bn([yr]),t.qOj,t.TTD]}),Ie})();const os={provide:p,useExisting:(0,t.Gpc)(()=>Cr),multi:!0};function zr(Ie,ge){return null==Ie?`${ge}`:(ge&&"object"==typeof ge&&(ge="Object"),`${Ie}: ${ge}`.slice(0,50))}let Cr=(()=>{class Ie extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ne){this._compareWith=ne}writeValue(ne){this.value=ne;const nn=zr(this._getOptionId(ne),ne);this.setProperty("value",nn)}registerOnChange(ne){this.onChange=Xe=>{this.value=this._getOptionValue(Xe),ne(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ne){for(const Xe of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Xe),ne))return Xe;return null}_getOptionValue(ne){const Xe=function Wr(Ie){return Ie.split(":")[0]}(ne);return this._optionMap.has(Xe)?this._optionMap.get(Xe):ne}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("change",function(Bn){return Xe.onChange(Bn.target.value)})("blur",function(){return Xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([os]),t.qOj]}),Ie})(),cs=(()=>{class Ie{constructor(ne,Xe,nn){this._element=ne,this._renderer=Xe,this._select=nn,this._select&&(this.id=this._select._registerOption())}set ngValue(ne){null!=this._select&&(this._select._optionMap.set(this.id,ne),this._setElementValue(zr(this.id,ne)),this._select.writeValue(this._select.value))}set value(ne){this._setElementValue(ne),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ne){this._renderer.setProperty(this._element.nativeElement,"value",ne)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Cr,9))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ie})();const nr={provide:p,useExisting:(0,t.Gpc)(()=>Oi),multi:!0};function br(Ie,ge){return null==Ie?`${ge}`:("string"==typeof ge&&(ge=`'${ge}'`),ge&&"object"==typeof ge&&(ge="Object"),`${Ie}: ${ge}`.slice(0,50))}let Oi=(()=>{class Ie extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ne){this._compareWith=ne}writeValue(ne){let Xe;if(this.value=ne,Array.isArray(ne)){const nn=ne.map(Bn=>this._getOptionId(Bn));Xe=(Bn,Wi)=>{Bn._setSelected(nn.indexOf(Wi.toString())>-1)}}else Xe=(nn,Bn)=>{nn._setSelected(!1)};this._optionMap.forEach(Xe)}registerOnChange(ne){this.onChange=Xe=>{const nn=[],Bn=Xe.selectedOptions;if(void 0!==Bn){const Wi=Bn;for(let kr=0;kr<Wi.length;kr++){const Yi=this._getOptionValue(Wi[kr].value);nn.push(Yi)}}else{const Wi=Xe.options;for(let kr=0;kr<Wi.length;kr++){const Pr=Wi[kr];if(Pr.selected){const Yi=this._getOptionValue(Pr.value);nn.push(Yi)}}}this.value=nn,ne(nn)}}_registerOption(ne){const Xe=(this._idCounter++).toString();return this._optionMap.set(Xe,ne),Xe}_getOptionId(ne){for(const Xe of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Xe)._value,ne))return Xe;return null}_getOptionValue(ne){const Xe=function us(Ie){return Ie.split(":")[0]}(ne);return this._optionMap.has(Xe)?this._optionMap.get(Xe)._value:ne}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ne,Xe){1&ne&&t.NdJ("change",function(Bn){return Xe.onChange(Bn.target)})("blur",function(){return Xe.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([nr]),t.qOj]}),Ie})(),Xr=(()=>{class Ie{constructor(ne,Xe,nn){this._element=ne,this._renderer=Xe,this._select=nn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ne){null!=this._select&&(this._value=ne,this._setElementValue(br(this.id,ne)),this._select.writeValue(this._select.value))}set value(ne){this._select?(this._value=ne,this._setElementValue(br(this.id,ne)),this._select.writeValue(this._select.value)):this._setElementValue(ne)}_setElementValue(ne){this._renderer.setProperty(this._element.nativeElement,"value",ne)}_setSelected(ne){this._renderer.setProperty(this._element.nativeElement,"selected",ne)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Oi,9))},Ie.\u0275dir=t.lG2({type:Ie,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Ie})();function ps(Ie){return"number"==typeof Ie?Ie:parseInt(Ie,10)}let Zr=(()=>{class Ie{constructor(){this._validator=ce}ngOnChanges(ne){if(this.inputName in ne){const Xe=this.normalizeInput(ne[this.inputName].currentValue);this._enabled=this.enabled(Xe),this._validator=this._enabled?this.createValidator(Xe):ce,this._onChange&&this._onChange()}}validate(ne){return this._validator(ne)}registerOnValidatorChange(ne){this._onChange=ne}enabled(ne){return null!=ne}}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275dir=t.lG2({type:Ie,features:[t.TTD]}),Ie})();const As={provide:O,useExisting:(0,t.Gpc)(()=>co),multi:!0};let co=(()=>{class Ie extends Zr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ne=>function Os(Ie){return"number"==typeof Ie?Ie:parseFloat(Ie)}(ne),this.createValidator=ne=>q(ne)}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ne,Xe){2&ne&&t.uIk("min",Xe._enabled?Xe.min:null)},inputs:{min:"min"},features:[t._Bn([As]),t.qOj]}),Ie})();const Gr={provide:O,useExisting:(0,t.Gpc)(()=>Ps),multi:!0};let Ps=(()=>{class Ie extends Zr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.D6c,this.createValidator=ne=>H}enabled(ne){return ne}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ne,Xe){2&ne&&t.uIk("required",Xe._enabled?"":null)},inputs:{required:"required"},features:[t._Bn([Gr]),t.qOj]}),Ie})();const mo={provide:O,useExisting:(0,t.Gpc)(()=>Or),multi:!0};let Or=(()=>{class Ie extends Zr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=ne=>ps(ne),this.createValidator=ne=>E(ne)}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ne,Xe){2&ne&&t.uIk("minlength",Xe._enabled?Xe.minlength:null)},inputs:{minlength:"minlength"},features:[t._Bn([mo]),t.qOj]}),Ie})();const go={provide:O,useExisting:(0,t.Gpc)(()=>Fi),multi:!0};let Fi=(()=>{class Ie extends Zr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ne=>ps(ne),this.createValidator=ne=>X(ne)}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275dir=t.lG2({type:Ie,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ne,Xe){2&ne&&t.uIk("maxlength",Xe._enabled?Xe.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t._Bn([go]),t.qOj]}),Ie})(),Qr=(()=>{class Ie{}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({imports:[Ws]}),Ie})(),uo=(()=>{class Ie{}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({imports:[Qr]}),Ie})(),Ni=(()=>{class Ie{static withConfig(ne){return{ngModule:Ie,providers:[{provide:bs,useValue:ne.warnOnNgModelWithFormControl}]}}}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275mod=t.oAB({type:Ie}),Ie.\u0275inj=t.cJS({imports:[Qr]}),Ie})();class Ar extends ci{constructor(ge,ne,Xe){super(St(ne),gn(Xe,ne)),this.controls=ge,this._initObservables(),this._setUpdateStrategy(ne),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ge){return this.controls[this._adjustIndex(ge)]}push(ge,ne={}){this.controls.push(ge),this._registerControl(ge),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}insert(ge,ne,Xe={}){this.controls.splice(ge,0,ne),this._registerControl(ne),this.updateValueAndValidity({emitEvent:Xe.emitEvent})}removeAt(ge,ne={}){let Xe=this._adjustIndex(ge);Xe<0&&(Xe=0),this.controls[Xe]&&this.controls[Xe]._registerOnCollectionChange(()=>{}),this.controls.splice(Xe,1),this.updateValueAndValidity({emitEvent:ne.emitEvent})}setControl(ge,ne,Xe={}){let nn=this._adjustIndex(ge);nn<0&&(nn=0),this.controls[nn]&&this.controls[nn]._registerOnCollectionChange(()=>{}),this.controls.splice(nn,1),ne&&(this.controls.splice(nn,0,ne),this._registerControl(ne)),this.updateValueAndValidity({emitEvent:Xe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ge,ne={}){ui(this,0,ge),ge.forEach((Xe,nn)=>{qn(this,!1,nn),this.at(nn).setValue(Xe,{onlySelf:!0,emitEvent:ne.emitEvent})}),this.updateValueAndValidity(ne)}patchValue(ge,ne={}){null!=ge&&(ge.forEach((Xe,nn)=>{this.at(nn)&&this.at(nn).patchValue(Xe,{onlySelf:!0,emitEvent:ne.emitEvent})}),this.updateValueAndValidity(ne))}reset(ge=[],ne={}){this._forEachChild((Xe,nn)=>{Xe.reset(ge[nn],{onlySelf:!0,emitEvent:ne.emitEvent})}),this._updatePristine(ne),this._updateTouched(ne),this.updateValueAndValidity(ne)}getRawValue(){return this.controls.map(ge=>ge.getRawValue())}clear(ge={}){this.controls.length<1||(this._forEachChild(ne=>ne._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ge.emitEvent}))}_adjustIndex(ge){return ge<0?ge+this.length:ge}_syncPendingControls(){let ge=this.controls.reduce((ne,Xe)=>!!Xe._syncPendingControls()||ne,!1);return ge&&this.updateValueAndValidity({onlySelf:!0}),ge}_forEachChild(ge){this.controls.forEach((ne,Xe)=>{ge(ne,Xe)})}_updateValue(){this.value=this.controls.filter(ge=>ge.enabled||this.disabled).map(ge=>ge.value)}_anyControls(ge){return this.controls.some(ne=>ne.enabled&&ge(ne))}_setUpControls(){this._forEachChild(ge=>this._registerControl(ge))}_allControlsDisabled(){for(const ge of this.controls)if(ge.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ge){ge.setParent(this),ge._registerOnCollectionChange(this._onCollectionChange)}_find(ge){var ne;return null!==(ne=this.at(ge))&&void 0!==ne?ne:null}}function _n(Ie){return!!Ie&&(void 0!==Ie.asyncValidators||void 0!==Ie.validators||void 0!==Ie.updateOn)}let oi=(()=>{class Ie{constructor(){this.useNonNullable=!1}get nonNullable(){const ne=new Ie;return ne.useNonNullable=!0,ne}group(ne,Xe=null){const nn=this._reduceControls(ne);let Bn={};return _n(Xe)?Bn=Xe:null!==Xe&&(Bn.validators=Xe.validator,Bn.asyncValidators=Xe.asyncValidator),new jt(nn,Bn)}record(ne,Xe=null){const nn=this._reduceControls(ne);return new Pn(nn,Xe)}control(ne,Xe,nn){let Bn={};return this.useNonNullable?(_n(Xe)?Bn=Xe:(Bn.validators=Xe,Bn.asyncValidators=nn),new qe(ne,{...Bn,nonNullable:!0})):new qe(ne,Xe,nn)}array(ne,Xe,nn){const Bn=ne.map(Wi=>this._createControl(Wi));return new Ar(Bn,Xe,nn)}_reduceControls(ne){const Xe={};return Object.keys(ne).forEach(nn=>{Xe[nn]=this._createControl(ne[nn])}),Xe}_createControl(ne){return ne instanceof qe||ne instanceof ci?ne:Array.isArray(ne)?this.control(ne[0],ne.length>1?ne[1]:null,ne.length>2?ne[2]:null):this.control(ne)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:Ni}),Ie})(),di=(()=>{class Ie extends oi{group(ne,Xe=null){return super.group(ne,Xe)}control(ne,Xe,nn){return super.control(ne,Xe,nn)}array(ne,Xe,nn){return super.array(ne,Xe,nn)}}return Ie.\u0275fac=function(){let ge;return function(Xe){return(ge||(ge=t.n5z(Ie)))(Xe||Ie)}}(),Ie.\u0275prov=t.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:Ni}),Ie})()},1481:(st,ye,f)=>{"use strict";f.d(ye,{Dx:()=>pt,H7:()=>In,b2:()=>je,q6:()=>Be,se:()=>_e});var t=f(6895),e=f(4650);class m extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class w extends m{static makeCurrent(){(0,t.HT)(new w)}onAndCancel(yt,ht,xt){return yt.addEventListener(ht,xt,!1),()=>{yt.removeEventListener(ht,xt,!1)}}dispatchEvent(yt,ht){yt.dispatchEvent(ht)}remove(yt){yt.parentNode&&yt.parentNode.removeChild(yt)}createElement(yt,ht){return(ht=ht||this.getDefaultDocument()).createElement(yt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(yt){return yt.nodeType===Node.ELEMENT_NODE}isShadowRoot(yt){return yt instanceof DocumentFragment}getGlobalEventTarget(yt,ht){return"window"===ht?window:"document"===ht?yt:"body"===ht?yt.body:null}getBaseHref(yt){const ht=function C(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==ht?null:function p(ft){g=g||document.createElement("a"),g.setAttribute("href",ft);const yt=g.pathname;return"/"===yt.charAt(0)?yt:`/${yt}`}(ht)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(yt){return(0,t.Mx)(document.cookie,yt)}}let g,b=null;const A=new e.OlP("TRANSITION_ID"),R=[{provide:e.ip1,useFactory:function _(ft,yt,ht){return()=>{ht.get(e.CZH).donePromise.then(()=>{const xt=(0,t.q)(),zt=yt.querySelectorAll(`style[ng-transition="${ft}"]`);for(let vn=0;vn<zt.length;vn++)xt.remove(zt[vn])})}},deps:[A,t.K0,e.zs3],multi:!0}];let a=(()=>{class ft{build(){return new XMLHttpRequest}}return ft.\u0275fac=function(ht){return new(ht||ft)},ft.\u0275prov=e.Yz7({token:ft,factory:ft.\u0275fac}),ft})();const k=new e.OlP("EventManagerPlugins");let P=(()=>{class ft{constructor(ht,xt){this._zone=xt,this._eventNameToPlugin=new Map,ht.forEach(zt=>zt.manager=this),this._plugins=ht.slice().reverse()}addEventListener(ht,xt,zt){return this._findPluginFor(xt).addEventListener(ht,xt,zt)}addGlobalEventListener(ht,xt,zt){return this._findPluginFor(xt).addGlobalEventListener(ht,xt,zt)}getZone(){return this._zone}_findPluginFor(ht){const xt=this._eventNameToPlugin.get(ht);if(xt)return xt;const zt=this._plugins;for(let vn=0;vn<zt.length;vn++){const Zt=zt[vn];if(Zt.supports(ht))return this._eventNameToPlugin.set(ht,Zt),Zt}throw new Error(`No event manager plugin found for event ${ht}`)}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(k),e.LFG(e.R0b))},ft.\u0275prov=e.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class U{constructor(yt){this._doc=yt}addGlobalEventListener(yt,ht,xt){const zt=(0,t.q)().getGlobalEventTarget(this._doc,yt);if(!zt)throw new Error(`Unsupported event target ${zt} for event ${ht}`);return this.addEventListener(zt,ht,xt)}}let J=(()=>{class ft{constructor(){this._stylesSet=new Set}addStyles(ht){const xt=new Set;ht.forEach(zt=>{this._stylesSet.has(zt)||(this._stylesSet.add(zt),xt.add(zt))}),this.onStylesAdded(xt)}onStylesAdded(ht){}getAllStyles(){return Array.from(this._stylesSet)}}return ft.\u0275fac=function(ht){return new(ht||ft)},ft.\u0275prov=e.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),O=(()=>{class ft extends J{constructor(ht){super(),this._doc=ht,this._hostNodes=new Map,this._hostNodes.set(ht.head,[])}_addStylesToHost(ht,xt,zt){ht.forEach(vn=>{const Zt=this._doc.createElement("style");Zt.textContent=vn,zt.push(xt.appendChild(Zt))})}addHost(ht){const xt=[];this._addStylesToHost(this._stylesSet,ht,xt),this._hostNodes.set(ht,xt)}removeHost(ht){const xt=this._hostNodes.get(ht);xt&&xt.forEach(L),this._hostNodes.delete(ht)}onStylesAdded(ht){this._hostNodes.forEach((xt,zt)=>{this._addStylesToHost(ht,zt,xt)})}ngOnDestroy(){this._hostNodes.forEach(ht=>ht.forEach(L))}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(t.K0))},ft.\u0275prov=e.Yz7({token:ft,factory:ft.\u0275fac}),ft})();function L(ft){(0,t.q)().remove(ft)}const F={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},V=/%COMP%/g;function X(ft,yt,ht){for(let xt=0;xt<yt.length;xt++){let zt=yt[xt];Array.isArray(zt)?X(ft,zt,ht):(zt=zt.replace(V,ft),ht.push(zt))}return ht}function Q(ft){return yt=>{if("__ngUnwrap__"===yt)return ft;!1===ft(yt)&&(yt.preventDefault(),yt.returnValue=!1)}}let _e=(()=>{class ft{constructor(ht,xt,zt){this.eventManager=ht,this.sharedStylesHost=xt,this.appId=zt,this.rendererByCompId=new Map,this.defaultRenderer=new Te(ht)}createRenderer(ht,xt){if(!ht||!xt)return this.defaultRenderer;switch(xt.encapsulation){case e.ifc.Emulated:{let zt=this.rendererByCompId.get(xt.id);return zt||(zt=new Ge(this.eventManager,this.sharedStylesHost,xt,this.appId),this.rendererByCompId.set(xt.id,zt)),zt.applyToHost(ht),zt}case 1:case e.ifc.ShadowDom:return new we(this.eventManager,this.sharedStylesHost,ht,xt);default:if(!this.rendererByCompId.has(xt.id)){const zt=X(xt.id,xt.styles,[]);this.sharedStylesHost.addStyles(zt),this.rendererByCompId.set(xt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(P),e.LFG(O),e.LFG(e.AFp))},ft.\u0275prov=e.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class Te{constructor(yt){this.eventManager=yt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(yt,ht){return ht?document.createElementNS(F[ht]||ht,yt):document.createElement(yt)}createComment(yt){return document.createComment(yt)}createText(yt){return document.createTextNode(yt)}appendChild(yt,ht){(xe(yt)?yt.content:yt).appendChild(ht)}insertBefore(yt,ht,xt){yt&&(xe(yt)?yt.content:yt).insertBefore(ht,xt)}removeChild(yt,ht){yt&&yt.removeChild(ht)}selectRootElement(yt,ht){let xt="string"==typeof yt?document.querySelector(yt):yt;if(!xt)throw new Error(`The selector "${yt}" did not match any elements`);return ht||(xt.textContent=""),xt}parentNode(yt){return yt.parentNode}nextSibling(yt){return yt.nextSibling}setAttribute(yt,ht,xt,zt){if(zt){ht=zt+":"+ht;const vn=F[zt];vn?yt.setAttributeNS(vn,ht,xt):yt.setAttribute(ht,xt)}else yt.setAttribute(ht,xt)}removeAttribute(yt,ht,xt){if(xt){const zt=F[xt];zt?yt.removeAttributeNS(zt,ht):yt.removeAttribute(`${xt}:${ht}`)}else yt.removeAttribute(ht)}addClass(yt,ht){yt.classList.add(ht)}removeClass(yt,ht){yt.classList.remove(ht)}setStyle(yt,ht,xt,zt){zt&(e.JOm.DashCase|e.JOm.Important)?yt.style.setProperty(ht,xt,zt&e.JOm.Important?"important":""):yt.style[ht]=xt}removeStyle(yt,ht,xt){xt&e.JOm.DashCase?yt.style.removeProperty(ht):yt.style[ht]=""}setProperty(yt,ht,xt){yt[ht]=xt}setValue(yt,ht){yt.nodeValue=ht}listen(yt,ht,xt){return"string"==typeof yt?this.eventManager.addGlobalEventListener(yt,ht,Q(xt)):this.eventManager.addEventListener(yt,ht,Q(xt))}}function xe(ft){return"TEMPLATE"===ft.tagName&&void 0!==ft.content}class Ge extends Te{constructor(yt,ht,xt,zt){super(yt),this.component=xt;const vn=X(zt+"-"+xt.id,xt.styles,[]);ht.addStyles(vn),this.contentAttr=function z(ft){return"_ngcontent-%COMP%".replace(V,ft)}(zt+"-"+xt.id),this.hostAttr=function E(ft){return"_nghost-%COMP%".replace(V,ft)}(zt+"-"+xt.id)}applyToHost(yt){super.setAttribute(yt,this.hostAttr,"")}createElement(yt,ht){const xt=super.createElement(yt,ht);return super.setAttribute(xt,this.contentAttr,""),xt}}class we extends Te{constructor(yt,ht,xt,zt){super(yt),this.sharedStylesHost=ht,this.hostEl=xt,this.shadowRoot=xt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vn=X(zt.id,zt.styles,[]);for(let Zt=0;Zt<vn.length;Zt++){const ti=document.createElement("style");ti.textContent=vn[Zt],this.shadowRoot.appendChild(ti)}}nodeOrShadowRoot(yt){return yt===this.hostEl?this.shadowRoot:yt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(yt,ht){return super.appendChild(this.nodeOrShadowRoot(yt),ht)}insertBefore(yt,ht,xt){return super.insertBefore(this.nodeOrShadowRoot(yt),ht,xt)}removeChild(yt,ht){return super.removeChild(this.nodeOrShadowRoot(yt),ht)}parentNode(yt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(yt)))}}let Ye=(()=>{class ft extends U{constructor(ht){super(ht)}supports(ht){return!0}addEventListener(ht,xt,zt){return ht.addEventListener(xt,zt,!1),()=>this.removeEventListener(ht,xt,zt)}removeEventListener(ht,xt,zt){return ht.removeEventListener(xt,zt)}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(t.K0))},ft.\u0275prov=e.Yz7({token:ft,factory:ft.\u0275fac}),ft})();const rt=["alt","control","meta","shift"],Ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={alt:ft=>ft.altKey,control:ft=>ft.ctrlKey,meta:ft=>ft.metaKey,shift:ft=>ft.shiftKey};let dt=(()=>{class ft extends U{constructor(ht){super(ht)}supports(ht){return null!=ft.parseEventName(ht)}addEventListener(ht,xt,zt){const vn=ft.parseEventName(xt),Zt=ft.eventCallback(vn.fullKey,zt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(ht,vn.domEventName,Zt))}static parseEventName(ht){const xt=ht.toLowerCase().split("."),zt=xt.shift();if(0===xt.length||"keydown"!==zt&&"keyup"!==zt)return null;const vn=ft._normalizeKey(xt.pop());let Zt="",ti=xt.indexOf("code");if(ti>-1&&(xt.splice(ti,1),Zt="code."),rt.forEach(vr=>{const Rn=xt.indexOf(vr);Rn>-1&&(xt.splice(Rn,1),Zt+=vr+".")}),Zt+=vn,0!=xt.length||0===vn.length)return null;const vi={};return vi.domEventName=zt,vi.fullKey=Zt,vi}static matchEventFullKeyCode(ht,xt){let zt=Ct[ht.key]||ht.key,vn="";return xt.indexOf("code.")>-1&&(zt=ht.code,vn="code."),!(null==zt||!zt)&&(zt=zt.toLowerCase()," "===zt?zt="space":"."===zt&&(zt="dot"),rt.forEach(Zt=>{Zt!==zt&&(0,at[Zt])(ht)&&(vn+=Zt+".")}),vn+=zt,vn===xt)}static eventCallback(ht,xt,zt){return vn=>{ft.matchEventFullKeyCode(vn,ht)&&zt.runGuarded(()=>xt(vn))}}static _normalizeKey(ht){return"esc"===ht?"escape":ht}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(t.K0))},ft.\u0275prov=e.Yz7({token:ft,factory:ft.\u0275fac}),ft})();const Be=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:t.bD},{provide:e.g9A,useValue:function Y(){w.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function oe(){return(0,e.RDi)(document),document},deps:[]}]),o=new e.OlP(""),De=[{provide:e.rWj,useClass:class N{addToWindow(yt){e.dqk.getAngularTestability=(xt,zt=!0)=>{const vn=yt.findTestabilityInTree(xt,zt);if(null==vn)throw new Error("Could not find testability for element.");return vn},e.dqk.getAllAngularTestabilities=()=>yt.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>yt.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(xt=>{const zt=e.dqk.getAllAngularTestabilities();let vn=zt.length,Zt=!1;const ti=function(vi){Zt=Zt||vi,vn--,0==vn&&xt(Zt)};zt.forEach(function(vi){vi.whenStable(ti)})})}findTestabilityInTree(yt,ht,xt){return null==ht?null:yt.getTestability(ht)??(xt?(0,t.q)().isShadowRoot(ht)?this.findTestabilityInTree(yt,ht.host,!0):this.findTestabilityInTree(yt,ht.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],be=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function G(){return new e.qLn},deps:[]},{provide:k,useClass:Ye,multi:!0,deps:[t.K0,e.R0b,e.Lbi]},{provide:k,useClass:dt,multi:!0,deps:[t.K0]},{provide:_e,useClass:_e,deps:[P,O,e.AFp]},{provide:e.FYo,useExisting:_e},{provide:J,useExisting:O},{provide:O,useClass:O,deps:[t.K0]},{provide:P,useClass:P,deps:[k,e.R0b]},{provide:t.JF,useClass:a,deps:[]},[]];let je=(()=>{class ft{constructor(ht){}static withServerTransition(ht){return{ngModule:ft,providers:[{provide:e.AFp,useValue:ht.appId},{provide:A,useExisting:e.AFp},R]}}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(o,12))},ft.\u0275mod=e.oAB({type:ft}),ft.\u0275inj=e.cJS({providers:[...be,...De],imports:[t.ez,e.hGG]}),ft})(),pt=(()=>{class ft{constructor(ht){this._doc=ht}getTitle(){return this._doc.title}setTitle(ht){this._doc.title=ht||""}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(t.K0))},ft.\u0275prov=e.Yz7({token:ft,factory:function(ht){let xt=null;return xt=ht?new ht:function bt(){return new pt((0,e.LFG)(t.K0))}(),xt},providedIn:"root"}),ft})();typeof window<"u"&&window;let In=(()=>{class ft{}return ft.\u0275fac=function(ht){return new(ht||ft)},ft.\u0275prov=e.Yz7({token:ft,factory:function(ht){let xt=null;return xt=ht?new(ht||ft):e.LFG(zn),xt},providedIn:"root"}),ft})(),zn=(()=>{class ft extends In{constructor(ht){super(),this._doc=ht}sanitize(ht,xt){if(null==xt)return null;switch(ht){case e.q3G.NONE:return xt;case e.q3G.HTML:return(0,e.qzn)(xt,"HTML")?(0,e.z3N)(xt):(0,e.EiD)(this._doc,String(xt)).toString();case e.q3G.STYLE:return(0,e.qzn)(xt,"Style")?(0,e.z3N)(xt):xt;case e.q3G.SCRIPT:if((0,e.qzn)(xt,"Script"))return(0,e.z3N)(xt);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.qzn)(xt,"URL")?(0,e.z3N)(xt):(0,e.mCW)(String(xt));case e.q3G.RESOURCE_URL:if((0,e.qzn)(xt,"ResourceURL"))return(0,e.z3N)(xt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ht} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ht){return(0,e.JVY)(ht)}bypassSecurityTrustStyle(ht){return(0,e.L6k)(ht)}bypassSecurityTrustScript(ht){return(0,e.eBb)(ht)}bypassSecurityTrustUrl(ht){return(0,e.LAX)(ht)}bypassSecurityTrustResourceUrl(ht){return(0,e.pB0)(ht)}}return ft.\u0275fac=function(ht){return new(ht||ft)(e.LFG(t.K0))},ft.\u0275prov=e.Yz7({token:ft,factory:function(ht){let xt=null;return xt=ht?new ht:function Pn(ft){return new zn(ft.get(t.K0))}(e.LFG(e.zs3)),xt},providedIn:"root"}),ft})()},8185:(st,ye,f)=>{"use strict";f.d(ye,{gz:()=>sr,y6:()=>ps,gk:()=>hn,m2:()=>un,OD:()=>Pt,cx:()=>Ao,Z6:()=>Ks,wN:()=>to,F0:()=>nt,rH:()=>Bt,Od:()=>Un,yS:()=>on,Bz:()=>fa,lC:()=>Zr,oI:()=>Ee,Hx:()=>wn});var t=f(4650),e=f(2076),m=f(9646),w=f(1135),b=f(6805),C=f(9841),g=f(7272),p=f(9770),A=f(9635),_=f(2843),R=f(9751),N=f(515),a=f(727),k=f(4482),P=f(5403);function U(){return(0,k.e)((s,c)=>{let v=null;s._refCount++;const S=(0,P.x)(c,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(v=null);const D=s._connection,Z=v;v=null,D&&(!Z||D===Z)&&D.unsubscribe(),c.unsubscribe()});s.subscribe(S),S.closed||(v=s.connect())})}class J extends R.y{constructor(c,v){super(),this.source=c,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,k.A)(c)&&(this.lift=c.lift)}_subscribe(c){return this.getSubject().subscribe(c)}getSubject(){const c=this._subject;return(!c||c.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:c}=this;this._subject=this._connection=null,c?.unsubscribe()}connect(){let c=this._connection;if(!c){c=this._connection=new a.w0;const v=this.getSubject();c.add(this.source.subscribe((0,P.x)(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),c.closed&&(this._connection=null,c=a.w0.EMPTY)}return c}refCount(){return U()(this)}}var O=f(7579),L=f(6895),F=f(4004),V=f(3900),q=f(5698),ie=f(8675),H=f(9300),$=f(5577),z=f(590),E=f(4351),X=f(8505),Q=f(262),ce=f(7359);function _e(s,c){return(0,k.e)((0,ce.U)(s,c,arguments.length>=2,!0))}function Te(s){return s<=0?()=>N.E:(0,k.e)((c,v)=>{let S=[];c.subscribe((0,P.x)(v,D=>{S.push(D),s<S.length&&S.shift()},()=>{for(const D of S)v.next(D);v.complete()},void 0,()=>{S=null}))})}var ve=f(8068),Ke=f(6590),xe=f(4671);function Ge(s,c){const v=arguments.length>=2;return S=>S.pipe(s?(0,H.h)((D,Z)=>s(D,Z,S)):xe.y,Te(1),v?(0,Ke.d)(c):(0,ve.T)(()=>new b.K))}var Ye=f(9718);function rt(s){return(0,k.e)((c,v)=>{try{c.subscribe(v)}finally{v.add(s)}})}var Ct=f(8189),at=f(1481);const dt="primary",ct=Symbol("RouteTitle");class Gt{constructor(c){this.params=c||{}}has(c){return Object.prototype.hasOwnProperty.call(this.params,c)}get(c){if(this.has(c)){const v=this.params[c];return Array.isArray(v)?v[0]:v}return null}getAll(c){if(this.has(c)){const v=this.params[c];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function ln(s){return new Gt(s)}function Mt(s,c,v){const S=v.path.split("/");if(S.length>s.length||"full"===v.pathMatch&&(c.hasChildren()||S.length<s.length))return null;const D={};for(let Z=0;Z<S.length;Z++){const re=S[Z],de=s[Z];if(re.startsWith(":"))D[re.substring(1)]=de;else if(re!==de.path)return null}return{consumed:s.slice(0,S.length),posParams:D}}function Y(s,c){const v=s?Object.keys(s):void 0,S=c?Object.keys(c):void 0;if(!v||!S||v.length!=S.length)return!1;let D;for(let Z=0;Z<v.length;Z++)if(D=v[Z],!G(s[D],c[D]))return!1;return!0}function G(s,c){if(Array.isArray(s)&&Array.isArray(c)){if(s.length!==c.length)return!1;const v=[...s].sort(),S=[...c].sort();return v.every((D,Z)=>S[Z]===D)}return s===c}function oe(s){return Array.prototype.concat.apply([],s)}function Ve(s){return s.length>0?s[s.length-1]:null}function o(s,c){for(const v in s)s.hasOwnProperty(v)&&c(s[v],v)}function De(s){return(0,t.CqO)(s)?s:(0,t.QGY)(s)?(0,e.D)(Promise.resolve(s)):(0,m.of)(s)}const et={exact:function pt(s,c,v){if(!Et(s.segments,c.segments)||!B(s.segments,c.segments,v)||s.numberOfChildren!==c.numberOfChildren)return!1;for(const S in c.children)if(!s.children[S]||!pt(s.children[S],c.children[S],v))return!1;return!0},subset:ae},Qe={exact:function bt(s,c){return Y(s,c)},subset:function He(s,c){return Object.keys(c).length<=Object.keys(s).length&&Object.keys(c).every(v=>G(s[v],c[v]))},ignored:()=>!0};function We(s,c,v){return et[v.paths](s.root,c.root,v.matrixParams)&&Qe[v.queryParams](s.queryParams,c.queryParams)&&!("exact"===v.fragment&&s.fragment!==c.fragment)}function ae(s,c,v){return te(s,c,c.segments,v)}function te(s,c,v,S){if(s.segments.length>v.length){const D=s.segments.slice(0,v.length);return!(!Et(D,v)||c.hasChildren()||!B(D,v,S))}if(s.segments.length===v.length){if(!Et(s.segments,v)||!B(s.segments,v,S))return!1;for(const D in c.children)if(!s.children[D]||!ae(s.children[D],c.children[D],S))return!1;return!0}{const D=v.slice(0,s.segments.length),Z=v.slice(s.segments.length);return!!(Et(s.segments,D)&&B(s.segments,D,S)&&s.children[dt])&&te(s.children[dt],c,Z,S)}}function B(s,c,v){return c.every((S,D)=>Qe[v](s[D].parameters,S.parameters))}class ee{constructor(c,v,S){this.root=c,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class Re{constructor(c,v){this.segments=c,this.children=v,this.parent=null,o(v,(S,D)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cn(this)}}class tt{constructor(c,v){this.path=c,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=ln(this.parameters)),this._parameterMap}toString(){return qn(this)}}function Et(s,c){return s.length===c.length&&s.every((v,S)=>v.path===c[S].path)}let wn=(()=>{class s{}return s.\u0275fac=function(v){return new(v||s)},s.\u0275prov=t.Yz7({token:s,factory:function(){return new rn},providedIn:"root"}),s})();class rn{parse(c){const v=new ft(c);return new ee(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(c){const v=`/${lt(c.root,!0)}`,S=function ci(s){const c=Object.keys(s).map(v=>{const S=s[v];return Array.isArray(S)?S.map(D=>`${St(v)}=${St(D)}`).join("&"):`${St(v)}=${St(S)}`}).filter(v=>!!v);return c.length?`?${c.join("&")}`:""}(c.queryParams);return`${v}${S}${"string"==typeof c.fragment?`#${function qt(s){return encodeURI(s)}(c.fragment)}`:""}`}}const fn=new rn;function cn(s){return s.segments.map(c=>qn(c)).join("/")}function lt(s,c){if(!s.hasChildren())return cn(s);if(c){const v=s.children[dt]?lt(s.children[dt],!1):"",S=[];return o(s.children,(D,Z)=>{Z!==dt&&S.push(`${Z}:${lt(D,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function Kt(s,c){let v=[];return o(s.children,(S,D)=>{D===dt&&(v=v.concat(c(S,D)))}),o(s.children,(S,D)=>{D!==dt&&(v=v.concat(c(S,D)))}),v}(s,(S,D)=>D===dt?[lt(s.children[dt],!1)]:[`${D}:${lt(S,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[dt]?`${cn(s)}/${v[0]}`:`${cn(s)}/(${v.join("//")})`}}function tn(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function St(s){return tn(s).replace(/%3B/gi,";")}function gn(s){return tn(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vn(s){return decodeURIComponent(s)}function Mn(s){return Vn(s.replace(/\+/g,"%20"))}function qn(s){return`${gn(s.path)}${function ui(s){return Object.keys(s).map(c=>`;${gn(c)}=${gn(s[c])}`).join("")}(s.parameters)}`}const jt=/^[^\/()?;=#]+/;function $n(s){const c=s.match(jt);return c?c[0]:""}const In=/^[^=?&#]+/,zn=/^[^&#]+/;class ft{constructor(c){this.url=c,this.remaining=c}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const c={};if(this.consumeOptional("?"))do{this.parseQueryParam(c)}while(this.consumeOptional("&"));return c}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const c=[];for(this.peekStartsWith("(")||c.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),c.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(c.length>0||Object.keys(v).length>0)&&(S[dt]=new Re(c,v)),S}parseSegment(){const c=$n(this.remaining);if(""===c&&this.peekStartsWith(";"))throw new t.vHH(4009,!1);return this.capture(c),new tt(Vn(c),this.parseMatrixParams())}parseMatrixParams(){const c={};for(;this.consumeOptional(";");)this.parseParam(c);return c}parseParam(c){const v=$n(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const D=$n(this.remaining);D&&(S=D,this.capture(S))}c[Vn(v)]=Vn(S)}parseQueryParam(c){const v=function Pn(s){const c=s.match(In);return c?c[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const re=function ii(s){const c=s.match(zn);return c?c[0]:""}(this.remaining);re&&(S=re,this.capture(S))}const D=Mn(v),Z=Mn(S);if(c.hasOwnProperty(D)){let re=c[D];Array.isArray(re)||(re=[re],c[D]=re),re.push(Z)}else c[D]=Z}parseParens(c){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=$n(this.remaining),D=this.remaining[S.length];if("/"!==D&&")"!==D&&";"!==D)throw new t.vHH(4010,!1);let Z;S.indexOf(":")>-1?(Z=S.slice(0,S.indexOf(":")),this.capture(Z),this.capture(":")):c&&(Z=dt);const re=this.parseChildren();v[Z]=1===Object.keys(re).length?re[dt]:new Re([],re),this.consumeOptional("//")}return v}peekStartsWith(c){return this.remaining.startsWith(c)}consumeOptional(c){return!!this.peekStartsWith(c)&&(this.remaining=this.remaining.substring(c.length),!0)}capture(c){if(!this.consumeOptional(c))throw new t.vHH(4011,!1)}}function yt(s){return s.segments.length>0?new Re([],{[dt]:s}):s}function ht(s){const c={};for(const S of Object.keys(s.children)){const Z=ht(s.children[S]);(Z.segments.length>0||Z.hasChildren())&&(c[S]=Z)}return function xt(s){if(1===s.numberOfChildren&&s.children[dt]){const c=s.children[dt];return new Re(s.segments.concat(c.segments),c.children)}return s}(new Re(s.segments,c))}function zt(s){return s instanceof ee}function vr(s,c,v,S,D){var Z;if(0===v.length)return rr(c.root,c.root,c.root,S,D);const re=function Di(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Gi(!0,0,s);let c=0,v=!1;const S=s.reduce((D,Z,re)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const de={};return o(Z.outlets,(Oe,gt)=>{de[gt]="string"==typeof Oe?Oe.split("/"):Oe}),[...D,{outlets:de}]}if(Z.segmentPath)return[...D,Z.segmentPath]}return"string"!=typeof Z?[...D,Z]:0===re?(Z.split("/").forEach((de,Oe)=>{0==Oe&&"."===de||(0==Oe&&""===de?v=!0:".."===de?c++:""!=de&&D.push(de))}),D):[...D,Z]},[]);return new Gi(v,c,S)}(v);if(re.toRoot())return rr(c.root,c.root,new Re([],{}),S,D);const Oe=function de(Dt){var Ht;const pn=function $i(s,c,v,S){if(s.isAbsolute)return new Bi(c.root,!0,0);if(-1===S)return new Bi(v,v===c.root,0);return function Wt(s,c,v){let S=s,D=c,Z=v;for(;Z>D;){if(Z-=D,S=S.parent,!S)throw new t.vHH(4005,!1);D=S.segments.length}return new Bi(S,!1,D-Z)}(v,S+(Rn(s.commands[0])?0:1),s.numberOfDoubleDots)}(re,c,null===(Ht=s.snapshot)||void 0===Ht?void 0:Ht._urlSegment,Dt),Tn=pn.processChildren?Yt(pn.segmentGroup,pn.index,re.commands):kt(pn.segmentGroup,pn.index,re.commands);return rr(c.root,pn.segmentGroup,Tn,S,D)}(null===(Z=s.snapshot)||void 0===Z?void 0:Z._lastPathIndex);return Oe}function Rn(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function yi(s){return"object"==typeof s&&null!=s&&s.outlets}function rr(s,c,v,S,D){let re,Z={};S&&o(S,(Oe,gt)=>{Z[gt]=Array.isArray(Oe)?Oe.map(Dt=>`${Dt}`):`${Oe}`}),re=s===c?v:ri(s,c,v);const de=yt(ht(re));return new ee(de,Z,D)}function ri(s,c,v){const S={};return o(s.children,(D,Z)=>{S[Z]=D===c?v:ri(D,c,v)}),new Re(s.segments,S)}class Gi{constructor(c,v,S){if(this.isAbsolute=c,this.numberOfDoubleDots=v,this.commands=S,c&&S.length>0&&Rn(S[0]))throw new t.vHH(4003,!1);const D=S.find(yi);if(D&&D!==Ve(S))throw new t.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bi{constructor(c,v,S){this.segmentGroup=c,this.processChildren=v,this.index=S}}function kt(s,c,v){if(s||(s=new Re([],{})),0===s.segments.length&&s.hasChildren())return Yt(s,c,v);const S=function En(s,c,v){let S=0,D=c;const Z={match:!1,pathIndex:0,commandIndex:0};for(;D<s.segments.length;){if(S>=v.length)return Z;const re=s.segments[D],de=v[S];if(yi(de))break;const Oe=`${de}`,gt=S<v.length-1?v[S+1]:null;if(D>0&&void 0===Oe)break;if(Oe&&gt&&"object"==typeof gt&&void 0===gt.outlets){if(!qe(Oe,gt,re))return Z;S+=2}else{if(!qe(Oe,{},re))return Z;S++}D++}return{match:!0,pathIndex:D,commandIndex:S}}(s,c,v),D=v.slice(S.commandIndex);if(S.match&&S.pathIndex<s.segments.length){const Z=new Re(s.segments.slice(0,S.pathIndex),{});return Z.children[dt]=new Re(s.segments.slice(S.pathIndex),s.children),Yt(Z,0,D)}return S.match&&0===D.length?new Re(s.segments,{}):S.match&&!s.hasChildren()?Ln(s,c,v):S.match?Yt(s,0,D):Ln(s,c,v)}function Yt(s,c,v){if(0===v.length)return new Re(s.segments,{});{const S=function Fn(s){return yi(s[0])?s[0].outlets:{[dt]:s}}(v),D={};return o(S,(Z,re)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(D[re]=kt(s.children[re],c,Z))}),o(s.children,(Z,re)=>{void 0===S[re]&&(D[re]=Z)}),new Re(s.segments,D)}}function Ln(s,c,v){const S=s.segments.slice(0,c);let D=0;for(;D<v.length;){const Z=v[D];if(yi(Z)){const Oe=ki(Z.outlets);return new Re(S,Oe)}if(0===D&&Rn(v[0])){S.push(new tt(s.segments[c].path,Ze(v[0]))),D++;continue}const re=yi(Z)?Z.outlets[dt]:`${Z}`,de=D<v.length-1?v[D+1]:null;re&&de&&Rn(de)?(S.push(new tt(re,Ze(de))),D+=2):(S.push(new tt(re,{})),D++)}return new Re(S,{})}function ki(s){const c={};return o(s,(v,S)=>{"string"==typeof v&&(v=[v]),null!==v&&(c[S]=Ln(new Re([],{}),0,v))}),c}function Ze(s){const c={};return o(s,(v,S)=>c[S]=`${v}`),c}function qe(s,c,v){return s==v.path&&Y(c,v.parameters)}class ut{constructor(c,v){this.id=c,this.url=v}}class Pt extends ut{constructor(c,v,S="imperative",D=null){super(c,v),this.type=0,this.navigationTrigger=S,this.restoredState=D}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class un extends ut{constructor(c,v,S){super(c,v),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hn extends ut{constructor(c,v,S,D){super(c,v),this.reason=S,this.code=D,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dn extends ut{constructor(c,v,S,D){super(c,v),this.error=S,this.target=D,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nn extends ut{constructor(c,v,S,D){super(c,v),this.urlAfterRedirects=S,this.state=D,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends ut{constructor(c,v,S,D){super(c,v),this.urlAfterRedirects=S,this.state=D,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends ut{constructor(c,v,S,D,Z){super(c,v),this.urlAfterRedirects=S,this.state=D,this.shouldActivate=Z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xn extends ut{constructor(c,v,S,D){super(c,v),this.urlAfterRedirects=S,this.state=D,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fr extends ut{constructor(c,v,S,D){super(c,v),this.urlAfterRedirects=S,this.state=D,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr{constructor(c){this.route=c,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ir{constructor(c){this.route=c,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mi{constructor(c){this.snapshot=c,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(c){this.snapshot=c,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(c){this.snapshot=c,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(c){this.snapshot=c,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(c,v,S){this.routerEvent=c,this.position=v,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qs{constructor(c){this._root=c}get root(){return this._root.value}parent(c){const v=this.pathFromRoot(c);return v.length>1?v[v.length-2]:null}children(c){const v=_s(c,this._root);return v?v.children.map(S=>S.value):[]}firstChild(c){const v=_s(c,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(c){const v=js(c,this._root);return v.length<2?[]:v[v.length-2].children.map(D=>D.value).filter(D=>D!==c)}pathFromRoot(c){return js(c,this._root).map(v=>v.value)}}function _s(s,c){if(s===c.value)return c;for(const v of c.children){const S=_s(s,v);if(S)return S}return null}function js(s,c){if(s===c.value)return[c];for(const v of c.children){const S=js(s,v);if(S.length)return S.unshift(c),S}return[]}class ns{constructor(c,v){this.value=c,this.children=v}toString(){return`TreeNode(${this.value})`}}function bs(s){const c={};return s&&s.children.forEach(v=>c[v.value.outlet]=v),c}class Ys extends qs{constructor(c,v){super(c),this.snapshot=v,Hn(this,c)}toString(){return this.snapshot.toString()}}function ks(s,c){const v=function Jr(s,c){const re=new Gn([],{},{},"",{},dt,c,null,s.root,-1,{});return new ws("",new ns(re,[]))}(s,c),S=new w.X([new tt("",{})]),D=new w.X({}),Z=new w.X({}),re=new w.X({}),de=new w.X(""),Oe=new sr(S,D,re,de,Z,dt,c,v.root);return Oe.snapshot=v.root,new Ys(new ns(Oe,[]),v)}class sr{constructor(c,v,S,D,Z,re,de,Oe){var gt,Dt;this.url=c,this.params=v,this.queryParams=S,this.fragment=D,this.data=Z,this.outlet=re,this.component=de,this.title=null!==(gt=null===(Dt=this.data)||void 0===Dt?void 0:Dt.pipe((0,F.U)(Ht=>Ht[ct])))&&void 0!==gt?gt:(0,m.of)(void 0),this._futureSnapshot=Oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,F.U)(c=>ln(c)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,F.U)(c=>ln(c)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pi(s,c="emptyOnly"){const v=s.pathFromRoot;let S=0;if("always"!==c)for(S=v.length-1;S>=1;){const D=v[S],Z=v[S-1];if(D.routeConfig&&""===D.routeConfig.path)S--;else{if(Z.component)break;S--}}return function vs(s){return s.reduce((c,v)=>{var S;return{params:{...c.params,...v.params},data:{...c.data,...v.data},resolve:{...v.data,...c.resolve,...null===(S=v.routeConfig)||void 0===S?void 0:S.data,...v._resolvedData}}},{params:{},data:{},resolve:{}})}(v.slice(S))}class Gn{constructor(c,v,S,D,Z,re,de,Oe,gt,Dt,Ht,pn){var Tn;this.url=c,this.params=v,this.queryParams=S,this.fragment=D,this.data=Z,this.outlet=re,this.component=de,this.title=null===(Tn=this.data)||void 0===Tn?void 0:Tn[ct],this.routeConfig=Oe,this._urlSegment=gt,this._lastPathIndex=Dt,this._correctedLastPathIndex=pn??Dt,this._resolve=Ht}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ln(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ws extends qs{constructor(c,v){super(v),this.url=c,Hn(this,v)}toString(){return yr(this._root)}}function Hn(s,c){c.value._routerState=s,c.children.forEach(v=>Hn(s,v))}function yr(s){const c=s.children.length>0?` { ${s.children.map(yr).join(", ")} } `:"";return`${s.value}${c}`}function Mr(s){if(s.snapshot){const c=s.snapshot,v=s._futureSnapshot;s.snapshot=v,Y(c.queryParams,v.queryParams)||s.queryParams.next(v.queryParams),c.fragment!==v.fragment&&s.fragment.next(v.fragment),Y(c.params,v.params)||s.params.next(v.params),function It(s,c){if(s.length!==c.length)return!1;for(let v=0;v<s.length;++v)if(!Y(s[v],c[v]))return!1;return!0}(c.url,v.url)||s.url.next(v.url),Y(c.data,v.data)||s.data.next(v.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function os(s,c){const v=Y(s.params,c.params)&&function ot(s,c){return Et(s,c)&&s.every((v,S)=>Y(v.parameters,c[S].parameters))}(s.url,c.url);return v&&!(!s.parent!=!c.parent)&&(!s.parent||os(s.parent,c.parent))}function Wr(s,c,v){if(v&&s.shouldReuseRoute(c.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=c.value;const D=function Cr(s,c,v){return c.children.map(S=>{for(const D of v.children)if(s.shouldReuseRoute(S.value,D.value.snapshot))return Wr(s,S,D);return Wr(s,S)})}(s,c,v);return new ns(S,D)}{if(s.shouldAttach(c.value)){const Z=s.retrieve(c.value);if(null!==Z){const re=Z.route;return re.value._futureSnapshot=c.value,re.children=c.children.map(de=>Wr(s,de)),re}}const S=function cs(s){return new sr(new w.X(s.url),new w.X(s.params),new w.X(s.queryParams),new w.X(s.fragment),new w.X(s.data),s.outlet,s.component,s)}(c.value),D=c.children.map(Z=>Wr(s,Z));return new ns(S,D)}}const nr="ngNavigationCancelingError";function br(s,c){const{redirectTo:v,navigationBehaviorOptions:S}=zt(c)?{redirectTo:c,navigationBehaviorOptions:void 0}:c,D=us(!1,0,c);return D.url=v,D.navigationBehaviorOptions=S,D}function us(s,c,v){const S=new Error("NavigationCancelingError: "+(s||""));return S[nr]=!0,S.cancellationCode=c,v&&(S.url=v),S}function wr(s){return Oi(s)&&zt(s.url)}function Oi(s){return s&&s[nr]}class Xr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ps,this.attachRef=null}}let ps=(()=>{class s{constructor(){this.contexts=new Map}onChildOutletCreated(v,S){const D=this.getOrCreateContext(v);D.outlet=S,this.contexts.set(v,D)}onChildOutletDestroyed(v){const S=this.getContext(v);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let S=this.getContext(v);return S||(S=new Xr,this.contexts.set(v,S)),S}getContext(v){return this.contexts.get(v)||null}}return s.\u0275fac=function(v){return new(v||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Os=!1;let Zr=(()=>{class s{constructor(v,S,D,Z,re){this.parentContexts=v,this.location=S,this.changeDetector=Z,this.environmentInjector=re,this.activated=null,this._activatedRoute=null,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.name=D||dt,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){var v;(null===(v=this.parentContexts.getContext(this.name))||void 0===v?void 0:v.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.vHH(4012,Os);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.vHH(4012,Os);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.vHH(4012,Os);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new t.vHH(4013,Os);this._activatedRoute=v;const D=this.location,re=v._futureSnapshot.component,de=this.parentContexts.getOrCreateContext(this.name).children,Oe=new Ts(v,de,D.injector);if(S&&function Zi(s){return!!s.resolveComponentFactory}(S)){const gt=S.resolveComponentFactory(re);this.activated=D.createComponent(gt,D.length,Oe)}else this.activated=D.createComponent(re,{index:D.length,injector:Oe,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(v){return new(v||s)(t.Y36(ps),t.Y36(t.s_b),t.$8M("name"),t.Y36(t.sBO),t.Y36(t.lqb))},s.\u0275dir=t.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),s})();class Ts{constructor(c,v,S){this.route=c,this.childContexts=v,this.parent=S}get(c,v){return c===sr?this.route:c===ps?this.childContexts:this.parent.get(c,v)}}let As=(()=>{class s{}return s.\u0275fac=function(v){return new(v||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(v,S){1&v&&t._UZ(0,"router-outlet")},dependencies:[Zr],encapsulation:2}),s})();function co(s,c){var v;return s.providers&&!s._injector&&(s._injector=(0,t.MMx)(s.providers,c,`Route: ${s.path}`)),null!==(v=s._injector)&&void 0!==v?v:c}function go(s){const c=s.children&&s.children.map(go),v=c?{...s,children:c}:{...s};return!v.component&&!v.loadComponent&&(c||v.loadChildren)&&v.outlet&&v.outlet!==dt&&(v.component=As),v}function Fi(s){return s.outlet||dt}function Tr(s,c){const v=s.filter(S=>Fi(S)===c);return v.push(...s.filter(S=>Fi(S)!==c)),v}function Nr(s){var c;if(!s)return null;if(null!==(c=s.routeConfig)&&void 0!==c&&c._injector)return s.routeConfig._injector;for(let v=s.parent;v;v=v.parent){const S=v.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class Ls{constructor(c,v,S,D){this.routeReuseStrategy=c,this.futureState=v,this.currState=S,this.forwardEvent=D}activate(c){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,c),Mr(this.futureState.root),this.activateChildRoutes(v,S,c)}deactivateChildRoutes(c,v,S){const D=bs(v);c.children.forEach(Z=>{const re=Z.value.outlet;this.deactivateRoutes(Z,D[re],S),delete D[re]}),o(D,(Z,re)=>{this.deactivateRouteAndItsChildren(Z,S)})}deactivateRoutes(c,v,S){const D=c.value,Z=v?v.value:null;if(D===Z)if(D.component){const re=S.getContext(D.outlet);re&&this.deactivateChildRoutes(c,v,re.children)}else this.deactivateChildRoutes(c,v,S);else Z&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(c,v){c.value.component&&this.routeReuseStrategy.shouldDetach(c.value.snapshot)?this.detachAndStoreRouteSubtree(c,v):this.deactivateRouteAndOutlet(c,v)}detachAndStoreRouteSubtree(c,v){const S=v.getContext(c.value.outlet),D=S&&c.value.component?S.children:v,Z=bs(c);for(const re of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[re],D);if(S&&S.outlet){const re=S.outlet.detach(),de=S.children.onOutletDeactivated();this.routeReuseStrategy.store(c.value.snapshot,{componentRef:re,route:c,contexts:de})}}deactivateRouteAndOutlet(c,v){const S=v.getContext(c.value.outlet),D=S&&c.value.component?S.children:v,Z=bs(c);for(const re of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[re],D);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(c,v,S){const D=bs(v);c.children.forEach(Z=>{this.activateRoutes(Z,D[Z.value.outlet],S),this.forwardEvent(new ar(Z.value.snapshot))}),c.children.length&&this.forwardEvent(new Fr(c.value.snapshot))}activateRoutes(c,v,S){const D=c.value,Z=v?v.value:null;if(Mr(D),D===Z)if(D.component){const de=S.getOrCreateContext(D.outlet);this.activateChildRoutes(c,v,de.children)}else this.activateChildRoutes(c,v,S);else if(D.component){const de=S.getOrCreateContext(D.outlet);if(this.routeReuseStrategy.shouldAttach(D.snapshot)){const Oe=this.routeReuseStrategy.retrieve(D.snapshot);this.routeReuseStrategy.store(D.snapshot,null),de.children.onOutletReAttached(Oe.contexts),de.attachRef=Oe.componentRef,de.route=Oe.route.value,de.outlet&&de.outlet.attach(Oe.componentRef,Oe.route.value),Mr(Oe.route.value),this.activateChildRoutes(c,null,de.children)}else{var re;const Oe=Nr(D.snapshot),gt=null!==(re=Oe?.get(t._Vd))&&void 0!==re?re:null;de.attachRef=null,de.route=D,de.resolver=gt,de.injector=Oe,de.outlet&&de.outlet.activateWith(D,de.injector),this.activateChildRoutes(c,null,de.children)}}else this.activateChildRoutes(c,null,S)}}class lr{constructor(c){this.path=c,this.route=this.path[this.path.length-1]}}class Qr{constructor(c,v){this.component=c,this.route=v}}function uo(s,c,v){const S=s._root;return jr(S,c?c._root:null,v,[S.value])}function Ar(s,c){const v=Symbol(),S=c.get(s,v);return S===v?"function"!=typeof s||(0,t.Z0I)(s)?c.get(s):s:S}function jr(s,c,v,S,D={canDeactivateChecks:[],canActivateChecks:[]}){const Z=bs(c);return s.children.forEach(re=>{(function Rr(s,c,v,S,D={canDeactivateChecks:[],canActivateChecks:[]}){const Z=s.value,re=c?c.value:null,de=v?v.getContext(s.value.outlet):null;if(re&&Z.routeConfig===re.routeConfig){const Oe=function _n(s,c,v){if("function"==typeof v)return v(s,c);switch(v){case"pathParamsChange":return!Et(s.url,c.url);case"pathParamsOrQueryParamsChange":return!Et(s.url,c.url)||!Y(s.queryParams,c.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!os(s,c)||!Y(s.queryParams,c.queryParams);default:return!os(s,c)}}(re,Z,Z.routeConfig.runGuardsAndResolvers);Oe?D.canActivateChecks.push(new lr(S)):(Z.data=re.data,Z._resolvedData=re._resolvedData),jr(s,c,Z.component?de?de.children:null:v,S,D),Oe&&de&&de.outlet&&de.outlet.isActivated&&D.canDeactivateChecks.push(new Qr(de.outlet.component,re))}else re&&oi(c,de,D),D.canActivateChecks.push(new lr(S)),jr(s,null,Z.component?de?de.children:null:v,S,D)})(re,Z[re.value.outlet],v,S.concat([re.value]),D),delete Z[re.value.outlet]}),o(Z,(re,de)=>oi(re,v.getContext(de),D)),D}function oi(s,c,v){const S=bs(s),D=s.value;o(S,(Z,re)=>{oi(Z,D.component?c?c.children.getContext(re):null:c,v)}),v.canDeactivateChecks.push(new Qr(D.component&&c&&c.outlet&&c.outlet.isActivated?c.outlet.component:null,D))}function fs(s){return"function"==typeof s}function Wi(s){return s instanceof b.K||"EmptyError"===s?.name}const kr=Symbol("INITIAL_VALUE");function Pr(){return(0,V.w)(s=>(0,C.a)(s.map(c=>c.pipe((0,q.q)(1),(0,ie.O)(kr)))).pipe((0,F.U)(c=>{for(const v of c)if(!0!==v){if(v===kr)return kr;if(!1===v||v instanceof ee)return v}return!0}),(0,H.h)(c=>c!==kr),(0,q.q)(1)))}function bn(s){return(0,A.z)((0,X.b)(c=>{if(zt(c))throw br(0,c)}),(0,F.U)(c=>!0===c))}const Kn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cr(s,c,v,S,D){const Z=es(s,c,v);return Z.matched?function Yn(s,c,v,S){const D=c.canMatch;if(!D||0===D.length)return(0,m.of)(!0);const Z=D.map(re=>{const de=Ar(re,s);return De(function Xe(s){return s&&fs(s.canMatch)}(de)?de.canMatch(c,v):s.runInContext(()=>de(c,v)))});return(0,m.of)(Z).pipe(Pr(),bn())}(S=co(c,S),c,v).pipe((0,F.U)(re=>!0===re?Z:{...Kn})):(0,m.of)(Z)}function es(s,c,v){var S;if(""===c.path)return"full"===c.pathMatch&&(s.hasChildren()||v.length>0)?{...Kn}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const Z=(c.matcher||Mt)(v,s,c);if(!Z)return{...Kn};const re={};o(Z.posParams,(Oe,gt)=>{re[gt]=Oe.path});const de=Z.consumed.length>0?{...re,...Z.consumed[Z.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:v.slice(Z.consumed.length),parameters:de,positionalParamSegments:null!==(S=Z.posParams)&&void 0!==S?S:{}}}function ur(s,c,v,S,D="corrected"){if(v.length>0&&function Co(s,c,v){return v.some(S=>he(s,c,S)&&Fi(S)!==dt)}(s,v,S)){const re=new Re(c,function ni(s,c,v,S){const D={};D[dt]=S,S._sourceSegment=s,S._segmentIndexShift=c.length;for(const Z of v)if(""===Z.path&&Fi(Z)!==dt){const re=new Re([],{});re._sourceSegment=s,re._segmentIndexShift=c.length,D[Fi(Z)]=re}return D}(s,c,S,new Re(v,s.children)));return re._sourceSegment=s,re._segmentIndexShift=c.length,{segmentGroup:re,slicedSegments:[]}}if(0===v.length&&function Xs(s,c,v){return v.some(S=>he(s,c,S))}(s,v,S)){const re=new Re(s.segments,function ji(s,c,v,S,D,Z){const re={};for(const de of S)if(he(s,v,de)&&!D[Fi(de)]){const Oe=new Re([],{});Oe._sourceSegment=s,Oe._segmentIndexShift="legacy"===Z?s.segments.length:c.length,re[Fi(de)]=Oe}return{...D,...re}}(s,c,v,S,s.children,D));return re._sourceSegment=s,re._segmentIndexShift=c.length,{segmentGroup:re,slicedSegments:v}}const Z=new Re(s.segments,s.children);return Z._sourceSegment=s,Z._segmentIndexShift=c.length,{segmentGroup:Z,slicedSegments:v}}function he(s,c,v){return(!(s.hasChildren()||c.length>0)||"full"!==v.pathMatch)&&""===v.path}function Pe(s,c,v,S){return!!(Fi(s)===S||S!==dt&&he(c,v,s))&&("**"===s.path||es(c,s,v).matched)}function Ce(s,c,v){return 0===c.length&&!s.children[v]}const ze=!1;class vt{constructor(c){this.segmentGroup=c||null}}class Xt{constructor(c){this.urlTree=c}}function sn(s){return(0,_._)(new vt(s))}function $t(s){return(0,_._)(new Xt(s))}class mn{constructor(c,v,S,D,Z){this.injector=c,this.configLoader=v,this.urlSerializer=S,this.urlTree=D,this.config=Z,this.allowRedirects=!0}apply(){const c=ur(this.urlTree.root,[],[],this.config).segmentGroup,v=new Re(c.segments,c.children);return this.expandSegmentGroup(this.injector,this.config,v,dt).pipe((0,F.U)(Z=>this.createUrlTree(ht(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Q.K)(Z=>{if(Z instanceof Xt)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof vt?this.noMatchError(Z):Z}))}match(c){return this.expandSegmentGroup(this.injector,this.config,c.root,dt).pipe((0,F.U)(D=>this.createUrlTree(ht(D),c.queryParams,c.fragment))).pipe((0,Q.K)(D=>{throw D instanceof vt?this.noMatchError(D):D}))}noMatchError(c){return new t.vHH(4002,ze)}createUrlTree(c,v,S){const D=yt(c);return new ee(D,v,S)}expandSegmentGroup(c,v,S,D){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(c,v,S).pipe((0,F.U)(Z=>new Re([],Z))):this.expandSegment(c,S,v,S.segments,D,!0)}expandChildren(c,v,S){const D=[];for(const Z of Object.keys(S.children))"primary"===Z?D.unshift(Z):D.push(Z);return(0,e.D)(D).pipe((0,E.b)(Z=>{const re=S.children[Z],de=Tr(v,Z);return this.expandSegmentGroup(c,de,re,Z).pipe((0,F.U)(Oe=>({segment:Oe,outlet:Z})))}),_e((Z,re)=>(Z[re.outlet]=re.segment,Z),{}),Ge())}expandSegment(c,v,S,D,Z,re){return(0,e.D)(S).pipe((0,E.b)(de=>this.expandSegmentAgainstRoute(c,v,S,de,D,Z,re).pipe((0,Q.K)(gt=>{if(gt instanceof vt)return(0,m.of)(null);throw gt}))),(0,z.P)(de=>!!de),(0,Q.K)((de,Oe)=>{if(Wi(de))return Ce(v,D,Z)?(0,m.of)(new Re([],{})):sn(v);throw de}))}expandSegmentAgainstRoute(c,v,S,D,Z,re,de){return Pe(D,v,Z,re)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(c,v,D,Z,re):de&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(c,v,S,D,Z,re):sn(v):sn(v)}expandSegmentAgainstRouteUsingRedirect(c,v,S,D,Z,re){return"**"===D.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(c,S,D,re):this.expandRegularSegmentAgainstRouteUsingRedirect(c,v,S,D,Z,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(c,v,S,D){const Z=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?$t(Z):this.lineralizeSegments(S,Z).pipe((0,$.z)(re=>{const de=new Re(re,{});return this.expandSegment(c,de,v,re,D,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(c,v,S,D,Z,re){const{matched:de,consumedSegments:Oe,remainingSegments:gt,positionalParamSegments:Dt}=es(v,D,Z);if(!de)return sn(v);const Ht=this.applyRedirectCommands(Oe,D.redirectTo,Dt);return D.redirectTo.startsWith("/")?$t(Ht):this.lineralizeSegments(D,Ht).pipe((0,$.z)(pn=>this.expandSegment(c,v,S,pn.concat(gt),re,!1)))}matchSegmentAgainstRoute(c,v,S,D,Z){return"**"===S.path?(c=co(S,c),S.loadChildren?(S._loadedRoutes?(0,m.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(c,S)).pipe((0,F.U)(de=>(S._loadedRoutes=de.routes,S._loadedInjector=de.injector,new Re(D,{})))):(0,m.of)(new Re(D,{}))):cr(v,S,D,c).pipe((0,V.w)(({matched:re,consumedSegments:de,remainingSegments:Oe})=>{var gt;return re?(c=null!==(gt=S._injector)&&void 0!==gt?gt:c,this.getChildConfig(c,S,D).pipe((0,$.z)(Ht=>{var pn;const Tn=null!==(pn=Ht.injector)&&void 0!==pn?pn:c,Ti=Ht.routes,{segmentGroup:Hi,slicedSegments:dr}=ur(v,de,Oe,Ti),ys=new Re(Hi.segments,Hi.children);if(0===dr.length&&ys.hasChildren())return this.expandChildren(Tn,Ti,ys).pipe((0,F.U)(Zs=>new Re(de,Zs)));if(0===Ti.length&&0===dr.length)return(0,m.of)(new Re(de,{}));const Ms=Fi(S)===Z;return this.expandSegment(Tn,ys,Ti,dr,Ms?dt:Z,!0).pipe((0,F.U)(Kr=>new Re(de.concat(Kr.segments),Kr.children)))}))):sn(v)}))}getChildConfig(c,v,S){return v.children?(0,m.of)({routes:v.children,injector:c}):v.loadChildren?void 0!==v._loadedRoutes?(0,m.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function dn(s,c,v,S){const D=c.canLoad;if(void 0===D||0===D.length)return(0,m.of)(!0);const Z=D.map(re=>{const de=Ar(re,s);return De(function qi(s){return s&&fs(s.canLoad)}(de)?de.canLoad(c,v):s.runInContext(()=>de(c,v)))});return(0,m.of)(Z).pipe(Pr(),bn())}(c,v,S).pipe((0,$.z)(D=>D?this.configLoader.loadChildren(c,v).pipe((0,X.b)(Z=>{v._loadedRoutes=Z.routes,v._loadedInjector=Z.injector})):function bi(s){return(0,_._)(us(ze,3))}())):(0,m.of)({routes:[],injector:c})}lineralizeSegments(c,v){let S=[],D=v.root;for(;;){if(S=S.concat(D.segments),0===D.numberOfChildren)return(0,m.of)(S);if(D.numberOfChildren>1||!D.children[dt])return(0,_._)(new t.vHH(4e3,ze));D=D.children[dt]}}applyRedirectCommands(c,v,S){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),c,S)}applyRedirectCreateUrlTree(c,v,S,D){const Z=this.createSegmentGroup(c,v.root,S,D);return new ee(Z,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(c,v){const S={};return o(c,(D,Z)=>{if("string"==typeof D&&D.startsWith(":")){const de=D.substring(1);S[Z]=v[de]}else S[Z]=D}),S}createSegmentGroup(c,v,S,D){const Z=this.createSegments(c,v.segments,S,D);let re={};return o(v.children,(de,Oe)=>{re[Oe]=this.createSegmentGroup(c,de,S,D)}),new Re(Z,re)}createSegments(c,v,S,D){return v.map(Z=>Z.path.startsWith(":")?this.findPosParam(c,Z,D):this.findOrReturn(Z,S))}findPosParam(c,v,S){const D=S[v.path.substring(1)];if(!D)throw new t.vHH(4001,ze);return D}findOrReturn(c,v){let S=0;for(const D of v){if(D.path===c.path)return v.splice(S),D;S++}return c}}class gr{}class Bs{constructor(c,v,S,D,Z,re,de,Oe){this.injector=c,this.rootComponentType=v,this.config=S,this.urlTree=D,this.url=Z,this.paramsInheritanceStrategy=re,this.relativeLinkResolution=de,this.urlSerializer=Oe}recognize(){const c=ur(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,c,dt).pipe((0,F.U)(v=>{if(null===v)return null;const S=new Gn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,this.urlTree.root,-1,{}),D=new ns(S,v),Z=new ws(this.url,D);return this.inheritParamsAndData(Z._root),Z}))}inheritParamsAndData(c){const v=c.value,S=Pi(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),c.children.forEach(D=>this.inheritParamsAndData(D))}processSegmentGroup(c,v,S,D){return 0===S.segments.length&&S.hasChildren()?this.processChildren(c,v,S):this.processSegment(c,v,S,S.segments,D)}processChildren(c,v,S){return(0,e.D)(Object.keys(S.children)).pipe((0,E.b)(D=>{const Z=S.children[D],re=Tr(v,D);return this.processSegmentGroup(c,re,Z,D)}),_e((D,Z)=>D&&Z?(D.push(...Z),D):null),function we(s,c=!1){return(0,k.e)((v,S)=>{let D=0;v.subscribe((0,P.x)(S,Z=>{const re=s(Z,D++);(re||c)&&S.next(Z),!re&&S.complete()}))})}(D=>null!==D),(0,Ke.d)(null),Ge(),(0,F.U)(D=>{if(null===D)return null;const Z=eo(D);return function Vr(s){s.sort((c,v)=>c.value.outlet===dt?-1:v.value.outlet===dt?1:c.value.outlet.localeCompare(v.value.outlet))}(Z),Z}))}processSegment(c,v,S,D,Z){return(0,e.D)(v).pipe((0,E.b)(re=>{var de;return this.processSegmentAgainstRoute(null!==(de=re._injector)&&void 0!==de?de:c,re,S,D,Z)}),(0,z.P)(re=>!!re),(0,Q.K)(re=>{if(Wi(re))return Ce(S,D,Z)?(0,m.of)([]):(0,m.of)(null);throw re}))}processSegmentAgainstRoute(c,v,S,D,Z){if(v.redirectTo||!Pe(v,S,D,Z))return(0,m.of)(null);let re;if("**"===v.path){var de,Oe;const gt=D.length>0?Ve(D).parameters:{},Dt=io(S)+D.length,Ht=new Gn(D,gt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(v),Fi(v),null!==(de=null!==(Oe=v.component)&&void 0!==Oe?Oe:v._loadedComponent)&&void 0!==de?de:null,v,Es(S),Dt,Lr(v),Dt);re=(0,m.of)({snapshot:Ht,consumedSegments:[],remainingSegments:[]})}else re=cr(S,v,D,c).pipe((0,F.U)(({matched:gt,consumedSegments:Dt,remainingSegments:Ht,parameters:pn})=>{var Tn,Ti;if(!gt)return null;const Hi=io(S)+Dt.length;return{snapshot:new Gn(Dt,pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(v),Fi(v),null!==(Tn=null!==(Ti=v.component)&&void 0!==Ti?Ti:v._loadedComponent)&&void 0!==Tn?Tn:null,v,Es(S),Hi,Lr(v),Hi),consumedSegments:Dt,remainingSegments:Ht}}));return re.pipe((0,V.w)(gt=>{var Dt,Ht;if(null===gt)return(0,m.of)(null);const{snapshot:pn,consumedSegments:Tn,remainingSegments:Ti}=gt;c=null!==(Dt=v._injector)&&void 0!==Dt?Dt:c;const Hi=null!==(Ht=v._loadedInjector)&&void 0!==Ht?Ht:c,dr=function Sr(s){return s.children?s.children:s.loadChildren?s._loadedRoutes:[]}(v),{segmentGroup:ys,slicedSegments:Ms}=ur(S,Tn,Ti,dr.filter(Kr=>void 0===Kr.redirectTo),this.relativeLinkResolution);if(0===Ms.length&&ys.hasChildren())return this.processChildren(Hi,dr,ys).pipe((0,F.U)(Kr=>null===Kr?null:[new ns(pn,Kr)]));if(0===dr.length&&0===Ms.length)return(0,m.of)([new ns(pn,[])]);const Hr=Fi(v)===Z;return this.processSegment(Hi,dr,ys,Ms,Hr?dt:Z).pipe((0,F.U)(Kr=>null===Kr?null:[new ns(pn,Kr)]))}))}}function xs(s){const c=s.value.routeConfig;return c&&""===c.path&&void 0===c.redirectTo}function eo(s){const c=[],v=new Set;for(const S of s){if(!xs(S)){c.push(S);continue}const D=c.find(Z=>S.value.routeConfig===Z.value.routeConfig);void 0!==D?(D.children.push(...S.children),v.add(D)):c.push(S)}for(const S of v){const D=eo(S.children);c.push(new ns(S.value,D))}return c.filter(S=>!v.has(S))}function Es(s){let c=s;for(;c._sourceSegment;)c=c._sourceSegment;return c}function io(s){var c;let v=s,S=null!==(c=v._segmentIndexShift)&&void 0!==c?c:0;for(;v._sourceSegment;){var D;v=v._sourceSegment,S+=null!==(D=v._segmentIndexShift)&&void 0!==D?D:0}return S-1}function jo(s){return s.data||{}}function Lr(s){return s.resolve||{}}function Us(s){return"string"==typeof s.title||null===s.title}function Br(s){return(0,V.w)(c=>{const v=s(c);return v?(0,e.D)(v).pipe((0,F.U)(()=>c)):(0,m.of)(c)})}let $o=(()=>{class s{buildTitle(v){let S,D=v.root;for(;void 0!==D;){var Z;S=null!==(Z=this.getResolvedTitleForRoute(D))&&void 0!==Z?Z:S,D=D.children.find(re=>re.outlet===dt)}return S}getResolvedTitleForRoute(v){return v.data[ct]}}return s.\u0275fac=function(v){return new(v||s)},s.\u0275prov=t.Yz7({token:s,factory:function(){return(0,t.f3M)(ro)},providedIn:"root"}),s})(),ro=(()=>{class s extends $o{constructor(v){super(),this.title=v}updateTitle(v){const S=this.buildTitle(v);void 0!==S&&this.title.setTitle(S)}}return s.\u0275fac=function(v){return new(v||s)(t.LFG(at.Dx))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class to{}class _o extends class ua{shouldDetach(c){return!1}store(c,v){}shouldAttach(c){return!1}retrieve(c){return null}shouldReuseRoute(c,v){return c.routeConfig===v.routeConfig}}{}const Ao=new t.OlP("",{providedIn:"root",factory:()=>({})}),Ks=new t.OlP("ROUTES");let No=(()=>{class s{constructor(v,S){this.injector=v,this.compiler=S,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,m.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const S=De(v.loadComponent()).pipe((0,X.b)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=Z}),rt(()=>{this.componentLoaders.delete(v)})),D=new J(S,()=>new O.x).pipe(U());return this.componentLoaders.set(v,D),D}loadChildren(v,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,m.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Z=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,F.U)(de=>{this.onLoadEndListener&&this.onLoadEndListener(S);let Oe,gt,Dt=!1;Array.isArray(de)?gt=de:(Oe=de.create(v).injector,gt=oe(Oe.get(Ks,[],t.XFs.Self|t.XFs.Optional)));return{routes:gt.map(go),injector:Oe}}),rt(()=>{this.childrenLoaders.delete(S)})),re=new J(Z,()=>new O.x).pipe(U());return this.childrenLoaders.set(S,re),re}loadModuleFactoryOrRoutes(v){return De(v()).pipe((0,$.z)(S=>S instanceof t.YKP||Array.isArray(S)?(0,m.of)(S):(0,e.D)(this.compiler.compileModuleAsync(S))))}}return s.\u0275fac=function(v){return new(v||s)(t.LFG(t.zs3),t.LFG(t.Sil))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class Ee{}class W{shouldProcessUrl(c){return!0}extract(c){return c}merge(c,v){return c}}function Ue(s){throw s}function mt(s,c,v){return c.parse("/")}const Lt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function pe(){var s,c;const v=(0,t.f3M)(wn),S=(0,t.f3M)(ps),D=(0,t.f3M)(L.Ye),Z=(0,t.f3M)(t.zs3),re=(0,t.f3M)(t.Sil),de=null!==(s=(0,t.f3M)(Ks,{optional:!0}))&&void 0!==s?s:[],Oe=null!==(c=(0,t.f3M)(Ao,{optional:!0}))&&void 0!==c?c:{},gt=(0,t.f3M)(ro),Dt=(0,t.f3M)($o,{optional:!0}),Ht=(0,t.f3M)(Ee,{optional:!0}),pn=(0,t.f3M)(to,{optional:!0}),Tn=new nt(null,v,S,D,Z,re,oe(de));return Ht&&(Tn.urlHandlingStrategy=Ht),pn&&(Tn.routeReuseStrategy=pn),Tn.titleStrategy=Dt??gt,function Qt(s,c){s.errorHandler&&(c.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(c.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(c.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(c.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(c.urlUpdateStrategy=s.urlUpdateStrategy),s.canceledNavigationResolution&&(c.canceledNavigationResolution=s.canceledNavigationResolution)}(Oe,Tn),Tn}let nt=(()=>{class s{constructor(v,S,D,Z,re,de,Oe){this.rootComponentType=v,this.urlSerializer=S,this.rootContexts=D,this.location=Z,this.config=Oe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new O.x,this.errorHandler=Ue,this.malformedUriErrorHandler=mt,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,m.of)(void 0),this.urlHandlingStrategy=new W,this.routeReuseStrategy=new _o,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=re.get(No),this.configLoader.onLoadEndListener=pn=>this.triggerEvent(new Ir(pn)),this.configLoader.onLoadStartListener=pn=>this.triggerEvent(new mr(pn)),this.ngModule=re.get(t.h0i),this.console=re.get(t.c2e);const Ht=re.get(t.R0b);this.isNgZoneEnabled=Ht instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(Oe),this.currentUrlTree=function je(){return new ee(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ks(this.currentUrlTree,this.rootComponentType),this.transitions=new w.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const S=this.events;return v.pipe((0,H.h)(D=>0!==D.id),(0,F.U)(D=>({...D,extractedUrl:this.urlHandlingStrategy.extract(D.rawUrl)})),(0,V.w)(D=>{let Z=!1,re=!1;return(0,m.of)(D).pipe((0,X.b)(de=>{this.currentNavigation={id:de.id,initialUrl:de.rawUrl,extractedUrl:de.extractedUrl,trigger:de.source,extras:de.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,V.w)(de=>{const Oe=this.browserUrlTree.toString(),gt=!this.navigated||de.extractedUrl.toString()!==Oe||Oe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||gt)&&this.urlHandlingStrategy.shouldProcessUrl(de.rawUrl))return Le(de.source)&&(this.browserUrlTree=de.extractedUrl),(0,m.of)(de).pipe((0,V.w)(Ht=>{const pn=this.transitions.getValue();return S.next(new Pt(Ht.id,this.serializeUrl(Ht.extractedUrl),Ht.source,Ht.restoredState)),pn!==this.transitions.getValue()?N.E:Promise.resolve(Ht)}),function hi(s,c,v,S){return(0,V.w)(D=>function gi(s,c,v,S,D){return new mn(s,c,v,S,D).apply()}(s,c,v,D.extractedUrl,S).pipe((0,F.U)(Z=>({...D,urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,X.b)(Ht=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ht.urlAfterRedirects},D.urlAfterRedirects=Ht.urlAfterRedirects}),function ms(s,c,v,S,D,Z){return(0,$.z)(re=>function ir(s,c,v,S,D,Z,re="emptyOnly",de="legacy"){return new Bs(s,c,v,S,D,re,de,Z).recognize().pipe((0,V.w)(Oe=>null===Oe?function _r(s){return new R.y(c=>c.error(s))}(new gr):(0,m.of)(Oe)))}(s,c,v,re.urlAfterRedirects,S.serialize(re.urlAfterRedirects),S,D,Z).pipe((0,F.U)(de=>({...re,targetSnapshot:de}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,X.b)(Ht=>{if(D.targetSnapshot=Ht.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Ht.extras.skipLocationChange){const Tn=this.urlHandlingStrategy.merge(Ht.urlAfterRedirects,Ht.rawUrl);this.setBrowserUrl(Tn,Ht)}this.browserUrlTree=Ht.urlAfterRedirects}const pn=new Nn(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot);S.next(pn)}));if(gt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:pn,extractedUrl:Tn,source:Ti,restoredState:Hi,extras:dr}=de,ys=new Pt(pn,this.serializeUrl(Tn),Ti,Hi);S.next(ys);const Ms=ks(Tn,this.rootComponentType).snapshot;return D={...de,targetSnapshot:Ms,urlAfterRedirects:Tn,extras:{...dr,skipLocationChange:!1,replaceUrl:!1}},(0,m.of)(D)}return this.rawUrlTree=de.rawUrl,de.resolve(null),N.E}),(0,X.b)(de=>{const Oe=new Ii(de.id,this.serializeUrl(de.extractedUrl),this.serializeUrl(de.urlAfterRedirects),de.targetSnapshot);this.triggerEvent(Oe)}),(0,F.U)(de=>D={...de,guards:uo(de.targetSnapshot,de.currentSnapshot,this.rootContexts)}),function Yi(s,c){return(0,$.z)(v=>{const{targetSnapshot:S,currentSnapshot:D,guards:{canActivateChecks:Z,canDeactivateChecks:re}}=v;return 0===re.length&&0===Z.length?(0,m.of)({...v,guardsResult:!0}):function mi(s,c,v,S){return(0,e.D)(s).pipe((0,$.z)(D=>function Vt(s,c,v,S,D){const Z=c&&c.routeConfig?c.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,m.of)(!0);const re=Z.map(de=>{var Oe;const gt=null!==(Oe=Nr(c))&&void 0!==Oe?Oe:D,Dt=Ar(de,gt);return De(function ne(s){return s&&fs(s.canDeactivate)}(Dt)?Dt.canDeactivate(s,c,v,S):gt.runInContext(()=>Dt(s,c,v,S))).pipe((0,z.P)())});return(0,m.of)(re).pipe(Pr())}(D.component,D.route,v,c,S)),(0,z.P)(D=>!0!==D,!0))}(re,S,D,s).pipe((0,$.z)(de=>de&&function di(s){return"boolean"==typeof s}(de)?function Me(s,c,v,S){return(0,e.D)(c).pipe((0,E.b)(D=>(0,g.z)(function At(s,c){return null!==s&&c&&c(new Mi(s)),(0,m.of)(!0)}(D.route.parent,S),function Je(s,c){return null!==s&&c&&c(new Qi(s)),(0,m.of)(!0)}(D.route,S),function Jt(s,c,v){const S=c[c.length-1],Z=c.slice(0,c.length-1).reverse().map(re=>function Ni(s){const c=s.routeConfig?s.routeConfig.canActivateChild:null;return c&&0!==c.length?{node:s,guards:c}:null}(re)).filter(re=>null!==re).map(re=>(0,p.P)(()=>{const de=re.guards.map(Oe=>{var gt;const Dt=null!==(gt=Nr(re.node))&&void 0!==gt?gt:v,Ht=Ar(Oe,Dt);return De(function ge(s){return s&&fs(s.canActivateChild)}(Ht)?Ht.canActivateChild(S,s):Dt.runInContext(()=>Ht(S,s))).pipe((0,z.P)())});return(0,m.of)(de).pipe(Pr())}));return(0,m.of)(Z).pipe(Pr())}(s,D.path,v),function Ot(s,c,v){const S=c.routeConfig?c.routeConfig.canActivate:null;if(!S||0===S.length)return(0,m.of)(!0);const D=S.map(Z=>(0,p.P)(()=>{var re;const de=null!==(re=Nr(c))&&void 0!==re?re:v,Oe=Ar(Z,de);return De(function Ie(s){return s&&fs(s.canActivate)}(Oe)?Oe.canActivate(c,s):de.runInContext(()=>Oe(c,s))).pipe((0,z.P)())}));return(0,m.of)(D).pipe(Pr())}(s,D.route,v))),(0,z.P)(D=>!0!==D,!0))}(S,Z,s,c):(0,m.of)(de)),(0,F.U)(de=>({...v,guardsResult:de})))})}(this.ngModule.injector,de=>this.triggerEvent(de)),(0,X.b)(de=>{if(D.guardsResult=de.guardsResult,zt(de.guardsResult))throw br(0,de.guardsResult);const Oe=new Ci(de.id,this.serializeUrl(de.extractedUrl),this.serializeUrl(de.urlAfterRedirects),de.targetSnapshot,!!de.guardsResult);this.triggerEvent(Oe)}),(0,H.h)(de=>!!de.guardsResult||(this.restoreHistory(de),this.cancelNavigationTransition(de,"",3),!1)),Br(de=>{if(de.guards.canActivateChecks.length)return(0,m.of)(de).pipe((0,X.b)(Oe=>{const gt=new Xn(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(gt)}),(0,V.w)(Oe=>{let gt=!1;return(0,m.of)(Oe).pipe(function wo(s,c){return(0,$.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:D}}=v;if(!D.length)return(0,m.of)(v);let Z=0;return(0,e.D)(D).pipe((0,E.b)(re=>function ds(s,c,v,S){const D=s.routeConfig,Z=s._resolve;return void 0!==D?.title&&!Us(D)&&(Z[ct]=D.title),function Ds(s,c,v,S){const D=function To(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}(s);if(0===D.length)return(0,m.of)({});const Z={};return(0,e.D)(D).pipe((0,$.z)(re=>function Ko(s,c,v,S){var D;const Z=null!==(D=Nr(c))&&void 0!==D?D:S,re=Ar(s,Z);return De(re.resolve?re.resolve(c,v):Z.runInContext(()=>re(c,v)))}(s[re],c,v,S).pipe((0,z.P)(),(0,X.b)(de=>{Z[re]=de}))),Te(1),(0,Ye.h)(Z),(0,Q.K)(re=>Wi(re)?N.E:(0,_._)(re)))}(Z,s,c,S).pipe((0,F.U)(re=>(s._resolvedData=re,s.data=Pi(s,v).resolve,D&&Us(D)&&(s.data[ct]=D.title),null)))}(re.route,S,s,c)),(0,X.b)(()=>Z++),Te(1),(0,$.z)(re=>Z===D.length?(0,m.of)(v):N.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,X.b)({next:()=>gt=!0,complete:()=>{gt||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"",2))}}))}),(0,X.b)(Oe=>{const gt=new fr(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(gt)}))}),Br(de=>{const Oe=gt=>{var Dt;const Ht=[];null!==(Dt=gt.routeConfig)&&void 0!==Dt&&Dt.loadComponent&&!gt.routeConfig._loadedComponent&&Ht.push(this.configLoader.loadComponent(gt.routeConfig).pipe((0,X.b)(pn=>{gt.component=pn}),(0,F.U)(()=>{})));for(const pn of gt.children)Ht.push(...Oe(pn));return Ht};return(0,C.a)(Oe(de.targetSnapshot.root)).pipe((0,Ke.d)(),(0,q.q)(1))}),Br(()=>this.afterPreactivation()),(0,F.U)(de=>{const Oe=function zr(s,c,v){const S=Wr(s,c._root,v?v._root:void 0);return new Ys(S,c)}(this.routeReuseStrategy,de.targetSnapshot,de.currentRouterState);return D={...de,targetRouterState:Oe}}),(0,X.b)(de=>{this.currentUrlTree=de.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(de.urlAfterRedirects,de.rawUrl),this.routerState=de.targetRouterState,"deferred"===this.urlUpdateStrategy&&(de.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,de),this.browserUrlTree=de.urlAfterRedirects)}),((s,c,v)=>(0,F.U)(S=>(new Ls(c,S.targetRouterState,S.currentRouterState,v).activate(s),S)))(this.rootContexts,this.routeReuseStrategy,de=>this.triggerEvent(de)),(0,X.b)({next(){Z=!0},complete(){Z=!0}}),rt(()=>{var de;Z||re||this.cancelNavigationTransition(D,"",1),(null===(de=this.currentNavigation)||void 0===de?void 0:de.id)===D.id&&(this.currentNavigation=null)}),(0,Q.K)(de=>{if(re=!0,Oi(de)){wr(de)||(this.navigated=!0,this.restoreHistory(D,!0));const gt=new hn(D.id,this.serializeUrl(D.extractedUrl),de.message,de.cancellationCode);if(S.next(gt),wr(de)){const Dt=this.urlHandlingStrategy.merge(de.url,this.rawUrlTree),Ht={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Le(D.source)};this.scheduleNavigation(Dt,"imperative",null,Ht,{resolve:D.resolve,reject:D.reject,promise:D.promise})}else D.resolve(!1)}else{var Oe;this.restoreHistory(D,!0);const gt=new Dn(D.id,this.serializeUrl(D.extractedUrl),de,null!==(Oe=D.targetSnapshot)&&void 0!==Oe?Oe:void 0);S.next(gt);try{D.resolve(this.errorHandler(de))}catch(Dt){D.reject(Dt)}}return N.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{var D;const Z={replaceUrl:!0},re=null!==(D=v.state)&&void 0!==D&&D.navigationId?v.state:null;if(re){const Oe={...re};delete Oe.navigationId,delete Oe.\u0275routerPageId,0!==Object.keys(Oe).length&&(Z.state=Oe)}const de=this.parseUrl(v.url);this.scheduleNavigation(de,S,re,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(go),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:D,queryParams:Z,fragment:re,queryParamsHandling:de,preserveFragment:Oe}=S,gt=D||this.routerState.root,Dt=Oe?this.currentUrlTree.fragment:re;let Ht=null;switch(de){case"merge":Ht={...this.currentUrlTree.queryParams,...Z};break;case"preserve":Ht=this.currentUrlTree.queryParams;break;default:Ht=Z||null}return null!==Ht&&(Ht=this.removeEmptyProps(Ht)),vr(gt,this.currentUrlTree,v,Ht,Dt??null)}navigateByUrl(v,S={skipLocationChange:!1}){const D=zt(v)?v:this.parseUrl(v),Z=this.urlHandlingStrategy.merge(D,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,S)}navigate(v,S={skipLocationChange:!1}){return function le(s){for(let c=0;c<s.length;c++){if(null==s[c])throw new t.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(D){S=this.malformedUriErrorHandler(D,this.urlSerializer,v)}return S}isActive(v,S){let D;if(D=!0===S?{...Lt}:!1===S?{...Nt}:S,zt(v))return We(this.currentUrlTree,v,D);const Z=this.parseUrl(v);return We(this.currentUrlTree,Z,D)}removeEmptyProps(v){return Object.keys(v).reduce((S,D)=>{const Z=v[D];return null!=Z&&(S[D]=Z),S},{})}processNavigations(){this.navigations.subscribe(v=>{var S;this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new un(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(S=this.titleStrategy)||void 0===S||S.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,S,D,Z,re){if(this.disposed)return Promise.resolve(!1);let de,Oe,gt;re?(de=re.resolve,Oe=re.reject,gt=re.promise):gt=new Promise((Ti,Hi)=>{de=Ti,Oe=Hi});const Dt=++this.navigationId;let Ht;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(D=this.location.getState()),D&&D.\u0275routerPageId)Ht=D.\u0275routerPageId;else if(Z.replaceUrl||Z.skipLocationChange){var pn;Ht=null!==(pn=this.browserPageId)&&void 0!==pn?pn:0}else{var Tn;Ht=(null!==(Tn=this.browserPageId)&&void 0!==Tn?Tn:0)+1}else Ht=0;return this.setTransition({id:Dt,targetPageId:Ht,source:S,restoredState:D,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:Z,resolve:de,reject:Oe,promise:gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gt.catch(Ti=>Promise.reject(Ti))}setBrowserUrl(v,S){const D=this.urlSerializer.serialize(v),Z={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.isCurrentPathEqualTo(D)||S.extras.replaceUrl?this.location.replaceState(D,"",Z):this.location.go(D,"",Z)}restoreHistory(v,S=!1){if("computed"===this.canceledNavigationResolution){var D,Z;const re=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(D=this.currentNavigation)||void 0===D?void 0:D.finalUrl)||0===re?this.currentUrlTree===(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)&&0===re&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(re)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,S,D){const Z=new hn(v.id,this.serializeUrl(v.extractedUrl),S,D);this.triggerEvent(Z),v.resolve(!1)}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return s.\u0275fac=function(v){t.$Z()},s.\u0275prov=t.Yz7({token:s,factory:function(){return pe()},providedIn:"root"}),s})();function Le(s){return"imperative"!==s}let Bt=(()=>{class s{constructor(v,S,D,Z,re){this.router=v,this.route=S,this.tabIndexAttribute=D,this.renderer=Z,this.el=re,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new O.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,t.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,t.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,t.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const S=this.renderer,D=this.el.nativeElement;null!==v?S.setAttribute(D,"tabindex",v):S.removeAttribute(D,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return s.\u0275fac=function(v){return new(v||s)(t.Y36(nt),t.Y36(sr),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq))},s.\u0275dir=t.lG2({type:s,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,S){1&v&&t.NdJ("click",function(){return S.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[t.TTD]}),s})(),on=(()=>{class s{constructor(v,S,D){this.router=v,this.route=S,this.locationStrategy=D,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new O.x,this.subscription=v.events.subscribe(Z=>{Z instanceof un&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,t.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,t.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,t.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,S,D,Z,re){return!!(0!==v||S||D||Z||re||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return s.\u0275fac=function(v){return new(v||s)(t.Y36(nt),t.Y36(sr),t.Y36(L.S$))},s.\u0275dir=t.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,S){1&v&&t.NdJ("click",function(Z){return S.onClick(Z.button,Z.ctrlKey,Z.shiftKey,Z.altKey,Z.metaKey)}),2&v&&t.uIk("target",S.target)("href",S.href,t.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[t.TTD]}),s})(),Un=(()=>{class s{constructor(v,S,D,Z,re,de){this.router=v,this.element=S,this.renderer=D,this.cdr=Z,this.link=re,this.linkWithHref=de,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.vpe,this.routerEventsSubscription=v.events.subscribe(Oe=>{Oe instanceof un&&this.update()})}ngAfterContentInit(){(0,m.of)(this.links.changes,this.linksWithHrefs.changes,(0,m.of)(null)).pipe((0,Ct.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var v;null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe();const S=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,e.D)(S).pipe((0,Ct.J)()).subscribe(D=>{this.isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(v){const S=Array.isArray(v)?v:v.split(" ");this.classes=S.filter(D=>!!D)}ngOnChanges(v){this.update()}ngOnDestroy(){var v;this.routerEventsSubscription.unsubscribe(),null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(S=>{v?this.renderer.addClass(this.element.nativeElement,S):this.renderer.removeClass(this.element.nativeElement,S)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const S=function wi(s){return!!s.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return D=>!!D.urlTree&&v.isActive(D.urlTree,S)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return s.\u0275fac=function(v){return new(v||s)(t.Y36(nt),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(Bt,8),t.Y36(on,8))},s.\u0275dir=t.lG2({type:s,selectors:[["","routerLinkActive",""]],contentQueries:function(v,S,D){if(1&v&&(t.Suo(D,Bt,5),t.Suo(D,on,5)),2&v){let Z;t.iGM(Z=t.CRH())&&(S.links=Z),t.iGM(Z=t.CRH())&&(S.linksWithHrefs=Z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.TTD]}),s})();class ls{}let So=(()=>{class s{constructor(v,S,D,Z,re){this.router=v,this.injector=D,this.preloadingStrategy=Z,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,H.h)(v=>v instanceof un),(0,E.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const D=[];for(const Oe of S){var Z,re;Oe.providers&&!Oe._injector&&(Oe._injector=(0,t.MMx)(Oe.providers,v,`Route: ${Oe.path}`));const gt=null!==(Z=Oe._injector)&&void 0!==Z?Z:v,Dt=null!==(re=Oe._loadedInjector)&&void 0!==re?re:gt;if(Oe.loadChildren&&!Oe._loadedRoutes&&void 0===Oe.canLoad||Oe.loadComponent&&!Oe._loadedComponent)D.push(this.preloadConfig(gt,Oe));else if(Oe.children||Oe._loadedRoutes){var de;D.push(this.processRoutes(Dt,null!==(de=Oe.children)&&void 0!==de?de:Oe._loadedRoutes))}}return(0,e.D)(D).pipe((0,Ct.J)())}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>{let D;D=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(v,S):(0,m.of)(null);const Z=D.pipe((0,$.z)(re=>{var de;return null===re?(0,m.of)(void 0):(S._loadedRoutes=re.routes,S._loadedInjector=re.injector,this.processRoutes(null!==(de=re.injector)&&void 0!==de?de:v,re.routes))}));if(S.loadComponent&&!S._loadedComponent){const re=this.loader.loadComponent(S);return(0,e.D)([Z,re]).pipe((0,Ct.J)())}return Z})}}return s.\u0275fac=function(v){return new(v||s)(t.LFG(nt),t.LFG(t.Sil),t.LFG(t.lqb),t.LFG(ls),t.LFG(No))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gs=new t.OlP("");let xo=(()=>{class s{constructor(v,S,D={}){this.router=v,this.viewportScroller=S,this.options=D,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},D.scrollPositionRestoration=D.scrollPositionRestoration||"disabled",D.anchorScrolling=D.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Pt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof un&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ts&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.router.triggerEvent(new ts(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(v){t.$Z()},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();function Ro(s,c){return{\u0275kind:s,\u0275providers:c}}function da(s){return[{provide:Ks,multi:!0,useValue:s}]}function Tt(){const s=(0,t.f3M)(t.zs3);return c=>{var v,S;const D=s.get(t.z2F);if(c!==D.components[0])return;const Z=s.get(nt),re=s.get(j);1===s.get(Se)&&Z.initialNavigation(),null===(v=s.get(or,null,t.XFs.Optional))||void 0===v||v.setUpPreloading(),null===(S=s.get(gs,null,t.XFs.Optional))||void 0===S||S.init(),Z.resetRootComponentType(D.componentTypes[0]),re.next(),re.complete()}}const j=new t.OlP("",{factory:()=>new O.x}),Se=new t.OlP("",{providedIn:"root",factory:()=>1});const or=new t.OlP("");function Ur(s){return Ro(0,[{provide:or,useExisting:So},{provide:ls,useExisting:s}])}const Qo=new t.OlP("ROUTER_FORROOT_GUARD"),Sd=[L.Ye,{provide:wn,useClass:rn},{provide:nt,useFactory:pe},ps,{provide:sr,useFactory:function Fs(s){return s.routerState.root},deps:[nt]},No];function Is(){return new t.PXZ("Router",nt)}let fa=(()=>{class s{constructor(v){}static forRoot(v,S){return{ngModule:s,providers:[Sd,[],da(v),{provide:Qo,useFactory:oo,deps:[[nt,new t.FiY,new t.tp0]]},{provide:Ao,useValue:S||{}},null!=S&&S.useHash?{provide:L.S$,useClass:L.Do}:{provide:L.S$,useClass:L.b0},{provide:gs,useFactory:()=>{const s=(0,t.f3M)(nt),c=(0,t.f3M)(L.EM),v=(0,t.f3M)(Ao);return v.scrollOffset&&c.setOffset(v.scrollOffset),new xo(s,c,v)}},null!=S&&S.preloadingStrategy?Ur(S.preloadingStrategy).\u0275providers:[],{provide:t.PXZ,multi:!0,useFactory:Is},null!=S&&S.initialNavigation?Yo(S):[],[{provide:al,useFactory:Tt},{provide:t.tb,multi:!0,useExisting:al}]]}}static forChild(v){return{ngModule:s,providers:[da(v)]}}}return s.\u0275fac=function(v){return new(v||s)(t.LFG(Qo,8))},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[As]}),s})();function oo(s){return"guarded"}function Yo(s){return["disabled"===s.initialNavigation?Ro(3,[{provide:t.ip1,multi:!0,useFactory:()=>{const c=(0,t.f3M)(nt);return()=>{c.setUpLocationChangeListener()}}},{provide:Se,useValue:2}]).\u0275providers:[],"enabledBlocking"===s.initialNavigation?Ro(2,[{provide:Se,useValue:0},{provide:t.ip1,multi:!0,deps:[t.zs3],useFactory:c=>{const v=c.get(L.V_,Promise.resolve());let S=!1;return()=>v.then(()=>new Promise(Z=>{const re=c.get(nt),de=c.get(j);(function D(Z){c.get(nt).events.pipe((0,H.h)(de=>de instanceof un||de instanceof hn||de instanceof Dn),(0,F.U)(de=>de instanceof un||de instanceof hn&&(0===de.code||1===de.code)&&null),(0,H.h)(de=>null!==de),(0,q.q)(1)).subscribe(()=>{Z()})})(()=>{Z(!0),S=!0}),re.afterPreactivation=()=>(Z(!0),S||de.closed?(0,m.of)(void 0):de),re.initialNavigation()}))}}]).\u0275providers:[]]}const al=new t.OlP("")},2979:(st,ye,f)=>{"use strict";f.d(ye,{DJ:()=>ve,fQ:()=>G,lO:()=>dt,An:()=>Ct,uh:()=>_e});var t=f(4650),e=f(8185),m=f(9751),w=f(7579),b=f(4707),C=f(9646),g=f(2076),p=f(5191),A=f(9300),_=f(4482),R=f(5403),a=f(5577),k=f(4004),P=f(9383),U=f(6895),J=f(529);const O=new t.OlP("LOCALIZE_ROUTER_FORROOT_GUARD"),L=new t.OlP("RAW_ROUTES");var F=(()=>{return(o=F||(F={})).LocalStorage="LocalStorage",o.SessionStorage="SessionStorage",o.Cookie="Cookie",F;var o})();const V=new t.OlP("USE_CACHED_LANG"),q=new t.OlP("CACHE_MECHANISM"),ie=new t.OlP("CACHE_NAME"),H=new t.OlP("COOKIE_FORMAT"),$=new t.OlP("INITIAL_NAVIGATION"),z=new t.OlP("DEFAULT_LANG_FUNCTION"),E=new t.OlP("ALWAYS_SET_PREFIX");let _e=(()=>{class o{constructor(be=!0,je=!0,et=F.LocalStorage,Qe="LOCALIZE_DEFAULT_LANGUAGE",We,bt="{{value}};{{expires}}",pt=!1){this.useCachedLang=be,this.alwaysSetPrefix=je,this.cacheName=Qe,this.cookieFormat=bt,this.initialNavigation=pt,this.cacheMechanism=et,this.defaultLangFunction=We}}return o.\u0275fac=function(be){return new(be||o)(t.LFG(V),t.LFG(E),t.LFG(q),t.LFG(ie),t.LFG(z),t.LFG(H),t.LFG($))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),ve=(()=>{class o{constructor(be,je,et){this.translate=be,this.location=je,this.settings=et}init(be){let je;if(this.routes=be,!this.locales||!this.locales.length)return Promise.resolve();const et=this.getLocationLang(),Qe=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,Qe):this._cachedLang||Qe||this.locales[0],je=et||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let We=[];if(this.settings.alwaysSetPrefix){const pt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},He=be.findIndex(ae=>"**"===ae.path);-1!==He&&(this._wildcardRoute=be.splice(He,1)[0]),We=this.routes.splice(0,this.routes.length,pt)}else We=[...this.routes];for(let pt=We.length-1;pt>=0;pt--)We[pt].data&&We[pt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(We[pt]),(void 0===We[pt].redirectTo||!We[pt].data.skipRouteLocalization.localizeRedirectTo)&&We.splice(pt,1));return We&&We.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:We},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),this.translateRoutes(je).toPromise()}initChildRoutes(be){return this._translateRouteTree(be),be}translateRoutes(be){return new m.y(je=>{this._cachedLang=be,this._languageRoute&&(this._languageRoute.path=be),this.translate.use(be).subscribe(et=>{this._translationObject=et,this.currentLang=be,this._languageRoute?(this._languageRoute&&this._translateRouteTree(this._languageRoute.children),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes),je.next(void 0),je.complete()})})}_translateRouteTree(be){be.forEach(je=>{const et=je.data&&je.data.skipRouteLocalization;je.redirectTo&&(!et||et.localizeRedirectTo)&&this._translateProperty(je,"redirectTo",!je.redirectTo.indexOf("/")),et||(null!=je.path&&this._translateProperty(je,"path"),je.children&&this._translateRouteTree(je.children),je.loadChildren&&je._loadedConfig&&this._translateRouteTree(je._loadedConfig.routes))})}_translateProperty(be,je,et){const Qe=be.data=be.data||{};Qe.localizeRouter||(Qe.localizeRouter={}),Qe.localizeRouter[je]||(Qe.localizeRouter={...Qe.localizeRouter,[je]:be[je]});const We=this.translateRoute(Qe.localizeRouter[je]);be[je]=et?this.addPrefixToUrl(We):We}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(be){const je=be.split("?");return je[0]=je[0].replace(/\/$/,""),`/${this.urlPrefix}${je.join("?")}`}translateRoute(be){const je=be.split("?");if(je.length>2)throw Error("There should be only one query parameter block in the URL");return je[0].split("/").map(Qe=>Qe.length?this.translateText(Qe):Qe).join("/")+(je.length>1?`?${je[1]}`:"")}getLocationLang(be){const je=(be||this.location.path()).split(/[\?;]/);let et=[];return je.length>0&&(et=je[0].split("/")),et.length>1&&-1!==this.locales.indexOf(et[1])?et[1]:et.length&&-1!==this.locales.indexOf(et[0])?et[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===F.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===F.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===F.Cookie)return this._cacheWithCookies()}}set _cachedLang(be){!this.settings.useCachedLang||(this.settings.cacheMechanism===F.LocalStorage&&this._cacheWithLocalStorage(be),this.settings.cacheMechanism===F.SessionStorage&&this._cacheWithSessionStorage(be),this.settings.cacheMechanism===F.Cookie&&this._cacheWithCookies(be))}_cacheWithLocalStorage(be){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return be?void window.localStorage.setItem(this.settings.cacheName,be):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(be){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return be?void window.sessionStorage.setItem(this.settings.cacheName,be):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(be){try{if(typeof document>"u"||typeof document.cookie>"u")return;const je=encodeURIComponent(this.settings.cacheName);if(be){let We=`${this.settings.cookieFormat}`;return We=We.replace("{{value}}",`${je}=${encodeURIComponent(be)}`).replace(/{{expires:?(\d+)?}}/g,(bt,pt)=>{const He=void 0===pt?30:parseInt(pt,10),ae=new Date;return ae.setTime(ae.getTime()+864e5*He),`expires=${ae.toUTCString()}`}),void(document.cookie=We)}const Qe=new RegExp("(?:^"+je+"|;\\s*"+je+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(Qe[1])}catch{return}}_returnIfInLocales(be){return be&&-1!==this.locales.indexOf(be)?be:null}translateText(be){if(this.escapePrefix&&be.startsWith(this.escapePrefix))return be.replace(this.escapePrefix,"");{if(!this._translationObject)return be;const je=this.prefix+be,et=this.translate.getParsedResult(this._translationObject,je);return et!==je?et:be}}chooseQueryParams(be,je){let et;return be&&be.queryParams?et=be.queryParams:je&&(et=je),et}formatQueryParams(be){return new J.LE({fromObject:be}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return o.\u0275fac=function(be){return new(be||o)(t.LFG(P.sK),t.LFG(U.Ye),t.LFG(_e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),xe=(()=>{class o extends ve{load(be){return new Promise(je=>{this.init(be).then(je)})}}return o.\u0275fac=function(){let De;return function(je){return(De||(De=t.n5z(o)))(je||o)}}(),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();function Ge(o,De){if(o===De)return!0;if(null===o||null===De)return!1;if(o!=o&&De!=De)return!0;const be=typeof o;let et,Qe,We;if(be===typeof De&&"object"===be){if(!Array.isArray(o)){if(Array.isArray(De))return!1;for(Qe in We=Object.create(null),o)if(o.hasOwnProperty(Qe)){if(!Ge(o[Qe],De[Qe]))return!1;We[Qe]=!0}for(Qe in De)if(De.hasOwnProperty(Qe)&&!(Qe in We)&&typeof De[Qe]<"u")return!1;return!0}if(!Array.isArray(De))return!1;if((et=o.length)===De.length){for(Qe=0;Qe<et;Qe++)if(!Ge(o[Qe],De[Qe]))return!1;return!0}}return!1}function Ye(o){const De=Array.isArray(o)?[]:{};for(const be in o)if(be){const je=o[be];De[be]="object"==typeof je?Ye(je):je}return De}function rt(o){return o.reduce((De,be)=>{const je=Array.isArray(be)?rt(be):be;return De.concat(je)},[])}let Ct=(()=>{class o{constructor(be,je,et,Qe){this.parser=be,this.settings=je,this.router=et,this.route=Qe,this.routerEvents=new w.x;const We=new b.t(1);this.hooks={_initializedSubject:We,initialized:We.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,A.h)(be=>be instanceof e.OD),function N(){return(0,_.e)((o,De)=>{let be,je=!1;o.subscribe((0,R.x)(De,et=>{const Qe=be;be=et,je&&De.next([Qe,et]),je=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(be,je,et){if(be!==this.parser.currentLang){const Qe=this.router.routerState.snapshot.root;this.parser.translateRoutes(be).subscribe(()=>{let We=this.traverseRouteSnapshot(Qe);if(We=this.translateRoute(We),!this.settings.alwaysSetPrefix){let He=We.split("/");const ae=He.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===ae||1===ae&&""===He[0])&&(He=He.slice(0,ae).concat(He.slice(ae+1)));else if(-1===ae){const te=""===He[0]?1:0;He=He.slice(0,te).concat(this.parser.currentLang,He.slice(te))}We=He.join("/")}We=We.replace(/\/+/g,"/");const bt=We.lastIndexOf("/");bt>0&&bt===We.length-1&&(We=We.slice(0,-1));const pt=this.parser.chooseQueryParams(je,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=je,et){const He=je?{...je}:{};pt&&(He.queryParams=pt),this.router.navigate([We],He)}else{let He=this.parser.formatQueryParams(pt);He=He?`?${He}`:"",this.router.navigateByUrl(`${We}${He}`,je)}})}}traverseRouteSnapshot(be){return be.firstChild&&be.routeConfig?`${this.parseSegmentValue(be)}/${this.traverseRouteSnapshot(be.firstChild)}`:be.firstChild?this.traverseRouteSnapshot(be.firstChild):this.parseSegmentValue(be)}buildUrlFromSegments(be,je){return je.map((et,Qe)=>0===et.indexOf(":")?be.url[Qe].path:et).join("/")}parseSegmentValue(be){if(be.routeConfig&&be.routeConfig.matcher){const je=this.parseSegmentValueMatcher(be);return this.buildUrlFromSegments(be,je)}if(be.data.localizeRouter){const et=be.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(be,et)}if(be.parent&&be.parent.parent){const et=be.routeConfig.path.split("/");return this.buildUrlFromSegments(be,et)}return""}parseSegmentValueMatcher(be){const je=be.data&&be.data.localizeMatcher&&be.data.localizeMatcher.params||{};return be.url.map(Qe=>{const We=Qe.path,bt=Qe.localizedParamName;return(bt&&je[bt]?je[bt](We):null)||`${this.parser.getEscapePrefix()}${We}`})}translateRoute(be){if("string"==typeof be){const et=this.parser.translateRoute(be);return be.indexOf("/")?et:this.parser.addPrefixToUrl(et)}const je=[];return be.forEach((et,Qe)=>{if("string"==typeof et){const We=this.parser.translateRoute(et);Qe||et.indexOf("/")?je.push(We):je.push(this.parser.addPrefixToUrl(We))}else je.push(et)}),je}_routeChanged(){return([be,je])=>{const et=this.parser.getLocationLang(be.url)||this.parser.defaultLang,Qe=this.parser.getLocationLang(je.url)||this.parser.defaultLang,We=this.lastExtras;Qe!==et&&this.latestUrl!==je.url&&(this.latestUrl=je.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(Qe).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(je.url,We),this.routerEvents.next(Qe)})),this.latestUrl=je.url}}cancelCurrentNavigation(){const be=this.router.getCurrentNavigation(),je=this.router.serializeUrl(be.extractedUrl);this.router.events.next(new e.gk(be.id,je,"")),this.router.transitions.next({...this.router.transitions.getValue(),id:0})}applyConfigToRouter(be){this.router.resetConfig(Ye(be))}}return o.\u0275fac=function(be){return new(be||o)(t.LFG(ve),t.LFG(_e),t.LFG(e.F0),t.LFG(e.gz))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),dt=(()=>{class o{constructor(be,je){this.localize=be,this._ref=je,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(be){if(!be||0===be.length||!this.localize.parser.currentLang)return be;if(Ge(be,this.lastKey)&&Ge(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=be,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(be),this.lastKey=be;const je=this._ref._view;return je&&128&je.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return o.\u0275fac=function(be){return new(be||o)(t.Y36(Ct,16),t.Y36(t.sBO,16))},o.\u0275pipe=t.Yjl({name:"localize",type:o,pure:!1}),o})();class ct{constructor(){}shouldDetach(De){return!1}store(De,be){}shouldAttach(De){return!1}retrieve(De){return null}shouldReuseRoute(De,be){return!(!De||!be)&&this.getKey(De)===this.getKey(be)}getKey(De){if(De.firstChild&&De.firstChild.routeConfig&&De.firstChild.routeConfig.path&&-1!==De.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(De.data.localizeRouter||De.parent&&De.parent.parent||De.data.skipRouteLocalization))return"LANG";if(De.routeConfig.matcher){let be=`${this.getKey(De.parent)}/${De.routeConfig.matcher.name}`;return De.data.discriminantPathKey&&(be=`${be}-${De.data.discriminantPathKey}`),be}if(De.data.localizeRouter){let be=`${this.getKey(De.parent)}/${De.data.localizeRouter.path}`;return De.data.discriminantPathKey&&(be=`${be}-${De.data.discriminantPathKey}`),be}{let be=De.routeConfig.path;return De.parent&&(be=`${this.getKey(De.parent)}/${De.routeConfig.path}`),De.data.discriminantPathKey&&(be=`${be}-${De.data.discriminantPathKey}`),be}}}class Gt extends e.F0{constructor(De,be,je,et,Qe,We,bt,pt){super(De,be,je,et,Qe,We,bt),this.config=bt;const He=Qe.get(t.Lbi);((0,U.NF)(He)?this.configLoader.__proto__:this.configLoader).loadModuleFactory=B=>function Mt(o){return(0,p.b)(o)?o:function we(o){return!!o&&"function"==typeof o.then}(o)?(0,g.D)(Promise.resolve(o)):(0,C.of)(o)}(B()).pipe((0,a.z)(ee=>{let Re;return Re=ee instanceof t.YKP?(0,C.of)(ee):(0,g.D)(We.compileModuleAsync(ee)),Re.pipe((0,k.U)(tt=>({moduleType:tt.moduleType,create:ot=>{const Et=tt.create(ot),Kt=Et.injector.get.bind(Et.injector);return Et.injector.get=(wn,rn)=>{const fn=Kt(wn,rn);return wn===e.Z6?pt.initChildRoutes([].concat(...fn)):fn},Et}})))}))}}function ln(o,De,be,je,et,Qe,We,bt,pt={},He,ae){const te=new Gt(null,De,be,je,et,Qe,rt(We),bt);return He&&(te.urlHandlingStrategy=He),ae&&(te.routeReuseStrategy=ae),pt.errorHandler&&(te.errorHandler=pt.errorHandler),pt.malformedUriErrorHandler&&(te.malformedUriErrorHandler=pt.malformedUriErrorHandler),pt.enableTracing&&te.events.subscribe(B=>{console.group(`Router Event: ${B.constructor.name}`),console.log(B.toString()),console.log(B),console.groupEnd()}),pt.onSameUrlNavigation&&(te.onSameUrlNavigation=pt.onSameUrlNavigation),pt.paramsInheritanceStrategy&&(te.paramsInheritanceStrategy=pt.paramsInheritanceStrategy),pt.urlUpdateStrategy&&(te.urlUpdateStrategy=pt.urlUpdateStrategy),pt.relativeLinkResolution&&(te.relativeLinkResolution=pt.relativeLinkResolution),te}let It=(()=>{class o{constructor(be){this.injector=be}appInitializer(){return this.parser.load(this.routes).then(()=>{const je=this.injector.get(Ct),et=this.injector.get(e.F0),Qe=this.injector.get(_e);if(je.init(),Qe.initialNavigation)return new Promise(We=>{const bt=et.hooks.afterPreactivation;let pt=!0;et.hooks.afterPreactivation=()=>(pt&&(We(),pt=!1,je.hooks._initializedSubject.next(!0),je.hooks._initializedSubject.complete()),bt())});je.hooks._initializedSubject.next(!0),je.hooks._initializedSubject.complete()})}generateInitializer(be,je){return this.parser=be,this.routes=je.reduce((et,Qe)=>et.concat(Qe)),this.appInitializer}}return o.\u0275fac=function(be){return new(be||o)(t.LFG(t.zs3))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();function Y(o,De,be){const je=Ye(be);return o.generateInitializer(De,je).bind(o)}let G=(()=>{class o{static forRoot(be,je={}){return{ngModule:o,providers:[{provide:e.F0,useFactory:ln,deps:[t.z2F,e.Hx,e.y6,U.Ye,t.zs3,t.Sil,e.Z6,ve,e.cx,[e.oI,new t.FiY],[e.wN,new t.FiY]]},{provide:O,useFactory:oe,deps:[[o,new t.FiY,new t.tp0]]},{provide:V,useValue:je.useCachedLang},{provide:E,useValue:je.alwaysSetPrefix},{provide:ie,useValue:je.cacheName},{provide:q,useValue:je.cacheMechanism},{provide:z,useValue:je.defaultLangFunction},{provide:H,useValue:je.cookieFormat},{provide:$,useValue:je.initialNavigation},_e,je.parser||{provide:ve,useClass:xe},{provide:L,multi:!0,useValue:be},Ct,It,{provide:t.ip1,multi:!0,useFactory:Y,deps:[It,ve,L]},{provide:e.wN,useClass:ct}]}}static forChild(be){return{ngModule:o,providers:[{provide:L,multi:!0,useValue:be}]}}}return o.\u0275fac=function(be){return new(be||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[U.ez,e.Bz,P.aw]]}),o})();function oe(o){if(o)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},9383:(st,ye,f)=>{"use strict";f.d(ye,{X$:()=>_e,Zw:()=>N,aw:()=>Te,sK:()=>Q});var t=f(4650),e=f(9646),m=f(5191),w=f(4128),b=f(7272),C=f(9770),g=f(5698),p=f(4782),A=f(4004),_=f(4351),R=f(3900);class N{}let a=(()=>{class ve extends N{getTranslation(xe){return(0,e.of)({})}}return ve.\u0275fac=function(){let Ke;return function(Ge){return(Ke||(Ke=t.n5z(ve)))(Ge||ve)}}(),ve.\u0275prov=t.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class k{}let P=(()=>{class ve{handle(xe){return xe.key}}return ve.\u0275fac=function(xe){return new(xe||ve)},ve.\u0275prov=t.Yz7({token:ve,factory:ve.\u0275fac}),ve})();function U(ve,Ke){if(ve===Ke)return!0;if(null===ve||null===Ke)return!1;if(ve!=ve&&Ke!=Ke)return!0;let we,Ye,rt,xe=typeof ve;if(xe==typeof Ke&&"object"==xe){if(!Array.isArray(ve)){if(Array.isArray(Ke))return!1;for(Ye in rt=Object.create(null),ve){if(!U(ve[Ye],Ke[Ye]))return!1;rt[Ye]=!0}for(Ye in Ke)if(!(Ye in rt)&&typeof Ke[Ye]<"u")return!1;return!0}if(!Array.isArray(Ke))return!1;if((we=ve.length)==Ke.length){for(Ye=0;Ye<we;Ye++)if(!U(ve[Ye],Ke[Ye]))return!1;return!0}}return!1}function J(ve){return typeof ve<"u"&&null!==ve}function O(ve){return ve&&"object"==typeof ve&&!Array.isArray(ve)}function L(ve,Ke){let xe=Object.assign({},ve);return O(ve)&&O(Ke)&&Object.keys(Ke).forEach(Ge=>{O(Ke[Ge])?Ge in ve?xe[Ge]=L(ve[Ge],Ke[Ge]):Object.assign(xe,{[Ge]:Ke[Ge]}):Object.assign(xe,{[Ge]:Ke[Ge]})}),xe}class F{}let V=(()=>{class ve extends F{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(xe,Ge){let we;return we="string"==typeof xe?this.interpolateString(xe,Ge):"function"==typeof xe?this.interpolateFunction(xe,Ge):xe,we}getValue(xe,Ge){let we="string"==typeof Ge?Ge.split("."):[Ge];Ge="";do{Ge+=we.shift(),!J(xe)||!J(xe[Ge])||"object"!=typeof xe[Ge]&&we.length?we.length?Ge+=".":xe=void 0:(xe=xe[Ge],Ge="")}while(we.length);return xe}interpolateFunction(xe,Ge){return xe(Ge)}interpolateString(xe,Ge){return Ge?xe.replace(this.templateMatcher,(we,Ye)=>{let rt=this.getValue(Ge,Ye);return J(rt)?rt:we}):xe}}return ve.\u0275fac=function(){let Ke;return function(Ge){return(Ke||(Ke=t.n5z(ve)))(Ge||ve)}}(),ve.\u0275prov=t.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class q{}let ie=(()=>{class ve extends q{compile(xe,Ge){return xe}compileTranslations(xe,Ge){return xe}}return ve.\u0275fac=function(){let Ke;return function(Ge){return(Ke||(Ke=t.n5z(ve)))(Ge||ve)}}(),ve.\u0275prov=t.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class H{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.vpe,this.onLangChange=new t.vpe,this.onDefaultLangChange=new t.vpe}}const $=new t.OlP("USE_STORE"),z=new t.OlP("USE_DEFAULT_LANG"),E=new t.OlP("DEFAULT_LANGUAGE"),X=new t.OlP("USE_EXTEND");let Q=(()=>{class ve{constructor(xe,Ge,we,Ye,rt,Ct=!0,at=!1,dt=!1,ct){this.store=xe,this.currentLoader=Ge,this.compiler=we,this.parser=Ye,this.missingTranslationHandler=rt,this.useDefaultLang=Ct,this.isolate=at,this.extend=dt,this.pending=!1,this._onTranslationChange=new t.vpe,this._onLangChange=new t.vpe,this._onDefaultLangChange=new t.vpe,this._langs=[],this._translations={},this._translationRequests={},ct&&this.setDefaultLang(ct)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(xe){this.isolate?this._defaultLang=xe:this.store.defaultLang=xe}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(xe){this.isolate?this._currentLang=xe:this.store.currentLang=xe}get langs(){return this.isolate?this._langs:this.store.langs}set langs(xe){this.isolate?this._langs=xe:this.store.langs=xe}get translations(){return this.isolate?this._translations:this.store.translations}set translations(xe){this.isolate?this._translations=xe:this.store.translations=xe}setDefaultLang(xe){if(xe===this.defaultLang)return;let Ge=this.retrieveTranslations(xe);typeof Ge<"u"?(null==this.defaultLang&&(this.defaultLang=xe),Ge.pipe((0,g.q)(1)).subscribe(we=>{this.changeDefaultLang(xe)})):this.changeDefaultLang(xe)}getDefaultLang(){return this.defaultLang}use(xe){if(xe===this.currentLang)return(0,e.of)(this.translations[xe]);let Ge=this.retrieveTranslations(xe);return typeof Ge<"u"?(this.currentLang||(this.currentLang=xe),Ge.pipe((0,g.q)(1)).subscribe(we=>{this.changeLang(xe)}),Ge):(this.changeLang(xe),(0,e.of)(this.translations[xe]))}retrieveTranslations(xe){let Ge;return(typeof this.translations[xe]>"u"||this.extend)&&(this._translationRequests[xe]=this._translationRequests[xe]||this.getTranslation(xe),Ge=this._translationRequests[xe]),Ge}getTranslation(xe){this.pending=!0;const Ge=this.currentLoader.getTranslation(xe).pipe((0,p.d)(1),(0,g.q)(1));return this.loadingTranslations=Ge.pipe((0,A.U)(we=>this.compiler.compileTranslations(we,xe)),(0,p.d)(1),(0,g.q)(1)),this.loadingTranslations.subscribe({next:we=>{this.translations[xe]=this.extend&&this.translations[xe]?{...we,...this.translations[xe]}:we,this.updateLangs(),this.pending=!1},error:we=>{this.pending=!1}}),Ge}setTranslation(xe,Ge,we=!1){Ge=this.compiler.compileTranslations(Ge,xe),this.translations[xe]=(we||this.extend)&&this.translations[xe]?L(this.translations[xe],Ge):Ge,this.updateLangs(),this.onTranslationChange.emit({lang:xe,translations:this.translations[xe]})}getLangs(){return this.langs}addLangs(xe){xe.forEach(Ge=>{-1===this.langs.indexOf(Ge)&&this.langs.push(Ge)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(xe,Ge,we){let Ye;if(Ge instanceof Array){let rt={},Ct=!1;for(let at of Ge)rt[at]=this.getParsedResult(xe,at,we),(0,m.b)(rt[at])&&(Ct=!0);if(Ct){const at=Ge.map(dt=>(0,m.b)(rt[dt])?rt[dt]:(0,e.of)(rt[dt]));return(0,w.D)(at).pipe((0,A.U)(dt=>{let ct={};return dt.forEach((Gt,ln)=>{ct[Ge[ln]]=Gt}),ct}))}return rt}if(xe&&(Ye=this.parser.interpolate(this.parser.getValue(xe,Ge),we)),typeof Ye>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ye=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Ge),we)),typeof Ye>"u"){let rt={key:Ge,translateService:this};typeof we<"u"&&(rt.interpolateParams=we),Ye=this.missingTranslationHandler.handle(rt)}return typeof Ye<"u"?Ye:Ge}get(xe,Ge){if(!J(xe)||!xe.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,_.b)(we=>(we=this.getParsedResult(we,xe,Ge),(0,m.b)(we)?we:(0,e.of)(we))));{let we=this.getParsedResult(this.translations[this.currentLang],xe,Ge);return(0,m.b)(we)?we:(0,e.of)(we)}}getStreamOnTranslationChange(xe,Ge){if(!J(xe)||!xe.length)throw new Error('Parameter "key" required');return(0,b.z)((0,C.P)(()=>this.get(xe,Ge)),this.onTranslationChange.pipe((0,R.w)(we=>{const Ye=this.getParsedResult(we.translations,xe,Ge);return"function"==typeof Ye.subscribe?Ye:(0,e.of)(Ye)})))}stream(xe,Ge){if(!J(xe)||!xe.length)throw new Error('Parameter "key" required');return(0,b.z)((0,C.P)(()=>this.get(xe,Ge)),this.onLangChange.pipe((0,R.w)(we=>{const Ye=this.getParsedResult(we.translations,xe,Ge);return(0,m.b)(Ye)?Ye:(0,e.of)(Ye)})))}instant(xe,Ge){if(!J(xe)||!xe.length)throw new Error('Parameter "key" required');let we=this.getParsedResult(this.translations[this.currentLang],xe,Ge);if((0,m.b)(we)){if(xe instanceof Array){let Ye={};return xe.forEach((rt,Ct)=>{Ye[xe[Ct]]=xe[Ct]}),Ye}return xe}return we}set(xe,Ge,we=this.currentLang){this.translations[we][xe]=this.compiler.compile(Ge,we),this.updateLangs(),this.onTranslationChange.emit({lang:we,translations:this.translations[we]})}changeLang(xe){this.currentLang=xe,this.onLangChange.emit({lang:xe,translations:this.translations[xe]}),null==this.defaultLang&&this.changeDefaultLang(xe)}changeDefaultLang(xe){this.defaultLang=xe,this.onDefaultLangChange.emit({lang:xe,translations:this.translations[xe]})}reloadLang(xe){return this.resetLang(xe),this.getTranslation(xe)}resetLang(xe){this._translationRequests[xe]=void 0,this.translations[xe]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let xe=window.navigator.languages?window.navigator.languages[0]:null;return xe=xe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof xe>"u"?void 0:(-1!==xe.indexOf("-")&&(xe=xe.split("-")[0]),-1!==xe.indexOf("_")&&(xe=xe.split("_")[0]),xe)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let xe=window.navigator.languages?window.navigator.languages[0]:null;return xe=xe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,xe}}return ve.\u0275fac=function(xe){return new(xe||ve)(t.LFG(H),t.LFG(N),t.LFG(q),t.LFG(F),t.LFG(k),t.LFG(z),t.LFG($),t.LFG(X),t.LFG(E))},ve.\u0275prov=t.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),_e=(()=>{class ve{constructor(xe,Ge){this.translate=xe,this._ref=Ge,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(xe,Ge,we){let Ye=rt=>{this.value=void 0!==rt?rt:xe,this.lastKey=xe,this._ref.markForCheck()};if(we){let rt=this.translate.getParsedResult(we,xe,Ge);(0,m.b)(rt.subscribe)?rt.subscribe(Ye):Ye(rt)}this.translate.get(xe,Ge).subscribe(Ye)}transform(xe,...Ge){if(!xe||!xe.length)return xe;if(U(xe,this.lastKey)&&U(Ge,this.lastParams))return this.value;let we;if(J(Ge[0])&&Ge.length)if("string"==typeof Ge[0]&&Ge[0].length){let Ye=Ge[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{we=JSON.parse(Ye)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Ge[0]}`)}}else"object"==typeof Ge[0]&&!Array.isArray(Ge[0])&&(we=Ge[0]);return this.lastKey=xe,this.lastParams=Ge,this.updateValue(xe,we),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ye=>{this.lastKey&&Ye.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(xe,we,Ye.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ye=>{this.lastKey&&(this.lastKey=null,this.updateValue(xe,we,Ye.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(xe,we))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ve.\u0275fac=function(xe){return new(xe||ve)(t.Y36(Q,16),t.Y36(t.sBO,16))},ve.\u0275pipe=t.Yjl({name:"translate",type:ve,pure:!1}),ve.\u0275prov=t.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),Te=(()=>{class ve{static forRoot(xe={}){return{ngModule:ve,providers:[xe.loader||{provide:N,useClass:a},xe.compiler||{provide:q,useClass:ie},xe.parser||{provide:F,useClass:V},xe.missingTranslationHandler||{provide:k,useClass:P},H,{provide:$,useValue:xe.isolate},{provide:z,useValue:xe.useDefaultLang},{provide:X,useValue:xe.extend},{provide:E,useValue:xe.defaultLanguage},Q]}}static forChild(xe={}){return{ngModule:ve,providers:[xe.loader||{provide:N,useClass:a},xe.compiler||{provide:q,useClass:ie},xe.parser||{provide:F,useClass:V},xe.missingTranslationHandler||{provide:k,useClass:P},{provide:$,useValue:xe.isolate},{provide:z,useValue:xe.useDefaultLang},{provide:X,useValue:xe.extend},{provide:E,useValue:xe.defaultLanguage},Q]}}}return ve.\u0275fac=function(xe){return new(xe||ve)},ve.\u0275mod=t.oAB({type:ve}),ve.\u0275inj=t.cJS({}),ve})()},1837:(st,ye,f)=>{"use strict";f.d(ye,{ou:()=>pi,Zr:()=>cn});class t extends Error{}class e extends t{constructor(W){super(`Invalid DateTime: ${W.toMessage()}`)}}class m extends t{constructor(W){super(`Invalid Interval: ${W.toMessage()}`)}}class w extends t{constructor(W){super(`Invalid Duration: ${W.toMessage()}`)}}class b extends t{}class C extends t{constructor(W){super(`Invalid unit ${W}`)}}class g extends t{}class p extends t{constructor(){super("Zone is an abstract class")}}const A="numeric",_="short",R="long",N={year:A,month:A,day:A},a={year:A,month:_,day:A},k={year:A,month:_,day:A,weekday:_},P={year:A,month:R,day:A},U={year:A,month:R,day:A,weekday:R},J={hour:A,minute:A},O={hour:A,minute:A,second:A},L={hour:A,minute:A,second:A,timeZoneName:_},F={hour:A,minute:A,second:A,timeZoneName:R},V={hour:A,minute:A,hourCycle:"h23"},q={hour:A,minute:A,second:A,hourCycle:"h23"},ie={hour:A,minute:A,second:A,hourCycle:"h23",timeZoneName:_},H={hour:A,minute:A,second:A,hourCycle:"h23",timeZoneName:R},$={year:A,month:A,day:A,hour:A,minute:A},z={year:A,month:A,day:A,hour:A,minute:A,second:A},E={year:A,month:_,day:A,hour:A,minute:A},X={year:A,month:_,day:A,hour:A,minute:A,second:A},Q={year:A,month:_,day:A,weekday:_,hour:A,minute:A},ce={year:A,month:R,day:A,hour:A,minute:A,timeZoneName:_},_e={year:A,month:R,day:A,hour:A,minute:A,second:A,timeZoneName:_},Te={year:A,month:R,day:A,weekday:R,hour:A,minute:A,timeZoneName:R},ve={year:A,month:R,day:A,weekday:R,hour:A,minute:A,second:A,timeZoneName:R};class Ke{get type(){throw new p}get name(){throw new p}get ianaName(){return this.name}get isUniversal(){throw new p}offsetName(W,Ae){throw new p}formatOffset(W,Ae){throw new p}offset(W){throw new p}equals(W){throw new p}get isValid(){throw new p}}let xe=null;class Ge extends Ke{static get instance(){return null===xe&&(xe=new Ge),xe}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(W,{format:Ae,locale:Ue}){return ti(W,Ae,Ue)}formatOffset(W,Ae){return yi(this.offset(W),Ae)}offset(W){return-new Date(W).getTimezoneOffset()}equals(W){return"system"===W.type}get isValid(){return!0}}let we={};const rt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let dt={};class ct extends Ke{static create(W){return dt[W]||(dt[W]=new ct(W)),dt[W]}static resetCache(){dt={},we={}}static isValidSpecifier(W){return this.isValidZone(W)}static isValidZone(W){if(!W)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:W}).format(),!0}catch{return!1}}constructor(W){super(),this.zoneName=W,this.valid=ct.isValidZone(W)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(W,{format:Ae,locale:Ue}){return ti(W,Ae,Ue,this.name)}formatOffset(W,Ae){return yi(this.offset(W),Ae)}offset(W){const Ae=new Date(W);if(isNaN(Ae))return NaN;const Ue=function Ye(Ee){return we[Ee]||(we[Ee]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Ee,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),we[Ee]}(this.name);let[mt,Lt,Nt,Qt,pe,nt,le]=Ue.formatToParts?function at(Ee,W){const Ae=Ee.formatToParts(W),Ue=[];for(let mt=0;mt<Ae.length;mt++){const{type:Lt,value:Nt}=Ae[mt],Qt=rt[Lt];"era"===Lt?Ue[Qt]=Nt:lt(Qt)||(Ue[Qt]=parseInt(Nt,10))}return Ue}(Ue,Ae):function Ct(Ee,W){const Ae=Ee.format(W).replace(/\u200E/g,""),Ue=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Ae),[,mt,Lt,Nt,Qt,pe,nt,le]=Ue;return[Nt,mt,Lt,Qt,pe,nt,le]}(Ue,Ae);"BC"===Qt&&(mt=1-Math.abs(mt));let on=+Ae;const Un=on%1e3;return on-=Un>=0?Un:1e3+Un,(zt({year:mt,month:Lt,day:Nt,hour:24===pe?0:pe,minute:nt,second:le,millisecond:0})-on)/6e4}equals(W){return"iana"===W.type&&W.name===this.name}get isValid(){return this.valid}}let Gt={},Mt={};function It(Ee,W={}){const Ae=JSON.stringify([Ee,W]);let Ue=Mt[Ae];return Ue||(Ue=new Intl.DateTimeFormat(Ee,W),Mt[Ae]=Ue),Ue}let Y={},oe={},Be=null;function Qe(Ee,W,Ae,Ue,mt){const Lt=Ee.listingMode(Ae);return"error"===Lt?null:"en"===Lt?Ue(W):mt(W)}class bt{constructor(W,Ae,Ue){this.padTo=Ue.padTo||0,this.floor=Ue.floor||!1;const{padTo:mt,floor:Lt,...Nt}=Ue;if(!Ae||Object.keys(Nt).length>0){const Qt={useGrouping:!1,...Ue};Ue.padTo>0&&(Qt.minimumIntegerDigits=Ue.padTo),this.inf=function G(Ee,W={}){const Ae=JSON.stringify([Ee,W]);let Ue=Y[Ae];return Ue||(Ue=new Intl.NumberFormat(Ee,W),Y[Ae]=Ue),Ue}(W,Qt)}}format(W){if(this.inf){const Ae=this.floor?Math.floor(W):W;return this.inf.format(Ae)}return In(this.floor?Math.floor(W):ft(W,3),this.padTo)}}class pt{constructor(W,Ae,Ue){let mt;if(this.opts=Ue,this.originalZone=void 0,this.opts.timeZone)this.dt=W;else if("fixed"===W.zone.type){const Nt=W.offset/60*-1,Qt=Nt>=0?`Etc/GMT+${Nt}`:`Etc/GMT${Nt}`;0!==W.offset&&ct.create(Qt).valid?(mt=Qt,this.dt=W):(mt="UTC",this.dt=0===W.offset?W:W.setZone("UTC").plus({minutes:W.offset}),this.originalZone=W.zone)}else"system"===W.zone.type?this.dt=W:"iana"===W.zone.type?(this.dt=W,mt=W.zone.name):(mt="UTC",this.dt=W.setZone("UTC").plus({minutes:W.offset}),this.originalZone=W.zone);const Lt={...this.opts};Lt.timeZone=Lt.timeZone||mt,this.dtf=It(Ae,Lt)}format(){return this.originalZone?this.formatToParts().map(({value:W})=>W).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const W=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?W.map(Ae=>{if("timeZoneName"===Ae.type){const Ue=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...Ae,value:Ue}}return Ae}):W}resolvedOptions(){return this.dtf.resolvedOptions()}}class He{constructor(W,Ae,Ue){this.opts={style:"long",...Ue},!Ae&&Vn()&&(this.rtf=function Ve(Ee,W={}){const{base:Ae,...Ue}=W,mt=JSON.stringify([Ee,Ue]);let Lt=oe[mt];return Lt||(Lt=new Intl.RelativeTimeFormat(Ee,W),oe[mt]=Lt),Lt}(W,Ue))}format(W,Ae){return this.rtf?this.rtf.format(W,Ae):function hn(Ee,W,Ae="always",Ue=!1){const mt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Lt=-1===["hours","minutes","seconds"].indexOf(Ee);if("auto"===Ae&&Lt){const Le="days"===Ee;switch(W){case 1:return Le?"tomorrow":`next ${mt[Ee][0]}`;case-1:return Le?"yesterday":`last ${mt[Ee][0]}`;case 0:return Le?"today":`this ${mt[Ee][0]}`}}const Nt=Object.is(W,-0)||W<0,Qt=Math.abs(W),pe=1===Qt,nt=mt[Ee],le=Ue?pe?nt[1]:nt[2]||nt[1]:pe?mt[Ee][0]:Ee;return Nt?`${Qt} ${le} ago`:`in ${Qt} ${le}`}(Ae,W,this.opts.numeric,"long"!==this.opts.style)}formatToParts(W,Ae){return this.rtf?this.rtf.formatToParts(W,Ae):[]}}class ae{static fromOpts(W){return ae.create(W.locale,W.numberingSystem,W.outputCalendar,W.defaultToEN)}static create(W,Ae,Ue,mt=!1){const Lt=W||cn.defaultLocale,Nt=Lt||(mt?"en-US":function o(){return Be||(Be=(new Intl.DateTimeFormat).resolvedOptions().locale,Be)}());return new ae(Nt,Ae||cn.defaultNumberingSystem,Ue||cn.defaultOutputCalendar,Lt)}static resetCache(){Be=null,Mt={},Y={},oe={}}static fromObject({locale:W,numberingSystem:Ae,outputCalendar:Ue}={}){return ae.create(W,Ae,Ue)}constructor(W,Ae,Ue,mt){const[Lt,Nt,Qt]=function De(Ee){const W=Ee.indexOf("-x-");-1!==W&&(Ee=Ee.substring(0,W));const Ae=Ee.indexOf("-u-");if(-1===Ae)return[Ee];{let Ue,mt;try{Ue=It(Ee).resolvedOptions(),mt=Ee}catch{const pe=Ee.substring(0,Ae);Ue=It(pe).resolvedOptions(),mt=pe}const{numberingSystem:Lt,calendar:Nt}=Ue;return[mt,Lt,Nt]}}(W);this.locale=Lt,this.numberingSystem=Ae||Nt||null,this.outputCalendar=Ue||Qt||null,this.intl=function be(Ee,W,Ae){return(Ae||W)&&(Ee.includes("-u-")||(Ee+="-u"),Ae&&(Ee+=`-ca-${Ae}`),W&&(Ee+=`-nu-${W}`)),Ee}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=mt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function We(Ee){return(!Ee.numberingSystem||"latn"===Ee.numberingSystem)&&("latn"===Ee.numberingSystem||!Ee.locale||Ee.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(Ee.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(W){return W&&0!==Object.getOwnPropertyNames(W).length?ae.create(W.locale||this.specifiedLocale,W.numberingSystem||this.numberingSystem,W.outputCalendar||this.outputCalendar,W.defaultToEN||!1):this}redefaultToEN(W={}){return this.clone({...W,defaultToEN:!0})}redefaultToSystem(W={}){return this.clone({...W,defaultToEN:!1})}months(W,Ae=!1,Ue=!0){return Qe(this,W,Ue,pr,()=>{const mt=Ae?{month:W,day:"numeric"}:{month:W},Lt=Ae?"format":"standalone";return this.monthsCache[Lt][W]||(this.monthsCache[Lt][W]=function je(Ee){const W=[];for(let Ae=1;Ae<=12;Ae++){const Ue=pi.utc(2016,Ae,1);W.push(Ee(Ue))}return W}(Nt=>this.extract(Nt,mt,"month"))),this.monthsCache[Lt][W]})}weekdays(W,Ae=!1,Ue=!0){return Qe(this,W,Ue,kt,()=>{const mt=Ae?{weekday:W,year:"numeric",month:"long",day:"numeric"}:{weekday:W},Lt=Ae?"format":"standalone";return this.weekdaysCache[Lt][W]||(this.weekdaysCache[Lt][W]=function et(Ee){const W=[];for(let Ae=1;Ae<=7;Ae++){const Ue=pi.utc(2016,11,13+Ae);W.push(Ee(Ue))}return W}(Nt=>this.extract(Nt,mt,"weekday"))),this.weekdaysCache[Lt][W]})}meridiems(W=!0){return Qe(this,void 0,W,()=>Yt,()=>{if(!this.meridiemCache){const Ae={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[pi.utc(2016,11,13,9),pi.utc(2016,11,13,19)].map(Ue=>this.extract(Ue,Ae,"dayperiod"))}return this.meridiemCache})}eras(W,Ae=!0){return Qe(this,W,Ae,Ze,()=>{const Ue={era:W};return this.eraCache[W]||(this.eraCache[W]=[pi.utc(-40,1,1),pi.utc(2017,1,1)].map(mt=>this.extract(mt,Ue,"era"))),this.eraCache[W]})}extract(W,Ae,Ue){const Nt=this.dtFormatter(W,Ae).formatToParts().find(Qt=>Qt.type.toLowerCase()===Ue);return Nt?Nt.value:null}numberFormatter(W={}){return new bt(this.intl,W.forceSimple||this.fastNumbers,W)}dtFormatter(W,Ae={}){return new pt(W,this.intl,Ae)}relFormatter(W={}){return new He(this.intl,this.isEnglish(),W)}listFormatter(W={}){return function ln(Ee,W={}){const Ae=JSON.stringify([Ee,W]);let Ue=Gt[Ae];return Ue||(Ue=new Intl.ListFormat(Ee,W),Gt[Ae]=Ue),Ue}(this.intl,W)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(W){return this.locale===W.locale&&this.numberingSystem===W.numberingSystem&&this.outputCalendar===W.outputCalendar}}let te=null;class B extends Ke{static get utcInstance(){return null===te&&(te=new B(0)),te}static instance(W){return 0===W?B.utcInstance:new B(W)}static parseSpecifier(W){if(W){const Ae=W.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(Ae)return new B(vi(Ae[1],Ae[2]))}return null}constructor(W){super(),this.fixed=W}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${yi(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${yi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(W,Ae){return yi(this.fixed,Ae)}get isUniversal(){return!0}offset(){return this.fixed}equals(W){return"fixed"===W.type&&W.fixed===this.fixed}get isValid(){return!0}}class ee extends Ke{constructor(W){super(),this.zoneName=W}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Re(Ee,W){if(lt(Ee)||null===Ee)return W;if(Ee instanceof Ke)return Ee;if(function qt(Ee){return"string"==typeof Ee}(Ee)){const Ue=Ee.toLowerCase();return"default"===Ue?W:"local"===Ue||"system"===Ue?Ge.instance:"utc"===Ue||"gmt"===Ue?B.utcInstance:B.parseSpecifier(Ue)||ct.create(Ee)}return tn(Ee)?B.instance(Ee):"object"==typeof Ee&&Ee.offset&&"number"==typeof Ee.offset?Ee:new ee(Ee)}let fn,tt=()=>Date.now(),ot="system",Et=null,Kt=null,wn=null,rn=60;class cn{static get now(){return tt}static set now(W){tt=W}static set defaultZone(W){ot=W}static get defaultZone(){return Re(ot,Ge.instance)}static get defaultLocale(){return Et}static set defaultLocale(W){Et=W}static get defaultNumberingSystem(){return Kt}static set defaultNumberingSystem(W){Kt=W}static get defaultOutputCalendar(){return wn}static set defaultOutputCalendar(W){wn=W}static get twoDigitCutoffYear(){return rn}static set twoDigitCutoffYear(W){rn=W%100}static get throwOnInvalid(){return fn}static set throwOnInvalid(W){fn=W}static resetCaches(){ae.resetCache(),ct.resetCache()}}function lt(Ee){return typeof Ee>"u"}function tn(Ee){return"number"==typeof Ee}function St(Ee){return"number"==typeof Ee&&Ee%1==0}function Vn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function qn(Ee,W,Ae){if(0!==Ee.length)return Ee.reduce((Ue,mt)=>{const Lt=[W(mt),mt];return Ue&&Ae(Ue[0],Lt[0])===Ue[0]?Ue:Lt},null)[1]}function ci(Ee,W){return Object.prototype.hasOwnProperty.call(Ee,W)}function jt(Ee,W,Ae){return St(Ee)&&Ee>=W&&Ee<=Ae}function In(Ee,W=2){let Ue;return Ue=Ee<0?"-"+(""+-Ee).padStart(W,"0"):(""+Ee).padStart(W,"0"),Ue}function Pn(Ee){if(!lt(Ee)&&null!==Ee&&""!==Ee)return parseInt(Ee,10)}function zn(Ee){if(!lt(Ee)&&null!==Ee&&""!==Ee)return parseFloat(Ee)}function ii(Ee){if(!lt(Ee)&&null!==Ee&&""!==Ee){const W=1e3*parseFloat("0."+Ee);return Math.floor(W)}}function ft(Ee,W,Ae=!1){const Ue=10**W;return(Ae?Math.trunc:Math.round)(Ee*Ue)/Ue}function yt(Ee){return Ee%4==0&&(Ee%100!=0||Ee%400==0)}function ht(Ee){return yt(Ee)?366:365}function xt(Ee,W){const Ae=function $n(Ee,W){return Ee-W*Math.floor(Ee/W)}(W-1,12)+1;return 2===Ae?yt(Ee+(W-Ae)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Ae-1]}function zt(Ee){let W=Date.UTC(Ee.year,Ee.month-1,Ee.day,Ee.hour,Ee.minute,Ee.second,Ee.millisecond);return Ee.year<100&&Ee.year>=0&&(W=new Date(W),W.setUTCFullYear(Ee.year,Ee.month-1,Ee.day)),+W}function vn(Ee){const W=(Ee+Math.floor(Ee/4)-Math.floor(Ee/100)+Math.floor(Ee/400))%7,Ae=Ee-1,Ue=(Ae+Math.floor(Ae/4)-Math.floor(Ae/100)+Math.floor(Ae/400))%7;return 4===W||3===Ue?53:52}function Zt(Ee){return Ee>99?Ee:Ee>cn.twoDigitCutoffYear?1900+Ee:2e3+Ee}function ti(Ee,W,Ae,Ue=null){const mt=new Date(Ee),Lt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Ue&&(Lt.timeZone=Ue);const Nt={timeZoneName:W,...Lt},Qt=new Intl.DateTimeFormat(Ae,Nt).formatToParts(mt).find(pe=>"timezonename"===pe.type.toLowerCase());return Qt?Qt.value:null}function vi(Ee,W){let Ae=parseInt(Ee,10);Number.isNaN(Ae)&&(Ae=0);const Ue=parseInt(W,10)||0;return 60*Ae+(Ae<0||Object.is(Ae,-0)?-Ue:Ue)}function vr(Ee){const W=Number(Ee);if("boolean"==typeof Ee||""===Ee||Number.isNaN(W))throw new g(`Invalid unit value ${Ee}`);return W}function Rn(Ee,W){const Ae={};for(const Ue in Ee)if(ci(Ee,Ue)){const mt=Ee[Ue];if(null==mt)continue;Ae[W(Ue)]=vr(mt)}return Ae}function yi(Ee,W){const Ae=Math.trunc(Math.abs(Ee/60)),Ue=Math.trunc(Math.abs(Ee%60)),mt=Ee>=0?"+":"-";switch(W){case"short":return`${mt}${In(Ae,2)}:${In(Ue,2)}`;case"narrow":return`${mt}${Ae}${Ue>0?`:${Ue}`:""}`;case"techie":return`${mt}${In(Ae,2)}${In(Ue,2)}`;default:throw new RangeError(`Value format ${W} is out of range for property format`)}}function rr(Ee){return function ui(Ee,W){return W.reduce((Ae,Ue)=>(Ae[Ue]=Ee[Ue],Ae),{})}(Ee,["hour","minute","second","millisecond"])}const Gi=["January","February","March","April","May","June","July","August","September","October","November","December"],Di=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bi=["J","F","M","A","M","J","J","A","S","O","N","D"];function pr(Ee){switch(Ee){case"narrow":return[...Bi];case"short":return[...Di];case"long":return[...Gi];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const $i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Wt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Fn=["M","T","W","T","F","S","S"];function kt(Ee){switch(Ee){case"narrow":return[...Fn];case"short":return[...Wt];case"long":return[...$i];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Yt=["AM","PM"],En=["Before Christ","Anno Domini"],Ln=["BC","AD"],ki=["B","A"];function Ze(Ee){switch(Ee){case"narrow":return[...ki];case"short":return[...Ln];case"long":return[...En];default:return null}}function Nn(Ee,W){let Ae="";for(const Ue of Ee)Ae+=Ue.literal?Ue.val:W(Ue.val);return Ae}const Ii={D:N,DD:a,DDD:P,DDDD:U,t:J,tt:O,ttt:L,tttt:F,T:V,TT:q,TTT:ie,TTTT:H,f:$,ff:E,fff:ce,ffff:Te,F:z,FF:X,FFF:_e,FFFF:ve};class Ci{static create(W,Ae={}){return new Ci(W,Ae)}static parseFormat(W){let Ae=null,Ue="",mt=!1;const Lt=[];for(let Nt=0;Nt<W.length;Nt++){const Qt=W.charAt(Nt);"'"===Qt?(Ue.length>0&&Lt.push({literal:mt||/^\s+$/.test(Ue),val:Ue}),Ae=null,Ue="",mt=!mt):mt||Qt===Ae?Ue+=Qt:(Ue.length>0&&Lt.push({literal:/^\s+$/.test(Ue),val:Ue}),Ue=Qt,Ae=Qt)}return Ue.length>0&&Lt.push({literal:mt||/^\s+$/.test(Ue),val:Ue}),Lt}static macroTokenToFormatOpts(W){return Ii[W]}constructor(W,Ae){this.opts=Ae,this.loc=W,this.systemLoc=null}formatWithSystemDefault(W,Ae){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(W,{...this.opts,...Ae}).format()}formatDateTime(W,Ae={}){return this.loc.dtFormatter(W,{...this.opts,...Ae}).format()}formatDateTimeParts(W,Ae={}){return this.loc.dtFormatter(W,{...this.opts,...Ae}).formatToParts()}formatInterval(W,Ae={}){return this.loc.dtFormatter(W.start,{...this.opts,...Ae}).dtf.formatRange(W.start.toJSDate(),W.end.toJSDate())}resolvedOptions(W,Ae={}){return this.loc.dtFormatter(W,{...this.opts,...Ae}).resolvedOptions()}num(W,Ae=0){if(this.opts.forceSimple)return In(W,Ae);const Ue={...this.opts};return Ae>0&&(Ue.padTo=Ae),this.loc.numberFormatter(Ue).format(W)}formatDateTimeFromString(W,Ae){const Ue="en"===this.loc.listingMode(),mt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Lt=(on,Un)=>this.loc.extract(W,on,Un),Nt=on=>W.isOffsetFixed&&0===W.offset&&on.allowZ?"Z":W.isValid?W.zone.formatOffset(W.ts,on.format):"",pe=(on,Un)=>Ue?function Pt(Ee,W){return pr(W)[Ee.month-1]}(W,on):Lt(Un?{month:on}:{month:on,day:"numeric"},"month"),nt=(on,Un)=>Ue?function ut(Ee,W){return kt(W)[Ee.weekday-1]}(W,on):Lt(Un?{weekday:on}:{weekday:on,month:"long",day:"numeric"},"weekday"),le=on=>{const Un=Ci.macroTokenToFormatOpts(on);return Un?this.formatWithSystemDefault(W,Un):on},Le=on=>Ue?function un(Ee,W){return Ze(W)[Ee.year<0?0:1]}(W,on):Lt({era:on},"era");return Nn(Ci.parseFormat(Ae),on=>{switch(on){case"S":return this.num(W.millisecond);case"u":case"SSS":return this.num(W.millisecond,3);case"s":return this.num(W.second);case"ss":return this.num(W.second,2);case"uu":return this.num(Math.floor(W.millisecond/10),2);case"uuu":return this.num(Math.floor(W.millisecond/100));case"m":return this.num(W.minute);case"mm":return this.num(W.minute,2);case"h":return this.num(W.hour%12==0?12:W.hour%12);case"hh":return this.num(W.hour%12==0?12:W.hour%12,2);case"H":return this.num(W.hour);case"HH":return this.num(W.hour,2);case"Z":return Nt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Nt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Nt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return W.zone.offsetName(W.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return W.zone.offsetName(W.ts,{format:"long",locale:this.loc.locale});case"z":return W.zoneName;case"a":return Ue?function qe(Ee){return Yt[Ee.hour<12?0:1]}(W):Lt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return mt?Lt({day:"numeric"},"day"):this.num(W.day);case"dd":return mt?Lt({day:"2-digit"},"day"):this.num(W.day,2);case"c":case"E":return this.num(W.weekday);case"ccc":return nt("short",!0);case"cccc":return nt("long",!0);case"ccccc":return nt("narrow",!0);case"EEE":return nt("short",!1);case"EEEE":return nt("long",!1);case"EEEEE":return nt("narrow",!1);case"L":return mt?Lt({month:"numeric",day:"numeric"},"month"):this.num(W.month);case"LL":return mt?Lt({month:"2-digit",day:"numeric"},"month"):this.num(W.month,2);case"LLL":return pe("short",!0);case"LLLL":return pe("long",!0);case"LLLLL":return pe("narrow",!0);case"M":return mt?Lt({month:"numeric"},"month"):this.num(W.month);case"MM":return mt?Lt({month:"2-digit"},"month"):this.num(W.month,2);case"MMM":return pe("short",!1);case"MMMM":return pe("long",!1);case"MMMMM":return pe("narrow",!1);case"y":return mt?Lt({year:"numeric"},"year"):this.num(W.year);case"yy":return mt?Lt({year:"2-digit"},"year"):this.num(W.year.toString().slice(-2),2);case"yyyy":return mt?Lt({year:"numeric"},"year"):this.num(W.year,4);case"yyyyyy":return mt?Lt({year:"numeric"},"year"):this.num(W.year,6);case"G":return Le("short");case"GG":return Le("long");case"GGGGG":return Le("narrow");case"kk":return this.num(W.weekYear.toString().slice(-2),2);case"kkkk":return this.num(W.weekYear,4);case"W":return this.num(W.weekNumber);case"WW":return this.num(W.weekNumber,2);case"o":return this.num(W.ordinal);case"ooo":return this.num(W.ordinal,3);case"q":return this.num(W.quarter);case"qq":return this.num(W.quarter,2);case"X":return this.num(Math.floor(W.ts/1e3));case"x":return this.num(W.ts);default:return le(on)}})}formatDurationFromString(W,Ae){const Ue=pe=>{switch(pe[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Lt=Ci.parseFormat(Ae),Nt=Lt.reduce((pe,{literal:nt,val:le})=>nt?pe:pe.concat(le),[]);return Nn(Lt,(pe=>nt=>{const le=Ue(nt);return le?this.num(pe.get(le),nt.length):nt})(W.shiftTo(...Nt.map(Ue).filter(pe=>pe))))}}class Xn{constructor(W,Ae){this.reason=W,this.explanation=Ae}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const fr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function mr(...Ee){const W=Ee.reduce((Ae,Ue)=>Ae+Ue.source,"");return RegExp(`^${W}$`)}function Ir(...Ee){return W=>Ee.reduce(([Ae,Ue,mt],Lt)=>{const[Nt,Qt,pe]=Lt(W,mt);return[{...Ae,...Nt},Qt||Ue,pe]},[{},null,1]).slice(0,2)}function Mi(Ee,...W){if(null==Ee)return[null,null];for(const[Ae,Ue]of W){const mt=Ae.exec(Ee);if(mt)return Ue(mt)}return[null,null]}function Fr(...Ee){return(W,Ae)=>{const Ue={};let mt;for(mt=0;mt<Ee.length;mt++)Ue[Ee[mt]]=Pn(W[Ae+mt]);return[Ue,null,Ae+mt]}}const Qi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ts=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ws=RegExp(`${ts.source}(?:${Qi.source}?(?:\\[(${fr.source})\\])?)?`),qs=RegExp(`(?:T${Ws.source})?`),bs=Fr("weekYear","weekNumber","weekDay"),Ys=Fr("year","ordinal"),Jr=RegExp(`${ts.source} ?(?:${Qi.source}|(${fr.source}))?`),sr=RegExp(`(?: ${Jr.source})?`);function Pi(Ee,W,Ae){const Ue=Ee[W];return lt(Ue)?Ae:Pn(Ue)}function Gn(Ee,W){return[{hours:Pi(Ee,W,0),minutes:Pi(Ee,W+1,0),seconds:Pi(Ee,W+2,0),milliseconds:ii(Ee[W+3])},null,W+4]}function ws(Ee,W){const Ae=!Ee[W]&&!Ee[W+1],Ue=vi(Ee[W+1],Ee[W+2]);return[{},Ae?null:B.instance(Ue),W+3]}function Hn(Ee,W){return[{},Ee[W]?ct.create(Ee[W]):null,W+1]}const yr=RegExp(`^T?${ts.source}$`),Mr=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function os(Ee){const[W,Ae,Ue,mt,Lt,Nt,Qt,pe,nt]=Ee,le="-"===W[0],Le=pe&&"-"===pe[0],Bt=(on,Un=!1)=>void 0!==on&&(Un||on&&le)?-on:on;return[{years:Bt(zn(Ae)),months:Bt(zn(Ue)),weeks:Bt(zn(mt)),days:Bt(zn(Lt)),hours:Bt(zn(Nt)),minutes:Bt(zn(Qt)),seconds:Bt(zn(pe),"-0"===pe),milliseconds:Bt(ii(nt),Le)}]}const zr={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wr(Ee,W,Ae,Ue,mt,Lt,Nt){const Qt={year:2===W.length?Zt(Pn(W)):Pn(W),month:Di.indexOf(Ae)+1,day:Pn(Ue),hour:Pn(mt),minute:Pn(Lt)};return Nt&&(Qt.second=Pn(Nt)),Ee&&(Qt.weekday=Ee.length>3?$i.indexOf(Ee)+1:Wt.indexOf(Ee)+1),Qt}const Cr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function cs(Ee){const[,W,Ae,Ue,mt,Lt,Nt,Qt,pe,nt,le,Le]=Ee,Bt=Wr(W,mt,Ue,Ae,Lt,Nt,Qt);let on;return on=pe?zr[pe]:nt?0:vi(le,Le),[Bt,new B(on)]}const br=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,us=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,wr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Oi(Ee){const[,W,Ae,Ue,mt,Lt,Nt,Qt]=Ee;return[Wr(W,mt,Ue,Ae,Lt,Nt,Qt),B.utcInstance]}function Xr(Ee){const[,W,Ae,Ue,mt,Lt,Nt,Qt]=Ee;return[Wr(W,Qt,Ae,Ue,mt,Lt,Nt),B.utcInstance]}const ps=mr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,qs),Os=mr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,qs),Zr=mr(/(\d{4})-?(\d{3})/,qs),Ts=mr(Ws),Zi=Ir(function vs(Ee,W){return[{year:Pi(Ee,W),month:Pi(Ee,W+1,1),day:Pi(Ee,W+2,1)},null,W+3]},Gn,ws,Hn),As=Ir(bs,Gn,ws,Hn),co=Ir(Ys,Gn,ws,Hn),Gr=Ir(Gn,ws,Hn),Vi=Ir(Gn),Or=mr(/(\d{4})-(\d\d)-(\d\d)/,sr),go=mr(Jr),Fi=Ir(Gn,ws,Hn),si={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Ls={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...si},lr=365.2425,Qr=30.436875,uo={years:{quarters:4,months:12,weeks:lr/7,days:lr,hours:24*lr,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:lr/28,days:lr/4,hours:24*lr/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Qr/7,days:Qr,hours:24*Qr,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...si},Ni=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ar=Ni.slice(0).reverse();function jr(Ee,W,Ae=!1){const Ue={values:Ae?W.values:{...Ee.values,...W.values||{}},loc:Ee.loc.clone(W.loc),conversionAccuracy:W.conversionAccuracy||Ee.conversionAccuracy,matrix:W.matrix||Ee.matrix};return new di(Ue)}function _n(Ee,W,Ae,Ue,mt){const Lt=Ee[mt][Ae],Nt=W[Ae]/Lt,pe=Math.sign(Nt)!==Math.sign(Ue[mt])&&0!==Ue[mt]&&Math.abs(Nt)<=1?function Rr(Ee){return Ee<0?Math.floor(Ee):Math.ceil(Ee)}(Nt):Math.trunc(Nt);Ue[mt]+=pe,W[Ae]-=pe*Lt}class di{constructor(W){const Ae="longterm"===W.conversionAccuracy||!1;let Ue=Ae?uo:Ls;W.matrix&&(Ue=W.matrix),this.values=W.values,this.loc=W.loc||ae.create(),this.conversionAccuracy=Ae?"longterm":"casual",this.invalid=W.invalid||null,this.matrix=Ue,this.isLuxonDuration=!0}static fromMillis(W,Ae){return di.fromObject({milliseconds:W},Ae)}static fromObject(W,Ae={}){if(null==W||"object"!=typeof W)throw new g("Duration.fromObject: argument expected to be an object, got "+(null===W?"null":typeof W));return new di({values:Rn(W,di.normalizeUnit),loc:ae.fromObject(Ae),conversionAccuracy:Ae.conversionAccuracy,matrix:Ae.matrix})}static fromDurationLike(W){if(tn(W))return di.fromMillis(W);if(di.isDuration(W))return W;if("object"==typeof W)return di.fromObject(W);throw new g(`Unknown duration argument ${W} of type ${typeof W}`)}static fromISO(W,Ae){const[Ue]=function Ss(Ee){return Mi(Ee,[Mr,os])}(W);return Ue?di.fromObject(Ue,Ae):di.invalid("unparsable",`the input "${W}" can't be parsed as ISO 8601`)}static fromISOTime(W,Ae){const[Ue]=function mo(Ee){return Mi(Ee,[yr,Vi])}(W);return Ue?di.fromObject(Ue,Ae):di.invalid("unparsable",`the input "${W}" can't be parsed as ISO 8601`)}static invalid(W,Ae=null){if(!W)throw new g("need to specify a reason the Duration is invalid");const Ue=W instanceof Xn?W:new Xn(W,Ae);if(cn.throwOnInvalid)throw new w(Ue);return new di({invalid:Ue})}static normalizeUnit(W){const Ae={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[W&&W.toLowerCase()];if(!Ae)throw new C(W);return Ae}static isDuration(W){return W&&W.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(W,Ae={}){const Ue={...Ae,floor:!1!==Ae.round&&!1!==Ae.floor};return this.isValid?Ci.create(this.loc,Ue).formatDurationFromString(this,W):"Invalid Duration"}toHuman(W={}){const Ae=Ni.map(Ue=>{const mt=this.values[Ue];return lt(mt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...W,unit:Ue.slice(0,-1)}).format(mt)}).filter(Ue=>Ue);return this.loc.listFormatter({type:"conjunction",style:W.listStyle||"narrow",...W}).format(Ae)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let W="P";return 0!==this.years&&(W+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(W+=this.months+3*this.quarters+"M"),0!==this.weeks&&(W+=this.weeks+"W"),0!==this.days&&(W+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(W+="T"),0!==this.hours&&(W+=this.hours+"H"),0!==this.minutes&&(W+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(W+=ft(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===W&&(W+="T0S"),W}toISOTime(W={}){if(!this.isValid)return null;const Ae=this.toMillis();if(Ae<0||Ae>=864e5)return null;W={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...W};const Ue=this.shiftTo("hours","minutes","seconds","milliseconds");let mt="basic"===W.format?"hhmm":"hh:mm";(!W.suppressSeconds||0!==Ue.seconds||0!==Ue.milliseconds)&&(mt+="basic"===W.format?"ss":":ss",(!W.suppressMilliseconds||0!==Ue.milliseconds)&&(mt+=".SSS"));let Lt=Ue.toFormat(mt);return W.includePrefix&&(Lt="T"+Lt),Lt}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(W){if(!this.isValid)return this;const Ae=di.fromDurationLike(W),Ue={};for(const mt of Ni)(ci(Ae.values,mt)||ci(this.values,mt))&&(Ue[mt]=Ae.get(mt)+this.get(mt));return jr(this,{values:Ue},!0)}minus(W){if(!this.isValid)return this;const Ae=di.fromDurationLike(W);return this.plus(Ae.negate())}mapUnits(W){if(!this.isValid)return this;const Ae={};for(const Ue of Object.keys(this.values))Ae[Ue]=vr(W(this.values[Ue],Ue));return jr(this,{values:Ae},!0)}get(W){return this[di.normalizeUnit(W)]}set(W){return this.isValid?jr(this,{values:{...this.values,...Rn(W,di.normalizeUnit)}}):this}reconfigure({locale:W,numberingSystem:Ae,conversionAccuracy:Ue,matrix:mt}={}){return jr(this,{loc:this.loc.clone({locale:W,numberingSystem:Ae}),matrix:mt,conversionAccuracy:Ue})}as(W){return this.isValid?this.shiftTo(W).get(W):NaN}normalize(){if(!this.isValid)return this;const W=this.toObject();return function oi(Ee,W){Ar.reduce((Ae,Ue)=>lt(W[Ue])?Ae:(Ae&&_n(Ee,W,Ae,W,Ue),Ue),null)}(this.matrix,W),jr(this,{values:W},!0)}rescale(){return this.isValid?jr(this,{values:function fs(Ee){const W={};for(const[Ae,Ue]of Object.entries(Ee))0!==Ue&&(W[Ae]=Ue);return W}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...W){if(!this.isValid)return this;if(0===W.length)return this;W=W.map(Nt=>di.normalizeUnit(Nt));const Ae={},Ue={},mt=this.toObject();let Lt;for(const Nt of Ni)if(W.indexOf(Nt)>=0){Lt=Nt;let Qt=0;for(const nt in Ue)Qt+=this.matrix[nt][Nt]*Ue[nt],Ue[nt]=0;tn(mt[Nt])&&(Qt+=mt[Nt]);const pe=Math.trunc(Qt);Ae[Nt]=pe,Ue[Nt]=(1e3*Qt-1e3*pe)/1e3;for(const nt in mt)Ni.indexOf(nt)>Ni.indexOf(Nt)&&_n(this.matrix,mt,nt,Ae,Nt)}else tn(mt[Nt])&&(Ue[Nt]=mt[Nt]);for(const Nt in Ue)0!==Ue[Nt]&&(Ae[Lt]+=Nt===Lt?Ue[Nt]:Ue[Nt]/this.matrix[Lt][Nt]);return jr(this,{values:Ae},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const W={};for(const Ae of Object.keys(this.values))W[Ae]=0===this.values[Ae]?0:-this.values[Ae];return jr(this,{values:W},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(W){if(!this.isValid||!W.isValid||!this.loc.equals(W.loc))return!1;function Ae(Ue,mt){return void 0===Ue||0===Ue?void 0===mt||0===mt:Ue===mt}for(const Ue of Ni)if(!Ae(this.values[Ue],W.values[Ue]))return!1;return!0}}const qi="Invalid Interval";class ge{constructor(W){this.s=W.start,this.e=W.end,this.invalid=W.invalid||null,this.isLuxonInterval=!0}static invalid(W,Ae=null){if(!W)throw new g("need to specify a reason the Interval is invalid");const Ue=W instanceof Xn?W:new Xn(W,Ae);if(cn.throwOnInvalid)throw new m(Ue);return new ge({invalid:Ue})}static fromDateTimes(W,Ae){const Ue=Ks(W),mt=Ks(Ae),Lt=function Ie(Ee,W){return Ee&&Ee.isValid?W&&W.isValid?W<Ee?ge.invalid("end before start",`The end of an interval must be after its start, but you had start=${Ee.toISO()} and end=${W.toISO()}`):null:ge.invalid("missing or invalid end"):ge.invalid("missing or invalid start")}(Ue,mt);return Lt??new ge({start:Ue,end:mt})}static after(W,Ae){const Ue=di.fromDurationLike(Ae),mt=Ks(W);return ge.fromDateTimes(mt,mt.plus(Ue))}static before(W,Ae){const Ue=di.fromDurationLike(Ae),mt=Ks(W);return ge.fromDateTimes(mt.minus(Ue),mt)}static fromISO(W,Ae){const[Ue,mt]=(W||"").split("/",2);if(Ue&&mt){let Lt,Nt,Qt,pe;try{Lt=pi.fromISO(Ue,Ae),Nt=Lt.isValid}catch{Nt=!1}try{Qt=pi.fromISO(mt,Ae),pe=Qt.isValid}catch{pe=!1}if(Nt&&pe)return ge.fromDateTimes(Lt,Qt);if(Nt){const nt=di.fromISO(mt,Ae);if(nt.isValid)return ge.after(Lt,nt)}else if(pe){const nt=di.fromISO(Ue,Ae);if(nt.isValid)return ge.before(Qt,nt)}}return ge.invalid("unparsable",`the input "${W}" can't be parsed as ISO 8601`)}static isInterval(W){return W&&W.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(W="milliseconds"){return this.isValid?this.toDuration(W).get(W):NaN}count(W="milliseconds"){if(!this.isValid)return NaN;const Ae=this.start.startOf(W),Ue=this.end.startOf(W);return Math.floor(Ue.diff(Ae,W).get(W))+(Ue.valueOf()!==this.end.valueOf())}hasSame(W){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,W))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(W){return!!this.isValid&&this.s>W}isBefore(W){return!!this.isValid&&this.e<=W}contains(W){return!!this.isValid&&this.s<=W&&this.e>W}set({start:W,end:Ae}={}){return this.isValid?ge.fromDateTimes(W||this.s,Ae||this.e):this}splitAt(...W){if(!this.isValid)return[];const Ae=W.map(Ks).filter(Nt=>this.contains(Nt)).sort(),Ue=[];let{s:mt}=this,Lt=0;for(;mt<this.e;){const Nt=Ae[Lt]||this.e,Qt=+Nt>+this.e?this.e:Nt;Ue.push(ge.fromDateTimes(mt,Qt)),mt=Qt,Lt+=1}return Ue}splitBy(W){const Ae=di.fromDurationLike(W);if(!this.isValid||!Ae.isValid||0===Ae.as("milliseconds"))return[];let Lt,{s:Ue}=this,mt=1;const Nt=[];for(;Ue<this.e;){const Qt=this.start.plus(Ae.mapUnits(pe=>pe*mt));Lt=+Qt>+this.e?this.e:Qt,Nt.push(ge.fromDateTimes(Ue,Lt)),Ue=Lt,mt+=1}return Nt}divideEqually(W){return this.isValid?this.splitBy(this.length()/W).slice(0,W):[]}overlaps(W){return this.e>W.s&&this.s<W.e}abutsStart(W){return!!this.isValid&&+this.e==+W.s}abutsEnd(W){return!!this.isValid&&+W.e==+this.s}engulfs(W){return!!this.isValid&&this.s<=W.s&&this.e>=W.e}equals(W){return!(!this.isValid||!W.isValid)&&this.s.equals(W.s)&&this.e.equals(W.e)}intersection(W){if(!this.isValid)return this;const Ae=this.s>W.s?this.s:W.s,Ue=this.e<W.e?this.e:W.e;return Ae>=Ue?null:ge.fromDateTimes(Ae,Ue)}union(W){return this.isValid?ge.fromDateTimes(this.s<W.s?this.s:W.s,this.e>W.e?this.e:W.e):this}static merge(W){const[Ae,Ue]=W.sort((mt,Lt)=>mt.s-Lt.s).reduce(([mt,Lt],Nt)=>Lt?Lt.overlaps(Nt)||Lt.abutsStart(Nt)?[mt,Lt.union(Nt)]:[mt.concat([Lt]),Nt]:[mt,Nt],[[],null]);return Ue&&Ae.push(Ue),Ae}static xor(W){let Ae=null,Ue=0;const mt=[],Lt=W.map(pe=>[{time:pe.s,type:"s"},{time:pe.e,type:"e"}]),Qt=Array.prototype.concat(...Lt).sort((pe,nt)=>pe.time-nt.time);for(const pe of Qt)Ue+="s"===pe.type?1:-1,1===Ue?Ae=pe.time:(Ae&&+Ae!=+pe.time&&mt.push(ge.fromDateTimes(Ae,pe.time)),Ae=null);return ge.merge(mt)}difference(...W){return ge.xor([this].concat(W)).map(Ae=>this.intersection(Ae)).filter(Ae=>Ae&&!Ae.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:qi}toLocaleString(W=N,Ae={}){return this.isValid?Ci.create(this.s.loc.clone(Ae),W).formatInterval(this):qi}toISO(W){return this.isValid?`${this.s.toISO(W)}/${this.e.toISO(W)}`:qi}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:qi}toISOTime(W){return this.isValid?`${this.s.toISOTime(W)}/${this.e.toISOTime(W)}`:qi}toFormat(W,{separator:Ae=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(W)}${Ae}${this.e.toFormat(W)}`:qi}toDuration(W,Ae){return this.isValid?this.e.diff(this.s,W,Ae):di.invalid(this.invalidReason)}mapEndpoints(W){return ge.fromDateTimes(W(this.s),W(this.e))}}class ne{static hasDST(W=cn.defaultZone){const Ae=pi.now().setZone(W).set({month:12});return!W.isUniversal&&Ae.offset!==Ae.set({month:6}).offset}static isValidIANAZone(W){return ct.isValidZone(W)}static normalizeZone(W){return Re(W,cn.defaultZone)}static months(W="long",{locale:Ae=null,numberingSystem:Ue=null,locObj:mt=null,outputCalendar:Lt="gregory"}={}){return(mt||ae.create(Ae,Ue,Lt)).months(W)}static monthsFormat(W="long",{locale:Ae=null,numberingSystem:Ue=null,locObj:mt=null,outputCalendar:Lt="gregory"}={}){return(mt||ae.create(Ae,Ue,Lt)).months(W,!0)}static weekdays(W="long",{locale:Ae=null,numberingSystem:Ue=null,locObj:mt=null}={}){return(mt||ae.create(Ae,Ue,null)).weekdays(W)}static weekdaysFormat(W="long",{locale:Ae=null,numberingSystem:Ue=null,locObj:mt=null}={}){return(mt||ae.create(Ae,Ue,null)).weekdays(W,!0)}static meridiems({locale:W=null}={}){return ae.create(W).meridiems()}static eras(W="short",{locale:Ae=null}={}){return ae.create(Ae,null,"gregory").eras(W)}static features(){return{relative:Vn()}}}function Xe(Ee,W){const Ae=mt=>mt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Ue=Ae(W)-Ae(Ee);return Math.floor(di.fromMillis(Ue).as("days"))}const Wi={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},kr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Pr=Wi.hanidec.replace(/[\[|\]]/g,"").split("");function mi({numberingSystem:Ee},W=""){return new RegExp(`${Wi[Ee||"latn"]}${W}`)}function Je(Ee,W=(Ae=>Ae)){return{regex:Ee,deser:([Ae])=>W(function Yi(Ee){let W=parseInt(Ee,10);if(isNaN(W)){W="";for(let Ae=0;Ae<Ee.length;Ae++){const Ue=Ee.charCodeAt(Ae);if(-1!==Ee[Ae].search(Wi.hanidec))W+=Pr.indexOf(Ee[Ae]);else for(const mt in kr){const[Lt,Nt]=kr[mt];Ue>=Lt&&Ue<=Nt&&(W+=Ue-Lt)}}return parseInt(W,10)}return W}(Ae))}}const Ot=`[ ${String.fromCharCode(160)}]`,Jt=new RegExp(Ot,"g");function Vt(Ee){return Ee.replace(/\./g,"\\.?").replace(Jt,Ot)}function dn(Ee){return Ee.replace(/\./g,"").replace(Jt," ").toLowerCase()}function bn(Ee,W){return null===Ee?null:{regex:RegExp(Ee.map(Vt).join("|")),deser:([Ae])=>Ee.findIndex(Ue=>dn(Ae)===dn(Ue))+W}}function Yn(Ee,W){return{regex:Ee,deser:([,Ae,Ue])=>vi(Ae,Ue),groups:W}}function Kn(Ee){return{regex:Ee,deser:([W])=>W}}function cr(Ee){return Ee.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const ur={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let he=null;function ze(Ee,W){return Array.prototype.concat(...Ee.map(Ae=>function Ce(Ee,W){if(Ee.literal)return Ee;const Ue=sn(Ci.macroTokenToFormatOpts(Ee.val),W);return null==Ue||Ue.includes(void 0)?Ee:Ue}(Ae,W)))}function vt(Ee,W,Ae){const Ue=ze(Ci.parseFormat(Ae),Ee),mt=Ue.map(Nt=>function es(Ee,W){const Ae=mi(W),Ue=mi(W,"{2}"),mt=mi(W,"{3}"),Lt=mi(W,"{4}"),Nt=mi(W,"{6}"),Qt=mi(W,"{1,2}"),pe=mi(W,"{1,3}"),nt=mi(W,"{1,6}"),le=mi(W,"{1,9}"),Le=mi(W,"{2,4}"),Bt=mi(W,"{4,6}"),on=ls=>({regex:RegExp(cr(ls.val)),deser:([qr])=>qr,literal:!0}),wi=(ls=>{if(Ee.literal)return on(ls);switch(ls.val){case"G":return bn(W.eras("short",!1),0);case"GG":return bn(W.eras("long",!1),0);case"y":return Je(nt);case"yy":case"kk":return Je(Le,Zt);case"yyyy":case"kkkk":return Je(Lt);case"yyyyy":return Je(Bt);case"yyyyyy":return Je(Nt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Je(Qt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Je(Ue);case"MMM":return bn(W.months("short",!0,!1),1);case"MMMM":return bn(W.months("long",!0,!1),1);case"LLL":return bn(W.months("short",!1,!1),1);case"LLLL":return bn(W.months("long",!1,!1),1);case"o":case"S":return Je(pe);case"ooo":case"SSS":return Je(mt);case"u":return Kn(le);case"uu":return Kn(Qt);case"uuu":case"E":case"c":return Je(Ae);case"a":return bn(W.meridiems(),0);case"EEE":return bn(W.weekdays("short",!1,!1),1);case"EEEE":return bn(W.weekdays("long",!1,!1),1);case"ccc":return bn(W.weekdays("short",!0,!1),1);case"cccc":return bn(W.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Yn(new RegExp(`([+-]${Qt.source})(?::(${Ue.source}))?`),2);case"ZZZ":return Yn(new RegExp(`([+-]${Qt.source})(${Ue.source})?`),2);case"z":return Kn(/[a-z_+-/]{1,256}?/i);case" ":return Kn(/[^\S\n\r]/);default:return on(ls)}})(Ee)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return wi.token=Ee,wi}(Nt,Ee)),Lt=mt.find(Nt=>Nt.invalidReason);if(Lt)return{input:W,tokens:Ue,invalidReason:Lt.invalidReason};{const[Nt,Qt]=function ni(Ee){return[`^${Ee.map(Ae=>Ae.regex).reduce((Ae,Ue)=>`${Ae}(${Ue.source})`,"")}$`,Ee]}(mt),pe=RegExp(Nt,"i"),[nt,le]=function Co(Ee,W,Ae){const Ue=Ee.match(W);if(Ue){const mt={};let Lt=1;for(const Nt in Ae)if(ci(Ae,Nt)){const Qt=Ae[Nt],pe=Qt.groups?Qt.groups+1:1;!Qt.literal&&Qt.token&&(mt[Qt.token.val[0]]=Qt.deser(Ue.slice(Lt,Lt+pe))),Lt+=pe}return[Ue,mt]}return[Ue,{}]}(W,pe,Qt),[Le,Bt,on]=le?function Xs(Ee){let Ue,Ae=null;return lt(Ee.z)||(Ae=ct.create(Ee.z)),lt(Ee.Z)||(Ae||(Ae=new B(Ee.Z)),Ue=Ee.Z),lt(Ee.q)||(Ee.M=3*(Ee.q-1)+1),lt(Ee.h)||(Ee.h<12&&1===Ee.a?Ee.h+=12:12===Ee.h&&0===Ee.a&&(Ee.h=0)),0===Ee.G&&Ee.y&&(Ee.y=-Ee.y),lt(Ee.u)||(Ee.S=ii(Ee.u)),[Object.keys(Ee).reduce((Lt,Nt)=>{const Qt=(Lt=>{switch(Lt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Nt);return Qt&&(Lt[Qt]=Ee[Nt]),Lt},{}),Ae,Ue]}(le):[null,null,void 0];if(ci(le,"a")&&ci(le,"H"))throw new b("Can't include meridiem when specifying 24-hour format");return{input:W,tokens:Ue,regex:pe,rawMatches:nt,matches:le,result:Le,zone:Bt,specificOffset:on}}}function sn(Ee,W){return Ee?Ci.create(W,Ee).formatDateTimeParts(function Pe(){return he||(he=pi.fromMillis(1555555555555)),he}()).map(mt=>function ji(Ee,W){const{type:Ae,value:Ue}=Ee;if("literal"===Ae){const Nt=/^\s+$/.test(Ue);return{literal:!Nt,val:Nt?" ":Ue}}let Lt=ur[Ae];if("object"==typeof Lt&&(Lt=Lt[W[Ae]]),Lt)return{literal:!1,val:Lt}}(mt,Ee)):null}const $t=[0,31,59,90,120,151,181,212,243,273,304,334],Ui=[0,31,60,91,121,152,182,213,244,274,305,335];function bi(Ee,W){return new Xn("unit out of range",`you specified ${W} (of type ${typeof W}) as a ${Ee}, which is invalid`)}function gi(Ee,W,Ae){const Ue=new Date(Date.UTC(Ee,W-1,Ae));Ee<100&&Ee>=0&&Ue.setUTCFullYear(Ue.getUTCFullYear()-1900);const mt=Ue.getUTCDay();return 0===mt?7:mt}function mn(Ee,W,Ae){return Ae+(yt(Ee)?Ui:$t)[W-1]}function hi(Ee,W){const Ae=yt(Ee)?Ui:$t,Ue=Ae.findIndex(Lt=>Lt<W);return{month:Ue+1,day:W-Ae[Ue]}}function Ri(Ee){const{year:W,month:Ae,day:Ue}=Ee,mt=mn(W,Ae,Ue),Lt=gi(W,Ae,Ue);let Qt,Nt=Math.floor((mt-Lt+10)/7);return Nt<1?(Qt=W-1,Nt=vn(Qt)):Nt>vn(W)?(Qt=W+1,Nt=1):Qt=W,{weekYear:Qt,weekNumber:Nt,weekday:Lt,...rr(Ee)}}function gr(Ee){const{weekYear:W,weekNumber:Ae,weekday:Ue}=Ee,mt=gi(W,1,4),Lt=ht(W);let Qt,Nt=7*Ae+Ue-mt-3;Nt<1?(Qt=W-1,Nt+=ht(Qt)):Nt>Lt?(Qt=W+1,Nt-=ht(W)):Qt=W;const{month:pe,day:nt}=hi(Qt,Nt);return{year:Qt,month:pe,day:nt,...rr(Ee)}}function _r(Ee){const{year:W,month:Ae,day:Ue}=Ee;return{year:W,ordinal:mn(W,Ae,Ue),...rr(Ee)}}function ir(Ee){const{year:W,ordinal:Ae}=Ee,{month:Ue,day:mt}=hi(W,Ae);return{year:W,month:Ue,day:mt,...rr(Ee)}}function Sr(Ee){const W=St(Ee.year),Ae=jt(Ee.month,1,12),Ue=jt(Ee.day,1,xt(Ee.year,Ee.month));return W?Ae?!Ue&&bi("day",Ee.day):bi("month",Ee.month):bi("year",Ee.year)}function xs(Ee){const{hour:W,minute:Ae,second:Ue,millisecond:mt}=Ee,Lt=jt(W,0,23)||24===W&&0===Ae&&0===Ue&&0===mt,Nt=jt(Ae,0,59),Qt=jt(Ue,0,59),pe=jt(mt,0,999);return Lt?Nt?Qt?!pe&&bi("millisecond",mt):bi("second",Ue):bi("minute",Ae):bi("hour",W)}const eo="Invalid DateTime",Vo=864e13;function Es(Ee){return new Xn("unsupported zone",`the zone "${Ee.name}" is not supported`)}function io(Ee){return null===Ee.weekData&&(Ee.weekData=Ri(Ee.c)),Ee.weekData}function bo(Ee,W){const Ae={ts:Ee.ts,zone:Ee.zone,c:Ee.c,o:Ee.o,loc:Ee.loc,invalid:Ee.invalid};return new pi({...Ae,...W,old:Ae})}function jo(Ee,W,Ae){let Ue=Ee-60*W*1e3;const mt=Ae.offset(Ue);if(W===mt)return[Ue,W];Ue-=60*(mt-W)*1e3;const Lt=Ae.offset(Ue);return mt===Lt?[Ue,mt]:[Ee-60*Math.min(mt,Lt)*1e3,Math.max(mt,Lt)]}function Lr(Ee,W){const Ae=new Date(Ee+=60*W*1e3);return{year:Ae.getUTCFullYear(),month:Ae.getUTCMonth()+1,day:Ae.getUTCDate(),hour:Ae.getUTCHours(),minute:Ae.getUTCMinutes(),second:Ae.getUTCSeconds(),millisecond:Ae.getUTCMilliseconds()}}function ms(Ee,W,Ae){return jo(zt(Ee),W,Ae)}function wo(Ee,W){const Ae=Ee.o,Ue=Ee.c.year+Math.trunc(W.years),mt=Ee.c.month+Math.trunc(W.months)+3*Math.trunc(W.quarters),Lt={...Ee.c,year:Ue,month:mt,day:Math.min(Ee.c.day,xt(Ue,mt))+Math.trunc(W.days)+7*Math.trunc(W.weeks)},Nt=di.fromObject({years:W.years-Math.trunc(W.years),quarters:W.quarters-Math.trunc(W.quarters),months:W.months-Math.trunc(W.months),weeks:W.weeks-Math.trunc(W.weeks),days:W.days-Math.trunc(W.days),hours:W.hours,minutes:W.minutes,seconds:W.seconds,milliseconds:W.milliseconds}).as("milliseconds"),Qt=zt(Lt);let[pe,nt]=jo(Qt,Ae,Ee.zone);return 0!==Nt&&(pe+=Nt,nt=Ee.zone.offset(pe)),{ts:pe,o:nt}}function ds(Ee,W,Ae,Ue,mt,Lt){const{setZone:Nt,zone:Qt}=Ae;if(Ee&&0!==Object.keys(Ee).length||W){const pe=W||Qt,nt=pi.fromObject(Ee,{...Ae,zone:pe,specificOffset:Lt});return Nt?nt:nt.setZone(Qt)}return pi.invalid(new Xn("unparsable",`the input "${mt}" can't be parsed as ${Ue}`))}function Ds(Ee,W,Ae=!0){return Ee.isValid?Ci.create(ae.create("en-US"),{allowZ:Ae,forceSimple:!0}).formatDateTimeFromString(Ee,W):null}function To(Ee,W){const Ae=Ee.c.year>9999||Ee.c.year<0;let Ue="";return Ae&&Ee.c.year>=0&&(Ue+="+"),Ue+=In(Ee.c.year,Ae?6:4),W?(Ue+="-",Ue+=In(Ee.c.month),Ue+="-",Ue+=In(Ee.c.day)):(Ue+=In(Ee.c.month),Ue+=In(Ee.c.day)),Ue}function Ko(Ee,W,Ae,Ue,mt,Lt){let Nt=In(Ee.c.hour);return W?(Nt+=":",Nt+=In(Ee.c.minute),(0!==Ee.c.second||!Ae)&&(Nt+=":")):Nt+=In(Ee.c.minute),(0!==Ee.c.second||!Ae)&&(Nt+=In(Ee.c.second),(0!==Ee.c.millisecond||!Ue)&&(Nt+=".",Nt+=In(Ee.c.millisecond,3))),mt&&(Ee.isOffsetFixed&&0===Ee.offset&&!Lt?Nt+="Z":Ee.o<0?(Nt+="-",Nt+=In(Math.trunc(-Ee.o/60)),Nt+=":",Nt+=In(Math.trunc(-Ee.o%60))):(Nt+="+",Nt+=In(Math.trunc(Ee.o/60)),Nt+=":",Nt+=In(Math.trunc(Ee.o%60)))),Lt&&(Nt+="["+Ee.zone.ianaName+"]"),Nt}const Us={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Br={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$o={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ro=["year","month","day","hour","minute","second","millisecond"],ho=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],to=["year","ordinal","hour","minute","second","millisecond"];function ua(Ee){const W={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[Ee.toLowerCase()];if(!W)throw new C(Ee);return W}function _o(Ee,W){const Ae=Re(W.zone,cn.defaultZone),Ue=ae.fromObject(W),mt=cn.now();let Lt,Nt;if(lt(Ee.year))Lt=mt;else{for(const nt of ro)lt(Ee[nt])&&(Ee[nt]=Us[nt]);const Qt=Sr(Ee)||xs(Ee);if(Qt)return pi.invalid(Qt);const pe=Ae.offset(mt);[Lt,Nt]=ms(Ee,pe,Ae)}return new pi({ts:Lt,zone:Ae,loc:Ue,o:Nt})}function zo(Ee,W,Ae){const Ue=!!lt(Ae.round)||Ae.round,mt=(Nt,Qt)=>(Nt=ft(Nt,Ue||Ae.calendary?0:2,!0),W.loc.clone(Ae).relFormatter(Ae).format(Nt,Qt)),Lt=Nt=>Ae.calendary?W.hasSame(Ee,Nt)?0:W.startOf(Nt).diff(Ee.startOf(Nt),Nt).get(Nt):W.diff(Ee,Nt).get(Nt);if(Ae.unit)return mt(Lt(Ae.unit),Ae.unit);for(const Nt of Ae.units){const Qt=Lt(Nt);if(Math.abs(Qt)>=1)return mt(Qt,Nt)}return mt(Ee>W?-0:0,Ae.units[Ae.units.length-1])}function Ao(Ee){let Ae,W={};return Ee.length>0&&"object"==typeof Ee[Ee.length-1]?(W=Ee[Ee.length-1],Ae=Array.from(Ee).slice(0,Ee.length-1)):Ae=Array.from(Ee),[W,Ae]}class pi{constructor(W){const Ae=W.zone||cn.defaultZone;let Ue=W.invalid||(Number.isNaN(W.ts)?new Xn("invalid input"):null)||(Ae.isValid?null:Es(Ae));this.ts=lt(W.ts)?cn.now():W.ts;let mt=null,Lt=null;if(!Ue)if(W.old&&W.old.ts===this.ts&&W.old.zone.equals(Ae))[mt,Lt]=[W.old.c,W.old.o];else{const Qt=Ae.offset(this.ts);mt=Lr(this.ts,Qt),Ue=Number.isNaN(mt.year)?new Xn("invalid input"):null,mt=Ue?null:mt,Lt=Ue?null:Qt}this._zone=Ae,this.loc=W.loc||ae.create(),this.invalid=Ue,this.weekData=null,this.c=mt,this.o=Lt,this.isLuxonDateTime=!0}static now(){return new pi({})}static local(){const[W,Ae]=Ao(arguments),[Ue,mt,Lt,Nt,Qt,pe,nt]=Ae;return _o({year:Ue,month:mt,day:Lt,hour:Nt,minute:Qt,second:pe,millisecond:nt},W)}static utc(){const[W,Ae]=Ao(arguments),[Ue,mt,Lt,Nt,Qt,pe,nt]=Ae;return W.zone=B.utcInstance,_o({year:Ue,month:mt,day:Lt,hour:Nt,minute:Qt,second:pe,millisecond:nt},W)}static fromJSDate(W,Ae={}){const Ue=function gn(Ee){return"[object Date]"===Object.prototype.toString.call(Ee)}(W)?W.valueOf():NaN;if(Number.isNaN(Ue))return pi.invalid("invalid input");const mt=Re(Ae.zone,cn.defaultZone);return mt.isValid?new pi({ts:Ue,zone:mt,loc:ae.fromObject(Ae)}):pi.invalid(Es(mt))}static fromMillis(W,Ae={}){if(tn(W))return W<-Vo||W>Vo?pi.invalid("Timestamp out of range"):new pi({ts:W,zone:Re(Ae.zone,cn.defaultZone),loc:ae.fromObject(Ae)});throw new g(`fromMillis requires a numerical input, but received a ${typeof W} with value ${W}`)}static fromSeconds(W,Ae={}){if(tn(W))return new pi({ts:1e3*W,zone:Re(Ae.zone,cn.defaultZone),loc:ae.fromObject(Ae)});throw new g("fromSeconds requires a numerical input")}static fromObject(W,Ae={}){W=W||{};const Ue=Re(Ae.zone,cn.defaultZone);if(!Ue.isValid)return pi.invalid(Es(Ue));const mt=cn.now(),Lt=lt(Ae.specificOffset)?Ue.offset(mt):Ae.specificOffset,Nt=Rn(W,ua),Qt=!lt(Nt.ordinal),pe=!lt(Nt.year),nt=!lt(Nt.month)||!lt(Nt.day),le=pe||nt,Le=Nt.weekYear||Nt.weekNumber,Bt=ae.fromObject(Ae);if((le||Qt)&&Le)throw new b("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(nt&&Qt)throw new b("Can't mix ordinal dates with month/day");const on=Le||Nt.weekday&&!le;let Un,wi,ls=Lr(mt,Lt);on?(Un=ho,wi=Br,ls=Ri(ls)):Qt?(Un=to,wi=$o,ls=_r(ls)):(Un=ro,wi=Us);let qr=!1;for(const Fs of Un)lt(Nt[Fs])?Nt[Fs]=qr?wi[Fs]:ls[Fs]:qr=!0;const xr=on?function Bs(Ee){const W=St(Ee.weekYear),Ae=jt(Ee.weekNumber,1,vn(Ee.weekYear)),Ue=jt(Ee.weekday,1,7);return W?Ae?!Ue&&bi("weekday",Ee.weekday):bi("week",Ee.week):bi("weekYear",Ee.weekYear)}(Nt):Qt?function Vr(Ee){const W=St(Ee.year),Ae=jt(Ee.ordinal,1,ht(Ee.year));return W?!Ae&&bi("ordinal",Ee.ordinal):bi("year",Ee.year)}(Nt):Sr(Nt),So=xr||xs(Nt);if(So)return pi.invalid(So);const gs=on?gr(Nt):Qt?ir(Nt):Nt,[xo,$s]=ms(gs,Lt,Ue),so=new pi({ts:xo,zone:Ue,o:$s,loc:Bt});return Nt.weekday&&le&&W.weekday!==so.weekday?pi.invalid("mismatched weekday",`you can't specify both a weekday of ${Nt.weekday} and a date of ${so.toISO()}`):so}static fromISO(W,Ae={}){const[Ue,mt]=function as(Ee){return Mi(Ee,[ps,Zi],[Os,As],[Zr,co],[Ts,Gr])}(W);return ds(Ue,mt,Ae,"ISO 8601",W)}static fromRFC2822(W,Ae={}){const[Ue,mt]=function Ps(Ee){return Mi(function nr(Ee){return Ee.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(Ee),[Cr,cs])}(W);return ds(Ue,mt,Ae,"RFC 2822",W)}static fromHTTP(W,Ae={}){const[Ue,mt]=function Ns(Ee){return Mi(Ee,[br,Oi],[us,Oi],[wr,Xr])}(W);return ds(Ue,mt,Ae,"HTTP",Ae)}static fromFormat(W,Ae,Ue={}){if(lt(W)||lt(Ae))throw new g("fromFormat requires an input string and a format");const{locale:mt=null,numberingSystem:Lt=null}=Ue,Nt=ae.fromOpts({locale:mt,numberingSystem:Lt,defaultToEN:!0}),[Qt,pe,nt,le]=function Xt(Ee,W,Ae){const{result:Ue,zone:mt,specificOffset:Lt,invalidReason:Nt}=vt(Ee,W,Ae);return[Ue,mt,Lt,Nt]}(Nt,W,Ae);return le?pi.invalid(le):ds(Qt,pe,Ue,`format ${Ae}`,W,nt)}static fromString(W,Ae,Ue={}){return pi.fromFormat(W,Ae,Ue)}static fromSQL(W,Ae={}){const[Ue,mt]=function Tr(Ee){return Mi(Ee,[Or,Zi],[go,Fi])}(W);return ds(Ue,mt,Ae,"SQL",W)}static invalid(W,Ae=null){if(!W)throw new g("need to specify a reason the DateTime is invalid");const Ue=W instanceof Xn?W:new Xn(W,Ae);if(cn.throwOnInvalid)throw new e(Ue);return new pi({invalid:Ue})}static isDateTime(W){return W&&W.isLuxonDateTime||!1}static parseFormatForOpts(W,Ae={}){const Ue=sn(W,ae.fromObject(Ae));return Ue?Ue.map(mt=>mt?mt.val:null).join(""):null}static expandFormat(W,Ae={}){return ze(Ci.parseFormat(W),ae.fromObject(Ae)).map(mt=>mt.val).join("")}get(W){return this[W]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?io(this).weekYear:NaN}get weekNumber(){return this.isValid?io(this).weekNumber:NaN}get weekday(){return this.isValid?io(this).weekday:NaN}get ordinal(){return this.isValid?_r(this.c).ordinal:NaN}get monthShort(){return this.isValid?ne.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ne.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ne.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ne.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return yt(this.year)}get daysInMonth(){return xt(this.year,this.month)}get daysInYear(){return this.isValid?ht(this.year):NaN}get weeksInWeekYear(){return this.isValid?vn(this.weekYear):NaN}resolvedLocaleOptions(W={}){const{locale:Ae,numberingSystem:Ue,calendar:mt}=Ci.create(this.loc.clone(W),W).resolvedOptions(this);return{locale:Ae,numberingSystem:Ue,outputCalendar:mt}}toUTC(W=0,Ae={}){return this.setZone(B.instance(W),Ae)}toLocal(){return this.setZone(cn.defaultZone)}setZone(W,{keepLocalTime:Ae=!1,keepCalendarTime:Ue=!1}={}){if((W=Re(W,cn.defaultZone)).equals(this.zone))return this;if(W.isValid){let mt=this.ts;if(Ae||Ue){const Lt=W.offset(this.ts),Nt=this.toObject();[mt]=ms(Nt,Lt,W)}return bo(this,{ts:mt,zone:W})}return pi.invalid(Es(W))}reconfigure({locale:W,numberingSystem:Ae,outputCalendar:Ue}={}){return bo(this,{loc:this.loc.clone({locale:W,numberingSystem:Ae,outputCalendar:Ue})})}setLocale(W){return this.reconfigure({locale:W})}set(W){if(!this.isValid)return this;const Ae=Rn(W,ua),Ue=!lt(Ae.weekYear)||!lt(Ae.weekNumber)||!lt(Ae.weekday),mt=!lt(Ae.ordinal),Lt=!lt(Ae.year),Nt=!lt(Ae.month)||!lt(Ae.day);if((Lt||Nt||mt)&&(Ae.weekYear||Ae.weekNumber))throw new b("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Nt&&mt)throw new b("Can't mix ordinal dates with month/day");let nt;Ue?nt=gr({...Ri(this.c),...Ae}):lt(Ae.ordinal)?(nt={...this.toObject(),...Ae},lt(Ae.day)&&(nt.day=Math.min(xt(nt.year,nt.month),nt.day))):nt=ir({..._r(this.c),...Ae});const[le,Le]=ms(nt,this.o,this.zone);return bo(this,{ts:le,o:Le})}plus(W){return this.isValid?bo(this,wo(this,di.fromDurationLike(W))):this}minus(W){return this.isValid?bo(this,wo(this,di.fromDurationLike(W).negate())):this}startOf(W){if(!this.isValid)return this;const Ae={},Ue=di.normalizeUnit(W);switch(Ue){case"years":Ae.month=1;case"quarters":case"months":Ae.day=1;case"weeks":case"days":Ae.hour=0;case"hours":Ae.minute=0;case"minutes":Ae.second=0;case"seconds":Ae.millisecond=0}if("weeks"===Ue&&(Ae.weekday=1),"quarters"===Ue){const mt=Math.ceil(this.month/3);Ae.month=3*(mt-1)+1}return this.set(Ae)}endOf(W){return this.isValid?this.plus({[W]:1}).startOf(W).minus(1):this}toFormat(W,Ae={}){return this.isValid?Ci.create(this.loc.redefaultToEN(Ae)).formatDateTimeFromString(this,W):eo}toLocaleString(W=N,Ae={}){return this.isValid?Ci.create(this.loc.clone(Ae),W).formatDateTime(this):eo}toLocaleParts(W={}){return this.isValid?Ci.create(this.loc.clone(W),W).formatDateTimeParts(this):[]}toISO({format:W="extended",suppressSeconds:Ae=!1,suppressMilliseconds:Ue=!1,includeOffset:mt=!0,extendedZone:Lt=!1}={}){if(!this.isValid)return null;const Nt="extended"===W;let Qt=To(this,Nt);return Qt+="T",Qt+=Ko(this,Nt,Ae,Ue,mt,Lt),Qt}toISODate({format:W="extended"}={}){return this.isValid?To(this,"extended"===W):null}toISOWeekDate(){return Ds(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:W=!1,suppressSeconds:Ae=!1,includeOffset:Ue=!0,includePrefix:mt=!1,extendedZone:Lt=!1,format:Nt="extended"}={}){return this.isValid?(mt?"T":"")+Ko(this,"extended"===Nt,Ae,W,Ue,Lt):null}toRFC2822(){return Ds(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ds(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?To(this,!0):null}toSQLTime({includeOffset:W=!0,includeZone:Ae=!1,includeOffsetSpace:Ue=!0}={}){let mt="HH:mm:ss.SSS";return(Ae||W)&&(Ue&&(mt+=" "),Ae?mt+="z":W&&(mt+="ZZ")),Ds(this,mt,!0)}toSQL(W={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(W)}`:null}toString(){return this.isValid?this.toISO():eo}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(W={}){if(!this.isValid)return{};const Ae={...this.c};return W.includeConfig&&(Ae.outputCalendar=this.outputCalendar,Ae.numberingSystem=this.loc.numberingSystem,Ae.locale=this.loc.locale),Ae}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(W,Ae="milliseconds",Ue={}){if(!this.isValid||!W.isValid)return di.invalid("created by diffing an invalid DateTime");const mt={locale:this.locale,numberingSystem:this.numberingSystem,...Ue},Lt=function Mn(Ee){return Array.isArray(Ee)?Ee:[Ee]}(Ae).map(di.normalizeUnit),Nt=W.valueOf()>this.valueOf(),nt=function Bn(Ee,W,Ae,Ue){let[mt,Lt,Nt,Qt]=function nn(Ee,W,Ae){const Ue=[["years",(pe,nt)=>nt.year-pe.year],["quarters",(pe,nt)=>nt.quarter-pe.quarter+4*(nt.year-pe.year)],["months",(pe,nt)=>nt.month-pe.month+12*(nt.year-pe.year)],["weeks",(pe,nt)=>{const le=Xe(pe,nt);return(le-le%7)/7}],["days",Xe]],mt={},Lt=Ee;let Nt,Qt;for(const[pe,nt]of Ue)Ae.indexOf(pe)>=0&&(Nt=pe,mt[pe]=nt(Ee,W),Qt=Lt.plus(mt),Qt>W?(mt[pe]--,Ee=Lt.plus(mt)):Ee=Qt);return[Ee,mt,Qt,Nt]}(Ee,W,Ae);const pe=W-mt,nt=Ae.filter(Le=>["hours","minutes","seconds","milliseconds"].indexOf(Le)>=0);0===nt.length&&(Nt<W&&(Nt=mt.plus({[Qt]:1})),Nt!==mt&&(Lt[Qt]=(Lt[Qt]||0)+pe/(Nt-mt)));const le=di.fromObject(Lt,Ue);return nt.length>0?di.fromMillis(pe,Ue).shiftTo(...nt).plus(le):le}(Nt?this:W,Nt?W:this,Lt,mt);return Nt?nt.negate():nt}diffNow(W="milliseconds",Ae={}){return this.diff(pi.now(),W,Ae)}until(W){return this.isValid?ge.fromDateTimes(this,W):this}hasSame(W,Ae){if(!this.isValid)return!1;const Ue=W.valueOf(),mt=this.setZone(W.zone,{keepLocalTime:!0});return mt.startOf(Ae)<=Ue&&Ue<=mt.endOf(Ae)}equals(W){return this.isValid&&W.isValid&&this.valueOf()===W.valueOf()&&this.zone.equals(W.zone)&&this.loc.equals(W.loc)}toRelative(W={}){if(!this.isValid)return null;const Ae=W.base||pi.fromObject({},{zone:this.zone}),Ue=W.padding?this<Ae?-W.padding:W.padding:0;let mt=["years","months","days","hours","minutes","seconds"],Lt=W.unit;return Array.isArray(W.unit)&&(mt=W.unit,Lt=void 0),zo(Ae,this.plus(Ue),{...W,numeric:"always",units:mt,unit:Lt})}toRelativeCalendar(W={}){return this.isValid?zo(W.base||pi.fromObject({},{zone:this.zone}),this,{...W,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...W){if(!W.every(pi.isDateTime))throw new g("min requires all arguments be DateTimes");return qn(W,Ae=>Ae.valueOf(),Math.min)}static max(...W){if(!W.every(pi.isDateTime))throw new g("max requires all arguments be DateTimes");return qn(W,Ae=>Ae.valueOf(),Math.max)}static fromFormatExplain(W,Ae,Ue={}){const{locale:mt=null,numberingSystem:Lt=null}=Ue;return vt(ae.fromOpts({locale:mt,numberingSystem:Lt,defaultToEN:!0}),W,Ae)}static fromStringExplain(W,Ae,Ue={}){return pi.fromFormatExplain(W,Ae,Ue)}static get DATE_SHORT(){return N}static get DATE_MED(){return a}static get DATE_MED_WITH_WEEKDAY(){return k}static get DATE_FULL(){return P}static get DATE_HUGE(){return U}static get TIME_SIMPLE(){return J}static get TIME_WITH_SECONDS(){return O}static get TIME_WITH_SHORT_OFFSET(){return L}static get TIME_WITH_LONG_OFFSET(){return F}static get TIME_24_SIMPLE(){return V}static get TIME_24_WITH_SECONDS(){return q}static get TIME_24_WITH_SHORT_OFFSET(){return ie}static get TIME_24_WITH_LONG_OFFSET(){return H}static get DATETIME_SHORT(){return $}static get DATETIME_SHORT_WITH_SECONDS(){return z}static get DATETIME_MED(){return E}static get DATETIME_MED_WITH_SECONDS(){return X}static get DATETIME_MED_WITH_WEEKDAY(){return Q}static get DATETIME_FULL(){return ce}static get DATETIME_FULL_WITH_SECONDS(){return _e}static get DATETIME_HUGE(){return Te}static get DATETIME_HUGE_WITH_SECONDS(){return ve}}function Ks(Ee){if(pi.isDateTime(Ee))return Ee;if(Ee&&Ee.valueOf&&tn(Ee.valueOf()))return pi.fromJSDate(Ee);if(Ee&&"object"==typeof Ee)return pi.fromObject(Ee);throw new g(`Unknown datetime argument: ${Ee}, of type ${typeof Ee}`)}},5241:(st,ye,f)=>{"use strict";f.d(ye,{Zf:()=>U,gd:()=>P,fx:()=>O,U_:()=>J});var t=f(4650),e=f(1607),m=f(6895),w=f(7340);const b="400ms cubic-bezier(0.4,0.0,0.2,1)",C=[(0,w.oB)({height:0,visibility:"hidden"}),(0,w.jt)(b,(0,w.oB)({height:"*",visibility:"visible"}))],g=[(0,w.oB)({height:"*",visibility:"visible"}),(0,w.jt)(b,(0,w.oB)({height:0,visibility:"hidden"}))];let p=(()=>{class L{constructor(V,q,ie){this._el=V,this._renderer=q,this.collapsed=new t.vpe,this.collapses=new t.vpe,this.expanded=new t.vpe,this.expands=new t.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=ie.build(g),this._factoryExpandAnimation=ie.build(C)}set display(V){this._display=V,"none"!==V?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(V){this.collapseNewValue=V,(!this._player||this._isAnimationDone)&&(this.isExpanded=V,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(V,q){if(!V||!this._stylesLoaded)return H=>H();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const ie=q===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=ie.create(this._el.nativeElement),this._player.play(),H=>{var $;return null===($=this._player)||void 0===$?void 0:$.onDone(H)}}}return L.\u0275fac=function(V){return new(V||L)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(w._j))},L.\u0275dir=t.lG2({type:L,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(V,q){2&V&&(t.uIk("aria-hidden",q.isCollapsed),t.ekj("collapse",q.isCollapse)("in",q.isExpanded)("show",q.isExpanded)("collapsing",q.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),L})(),A=(()=>{class L{static forRoot(){return{ngModule:L,providers:[]}}}return L.\u0275fac=function(V){return new(V||L)},L.\u0275mod=t.oAB({type:L}),L.\u0275inj=t.cJS({}),L})();const _=["*"],R=function(L){return{"text-muted":L}};function N(L,F){if(1&L&&(t.TgZ(0,"button",7),t._uU(1),t.qZA()),2&L){const V=t.oxw();t.Q6J("ngClass",t.VKq(2,R,V.isDisabled)),t.xp6(1),t.hij(" ",V.heading," ")}}const a=[[["","accordion-heading",""]],"*"],k=["[accordion-heading]","*"];let P=(()=>{class L{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return L.\u0275fac=function(V){return new(V||L)},L.\u0275prov=t.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),U=(()=>{class L{constructor(V){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,V)}closeOtherPanels(V){!this.closeOthers||this.groups.forEach(q=>{q!==V&&(q.isOpen=!1)})}addGroup(V){V.isAnimated=this.isAnimated,this.groups.push(V)}removeGroup(V){const q=this.groups.indexOf(V);-1!==q&&this.groups.splice(q,1)}}return L.\u0275fac=function(V){return new(V||L)(t.Y36(P))},L.\u0275cmp=t.Xpm({type:L,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(V,q){2&V&&t.uIk("aria-multiselectable",q.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:_,decls:1,vars:0,template:function(V,q){1&V&&(t.F$t(),t.Hsn(0))},encapsulation:2}),L})(),J=(()=>{class L{constructor(V){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new t.vpe,this._isOpen=!1,this.accordion=V}get isOpen(){return this._isOpen}set isOpen(V){V!==this.isOpen&&(V&&this.accordion.closeOtherPanels(this),this._isOpen=V,Promise.resolve(null).then(()=>{this.isOpenChange.emit(V)}))}get isBs3(){return(0,e.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return L.\u0275fac=function(V){return new(V||L)(t.Y36(U))},L.\u0275cmp=t.Xpm({type:L,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(V,q){2&V&&t.ekj("panel-open",q.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:k,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(V,q){1&V&&(t.F$t(a),t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return q.toggleOpen()}),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,N,2,4,"button",4),t.Hsn(5),t.qZA()()(),t.TgZ(6,"div",5)(7,"div",6),t.Hsn(8,1),t.qZA()()()),2&V&&(t.Q6J("ngClass",q.panelClass),t.xp6(1),t.Q6J("ngClass",q.isDisabled?"panel-disabled":"panel-enabled"),t.xp6(2),t.uIk("aria-expanded",q.isOpen),t.xp6(1),t.Q6J("ngIf",q.heading),t.xp6(2),t.Q6J("collapse",!q.isOpen)("isAnimated",q.isAnimated))},dependencies:[m.mk,m.O5,p],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),L})(),O=(()=>{class L{static forRoot(){return{ngModule:L,providers:[]}}}return L.\u0275fac=function(V){return new(V||L)},L.\u0275mod=t.oAB({type:L}),L.\u0275inj=t.cJS({imports:[m.ez,A]}),L})()},2381:(st,ye,f)=>{"use strict";f.d(ye,{oj:()=>p});var t=f(4650),e=f(1607),m=f(8664),w=f(6895);class C{constructor(_,R,N){this.nodes=_,this.viewRef=R,this.componentRef=N}}class g{constructor(_,R,N,a,k,P,U,J,O){this._viewContainerRef=_,this._renderer=R,this._elementRef=N,this._injector=a,this._componentFactoryResolver=k,this._ngZone=P,this._applicationRef=U,this._posService=J,this._document=O,this.onBeforeShow=new t.vpe,this.onShown=new t.vpe,this.onBeforeHide=new t.vpe,this.onHidden=new t.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(_){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(_),this}to(_){return this.container=_||this.container,this}position(_){return _?(this.attachment=_.attachment||this.attachment,this._elementRef=_.target||this._elementRef,this):this}provide(_){return this._providers.push(_),this}show(_={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(_.content,_.context,_.initialState);const R=t.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(R,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,_),this.container instanceof t.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const N=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!N)return;N.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(_.id?{id:_.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(_){var R,N,a,k,P,U;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const J=this._componentRef.location.nativeElement;return null===(R=J.parentNode)||void 0===R||R.removeChild(J),null===(N=this._contentRef)||void 0===N||null===(a=N.componentRef)||void 0===a||a.destroy(),this._viewContainerRef&&null!==(k=this._contentRef)&&void 0!==k&&k.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(P=this._contentRef)||void 0===P||null===(U=P.viewRef)||void 0===U||U.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(_?{id:_}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(_){var R;this.triggers=_.triggers||this.triggers,this._listenOpts.outsideClick=_.outsideClick,this._listenOpts.outsideEsc=_.outsideEsc,_.target=_.target||(null===(R=this._elementRef)||void 0===R?void 0:R.nativeElement);const N=this._listenOpts.hide=()=>_.hide?_.hide():void this.hide(),a=this._listenOpts.show=P=>{_.show?_.show(P):this.show(P),P()};return this._renderer&&(this._unregisterListenersFn=(0,e.wo)(this._renderer,{target:_.target,triggers:_.triggers,show:a,hide:N,toggle:P=>{this.isShown?N():a(P)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(_,R){return _&&R&&(this._inlineViewRef=_.createEmbeddedView(R)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const _=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Rg)(this._renderer,{targets:[_,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var _;this._posService.position({element:null===(_=this._componentRef)||void 0===_?void 0:_.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(_,R,N){if(!_)return new C([]);if(_ instanceof t.Rgc){if(this._viewContainerRef){const P=this._viewContainerRef.createEmbeddedView(_,R);return P.markForCheck(),new C([P.rootNodes],P)}const k=_.createEmbeddedView({});return this._applicationRef.attachView(k),new C([k.rootNodes],k)}if("function"==typeof _){const k=this._componentFactoryResolver.resolveComponentFactory(_),P=t.zs3.create({providers:this._providers,parent:this._injector}),U=k.create(P);return Object.assign(U.instance,N),this._applicationRef.attachView(U.hostView),new C([[U.location.nativeElement]],U.hostView,U)}const a=this._renderer?[this._renderer.createText(`${_}`)]:[];return new C([a])}}let p=(()=>{class A{constructor(R,N,a,k,P,U){this._componentFactoryResolver=R,this._ngZone=N,this._injector=a,this._posService=k,this._applicationRef=P,this._document=U}createLoader(R,N,a){return new g(N,a,R,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return A.\u0275fac=function(R){return new(R||A)(t.LFG(t._Vd),t.LFG(t.R0b),t.LFG(t.zs3),t.LFG(m.sA),t.LFG(t.z2F),t.LFG(w.K0))},A.\u0275prov=t.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},388:(st,ye,f)=>{"use strict";f.d(ye,{tT:()=>ln,oB:()=>ct,zk:()=>It});var t=f(4650),e=f(1607),m=f(6895),w=f(5698);let C,b=(()=>{class Y{constructor(){this._focusTrapStack=[]}register(oe){this._focusTrapStack=this._focusTrapStack.filter(Be=>Be!==oe);let Ve=this._focusTrapStack;Ve.length&&Ve[Ve.length-1]._disable(),Ve.push(oe),oe._enable()}deregister(oe){oe._disable();const Ve=this._focusTrapStack,Be=Ve.indexOf(oe);-1!==Be&&(Ve.splice(Be,1),Ve.length&&Ve[Ve.length-1]._enable())}}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();try{C=typeof Intl<"u"&&Intl.v8BreakIterator}catch{C=!1}let g=(()=>{class Y{constructor(oe){this._platformId=oe,this.isBrowser=this._platformId?(0,m.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!C)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.LFG(t.Lbi))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),A=(()=>{class Y{constructor(oe){this._platform=oe}isDisabled(oe){return oe.hasAttribute("disabled")}isVisible(oe){return function R(Y){return!!(Y.offsetWidth||Y.offsetHeight||"function"==typeof Y.getClientRects&&Y.getClientRects().length)}(oe)&&"visible"===getComputedStyle(oe).visibility}isTabbable(oe){if(!this._platform.isBrowser)return!1;const Ve=function _(Y){try{return Y.frameElement}catch{return null}}(function V(Y){return Y.ownerDocument&&Y.ownerDocument.defaultView||window}(oe));if(Ve&&(-1===O(Ve)||!this.isVisible(Ve)))return!1;let Be=oe.nodeName.toLowerCase(),o=O(oe);return oe.hasAttribute("contenteditable")?-1!==o:!("iframe"===Be||"object"===Be||this._platform.WEBKIT&&this._platform.IOS&&!function L(Y){let G=Y.nodeName.toLowerCase(),oe="input"===G&&Y.type;return"text"===oe||"password"===oe||"select"===G||"textarea"===G}(oe))&&("audio"===Be?!!oe.hasAttribute("controls")&&-1!==o:"video"===Be?-1!==o&&(null!==o||this._platform.FIREFOX||oe.hasAttribute("controls")):oe.tabIndex>=0)}isFocusable(oe,Ve){return function F(Y){return!function a(Y){return function P(Y){return"input"==Y.nodeName.toLowerCase()}(Y)&&"hidden"==Y.type}(Y)&&(function N(Y){let G=Y.nodeName.toLowerCase();return"input"===G||"select"===G||"button"===G||"textarea"===G}(Y)||function k(Y){return function U(Y){return"a"==Y.nodeName.toLowerCase()}(Y)&&Y.hasAttribute("href")}(Y)||Y.hasAttribute("contenteditable")||J(Y))}(oe)&&!this.isDisabled(oe)&&(Ve?.ignoreVisibility||this.isVisible(oe))}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.LFG(g))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})();function J(Y){if(!Y.hasAttribute("tabindex")||void 0===Y.tabIndex)return!1;let G=Y.getAttribute("tabindex");return"-32768"!=G&&!(!G||isNaN(parseInt(G,10)))}function O(Y){if(!J(Y))return null;const G=parseInt(Y.getAttribute("tabindex")||"",10);return isNaN(G)?-1:G}function q(Y){return null!=Y&&"false"!=`${Y}`}class ie{constructor(G,oe,Ve,Be,o=!1){this._element=G,this._checker=oe,this._ngZone=Ve,this._document=Be,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(G){this._enabled=G,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(G,this._startAnchor),this._toggleAnchorTabIndex(G,this._endAnchor))}destroy(){const G=this._startAnchor,oe=this._endAnchor;G&&(G.removeEventListener("focus",this.startAnchorListener),G.parentNode&&G.parentNode.removeChild(G)),oe&&(oe.removeEventListener("focus",this.endAnchorListener),oe.parentNode&&oe.parentNode.removeChild(oe)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(G=>{this._executeOnStable(()=>G(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(G=>{this._executeOnStable(()=>G(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(G=>{this._executeOnStable(()=>G(this.focusLastTabbableElement()))})}_getRegionBoundary(G){let oe=this._element.querySelectorAll(`[cdk-focus-region-${G}], [cdkFocusRegion${G}], [cdk-focus-${G}]`);for(let Ve=0;Ve<oe.length;Ve++)oe[Ve].hasAttribute(`cdk-focus-${G}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${G}', use 'cdkFocusRegion${G}' instead. The deprecated attribute will be removed in 8.0.0.`,oe[Ve]):oe[Ve].hasAttribute(`cdk-focus-region-${G}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${G}', use 'cdkFocusRegion${G}' instead. The deprecated attribute will be removed in 8.0.0.`,oe[Ve]);return"start"==G?oe.length?oe[0]:this._getFirstTabbableElement(this._element):oe.length?oe[oe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const G=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(G){if(G.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",G),!this._checker.isFocusable(G)){const oe=this._getFirstTabbableElement(G);return oe?.focus(),!!oe}return G.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const G=this._getRegionBoundary("start");return G&&G.focus(),!!G}focusLastTabbableElement(){const G=this._getRegionBoundary("end");return G&&G.focus(),!!G}hasAttached(){return this._hasAttached}_getFirstTabbableElement(G){if(this._checker.isFocusable(G)&&this._checker.isTabbable(G))return G;let oe=G.children||G.childNodes;for(let Ve=0;Ve<oe.length;Ve++){let Be=oe[Ve].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(oe[Ve]):null;if(Be)return Be}return null}_getLastTabbableElement(G){if(this._checker.isFocusable(G)&&this._checker.isTabbable(G))return G;let oe=G.children||G.childNodes;for(let Ve=oe.length-1;Ve>=0;Ve--){let Be=oe[Ve].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(oe[Ve]):null;if(Be)return Be}return null}_createAnchor(){const G=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,G),G.classList.add("cdk-visually-hidden"),G.classList.add("cdk-focus-trap-anchor"),G.setAttribute("aria-hidden","true"),G}_toggleAnchorTabIndex(G,oe){G?oe.setAttribute("tabindex","0"):oe.removeAttribute("tabindex")}toggleAnchors(G){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(G,this._startAnchor),this._toggleAnchorTabIndex(G,this._endAnchor))}_executeOnStable(G){this._ngZone.isStable?G():this._ngZone.onStable.pipe((0,w.q)(1)).subscribe(G)}}let H=(()=>{class Y{constructor(oe,Ve,Be){this._checker=oe,this._ngZone=Ve,this._document=Be}create(oe,Ve=!1){return new ie(oe,this._checker,this._ngZone,this._document,Ve)}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.LFG(A),t.LFG(t.R0b),t.LFG(m.K0))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),$=(()=>{class Y{constructor(oe,Ve,Be){this._elementRef=oe,this._focusTrapFactory=Ve,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=Be,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(oe){this.focusTrap.enabled=q(oe)}get autoCapture(){return this._autoCapture}set autoCapture(oe){this._autoCapture=q(oe)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(oe){const Ve=oe.autoCapture;Ve&&!Ve.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.Y36(t.SBq),t.Y36(H),t.Y36(m.K0))},Y.\u0275dir=t.lG2({type:Y,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[t.TTD]}),Y})(),z=(()=>{class Y{static forRoot(){return{ngModule:Y,providers:[b,g,A]}}}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275mod=t.oAB({type:Y}),Y.\u0275inj=t.cJS({imports:[m.ez]}),Y})();var E=f(2381),X=f(8664);const Q=["*"];let ce=(()=>{class Y{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"platform"}),Y})(),Te=(()=>{class Y{}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"platform"}),Y})();const ve={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Ke=new t.OlP("override-default-config"),xe_OPEN="modal-open";let rt=(()=>{class Y{constructor(oe,Ve,Be){this._element=Ve,this._renderer=Be,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},oe)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,(0,e.XA)()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,xe_OPEN),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(oe){this.clickStartedInContent=oe.target!==this._element.nativeElement}onClickStop(oe){var Ve;this.config.ignoreBackdropClick||"static"===this.config.backdrop||oe.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(Ve=this.bsModalService)||void 0===Ve||Ve.setDismissReason("backdrop-click"),this.hide())}onPopState(){var oe;null===(oe=this.bsModalService)||void 0===oe||oe.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(oe){var Ve,Be;this.isShown&&((27===oe.keyCode||"Escape"===oe.key)&&oe.preventDefault(),this.config.keyboard&&this.level===(null===(Ve=this.bsModalService)||void 0===Ve?void 0:Ve.getModalsCount()))&&(null===(Be=this.bsModalService)||void 0===Be||Be.setDismissReason("esc"),this.hide())}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,(0,e.XA)()?"in":"show"),setTimeout(()=>{var oe,Ve;this.isShown=!1,document&&document.body&&1===(null===(oe=this.bsModalService)||void 0===oe?void 0:oe.getModalsCount())&&(this._renderer.removeClass(document.body,xe_OPEN),this._renderer.setStyle(document.body,"overflow-y","")),null===(Ve=this.bsModalService)||void 0===Ve||Ve.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.Y36(Te),t.Y36(t.SBq),t.Y36(t.Qsj))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(oe,Ve){1&oe&&t.NdJ("mousedown",function(o){return Ve.onClickStarted(o)})("click",function(o){return Ve.onClickStop(o)})("popstate",function(){return Ve.onPopState()},!1,t.Jf7)("keydown.esc",function(o){return Ve.onEsc(o)},!1,t.Jf7),2&oe&&t.uIk("aria-modal",!0)("aria-labelledby",Ve.config.ariaLabelledBy)("aria-describedby",Ve.config.ariaDescribedby)},ngContentSelectors:Q,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(oe,Ve){1&oe&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA()()),2&oe&&t.Tol("modal-dialog"+(Ve.config.class?" "+Ve.config.class:""))},dependencies:[$],encapsulation:2}),Y})(),Ct=(()=>{class Y{constructor(oe,Ve){this._isAnimated=!1,this._isShown=!1,this.element=oe,this.renderer=Ve}get isAnimated(){return this._isAnimated}set isAnimated(oe){this._isAnimated=oe}get isShown(){return this._isShown}set isShown(oe){this._isShown=oe,oe?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),(0,e.XA)()||(oe?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.cQ.reflow(this.element.nativeElement)),this.isShown=!0}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.Y36(t.SBq),t.Y36(t.Qsj))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(oe,Ve){},encapsulation:2}),Y})(),ct=(()=>{class Y{constructor(oe,Ve,Be,o,De){this._element=oe,this._renderer=Be,this.onShow=new t.vpe,this.onShown=new t.vpe,this.onHide=new t.vpe,this.onHidden=new t.vpe,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._backdrop=o.createLoader(oe,Ve,Be),this._config=De||ve}set config(oe){this._config=this.getConfig(oe)}get config(){return this._config}get isShown(){return this._isShown}onClickStarted(oe){this.clickStartedInContent=oe.target!==this._element.nativeElement}onClickStop(oe){this.config.ignoreBackdropClick||"static"===this.config.backdrop||oe.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(oe))}onEsc(oe){!this._isShown||((27===oe.keyCode||"Escape"===oe.key)&&oe.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.tj&&e.tj.body&&(e.tj.body.classList.contains(xe_OPEN)?this.isNested=!0:(this._renderer.addClass(e.tj.body,xe_OPEN),this._renderer.setStyle(e.tj.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(oe){if(this._isShown){if(oe&&oe.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.u9.clearTimeout(this.timerHideModal),e.u9.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"in"),(0,e.XA)()||this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.u9.setTimeout(()=>this.hideModal(),300):this.hideModal()}getConfig(oe){return Object.assign({},this._config,oe)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.tj&&e.tj.body&&e.tj.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.cQ.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"in"),(0,e.XA)()||this._renderer.addClass(this._element.nativeElement,"show");const oe=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(oe,300):oe()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.tj&&e.tj.body&&(this._renderer.removeClass(e.tj.body,xe_OPEN),this._renderer.setStyle(e.tj.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(oe){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const Ve=()=>{this.removeBackdrop(),oe&&oe()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.u9.setTimeout(Ve,150):Ve()}else oe&&oe();else{if(this.removeBackdrop(),this._backdrop.attach(Ct).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!oe)return;if(!this._config.animated)return void oe();setTimeout(oe,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const oe=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");!oe.length||oe[oe.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.tj.body.clientWidth<e.u9.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!e.tj||(this.originalBodyPadding=parseInt(e.u9.getComputedStyle(e.tj.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.tj.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.tj.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const oe=this._renderer.createElement("div");this._renderer.addClass(oe,"modal-scrollbar-measure"),this._renderer.appendChild(e.tj.body,oe);const Ve=oe.offsetWidth-oe.clientWidth;return this._renderer.removeChild(e.tj.body,oe),Ve}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.Y36(t.SBq),t.Y36(t.s_b),t.Y36(t.Qsj),t.Y36(E.oj),t.Y36(Ke,8))},Y.\u0275dir=t.lG2({type:Y,selectors:[["","bsModal",""]],hostBindings:function(oe,Ve){1&oe&&t.NdJ("mousedown",function(o){return Ve.onClickStarted(o)})("mouseup",function(o){return Ve.onClickStop(o)})("keydown.esc",function(o){return Ve.onEsc(o)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),Y})(),Gt=1,ln=(()=>{class Y{constructor(oe,Ve,Be){this.clf=Ve,this.modalDefaultOption=Be,this.onShow=new t.vpe,this.onShown=new t.vpe,this.onHide=new t.vpe,this.onHidden=new t.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=oe.createRenderer(null,null),this.config=Be?Object.assign({},ve,Be):ve}show(oe,Ve){this.modalsCount++,this._createLoaders();const Be=Ve?.id||Gt++;return this.config=this.modalDefaultOption?Object.assign({},ve,this.modalDefaultOption,Ve):Object.assign({},ve,Ve),this.config.id=Be,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(oe)}hide(oe){(1===this.modalsCount||null==oe)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=oe?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(oe),this.removeLoaders(oe)},this.config.animated?150:0)}_showBackdrop(){const oe=!0===this.config.backdrop||"static"===this.config.backdrop,Ve=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),oe&&Ve&&(this._backdropLoader.attach(Ct).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(oe){const Ve=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const be of this.config.providers)Ve.provide(be);const Be=new ce,o=Ve.provide({provide:Te,useValue:this.config}).provide({provide:ce,useValue:Be}).attach(rt).to("body");var De;return Be.hide=()=>{var be;return null===(be=o.instance)||void 0===be?void 0:be.hide()},Be.setClass=be=>{o.instance&&(o.instance.config.class=be)},Be.onHidden=new t.vpe,Be.onHide=new t.vpe,this.copyEvent(Ve.onBeforeHide,Be.onHide),this.copyEvent(Ve.onHidden,Be.onHidden),o.show({content:oe,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),Be.content=Ve.getInnerComponent(),Be.id=null===(De=o.instance.config)||void 0===De?void 0:De.id),Be}_hideModal(oe){if(null!=oe){const Ve=this.loaders.findIndex(o=>{var De;return(null===(De=o.instance)||void 0===De?void 0:De.config.id)===oe}),Be=this.loaders[Ve];Be&&Be.hide(oe)}else this.loaders.forEach(Ve=>{Ve.instance&&Ve.hide(Ve.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(oe){this.lastDismissReason=oe}removeBackdrop(){this._renderer.removeClass(document.body,xe_OPEN),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const oe=this._renderer.createElement("div");this._renderer.addClass(oe,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,oe);const Ve=oe.offsetWidth-oe.clientWidth;return this._renderer.removeChild(document.body,oe),Ve}_createLoaders(){const oe=this.clf.createLoader();this.copyEvent(oe.onBeforeShow,this.onShow),this.copyEvent(oe.onShown,this.onShown),this.copyEvent(oe.onBeforeHide,this.onHide),this.copyEvent(oe.onHidden,this.onHidden),this.loaders.push(oe)}removeLoaders(oe){if(null!=oe){const Ve=this.loaders.findIndex(Be=>{var o;return(null===(o=Be.instance)||void 0===o?void 0:o.config.id)===oe});Ve>=0&&(this.loaders.splice(Ve,1),this.loaders.forEach((Be,o)=>{Be.instance&&(Be.instance.level=o+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(oe,Ve){oe.subscribe(Be=>{Ve.emit(this.lastDismissReason||Be)})}}return Y.\u0275fac=function(oe){return new(oe||Y)(t.LFG(t.FYo),t.LFG(E.oj),t.LFG(Ke,8))},Y.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"platform"}),Y})();z.forRoot();let It=(()=>{class Y{static forRoot(){return{ngModule:Y,providers:[ln,E.oj,X.sA]}}static forChild(){return{ngModule:Y,providers:[ln,E.oj,X.sA]}}}return Y.\u0275fac=function(oe){return new(oe||Y)},Y.\u0275mod=t.oAB({type:Y}),Y.\u0275inj=t.cJS({imports:[z]}),Y})()},8664:(st,ye,f)=>{"use strict";f.d(ye,{Bz:()=>J,sA:()=>pt});var t=f(1607),e=f(4650),m=f(6895),w=f(7579),b=f(6451),C=f(4968),g=f(9646),p=f(4408),A=f(727);const _={schedule(ae){let te=requestAnimationFrame,B=cancelAnimationFrame;const{delegate:ee}=_;ee&&(te=ee.requestAnimationFrame,B=ee.cancelAnimationFrame);const Re=te(tt=>{B=void 0,ae(tt)});return new A.w0(()=>B?.(Re))},requestAnimationFrame(...ae){const{delegate:te}=_;return(te?.requestAnimationFrame||requestAnimationFrame)(...ae)},cancelAnimationFrame(...ae){const{delegate:te}=_;return(te?.cancelAnimationFrame||cancelAnimationFrame)(...ae)},delegate:void 0};var N=f(7565);const k=new class a extends N.v{flush(te){this._active=!0;const B=this._scheduled;this._scheduled=void 0;const{actions:ee}=this;let Re;te=te||ee.shift();do{if(Re=te.execute(te.state,te.delay))break}while((te=ee[0])&&te.id===B&&ee.shift());if(this._active=!1,Re){for(;(te=ee[0])&&te.id===B&&ee.shift();)te.unsubscribe();throw Re}}}(class R extends p.o{constructor(te,B){super(te,B),this.scheduler=te,this.work=B}requestAsyncId(te,B,ee=0){return null!==ee&&ee>0?super.requestAsyncId(te,B,ee):(te.actions.push(this),te._scheduled||(te._scheduled=_.requestAnimationFrame(()=>te.flush(void 0))))}recycleAsyncId(te,B,ee=0){if(null!=ee&&ee>0||null==ee&&this.delay>0)return super.recycleAsyncId(te,B,ee);te.actions.some(Re=>Re.id===B)||(_.cancelAnimationFrame(B),te._scheduled=void 0)}});var U=(()=>{return(ae=U||(U={})).top="top",ae.bottom="bottom",ae.left="left",ae.right="right",ae.auto="auto",ae.end="right",ae.start="left",ae["top left"]="top left",ae["top right"]="top right",ae["right top"]="right top",ae["right bottom"]="right bottom",ae["bottom right"]="bottom right",ae["bottom left"]="bottom left",ae["left bottom"]="left bottom",ae["left top"]="left top",ae["top start"]="top left",ae["top end"]="top right",ae["end top"]="right top",ae["end bottom"]="right bottom",ae["bottom end"]="bottom right",ae["bottom start"]="bottom left",ae["start bottom"]="start bottom",ae["start top"]="left top",U;var ae})(),J=(()=>{return(ae=J||(J={})).top="top",ae.bottom="bottom",ae.left="start",ae.right="end",ae.auto="auto",ae.end="end",ae.start="start",ae["top left"]="top start",ae["top right"]="top end",ae["right top"]="end top",ae["right bottom"]="end bottom",ae["bottom right"]="bottom end",ae["bottom left"]="bottom start",ae["left bottom"]="start bottom",ae["left top"]="start top",ae["top start"]="top start",ae["top end"]="top end",ae["end top"]="end top",ae["end bottom"]="end bottom",ae["bottom end"]="bottom end",ae["bottom start"]="bottom start",ae["start bottom"]="start bottom",ae["start top"]="start top",J;var ae})();function O(ae,te){if(1!==ae.nodeType)return[];const ee=ae.ownerDocument.defaultView?.getComputedStyle(ae,null);return te?ee&&ee[te]:ee}function L(ae){if(!ae)return document.documentElement;let ee,B=ae?.offsetParent;for(;null===B&&ae.nextElementSibling&&ee!==ae.nextElementSibling;)ee=ae.nextElementSibling,B=ee.offsetParent;const Re=B&&B.nodeName;return Re&&"BODY"!==Re&&"HTML"!==Re?B&&-1!==["TH","TD","TABLE"].indexOf(B.nodeName)&&"static"===O(B,"position")?L(B):B:ee?ee.ownerDocument.documentElement:document.documentElement}function V(ae){return null!==ae.parentNode?V(ae.parentNode):ae}function q(ae,te){if(!(ae&&ae.nodeType&&te&&te.nodeType))return document.documentElement;const B=ae.compareDocumentPosition(te)&Node.DOCUMENT_POSITION_FOLLOWING,ee=B?ae:te,Re=B?te:ae,tt=document.createRange();tt.setStart(ee,0),tt.setEnd(Re,0);const ot=tt.commonAncestorContainer;if(ae!==ot&&te!==ot||ee.contains(Re))return function F(ae){const{nodeName:te}=ae;return"BODY"!==te&&("HTML"===te||L(ae.firstElementChild)===ae)}(ot)?ot:L(ot);const Et=V(ae);return Et.host?q(Et.host,te):q(ae,V(te).host)}function ie(ae){if(!ae||!ae.parentElement)return document.documentElement;let te=ae.parentElement;for(;null!==(B=te)&&void 0!==B&&B.parentElement&&"none"===O(te,"transform");){var B;te=te.parentElement}return te||document.documentElement}function H(ae,te){const B="x"===te?"Left":"Top",ee="Left"===B?"Right":"Bottom";return parseFloat(ae[`border${B}Width`])+parseFloat(ae[`border${ee}Width`])}function $(ae,te,B,ee){return Math.max(te[`offset${ae}`],te[`scroll${ae}`],B[`client${ae}`],B[`offset${ae}`],B[`scroll${ae}`],0)}function z(ae){const te=ae.body,B=ae.documentElement;return{height:$("Height",te,B),width:$("Width",te,B)}}function E(ae){return{...ae,right:(ae.left||0)+ae.width,bottom:(ae.top||0)+ae.height}}function Q(ae){return"number"==typeof ae||"[object Number]"===Object.prototype.toString.call(ae)}function ce(ae){const te=ae.getBoundingClientRect();if(!(te&&Q(te.top)&&Q(te.left)&&Q(te.bottom)&&Q(te.right)))return te;const B={left:te.left,top:te.top,width:te.right-te.left,height:te.bottom-te.top},ee="HTML"===ae.nodeName?z(ae.ownerDocument):void 0,Re=ee?.width||ae.clientWidth||Q(te.right)&&Q(B.left)&&te.right-B.left||0,tt=ee?.height||ae.clientHeight||Q(te.bottom)&&Q(B.top)&&te.bottom-B.top||0;let ot=ae.offsetWidth-Re,Et=ae.offsetHeight-tt;if(ot||Et){const Kt=O(ae);ot-=H(Kt,"x"),Et-=H(Kt,"y"),B.width-=ot,B.height-=Et}return E(B)}function _e(ae){return"HTML"===ae.nodeName?ae:ae.parentNode||ae.host}function Te(ae){if(!ae)return document.body;switch(ae.nodeName){case"HTML":case"BODY":return ae.ownerDocument.body;case"#document":return ae.body}const{overflow:te,overflowX:B,overflowY:ee}=O(ae);return/(auto|scroll|overlay)/.test(String(te)+String(ee)+String(B))?ae:Te(_e(ae))}function ve(ae,te,B=!1){var ee,Re,tt,ot;const Et="HTML"===te.nodeName,Kt=ce(ae),wn=ce(te),fn=(Te(ae),O(te)),cn=parseFloat(fn.borderTopWidth),lt=parseFloat(fn.borderLeftWidth);var tn,St;B&&Et&&(wn.top=Math.max(null!==(tn=wn.top)&&void 0!==tn?tn:0,0),wn.left=Math.max(null!==(St=wn.left)&&void 0!==St?St:0,0));const qt=E({top:(null!==(ee=Kt.top)&&void 0!==ee?ee:0)-(null!==(Re=wn.top)&&void 0!==Re?Re:0)-cn,left:(null!==(tt=Kt.left)&&void 0!==tt?tt:0)-(null!==(ot=wn.left)&&void 0!==ot?ot:0)-lt,width:Kt.width,height:Kt.height});if(qt.marginTop=0,qt.marginLeft=0,Et){const gn=parseFloat(fn.marginTop),Vn=parseFloat(fn.marginLeft);Q(qt.top)&&(qt.top-=cn-gn),Q(qt.bottom)&&(qt.bottom-=cn-gn),Q(qt.left)&&(qt.left-=lt-Vn),Q(qt.right)&&(qt.right-=lt-Vn),qt.marginTop=gn,qt.marginLeft=Vn}return qt}function Ke(ae,te="top"){const B="top"===te?"scrollTop":"scrollLeft",ee=ae.nodeName;if("BODY"===ee||"HTML"===ee){const Re=ae.ownerDocument.documentElement;return(ae.ownerDocument.scrollingElement||Re)[B]}return ae[B]}function Ge(ae){const te=ae.nodeName;return"BODY"!==te&&"HTML"!==te&&("fixed"===O(ae,"position")||Ge(_e(ae)))}function we(ae,te,B=0,ee,Re=!1){let tt={top:0,left:0};const ot=Re?ie(ae):q(ae,te);if("viewport"===ee)tt=function xe(ae,te=!1){const B=ae.ownerDocument.documentElement,ee=ve(ae,B),Re=Math.max(B.clientWidth,window.innerWidth||0),tt=Math.max(B.clientHeight,window.innerHeight||0),ot=te?0:Ke(B),Et=te?0:Ke(B,"left");return E({top:ot-Number(ee?.top)+Number(ee?.marginTop),left:Et-Number(ee?.left)+Number(ee?.marginLeft),width:Re,height:tt})}(ot,Re);else{let Et;"scrollParent"===ee?(Et=Te(_e(te)),"BODY"===Et.nodeName&&(Et=ae.ownerDocument.documentElement)):Et="window"===ee?ae.ownerDocument.documentElement:ee;const Kt=ve(Et,ot,Re);if(Kt&&"HTML"===Et.nodeName&&!Ge(ot)){const{height:wn,width:rn}=z(ae.ownerDocument);Q(tt.top)&&Q(Kt.top)&&Q(Kt.marginTop)&&(tt.top+=Kt.top-Kt.marginTop),Q(tt.top)&&(tt.bottom=Number(wn)+Number(Kt.top)),Q(tt.left)&&Q(Kt.left)&&Q(Kt.marginLeft)&&(tt.left+=Kt.left-Kt.marginLeft),Q(tt.top)&&(tt.right=Number(rn)+Number(Kt.left))}else Kt&&(tt=Kt)}return Q(tt.left)&&(tt.left+=B),Q(tt.top)&&(tt.top+=B),Q(tt.right)&&(tt.right-=B),Q(tt.bottom)&&(tt.bottom-=B),tt}function Ye({width:ae,height:te}){return ae*te}function rt(ae,te,B,ee,Re=["top","bottom","right","left"],tt="viewport",ot=0){var Et,Kt,wn,rn,fn,cn,lt,tn,St,qt,gn,Vn;if(-1===ae.indexOf("auto"))return ae;const Mn=we(B,ee,ot,tt),qn={top:{width:null!==(Et=Mn?.width)&&void 0!==Et?Et:0,height:(null!==(Kt=te?.top)&&void 0!==Kt?Kt:0)-(null!==(wn=Mn?.top)&&void 0!==wn?wn:0)},right:{width:(null!==(rn=Mn?.right)&&void 0!==rn?rn:0)-(null!==(fn=te?.right)&&void 0!==fn?fn:0),height:null!==(cn=Mn?.height)&&void 0!==cn?cn:0},bottom:{width:null!==(lt=Mn?.width)&&void 0!==lt?lt:0,height:(null!==(tn=Mn?.bottom)&&void 0!==tn?tn:0)-(null!==(St=te?.bottom)&&void 0!==St?St:0)},left:{width:(null!==(qt=te.left)&&void 0!==qt?qt:0)-(null!==(gn=Mn?.left)&&void 0!==gn?gn:0),height:null!==(Vn=Mn?.height)&&void 0!==Vn?Vn:0}},ui=Object.keys(qn).map(In=>({position:In,...qn[In],area:Ye(qn[In])})).sort((In,Pn)=>Pn.area-In.area);let ci=ui.filter(({width:In,height:Pn})=>In>=B.clientWidth&&Pn>=B.clientHeight);ci=ci.filter(({position:In})=>Re.some(Pn=>Pn===In));const jt=ci.length>0?ci[0].position:ui[0].position,$n=ae.split(" ")[1];return B.className=B.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,t.Wl)().isBs5?J[jt]:jt}`),jt+($n?`-${$n}`:"")}const ct=(ae,te=0)=>ae?parseFloat(ae):te;function Gt(ae){const B=ae.ownerDocument.defaultView?.getComputedStyle(ae),ee=ct(B?.marginTop)+ct(B?.marginBottom),Re=ct(B?.marginLeft)+ct(B?.marginRight);return{width:Number(ae.offsetWidth)+Re,height:Number(ae.offsetHeight)+ee}}function ln(ae,te,B){return ve(te,B?ie(ae):q(ae,te),B)}function Mt(ae,te,B){var ee,Re,tt;const ot=B.split(" ")[0],Et=Gt(ae),Kt={width:Et.width,height:Et.height},wn=-1!==["right","left"].indexOf(ot),rn=wn?"top":"left",fn=wn?"left":"top",cn=wn?"height":"width",lt=wn?"width":"height";return Kt[rn]=(null!==(ee=te[rn])&&void 0!==ee?ee:0)+te[cn]/2-Et[cn]/2,Kt[fn]=ot===fn?(null!==(Re=te[fn])&&void 0!==Re?Re:0)-Et[lt]:null!==(tt=te[function at(ae){const te={left:"right",right:"left",bottom:"top",top:"bottom"};return ae.replace(/left|right|bottom|top/g,B=>te[B])}(fn)])&&void 0!==tt?tt:0,Kt}function It(ae,te){var B;return!(null===(B=ae.modifiers[te])||void 0===B||!B.enabled)}const Y={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function G(ae,te){return!!(0,t.Wl)().isBs5&&Y[te].includes(ae)}function Be(ae,te,B){!ae||!te||Object.keys(te).forEach(ee=>{let Re="";-1!==["width","height","top","right","bottom","left"].indexOf(ee)&&function X(ae){return""!==ae&&!isNaN(parseFloat(ae))&&isFinite(Number(ae))}(te[ee])&&(Re="px"),B?B.setStyle(ae,ee,`${String(te[ee])}${Re}`):ae.style[ee]=String(te[ee])+Re})}function o(ae){var te,B,ee,Re;let tt=ae.offsets.target;const ot=ae.instance.target.querySelector(".arrow");if(!ot)return ae;const Et=-1!==["left","right"].indexOf(ae.placement.split(" ")[0]),Kt=Et?"height":"width",wn=Et?"Top":"Left",rn=wn.toLowerCase(),fn=Et?"left":"top",cn=Et?"bottom":"right",lt=Gt(ot)[Kt],tn=ae.placement.split(" ")[1];var St,qt;(null!==(te=ae.offsets.host[cn])&&void 0!==te?te:0)-lt<(null!==(B=tt[rn])&&void 0!==B?B:0)&&(tt[rn]-=(null!==(St=tt[rn])&&void 0!==St?St:0)-((null!==(qt=ae.offsets.host[cn])&&void 0!==qt?qt:0)-lt)),Number(ae.offsets.host[rn])+Number(lt)>(null!==(ee=tt[cn])&&void 0!==ee?ee:0)&&(tt[rn]+=Number(ae.offsets.host[rn])+Number(lt)-Number(tt[cn])),tt=E(tt);const gn=O(ae.instance.target),Vn=parseFloat(gn[`margin${wn}`])||0,Mn=parseFloat(gn[`border${wn}Width`])||0;let qn;if(tn){const ci=parseFloat(gn.borderRadius)||0,jt=Number(Vn+Mn+ci);qn=rn===tn?Number(ae.offsets.host[rn])+jt:Number(ae.offsets.host[rn])+Number(ae.offsets.host[Kt]-jt)}else qn=Number(ae.offsets.host[rn])+Number(ae.offsets.host[Kt]/2-lt/2);let ui=qn-(null!==(Re=tt[rn])&&void 0!==Re?Re:0)-Vn-Mn;return ui=Math.max(Math.min(tt[Kt]-(lt+5),ui),0),ae.offsets.arrow={[rn]:Math.round(ui),[fn]:""},ae.instance.arrow=ot,ae}function De(ae){if(ae.offsets.target=E(ae.offsets.target),!It(ae.options,"flip"))return ae.offsets.target={...ae.offsets.target,...Mt(ae.instance.target,ae.offsets.host,ae.placement)},ae;const te=we(ae.instance.target,ae.instance.host,0,"viewport",!1);let B=ae.placement.split(" ")[0],ee=ae.placement.split(" ")[1]||"";const Et=rt("auto",ae.offsets.host,ae.instance.target,ae.instance.host,ae.options.allowedPositions),Kt=[B,Et];return Kt.forEach((wn,rn)=>{var fn,cn,lt,tn,St,qt,gn,Vn,Mn,qn,ui,ci,jt,$n,In,Pn;if(B!==wn||Kt.length===rn+1)return;B=ae.placement.split(" ")[0];const zn="left"===B&&Math.floor(null!==(fn=ae.offsets.target.right)&&void 0!==fn?fn:0)>Math.floor(null!==(cn=ae.offsets.host.left)&&void 0!==cn?cn:0)||"right"===B&&Math.floor(null!==(lt=ae.offsets.target.left)&&void 0!==lt?lt:0)<Math.floor(null!==(tn=ae.offsets.host.right)&&void 0!==tn?tn:0)||"top"===B&&Math.floor(null!==(St=ae.offsets.target.bottom)&&void 0!==St?St:0)>Math.floor(null!==(qt=ae.offsets.host.top)&&void 0!==qt?qt:0)||"bottom"===B&&Math.floor(null!==(gn=ae.offsets.target.top)&&void 0!==gn?gn:0)<Math.floor(null!==(Vn=ae.offsets.host.bottom)&&void 0!==Vn?Vn:0),ii=Math.floor(null!==(Mn=ae.offsets.target.left)&&void 0!==Mn?Mn:0)<Math.floor(null!==(qn=te.left)&&void 0!==qn?qn:0),ft=Math.floor(null!==(ui=ae.offsets.target.right)&&void 0!==ui?ui:0)>Math.floor(null!==(ci=te.right)&&void 0!==ci?ci:0),yt=Math.floor(null!==(jt=ae.offsets.target.top)&&void 0!==jt?jt:0)<Math.floor(null!==($n=te.top)&&void 0!==$n?$n:0),ht=Math.floor(null!==(In=ae.offsets.target.bottom)&&void 0!==In?In:0)>Math.floor(null!==(Pn=te.bottom)&&void 0!==Pn?Pn:0),xt="left"===B&&ii||"right"===B&&ft||"top"===B&&yt||"bottom"===B&&ht,zt=-1!==["top","bottom"].indexOf(B),vn=zt&&"left"===ee&&ii||zt&&"right"===ee&&ft||!zt&&"left"===ee&&yt||!zt&&"right"===ee&&ht;(zn||xt||vn)&&((zn||xt)&&(B=Kt[rn+1]),vn&&(ee=function dt(ae){return"right"===ae?"left":"left"===ae?"right":ae}(ee)),ae.placement=B+(ee?` ${ee}`:""),ae.offsets.target={...ae.offsets.target,...Mt(ae.instance.target,ae.offsets.host,ae.placement)})}),ae}function je(ae){var te;if(!It(ae.options,"preventOverflow"))return ae;const B="transform",ee=ae.instance.target.style,{top:Re,left:tt,[B]:ot}=ee;ee.top="",ee.left="",ee[B]="";const Et=we(ae.instance.target,ae.instance.host,0,(null===(te=ae.options.modifiers.preventOverflow)||void 0===te?void 0:te.boundariesElement)||"scrollParent",!1);ee.top=Re,ee.left=tt,ee[B]=ot;const wn={primary(rn){var fn,cn;let lt=ae.offsets.target[rn];var tn,St;return(null!==(fn=ae.offsets.target[rn])&&void 0!==fn?fn:0)<(null!==(cn=Et[rn])&&void 0!==cn?cn:0)&&(lt=Math.max(null!==(tn=ae.offsets.target[rn])&&void 0!==tn?tn:0,null!==(St=Et[rn])&&void 0!==St?St:0)),{[rn]:lt}},secondary(rn){var fn,cn;const lt="right"===rn,tn=lt?"left":"top";let qt=ae.offsets.target[tn];var gn,Vn;return(null!==(fn=ae.offsets.target[rn])&&void 0!==fn?fn:0)>(null!==(cn=Et[rn])&&void 0!==cn?cn:0)&&(qt=Math.min(null!==(gn=ae.offsets.target[tn])&&void 0!==gn?gn:0,(null!==(Vn=Et[rn])&&void 0!==Vn?Vn:0)-ae.offsets.target[lt?"width":"height"])),{[tn]:qt}}};return["left","right","top","bottom"].forEach(rn=>{const fn=-1!==["left","top","start"].indexOf(rn)?wn.primary:wn.secondary;ae.offsets.target={...ae.offsets.target,...fn(rn)}}),ae}function et(ae){const te=ae.placement,B=te.split(" ")[0],ee=te.split(" ")[1];if(ee){var Re;const{host:tt,target:ot}=ae.offsets,Et=-1!==["bottom","top"].indexOf(B),Kt=Et?"left":"top",wn=Et?"width":"height",rn={start:{[Kt]:tt[Kt]},end:{[Kt]:(null!==(Re=tt[Kt])&&void 0!==Re?Re:0)+tt[wn]-ot[wn]}};ae.offsets.target={...ot,[Kt]:Kt===ee?rn.start[Kt]:rn.end[Kt]}}return ae}const We=new class Qe{position(te,B){return this.offset(te,B)}offset(te,B){return ln(B,te)}positionElements(te,B,ee,Re,tt){const ot=[De,et,je,o],Kt=function be(ae,te,B,ee){if(!ae||!te)return;const Re=ln(ae,te);!B.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!B.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(B="auto");const tt=!!B.match(/auto/g);let ot=B.match(/auto\s(left|right|top|bottom|start|end)/)?B.split(" ")[1]||"auto":B;const Et=ot.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Et&&(ot=Et[1]+(Et[2]?` ${Et[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(ot)&&(ot="auto"),ot=rt(ot,Re,ae,te,ee?ee.allowedPositions:void 0),{options:ee||{modifiers:{}},instance:{target:ae,host:te,arrow:void 0},offsets:{target:Mt(ae,Re,ot),host:Re,arrow:void 0},positionFixed:!1,placement:ot,placementAuto:tt}}(B,te,U[ee],tt);if(Kt)return ot.reduce((wn,rn)=>rn(wn),Kt)}};function bt(ae,te,B,ee,Re,tt){const ot=We.positionElements(ae,te,B,ee,Re);if(!ot)return;const Et=function Ct(ae){var te,B,ee,Re;return{width:ae.offsets.target.width,height:ae.offsets.target.height,left:Math.floor(null!==(te=ae.offsets.target.left)&&void 0!==te?te:0),top:Math.round(null!==(B=ae.offsets.target.top)&&void 0!==B?B:0),bottom:Math.round(null!==(ee=ae.offsets.target.bottom)&&void 0!==ee?ee:0),right:Math.floor(null!==(Re=ae.offsets.target.right)&&void 0!==Re?Re:0)}}(ot);Be(te,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Et.left}px, ${Et.top}px, 0px)`},tt),ot.instance.arrow&&Be(ot.instance.arrow,ot.offsets.arrow,tt),function Ve(ae,te){const B=ae.instance.target;let ee=B.className;const Re=(0,t.Wl)().isBs5?J[ae.placement]:ae.placement;ae.placementAuto&&(ee=ee.replace(/bs-popover-auto/g,`bs-popover-${Re}`),ee=ee.replace(/ms-2|me-2|mb-2|mt-2/g,""),ee=ee.replace(/bs-tooltip-auto/g,`bs-tooltip-${Re}`),ee=ee.replace(/\sauto/g,` ${Re}`),-1!==ee.indexOf("popover")&&(ee=ee+" "+function oe(ae){return(0,t.Wl)().isBs5?G(ae,"end")?"ms-2":G(ae,"start")?"me-2":G(ae,"top")?"mb-2":G(ae,"bottom")?"mt-2":"":""}(Re)),-1!==ee.indexOf("popover")&&-1===ee.indexOf("popover-auto")&&(ee+=" popover-auto"),-1!==ee.indexOf("tooltip")&&-1===ee.indexOf("tooltip-auto")&&(ee+=" tooltip-auto")),ee=ee.replace(/left|right|top|bottom|end|start/g,`${Re.split(" ")[0]}`),te?te.setAttribute(B,"class",ee):B.className=ee}(ot,tt)}let pt=(()=>{class ae{constructor(B,ee,Re){this.update$$=new w.x,this.positionElements=new Map,this.isDisabled=!1,(0,m.NF)(Re)&&B.runOutsideAngular(()=>{this.triggerEvent$=(0,b.T)((0,C.R)(window,"scroll",{passive:!0}),(0,C.R)(window,"resize",{passive:!0}),(0,g.of)(0,k),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(tt=>{bt(He(tt.target),He(tt.element),tt.attachment,tt.appendToBody,this.options,ee.createRenderer(null,null))})})})}position(B){this.addPositionElement(B)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(B){this.positionElements.set(He(B.element),B)}calcPosition(){this.update$$.next(null)}deletePositionElement(B){this.positionElements.delete(He(B))}setOptions(B){this.options=B}}return ae.\u0275fac=function(B){return new(B||ae)(e.LFG(e.R0b),e.LFG(e.FYo),e.LFG(e.Lbi))},ae.\u0275prov=e.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})();function He(ae){return"string"==typeof ae?document.querySelector(ae):ae instanceof e.SBq?ae.nativeElement:ae??null}},9241:(st,ye,f)=>{"use strict";f.d(ye,{AH:()=>A,P4:()=>N,wW:()=>_});var t=f(4650),e=f(6895);function m(a,k){if(1&a){const P=t.EpF();t.TgZ(0,"span",7),t.NdJ("click",function(J){t.CHM(P);const O=t.oxw().$implicit,L=t.oxw();return J.preventDefault(),t.KtG(L.removeTab(O))}),t._uU(1," \u274c"),t.qZA()}}const w=function(a){return["nav-item",a]};function b(a,k){if(1&a){const P=t.EpF();t.TgZ(0,"li",3),t.NdJ("keydown",function(J){const L=t.CHM(P).index,F=t.oxw();return t.KtG(F.keyNavActions(J,L))}),t.TgZ(1,"a",4),t.NdJ("click",function(){const O=t.CHM(P).$implicit;return t.KtG(O.active=!0)}),t.TgZ(2,"span",5),t._uU(3),t.qZA(),t.YNc(4,m,2,0,"span",6),t.qZA()()}if(2&a){const P=k.$implicit;t.ekj("active",P.active)("disabled",P.disabled),t.Q6J("ngClass",t.VKq(15,w,P.customClass||"")),t.xp6(1),t.ekj("active",P.active)("disabled",P.disabled),t.uIk("aria-controls",P.id?P.id:"")("aria-selected",!!P.active)("id",P.id?P.id+"-link":""),t.xp6(1),t.Q6J("ngTransclude",P.headingRef),t.xp6(1),t.Oqu(P.heading),t.xp6(1),t.Q6J("ngIf",P.removable)}}const C=["*"];let g=(()=>{class a{constructor(P){this.viewRef=P}set ngTransclude(P){this._ngTransclude=P,P&&this.viewRef.createEmbeddedView(P)}get ngTransclude(){return this._ngTransclude}}return a.\u0275fac=function(P){return new(P||a)(t.Y36(t.s_b))},a.\u0275dir=t.lG2({type:a,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),a})(),p=(()=>{class a{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return a.\u0275fac=function(P){return new(P||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),A=(()=>{class a{constructor(P,U,J){this.renderer=U,this.elementRef=J,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,P)}get vertical(){return this._vertical}set vertical(P){this._vertical=P,this.setClassMap()}get justified(){return this._justified}set justified(P){this._justified=P,this.setClassMap()}get type(){return this._type}set type(P){this._type=P,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(P){this._isKeysAllowed=P}ngOnDestroy(){this.isDestroyed=!0}addTab(P){this.tabs.push(P),P.active=1===this.tabs.length&&!P.active}removeTab(P,U={reselect:!0,emit:!0}){const J=this.tabs.indexOf(P);if(-1!==J&&!this.isDestroyed){if(U.reselect&&P.active&&this.hasAvailableTabs(J)){const O=this.getClosestTabIndex(J);this.tabs[O].active=!0}U.emit&&P.removed.emit(P),this.tabs.splice(J,1),P.elementRef.nativeElement.parentNode&&this.renderer.removeChild(P.elementRef.nativeElement.parentNode,P.elementRef.nativeElement)}}keyNavActions(P,U){if(!this.isKeysAllowed)return;const J=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===P.keyCode||"Enter"===P.key||32===P.keyCode||"Space"===P.key)return P.preventDefault(),void J[U%J.length].click();if(39!==P.keyCode&&"RightArrow"!==P.key)if(37!==P.keyCode&&"LeftArrow"!==P.key)if(36!==P.keyCode&&"Home"!==P.key)if(35!==P.keyCode&&"End"!==P.key){if((46===P.keyCode||"Delete"===P.key)&&this.tabs[U].removable){if(this.removeTab(this.tabs[U]),J[U+1])return void J[(U+1)%J.length].focus();J[J.length-1]&&J[0].focus()}}else{P.preventDefault();let O,L=1,F=U;do{F-L<0?(F=J.length-1,O=J[F],L=0):O=J[F-L],L++}while(O.classList.contains("disabled"));O.focus()}else{P.preventDefault();let O,L=0;do{O=J[L%J.length],L++}while(O.classList.contains("disabled"));O.focus()}else{let O,L=1,F=U;do{F-L<0?(F=J.length-1,O=J[F],L=0):O=J[F-L],L++}while(O.classList.contains("disabled"));O.focus()}else{let O,L=1;do{O=J[(U+L)%J.length],L++}while(O.classList.contains("disabled"));O.focus()}}getClosestTabIndex(P){const U=this.tabs.length;if(!U)return-1;for(let J=1;J<=U;J+=1){const O=P-J,L=P+J;if(this.tabs[O]&&!this.tabs[O].disabled)return O;if(this.tabs[L]&&!this.tabs[L].disabled)return L}return-1}hasAvailableTabs(P){const U=this.tabs.length;if(!U)return!1;for(let J=0;J<U;J+=1)if(!this.tabs[J].disabled&&J!==P)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return a.\u0275fac=function(P){return new(P||a)(t.Y36(p),t.Y36(t.Qsj),t.Y36(t.SBq))},a.\u0275cmp=t.Xpm({type:a,selectors:[["tabset"]],hostVars:2,hostBindings:function(P,U){2&P&&t.ekj("tab-container",U.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:C,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(P,U){1&P&&(t.F$t(),t.TgZ(0,"ul",0),t.NdJ("click",function(O){return O.preventDefault()}),t.YNc(1,b,5,17,"li",1),t.qZA(),t.TgZ(2,"div",2),t.Hsn(3),t.qZA()),2&P&&(t.Q6J("ngClass",U.classMap),t.uIk("aria-label",U.ariaLabel),t.xp6(1),t.Q6J("ngForOf",U.tabs))},dependencies:[e.mk,e.sg,e.O5,g],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),a})(),_=(()=>{class a{constructor(P,U,J){this.elementRef=U,this.renderer=J,this.disabled=!1,this.removable=!1,this.selectTab=new t.vpe,this.deselect=new t.vpe,this.removed=new t.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=P,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(P){this.customClass&&this.customClass.split(" ").forEach(U=>{this.renderer.removeClass(this.elementRef.nativeElement,U)}),this._customClass=P?P.trim():"",this.customClass&&this.customClass.split(" ").forEach(U=>{this.renderer.addClass(this.elementRef.nativeElement,U)})}get active(){return this._active}set active(P){if(this._active!==P){if(this.disabled&&P||!P)return void(this._active&&!P&&(this.deselect.emit(this),this._active=P));this._active=P,this.selectTab.emit(this),this.tabset.tabs.forEach(U=>{U!==this&&(U.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return a.\u0275fac=function(P){return new(P||a)(t.Y36(A),t.Y36(t.SBq),t.Y36(t.Qsj))},a.\u0275dir=t.lG2({type:a,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(P,U){2&P&&(t.uIk("id",U.id)("role",U.role)("aria-labelledby",U.ariaLabelledby),t.ekj("active",U.active)("tab-pane",U.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),a})(),N=(()=>{class a{static forRoot(){return{ngModule:a,providers:[]}}}return a.\u0275fac=function(P){return new(P||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[e.ez]}),a})()},2320:(st,ye,f)=>{"use strict";f.d(ye,{i9:()=>N,z8:()=>a});var t=f(4650),e=f(1607),m=f(8664),w=f(655),b=f(2381),C=f(5963),g=f(6895);const p=["*"];let A=(()=>{class k{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275prov=t.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),_=(()=>{class k{constructor(U){Object.assign(this,U)}get _bsVersions(){return(0,e.Wl)()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=m.Bz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return k.\u0275fac=function(U){return new(U||k)(t.Y36(A))},k.\u0275cmp=t.Xpm({type:k,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(U,J){2&U&&(t.uIk("id",J.id),t.Tol("tooltip in tooltip-"+J.placement+" bs-tooltip-"+J.placement+" "+J.placement+" "+J.containerClass),t.ekj("show",!J._bsVersions.isBs3)("bs3",J._bsVersions.isBs3))},ngContentSelectors:p,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(U,J){1&U&&(t.F$t(),t._UZ(0,"div",0),t.TgZ(1,"div",1),t.Hsn(2),t.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),k})(),R=0,N=(()=>{class k{constructor(U,J,O,L,F,V){this._elementRef=L,this._renderer=F,this._positionService=V,this.tooltipId=R++,this.adaptivePosition=!0,this.tooltipChange=new t.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new t.vpe,this._tooltip=J.createLoader(this._elementRef,U,this._renderer).provide({provide:A,useValue:O}),Object.assign(this,O),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(U){U?this.show():this.hide()}set htmlContent(U){(0,e.O4)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=U}set _placement(U){(0,e.O4)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=U}set _isOpen(U){(0,e.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=U}get _isOpen(){return(0,e.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(U){(0,e.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!U}get _enable(){return(0,e.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(U){(0,e.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=U?"body":this.container}get _appendToBody(){return(0,e.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(U){(0,e.O4)("tooltipClass deprecated")}set _tooltipContext(U){(0,e.O4)("tooltipContext deprecated")}set _tooltipPopupDelay(U){(0,e.O4)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=U}get _tooltipTrigger(){return(0,e.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(U){(0,e.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(U||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(U=>{U||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const U=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(_).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},J=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,C.H)(this.delay).subscribe(()=>{U(),J()}),this.triggers&&(0,e.AL)(this.triggers).forEach(O=>{!O.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,O.close,()=>{var L;null===(L=this._delaySubscription)||void 0===L||L.unsubscribe(),J()}))})):U()}hide(){var U;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(null!==(U=this._tooltip.instance)&&void 0!==U&&U.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return k.\u0275fac=function(U){return new(U||k)(t.Y36(t.s_b),t.Y36(b.oj),t.Y36(A),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(m.sA))},k.\u0275dir=t.lG2({type:k,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,w.gn)([(0,e.GU)(),(0,w.w6)("design:type",Object)],k.prototype,"tooltip",void 0),k})(),a=(()=>{class k{static forRoot(){return{ngModule:k,providers:[b.oj,m.sA]}}}return k.\u0275fac=function(U){return new(U||k)},k.\u0275mod=t.oAB({type:k}),k.\u0275inj=t.cJS({imports:[g.ez]}),k})()},1191:(st,ye,f)=>{"use strict";f.d(ye,{Bp:()=>Ve,H3:()=>Be});var t=f(4650),e=f(1607),m=f(8664),w=f(727),b=f(5191),C=f(515),g=f(2076),p=f(7340),A=f(6895),_=f(4006),R=f(2381),N=f(8372),a=f(8505),k=f(3900),P=f(5577),U=f(9300),J=f(7359),O=f(4482);const F=(o,De)=>(o.push(De),o);const q=["ulElement"],ie=["liElements"];function H(o,De){}function $(o,De){if(1&o&&t._UZ(0,"span",4),2&o){const be=De.match,je=De.query,et=t.oxw();t.Q6J("innerHtml",et.highlight(be,je),t.oJD)}}function z(o,De){if(1&o&&(t.TgZ(0,"li",10,11),t._uU(2),t.qZA()),2&o){const be=t.oxw().$implicit;t.xp6(2),t.Oqu(be)}}function E(o,De){}const X=function(o,De,be,je){return{item:o,index:De,match:be,query:je}};function Q(o,De){if(1&o){const be=t.EpF();t.TgZ(0,"li",12,11),t.NdJ("mouseenter",function(){t.CHM(be);const et=t.oxw().$implicit,Qe=t.oxw(2);return t.KtG(Qe.selectActive(et))}),t.TgZ(2,"a",13),t.NdJ("click",function(et){t.CHM(be);const Qe=t.oxw().$implicit,We=t.oxw(2);return t.KtG(We.selectMatch(Qe,et))}),t.YNc(3,E,0,0,"ng-template",0),t.qZA()()}if(2&o){const be=t.oxw(),je=be.$implicit,et=be.index,Qe=t.oxw(2),We=t.MAs(2);t.ekj("active",Qe.isActive(je)),t.Q6J("id",Qe.popupId+"-"+et)("@typeaheadAnimation",Qe.animationState),t.xp6(3),t.Q6J("ngTemplateOutlet",Qe.itemTemplate||We)("ngTemplateOutletContext",t.l5B(6,X,je.item,et,je,Qe.query))}}function ce(o,De){if(1&o&&(t.YNc(0,z,3,1,"li",8),t.YNc(1,Q,4,11,"li",9)),2&o){const be=De.$implicit;t.Q6J("ngIf",be.isHeader()),t.xp6(1),t.Q6J("ngIf",!be.isHeader())}}function _e(o,De){if(1&o&&(t.TgZ(0,"ul",5,6),t.YNc(2,ce,2,2,"ng-template",7),t.qZA()),2&o){const be=t.oxw();t.Udp("overflow-y",be.needScrollbar?"scroll":"auto")("height",be.needScrollbar?be.guiHeight:"auto"),t.xp6(2),t.Q6J("ngForOf",be.matches)}}function Te(o,De){if(1&o&&(t.TgZ(0,"h6",10),t._uU(1),t.qZA()),2&o){const be=t.oxw().$implicit;t.xp6(1),t.Oqu(be)}}function ve(o,De){}function Ke(o,De){if(1&o){const be=t.EpF();t.TgZ(0,"button",15,11),t.NdJ("click",function(et){t.CHM(be);const Qe=t.oxw().$implicit,We=t.oxw(2);return t.KtG(We.selectMatch(Qe,et))})("mouseenter",function(){t.CHM(be);const et=t.oxw().$implicit,Qe=t.oxw(2);return t.KtG(Qe.selectActive(et))}),t.YNc(2,ve,0,0,"ng-template",0),t.qZA()}if(2&o){const be=t.oxw(),je=be.$implicit,et=be.index,Qe=t.oxw(2),We=t.MAs(2);t.ekj("active",Qe.isActive(je)),t.Q6J("id",Qe.popupId+"-"+et)("@typeaheadAnimation",Qe.animationState),t.xp6(2),t.Q6J("ngTemplateOutlet",Qe.itemTemplate||We)("ngTemplateOutletContext",t.l5B(6,X,je.item,et,je,Qe.query))}}function xe(o,De){if(1&o&&(t.YNc(0,Te,2,1,"h6",8),t.YNc(1,Ke,3,11,"ng-template",14)),2&o){const be=De.$implicit;t.Q6J("ngIf",be.isHeader()),t.xp6(1),t.Q6J("ngIf",!be.isHeader())}}function Ge(o,De){if(1&o&&t.YNc(0,xe,2,2,"ng-template",7),2&o){const be=t.oxw();t.Q6J("ngForOf",be.matches)}}const we=function(o,De,be,je){return{matches:o,itemTemplate:De,query:be,$implicit:je}},Ye={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Ct{constructor(De,be=De,je=!1){this.item=De,this.value=be,this.header=je}isHeader(){return this.header}toString(){return this.value}}function at(o){return o?o.replace(/[^A-Za-z0-9[\] ]/g,function(De){return Ye[De]||De}):""}function ct(o,De=" ",be="",je){let et=[];if(je){const We=o.split(new RegExp(`([${je}]+)`,"g")),bt=We[We.length-1];bt>""&&(De&&be?et=Gt(bt,De,be):et.push(bt))}else et=Gt(o,De,be);return et}function Gt(o,De,be){const je=[],Qe=o.split(new RegExp(`(?:[${be}])([^${be}]+)(?:[${be}])|([^${De}]+)`,"g")),We=Qe.length;let bt;const pt=new RegExp(`[${be}]+`,"g");for(let He=0;He<We;He+=1)bt=Qe[He],bt&&bt.length&&bt!==De&&je.push(bt.replace(pt,""));return je}function ln(o,De){if(!De||"object"!=typeof o)return o.toString();if(De.endsWith("()"))return o[De.slice(0,De.length-2)]().toString();const je=De.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const et of je)et in o&&(o=o[et]);return o?o.toString():""}const Mt="220ms cubic-bezier(0, 0, 0.2, 1)",It=(0,p.X$)("typeaheadAnimation",[(0,p.SB)("animated-down",(0,p.oB)({height:"*",overflow:"hidden"})),(0,p.eR)("* => animated-down",[(0,p.oB)({height:0,overflow:"hidden"}),(0,p.jt)(Mt)]),(0,p.SB)("animated-up",(0,p.oB)({height:"*",overflow:"hidden"})),(0,p.eR)("* => animated-up",[(0,p.oB)({height:"*",overflow:"hidden"}),(0,p.jt)(Mt)]),(0,p.eR)("* => unanimated",(0,p.jt)("0s"))]);let Y=0,G=(()=>{class o{constructor(be,je,et,Qe){var We;this.positionService=be,this.renderer=je,this.element=et,this.changeDetectorRef=Qe,this.activeChangeEvent=new t.vpe,this.isFocused=!1,this.positionServiceSubscription=new w.w0,this.height=0,this.popupId="ngb-typeahead-"+Y++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(null===(We=this.positionService.event$)||void 0===We?void 0:We.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get isBs4(){return!(0,e.XA)()}get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}get active(){return this._active}set active(be){this._active=be,this.activeChanged()}get matches(){return this._matches}set matches(be){var je;if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=be,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),null!==(je=this._active)&&void 0!==je&&je.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const et=this._matches.find(Qe=>{var We;return Qe.value===(null===(We=this._active)||void 0===We?void 0:We.value)});if(et)return void this.selectActive(et);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){var be;return!(null===(be=this.parent)||void 0===be||!be.selectItemOnBlur)}selectActiveMatch(be){var je,et;this._active&&null!==(je=this.parent)&&void 0!==je&&je.typeaheadSelectFirstItem&&this.selectMatch(this._active),(null===(et=this.parent)||void 0===et||!et.typeaheadSelectFirstItem)&&be&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const be=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${be}`)}prevActiveMatch(){if(!this._active)return;const be=this.matches.indexOf(this._active);this.setActive(this.matches[be-1<0?this.matches.length-1:be-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(be)}nextActiveMatch(){var be;const je=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[je+1>this.matches.length-1?0:je+1]),null!==(be=this._active)&&void 0!==be&&be.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(je)}selectActive(be){this.isFocused=!0,this.setActive(be)}highlight(be,je){let We,bt,et=be.value,Qe=(this.parent&&this.parent.typeaheadLatinize?at(et):et).toLowerCase();if("object"==typeof je){const pt=je.length;for(let He=0;He<pt;He+=1)We=Qe.indexOf(je[He]),bt=je[He].length,We>=0&&bt>0&&(et=`${et.substring(0,We)}<strong>${et.substring(We,We+bt)}</strong>${et.substring(We+bt)}`,Qe=`${Qe.substring(0,We)}        ${" ".repeat(bt)}         ${Qe.substring(We+bt)}`)}else je&&(We=Qe.indexOf(je),bt=je.length,We>=0&&bt>0&&(et=`${et.substring(0,We)}<strong>${et.substring(We,We+bt)}</strong>${et.substring(We+bt)}`));return et}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(be){return this.active===be}selectMatch(be,je){var et;return je&&(je.stopPropagation(),je.preventDefault()),null===(et=this.parent)||void 0===et||et.changeModel(be),setTimeout(()=>{var Qe;return null===(Qe=this.parent)||void 0===Qe?void 0:Qe.typeaheadOnSelect.emit(be)},0),!1}setScrollableMode(){var be;if(this.ulElement||(this.ulElement=this.element),null!==(be=this.liElements)&&void 0!==be&&be.first){const je=e.cQ.getStyles(this.ulElement.nativeElement),et=e.cQ.getStyles(this.liElements.first.nativeElement),Qe=parseFloat((je["padding-bottom"]?je["padding-bottom"]:"").replace("px","")),We=parseFloat((je["padding-top"]?je["padding-top"]:"0").replace("px","")),bt=parseFloat((et.height?et.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*bt+We+Qe}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(be){if(0!==be){if(this.liElements&&this.ulElement){const je=this.liElements.toArray()[be-1];je&&!this.isScrolledIntoView(je.nativeElement)&&(this.ulElement.nativeElement.scrollTop=je.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(be){if(be+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const je=this.liElements.toArray()[be+1];je&&!this.isScrolledIntoView(je.nativeElement)&&(this.ulElement.nativeElement.scrollTop=je.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(je.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(be){var je;let et;this._active=be,null==this._active||this._active.isHeader()||(et=be),null===(je=this.parent)||void 0===je||je.typeaheadOnPreview.emit(et)}isScrolledIntoView(be){if(!this.ulElement)return!1;const je=this.ulElement.nativeElement.scrollTop,et=je+Number(this.ulElement.nativeElement.offsetHeight),Qe=be.offsetTop;return Qe+be.offsetHeight<=et&&Qe>=je}scrollToBottom(){var be;null===(be=this.ulElement)||void 0===be||!be.nativeElement||(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){var be;null===(be=this.ulElement)||void 0===be||!be.nativeElement||(this.ulElement.nativeElement.scrollTop=0)}}return o.\u0275fac=function(be){return new(be||o)(t.Y36(m.sA),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["typeahead-container"]],viewQuery:function(be,je){if(1&be&&(t.Gf(q,5),t.Gf(ie,5)),2&be){let et;t.iGM(et=t.CRH())&&(je.ulElement=et.first),t.iGM(et=t.CRH())&&(je.liElements=et)}},hostAttrs:[1,"dropdown","open","bottom",2,"position","absolute","display","block"],hostVars:9,hostBindings:function(be,je){1&be&&t.NdJ("mouseleave",function(){return je.focusLost()})("blur",function(){return je.focusLost()}),2&be&&(t.uIk("role",je.isBs4?"listbox":null),t.Udp("height",je.isBs4&&je.needScrollbar?je.guiHeight:"auto")("visibility","inherit"),t.ekj("dropdown-menu",je.isBs4)("dropup",je.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:7,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["bsItemTemplate",""],["bs3Template",""],["bs4Template",""],[3,"innerHtml"],["role","listbox",1,"dropdown-menu"],["ulElement",""],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],["role","option",3,"id","active","mouseenter",4,"ngIf"],[1,"dropdown-header"],["liElements",""],["role","option",3,"id","mouseenter"],["href","#","tabindex","-1",3,"click"],[3,"ngIf"],["role","option",1,"dropdown-item",3,"id","click","mouseenter"]],template:function(be,je){if(1&be&&(t.YNc(0,H,0,0,"ng-template",0),t.YNc(1,$,1,1,"ng-template",null,1,t.W1O),t.YNc(3,_e,3,5,"ng-template",null,2,t.W1O),t.YNc(5,Ge,1,1,"ng-template",null,3,t.W1O)),2&be){const et=t.MAs(2),Qe=t.MAs(4),We=t.MAs(6);t.Q6J("ngTemplateOutlet",je.optionsListTemplate||(je.isBs4?We:Qe))("ngTemplateOutletContext",t.l5B(2,we,je.matches,je.itemTemplate||et,je.query,je.typeaheadTemplateMethods))}},dependencies:[A.sg,A.O5,A.tP],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[It]}}),o})(),oe=(()=>{class o{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}}return o.\u0275fac=function(be){return new(be||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Ve=(()=>{class o{constructor(be,je,et,Qe,We,bt,pt){this.changeDetection=et,this.element=Qe,this.ngControl=We,this.renderer=bt,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new t.vpe,this.typeaheadNoResults=new t.vpe,this.typeaheadOnSelect=new t.vpe,this.typeaheadOnPreview=new t.vpe,this.typeaheadOnBlur=new t.vpe,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new t.vpe,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=be.createLoader(Qe,pt,bt).provide({provide:oe,useValue:je}),Object.assign(this,{typeaheadHideResultsOnBlur:je.hideResultsOnBlur,cancelRequestOnFocusLost:je.cancelRequestOnFocusLost,typeaheadSelectFirstItem:je.selectFirstItem,typeaheadIsFirstItemActive:je.isFirstItemActive,typeaheadMinLength:je.minLength,adaptivePosition:je.adaptivePosition,isAnimated:je.isAnimated,selectItemOnBlur:je.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,b.b)(this.typeahead)&&(this.typeaheadAsync=!1),(0,b.b)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(be){const je=void 0!==be.target.value?be.target.value:void 0!==be.target.textContent?be.target.textContent:be.target.innerText;null!=je&&je.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(be.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(be){if(this._container){if(27===be.keyCode||"Escape"===be.key)return void this.hide();if(38===be.keyCode||"ArrowUp"===be.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===be.keyCode||"ArrowDown"===be.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===be.keyCode||"Enter"===be.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){var be;this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===(null===(be=this._matches)||void 0===be?void 0:be.length)&&this.typeaheadOnBlur.emit(new Ct(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(be){if(this._container&&((9===be.keyCode||"Tab"===be.key)&&this.onBlur(),9===be.keyCode||"Tab"===be.key||13===be.keyCode||"Enter"===be.key)){if(be.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(be){var je;if(!be)return;let et;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const Qe=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=Qe.slice(0,Qe.length-1).concat(be.value).join(""),et=this._allEnteredValue}else et=be.value;this.ngControl.viewToModelUpdate(et),null===(je=this.ngControl.control)||void 0===je||je.setValue(et),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(G).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",je=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(je.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(je.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const be=(this.typeaheadLatinize?at(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(be),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(je=>{this.activeDescendant=je,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const be of this._subscriptions)be.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,N.b)(this.typeaheadWaitMs),(0,a.b)(be=>this._allEnteredValue=be),(0,k.w)(()=>this.typeahead?this.typeahead:C.E)).subscribe(be=>{this.finalizeAsyncCall(be)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,N.b)(this.typeaheadWaitMs),(0,P.z)(be=>{this._allEnteredValue=be;const je=this.normalizeQuery(be);return this.typeahead?((0,b.b)(this.typeahead)?this.typeahead:(0,g.D)(this.typeahead)).pipe((0,U.h)(Qe=>!!Qe&&this.testMatch(this.normalizeOption(Qe),je)),function V(){return(0,O.e)((o,De)=>{(function L(o,De){return(0,O.e)((0,J.U)(o,De,arguments.length>=2,!1,!0))})(F,[])(o).subscribe(De)})}()):C.E})).subscribe(be=>{this.finalizeAsyncCall(be)}))}normalizeOption(be){const je=ln(be,this.typeaheadOptionField);return(this.typeaheadLatinize?at(je):je).toLowerCase()}tokenizeQuery(be){let je=be;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(je=ct(je,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):je=this.typeaheadSingleWords?ct(je,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):ct(je,void 0,void 0,this.typeaheadMultipleSearchDelimiters),je}normalizeQuery(be){let je=(this.typeaheadLatinize?at(be):be).toString().toLowerCase();return je=this.tokenizeQuery(je),je}testMatch(be,je){let et;if("object"==typeof je){et=je.length;for(let Qe=0;Qe<et;Qe+=1)if(je[Qe].length>0&&be.indexOf(je[Qe])<0)return!1;return!0}return be.indexOf(je)>=0}finalizeAsyncCall(be){if(this.prepareMatches(be||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const et=((this.typeaheadLatinize?at(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(et),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(be){const je=be.slice(0,this.typeaheadOptionsLimit),et=this.typeaheadOrderBy?this.orderMatches(je):je;if(this.typeaheadGroupField){let Qe=[];et.map(bt=>ln(bt,this.typeaheadGroupField)).filter((bt,pt,He)=>He.indexOf(bt)===pt).forEach(bt=>{Qe.push(new Ct(bt,bt,!0)),Qe=Qe.concat(et.filter(pt=>ln(pt,this.typeaheadGroupField)===bt).map(pt=>new Ct(pt,ln(pt,this.typeaheadOptionField))))}),this._matches=Qe}else this._matches=et.map(Qe=>new Ct(Qe,ln(Qe,this.typeaheadOptionField)))}orderMatches(be){if(!be.length)return be;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),be;const{field:je,direction:et}=this.typeaheadOrderBy||{};return!et||"asc"!==et&&"desc"!==et?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),be):"string"==typeof be[0]?"asc"===et?be.sort():be.sort().reverse():je&&"string"==typeof je?be.sort((Qe,We)=>{const bt=ln(Qe,je),pt=ln(We,je);return bt<pt?"asc"===et?-1:1:bt>pt?"asc"===et?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),be)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(be,je){for(let et=0;et<be.length;et++)if(be.charAt(et).indexOf(je)>-1)return!0;return!1}}return o.\u0275fac=function(be){return new(be||o)(t.Y36(R.oj),t.Y36(oe),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(_.a5),t.Y36(t.Qsj),t.Y36(t.s_b))},o.\u0275dir=t.lG2({type:o,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(be,je){1&be&&t.NdJ("input",function(Qe){return je.onInput(Qe)})("keyup",function(Qe){return je.onChange(Qe)})("click",function(){return je.onFocus()})("focus",function(){return je.onFocus()})("blur",function(){return je.onBlur()})("keydown",function(Qe){return je.onKeydown(Qe)}),2&be&&t.uIk("aria-activedescendant",je.activeDescendant)("aria-owns",je.isOpen?je._container.popupId:null)("aria-expanded",je.isOpen)("aria-autocomplete",je.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]}),o})(),Be=(()=>{class o{static forRoot(){return{ngModule:o,providers:[R.oj,m.sA]}}}return o.\u0275fac=function(be){return new(be||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[A.ez]}),o})()},1607:(st,ye,f)=>{"use strict";f.d(ye,{AL:()=>w,C:()=>p,GU:()=>_e,O4:()=>xe,Rg:()=>g,Wl:()=>X,XA:()=>$,cQ:()=>Te,tj:()=>_,u9:()=>A,wo:()=>C});var t=f(4650);class e{constructor(we,Ye){this.open=we,this.close=Ye||we}isManual(){return"manual"===this.open||"manual"===this.close}}const m={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function w(Ge,we=m){const Ye=(Ge||"").trim();if(0===Ye.length)return[];const rt=Ye.split(/\s+/).map(at=>at.split(":")).map(at=>{const dt=we[at[0]]||at;return new e(dt[0],dt[1])}),Ct=rt.filter(at=>at.isManual());if(Ct.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Ct.length&&rt.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return rt}function C(Ge,we){const Ye=w(we.triggers),rt=we.target;if(1===Ye.length&&Ye[0].isManual())return Function.prototype;const Ct=[],at=[],dt=()=>{at.forEach(ct=>Ct.push(ct())),at.length=0};return Ye.forEach(ct=>{const Gt=ct.open===ct.close,ln=Gt?we.toggle:we.show;if(!Gt&&ct.close&&we.hide){const Mt=Ge.listen(rt,ct.close,we.hide);at.push(()=>Mt)}ln&&Ct.push(Ge.listen(rt,ct.open,()=>ln(dt)))}),()=>{Ct.forEach(ct=>ct())}}function g(Ge,we){return we.outsideClick?Ge.listen("document","click",Ye=>{we.target&&we.target.contains(Ye.target)||we.targets&&we.targets.some(rt=>rt.contains(Ye.target))||we.hide&&we.hide()}):Function.prototype}function p(Ge,we){return we.outsideEsc?Ge.listen("document","keyup.esc",Ye=>{we.target&&we.target.contains(Ye.target)||we.targets&&we.targets.some(rt=>rt.contains(Ye.target))||we.hide&&we.hide()}):Function.prototype}const A=typeof window<"u"&&window||{},_=A.document;var V=(()=>{return(Ge=V||(V={})).isBs3="bs3",Ge.isBs4="bs4",Ge.isBs5="bs5",V;var Ge})();let q;function ie(){if(typeof A.document>"u")return"bs4";const Ge=A.document.createElement("span");Ge.innerText="testing bs version",Ge.classList.add("d-none"),Ge.classList.add("pl-1"),A.document.head.appendChild(Ge);const we=Ge.getBoundingClientRect(),Ye=A.getComputedStyle(Ge).paddingLeft;return!we||we&&0!==we.top?(A.document.head.removeChild(Ge),"bs3"):Ye&&parseFloat(Ye)?(A.document.head.removeChild(Ge),"bs4"):(A.document.head.removeChild(Ge),"bs5")}function $(){return typeof A>"u"||(typeof A.__theme>"u"?(q||(q=ie()),"bs3"===q):"bs3"===A.__theme)}function z(){return!$()&&(q||(q=ie()),"bs4"===q)}function X(){return{isBs3:$(),isBs4:z(),isBs5:!$()&&!z()&&(q||(q=ie()),"bs5"===q)}}function _e(){return function(Ye,rt){const Ct=` __${rt}Value`;Object.defineProperty(Ye,rt,{get(){return this[Ct]},set(at){const dt=this[Ct];this[Ct]=at,dt!==at&&this[rt+"Change"]&&this[rt+"Change"].emit(at)}})}}class Te{static reflow(we){}static getStyles(we){let Ye=we.ownerDocument.defaultView;return(!Ye||!Ye.opener)&&(Ye=A),Ye.getComputedStyle(we)}static stackOverflowConfig(){const we=function Q(){const Ge=X(),we=Object.keys(Ge).find(Ye=>Ge[Ye]);return V[we]}();return{crossorigin:"bs3"!==we?"anonymous":void 0,integrity:"bs5"===we?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===we?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===we?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===we?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}const ve={},Ke=typeof console>"u"||!("warn"in console);function xe(Ge){!(0,t.X6Q)()||Ke||Ge in ve||(ve[Ge]=!0,console.warn(Ge))}},7185:(st,ye,f)=>{"use strict";f.d(ye,{Rh:()=>xe,_W:()=>Te});var t=f(4650),e=f(7340),m=f(7579),w=f(6895),b=f(1481);const C=["toast-component",""];function g(Ct,at){if(1&Ct){const dt=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(dt);const Gt=t.oxw();return t.KtG(Gt.remove())}),t.TgZ(1,"span",6),t._uU(2,"\xd7"),t.qZA()()}}function p(Ct,at){if(1&Ct&&(t.ynx(0),t._uU(1),t.BQk()),2&Ct){const dt=t.oxw(2);t.xp6(1),t.hij("[",dt.duplicatesCount+1,"]")}}function A(Ct,at){if(1&Ct&&(t.TgZ(0,"div"),t._uU(1),t.YNc(2,p,2,1,"ng-container",4),t.qZA()),2&Ct){const dt=t.oxw();t.Tol(dt.options.titleClass),t.uIk("aria-label",dt.title),t.xp6(1),t.hij(" ",dt.title," "),t.xp6(1),t.Q6J("ngIf",dt.duplicatesCount)}}function _(Ct,at){if(1&Ct&&t._UZ(0,"div",7),2&Ct){const dt=t.oxw();t.Tol(dt.options.messageClass),t.Q6J("innerHTML",dt.message,t.oJD)}}function R(Ct,at){if(1&Ct&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&Ct){const dt=t.oxw();t.Tol(dt.options.messageClass),t.uIk("aria-label",dt.message),t.xp6(1),t.hij(" ",dt.message," ")}}function N(Ct,at){if(1&Ct&&(t.TgZ(0,"div"),t._UZ(1,"div",9),t.qZA()),2&Ct){const dt=t.oxw();t.xp6(1),t.Udp("width",dt.width+"%")}}class V{constructor(at,dt){this.component=at,this.injector=dt}attach(at,dt){return this._attachedHost=at,at.attach(this,dt)}detach(){const at=this._attachedHost;if(at)return this._attachedHost=void 0,at.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(at){this._attachedHost=at}}class ie{constructor(at,dt,ct,Gt,ln,Mt){this.toastId=at,this.config=dt,this.message=ct,this.title=Gt,this.toastType=ln,this.toastRef=Mt,this._onTap=new m.x,this._onAction=new m.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(at){this._onAction.next(at)}onAction(){return this._onAction.asObservable()}}const $=new t.OlP("ToastConfig");class z{constructor(at){this._overlayRef=at,this.duplicatesCount=0,this._afterClosed=new m.x,this._activate=new m.x,this._manualClose=new m.x,this._resetTimeout=new m.x,this._countDuplicate=new m.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(at,dt){at&&this._resetTimeout.next(),dt&&this._countDuplicate.next(++this.duplicatesCount)}}class E{constructor(at,dt){this._toastPackage=at,this._parentInjector=dt}get(at,dt,ct){return at===ie?this._toastPackage:this._parentInjector.get(at,dt,ct)}}class X extends class q{attach(at,dt){return this._attachedPortal=at,this.attachComponentPortal(at,dt)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(at){this._disposeFn=at}}{constructor(at,dt,ct){super(),this._hostDomElement=at,this._componentFactoryResolver=dt,this._appRef=ct}attachComponentPortal(at,dt){const ct=this._componentFactoryResolver.resolveComponentFactory(at.component);let Gt;return Gt=ct.create(at.injector),this._appRef.attachView(Gt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Gt.hostView),Gt.destroy()}),dt?this._hostDomElement.insertBefore(this._getComponentRootNode(Gt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Gt)),Gt}_getComponentRootNode(at){return at.hostView.rootNodes[0]}}class Q{constructor(at){this._portalHost=at}attach(at,dt=!0){return this._portalHost.attach(at,dt)}detach(){return this._portalHost.detach()}}let ce=(()=>{class Ct{constructor(dt){this._document=dt}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const dt=this._document.createElement("div");dt.classList.add("overlay-container"),dt.setAttribute("aria-live","polite"),this._document.body.appendChild(dt),this._containerElement=dt}}return Ct.\u0275fac=function(dt){return new(dt||Ct)(t.LFG(w.K0))},Ct.\u0275prov=t.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"}),Ct})(),_e=(()=>{class Ct{constructor(dt,ct,Gt,ln){this._overlayContainer=dt,this._componentFactoryResolver=ct,this._appRef=Gt,this._document=ln,this._paneElements=new Map}create(dt,ct){return this._createOverlayRef(this.getPaneElement(dt,ct))}getPaneElement(dt="",ct){return this._paneElements.get(ct)||this._paneElements.set(ct,{}),this._paneElements.get(ct)[dt]||(this._paneElements.get(ct)[dt]=this._createPaneElement(dt,ct)),this._paneElements.get(ct)[dt]}_createPaneElement(dt,ct){const Gt=this._document.createElement("div");return Gt.id="toast-container",Gt.classList.add(dt),Gt.classList.add("toast-container"),ct?ct.getContainerElement().appendChild(Gt):this._overlayContainer.getContainerElement().appendChild(Gt),Gt}_createPortalHost(dt){return new X(dt,this._componentFactoryResolver,this._appRef)}_createOverlayRef(dt){return new Q(this._createPortalHost(dt))}}return Ct.\u0275fac=function(dt){return new(dt||Ct)(t.LFG(ce),t.LFG(t._Vd),t.LFG(t.z2F),t.LFG(w.K0))},Ct.\u0275prov=t.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"}),Ct})(),Te=(()=>{class Ct{constructor(dt,ct,Gt,ln,Mt){this.overlay=ct,this._injector=Gt,this.sanitizer=ln,this.ngZone=Mt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...dt.default,...dt.config},dt.config.iconClasses&&(this.toastrConfig.iconClasses={...dt.default.iconClasses,...dt.config.iconClasses})}show(dt,ct,Gt={},ln=""){return this._preBuildNotification(ln,dt,ct,this.applyConfig(Gt))}success(dt,ct,Gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",dt,ct,this.applyConfig(Gt))}error(dt,ct,Gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",dt,ct,this.applyConfig(Gt))}info(dt,ct,Gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",dt,ct,this.applyConfig(Gt))}warning(dt,ct,Gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",dt,ct,this.applyConfig(Gt))}clear(dt){for(const ct of this.toasts)if(void 0!==dt){if(ct.toastId===dt)return void ct.toastRef.manualClose()}else ct.toastRef.manualClose()}remove(dt){const ct=this._findToast(dt);if(!ct||(ct.activeToast.toastRef.close(),this.toasts.splice(ct.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Gt=this.toasts[this.currentlyActive].toastRef;Gt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Gt.activate())}return!0}findDuplicate(dt="",ct="",Gt,ln){const{includeTitleDuplicates:Mt}=this.toastrConfig;for(const It of this.toasts){const Y=Mt&&It.title===dt;if((!Mt||Y)&&It.message===ct)return It.toastRef.onDuplicate(Gt,ln),It}return null}applyConfig(dt={}){return{...this.toastrConfig,...dt}}_findToast(dt){for(let ct=0;ct<this.toasts.length;ct++)if(this.toasts[ct].toastId===dt)return{index:ct,activeToast:this.toasts[ct]};return null}_preBuildNotification(dt,ct,Gt,ln){return ln.onActivateTick?this.ngZone.run(()=>this._buildNotification(dt,ct,Gt,ln)):this._buildNotification(dt,ct,Gt,ln)}_buildNotification(dt,ct,Gt,ln){if(!ln.toastComponent)throw new Error("toastComponent required");const Mt=this.findDuplicate(Gt,ct,this.toastrConfig.resetTimeoutOnDuplicate&&ln.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Gt||ct)&&this.toastrConfig.preventDuplicates&&null!==Mt)return Mt;this.previousToastMessage=ct;let It=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(It=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Y=this.overlay.create(ln.positionClass,this.overlayContainer);this.index=this.index+1;let G=ct;ct&&ln.enableHtml&&(G=this.sanitizer.sanitize(t.q3G.HTML,ct));const oe=new z(Y),Ve=new ie(this.index,ln,G,Gt,dt,oe),Be=new E(Ve,this._injector),o=new V(ln.toastComponent,Be),De=Y.attach(o,this.toastrConfig.newestOnTop);oe.componentInstance=De.instance;const be={toastId:this.index,title:Gt||"",message:ct||"",toastRef:oe,onShown:oe.afterActivate(),onHidden:oe.afterClosed(),onTap:Ve.onTap(),onAction:Ve.onAction(),portal:De};return It||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{be.toastRef.activate()})),this.toasts.push(be),be}}return Ct.\u0275fac=function(dt){return new(dt||Ct)(t.LFG($),t.LFG(_e),t.LFG(t.zs3),t.LFG(b.H7),t.LFG(t.R0b))},Ct.\u0275prov=t.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"}),Ct})();const Ke={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Ct{constructor(dt,ct,Gt){this.toastrService=dt,this.toastPackage=ct,this.ngZone=Gt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ct.message,this.title=ct.title,this.options=ct.config,this.originalTimeout=ct.config.timeOut,this.toastClasses=`${ct.toastType} ${ct.config.toastClass}`,this.sub=ct.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ct.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ct.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ct.toastRef.countDuplicate().subscribe(ln=>{this.duplicatesCount=ln})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const dt=(new Date).getTime();this.width=(this.hideTime-dt)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(dt,ct){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(dt),ct)):this.timeout=setTimeout(()=>dt(),ct)}outsideInterval(dt,ct){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(dt),ct)):this.intervalId=setInterval(()=>dt(),ct)}runInsideAngular(dt){this.ngZone?this.ngZone.run(()=>dt()):dt()}}return Ct.\u0275fac=function(dt){return new(dt||Ct)(t.Y36(Te),t.Y36(ie),t.Y36(t.R0b))},Ct.\u0275cmp=t.Xpm({type:Ct,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(dt,ct){1&dt&&t.NdJ("click",function(){return ct.tapToast()})("mouseenter",function(){return ct.stickAround()})("mouseleave",function(){return ct.delayedHideToast()}),2&dt&&(t.d8E("@flyInOut",ct.state),t.Tol(ct.toastClasses),t.Udp("display",ct.displayStyle))},attrs:C,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(dt,ct){1&dt&&(t.YNc(0,g,3,0,"button",0),t.YNc(1,A,3,5,"div",1),t.YNc(2,_,1,3,"div",2),t.YNc(3,R,2,4,"div",3),t.YNc(4,N,2,2,"div",4)),2&dt&&(t.Q6J("ngIf",ct.options.closeButton),t.xp6(1),t.Q6J("ngIf",ct.title),t.xp6(1),t.Q6J("ngIf",ct.message&&ct.options.enableHtml),t.xp6(1),t.Q6J("ngIf",ct.message&&!ct.options.enableHtml),t.xp6(1),t.Q6J("ngIf",ct.options.progressBar))},dependencies:[w.O5],encapsulation:2,data:{animation:[(0,e.X$)("flyInOut",[(0,e.SB)("inactive",(0,e.oB)({opacity:0})),(0,e.SB)("active",(0,e.oB)({opacity:1})),(0,e.SB)("removed",(0,e.oB)({opacity:0})),(0,e.eR)("inactive => active",(0,e.jt)("{{ easeTime }}ms {{ easing }}")),(0,e.eR)("active => removed",(0,e.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Ct})()};let xe=(()=>{class Ct{static forRoot(dt={}){return{ngModule:Ct,providers:[{provide:$,useValue:{default:Ke,config:dt}}]}}}return Ct.\u0275fac=function(dt){return new(dt||Ct)},Ct.\u0275mod=t.oAB({type:Ct}),Ct.\u0275inj=t.cJS({imports:[[w.ez]]}),Ct})()},6349:(st,ye,f)=>{"use strict";f.d(ye,{r3:()=>Ts,e5:()=>oi,sE:()=>Cr,cx:()=>Hn,UI:()=>br,G:()=>Zr,jj:()=>di,Tw:()=>di,zu:()=>fs});var t={};f.r(t),f.d(t,{VERSION:()=>e,after:()=>sr,all:()=>Os,allKeys:()=>Kt,any:()=>Zr,assign:()=>zn,before:()=>Pi,bind:()=>Qi,bindAll:()=>Ws,chain:()=>mr,chunk:()=>Bn,clone:()=>xt,collect:()=>br,compact:()=>Rr,compose:()=>Jr,constant:()=>Ve,contains:()=>Ts,countBy:()=>Tr,create:()=>ht,debounce:()=>bs,default:()=>Pr,defaults:()=>ii,defer:()=>js,delay:()=>_s,detect:()=>Cr,difference:()=>oi,drop:()=>Ar,each:()=>nr,escape:()=>ki,every:()=>Os,extend:()=>Pn,extendOwn:()=>zn,filter:()=>Xr,find:()=>Cr,findIndex:()=>Hn,findKey:()=>Gn,findLastIndex:()=>yr,findWhere:()=>cs,first:()=>Ni,flatten:()=>_n,foldl:()=>wr,foldr:()=>Oi,forEach:()=>nr,functions:()=>$n,get:()=>vi,groupBy:()=>go,has:()=>vr,head:()=>Ni,identity:()=>Rn,include:()=>Ts,includes:()=>Ts,indexBy:()=>Fi,indexOf:()=>zr,initial:()=>uo,inject:()=>wr,intersection:()=>Ie,invert:()=>jt,invoke:()=>Zi,isArguments:()=>Y,isArray:()=>ln,isArrayBuffer:()=>xe,isBoolean:()=>z,isDataView:()=>Gt,isDate:()=>_e,isElement:()=>E,isEmpty:()=>ae,isEqual:()=>Et,isError:()=>ve,isFinite:()=>G,isFunction:()=>Ye,isMap:()=>gn,isMatch:()=>te,isNaN:()=>oe,isNull:()=>H,isNumber:()=>ce,isObject:()=>ie,isRegExp:()=>Te,isSet:()=>Mn,isString:()=>Q,isSymbol:()=>Ke,isTypedArray:()=>Qe,isUndefined:()=>$,isWeakMap:()=>Vn,isWeakSet:()=>qn,iteratee:()=>Di,keys:()=>He,last:()=>jr,lastIndexOf:()=>Wr,map:()=>br,mapObject:()=>pr,matcher:()=>yi,matches:()=>yi,max:()=>Gr,memoize:()=>qs,methods:()=>$n,min:()=>as,mixin:()=>kr,negate:()=>ks,noop:()=>$i,now:()=>Yt,object:()=>Xe,omit:()=>Qr,once:()=>vs,pairs:()=>ci,partial:()=>Fr,partition:()=>Nr,pick:()=>lr,pluck:()=>As,property:()=>rr,propertyOf:()=>Wt,random:()=>kt,range:()=>nn,reduce:()=>wr,reduceRight:()=>Oi,reject:()=>ps,rest:()=>Ar,restArguments:()=>q,result:()=>Ci,sample:()=>Ss,select:()=>Xr,shuffle:()=>Vi,size:()=>si,some:()=>Zr,sortBy:()=>mo,sortedIndex:()=>Mr,tail:()=>Ar,take:()=>Ni,tap:()=>zt,template:()=>Ii,templateSettings:()=>ut,throttle:()=>ns,times:()=>Fn,toArray:()=>Ns,toPath:()=>vn,transpose:()=>ge,unescape:()=>qe,union:()=>qi,uniq:()=>di,unique:()=>di,uniqueId:()=>fr,unzip:()=>ge,values:()=>ui,where:()=>co,without:()=>fs,wrap:()=>Ys,zip:()=>ne});var e="1.13.4",m="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},w=Array.prototype,b=Object.prototype,C=typeof Symbol<"u"?Symbol.prototype:null,g=w.push,p=w.slice,A=b.toString,_=b.hasOwnProperty,R=typeof ArrayBuffer<"u",N=typeof DataView<"u",a=Array.isArray,k=Object.keys,P=Object.create,U=R&&ArrayBuffer.isView,J=isNaN,O=isFinite,L=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],V=Math.pow(2,53)-1;function q(Me,Je){return Je=null==Je?Me.length-1:+Je,function(){for(var At=Math.max(arguments.length-Je,0),Ot=Array(At),Jt=0;Jt<At;Jt++)Ot[Jt]=arguments[Jt+Je];switch(Je){case 0:return Me.call(this,Ot);case 1:return Me.call(this,arguments[0],Ot);case 2:return Me.call(this,arguments[0],arguments[1],Ot)}var Vt=Array(Je+1);for(Jt=0;Jt<Je;Jt++)Vt[Jt]=arguments[Jt];return Vt[Je]=Ot,Me.apply(this,Vt)}}function ie(Me){var Je=typeof Me;return"function"===Je||"object"===Je&&!!Me}function H(Me){return null===Me}function $(Me){return void 0===Me}function z(Me){return!0===Me||!1===Me||"[object Boolean]"===A.call(Me)}function E(Me){return!(!Me||1!==Me.nodeType)}function X(Me){var Je="[object "+Me+"]";return function(At){return A.call(At)===Je}}const Q=X("String"),ce=X("Number"),_e=X("Date"),Te=X("RegExp"),ve=X("Error"),Ke=X("Symbol"),xe=X("ArrayBuffer");var Ge=X("Function");"object"!=typeof Int8Array&&"function"!=typeof(m.document&&m.document.childNodes)&&(Ge=function(Me){return"function"==typeof Me||!1});const Ye=Ge,rt=X("Object");var Ct=N&&rt(new DataView(new ArrayBuffer(8))),at=typeof Map<"u"&&rt(new Map),dt=X("DataView");const Gt=Ct?function ct(Me){return null!=Me&&Ye(Me.getInt8)&&xe(Me.buffer)}:dt,ln=a||X("Array");function Mt(Me,Je){return null!=Me&&_.call(Me,Je)}var It=X("Arguments");!function(){It(arguments)||(It=function(Me){return Mt(Me,"callee")})}();const Y=It;function G(Me){return!Ke(Me)&&O(Me)&&!isNaN(parseFloat(Me))}function oe(Me){return ce(Me)&&J(Me)}function Ve(Me){return function(){return Me}}function Be(Me){return function(Je){var At=Me(Je);return"number"==typeof At&&At>=0&&At<=V}}function o(Me){return function(Je){return Je?.[Me]}}const De=o("byteLength"),be=Be(De);var je=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Qe=R?function et(Me){return U?U(Me)&&!Gt(Me):be(Me)&&je.test(A.call(Me))}:Ve(!1),We=o("length");function pt(Me,Je){Je=function bt(Me){for(var Je={},At=Me.length,Ot=0;Ot<At;++Ot)Je[Me[Ot]]=!0;return{contains:function(Jt){return!0===Je[Jt]},push:function(Jt){return Je[Jt]=!0,Me.push(Jt)}}}(Je);var At=F.length,Ot=Me.constructor,Jt=Ye(Ot)&&Ot.prototype||b,Vt="constructor";for(Mt(Me,Vt)&&!Je.contains(Vt)&&Je.push(Vt);At--;)(Vt=F[At])in Me&&Me[Vt]!==Jt[Vt]&&!Je.contains(Vt)&&Je.push(Vt)}function He(Me){if(!ie(Me))return[];if(k)return k(Me);var Je=[];for(var At in Me)Mt(Me,At)&&Je.push(At);return L&&pt(Me,Je),Je}function ae(Me){if(null==Me)return!0;var Je=We(Me);return"number"==typeof Je&&(ln(Me)||Q(Me)||Y(Me))?0===Je:0===We(He(Me))}function te(Me,Je){var At=He(Je),Ot=At.length;if(null==Me)return!Ot;for(var Jt=Object(Me),Vt=0;Vt<Ot;Vt++){var dn=At[Vt];if(Je[dn]!==Jt[dn]||!(dn in Jt))return!1}return!0}function B(Me){return Me instanceof B?Me:this instanceof B?void(this._wrapped=Me):new B(Me)}function ee(Me){return new Uint8Array(Me.buffer||Me,Me.byteOffset||0,De(Me))}B.VERSION=e,B.prototype.valueOf=B.prototype.toJSON=B.prototype.value=function(){return this._wrapped},B.prototype.toString=function(){return String(this._wrapped)};var Re="[object DataView]";function tt(Me,Je,At,Ot){if(Me===Je)return 0!==Me||1/Me==1/Je;if(null==Me||null==Je)return!1;if(Me!=Me)return Je!=Je;var Jt=typeof Me;return("function"===Jt||"object"===Jt||"object"==typeof Je)&&ot(Me,Je,At,Ot)}function ot(Me,Je,At,Ot){Me instanceof B&&(Me=Me._wrapped),Je instanceof B&&(Je=Je._wrapped);var Jt=A.call(Me);if(Jt!==A.call(Je))return!1;if(Ct&&"[object Object]"==Jt&&Gt(Me)){if(!Gt(Je))return!1;Jt=Re}switch(Jt){case"[object RegExp]":case"[object String]":return""+Me==""+Je;case"[object Number]":return+Me!=+Me?+Je!=+Je:0==+Me?1/+Me==1/Je:+Me==+Je;case"[object Date]":case"[object Boolean]":return+Me==+Je;case"[object Symbol]":return C.valueOf.call(Me)===C.valueOf.call(Je);case"[object ArrayBuffer]":case Re:return ot(ee(Me),ee(Je),At,Ot)}var Vt="[object Array]"===Jt;if(!Vt&&Qe(Me)){if(De(Me)!==De(Je))return!1;if(Me.buffer===Je.buffer&&Me.byteOffset===Je.byteOffset)return!0;Vt=!0}if(!Vt){if("object"!=typeof Me||"object"!=typeof Je)return!1;var bn=Me.constructor,Yn=Je.constructor;if(bn!==Yn&&!(Ye(bn)&&bn instanceof bn&&Ye(Yn)&&Yn instanceof Yn)&&"constructor"in Me&&"constructor"in Je)return!1}Ot=Ot||[];for(var Kn=(At=At||[]).length;Kn--;)if(At[Kn]===Me)return Ot[Kn]===Je;if(At.push(Me),Ot.push(Je),Vt){if((Kn=Me.length)!==Je.length)return!1;for(;Kn--;)if(!tt(Me[Kn],Je[Kn],At,Ot))return!1}else{var es,cr=He(Me);if(Kn=cr.length,He(Je).length!==Kn)return!1;for(;Kn--;)if(!Mt(Je,es=cr[Kn])||!tt(Me[es],Je[es],At,Ot))return!1}return At.pop(),Ot.pop(),!0}function Et(Me,Je){return tt(Me,Je)}function Kt(Me){if(!ie(Me))return[];var Je=[];for(var At in Me)Je.push(At);return L&&pt(Me,Je),Je}function wn(Me){var Je=We(Me);return function(At){if(null==At)return!1;var Ot=Kt(At);if(We(Ot))return!1;for(var Jt=0;Jt<Je;Jt++)if(!Ye(At[Me[Jt]]))return!1;return Me!==St||!Ye(At[rn])}}var rn="forEach",cn=["clear","delete"],lt=["get","has","set"],tn=cn.concat(rn,lt),St=cn.concat(lt),qt=["add"].concat(cn,rn,"has");const gn=at?wn(tn):X("Map"),Vn=at?wn(St):X("WeakMap"),Mn=at?wn(qt):X("Set"),qn=X("WeakSet");function ui(Me){for(var Je=He(Me),At=Je.length,Ot=Array(At),Jt=0;Jt<At;Jt++)Ot[Jt]=Me[Je[Jt]];return Ot}function ci(Me){for(var Je=He(Me),At=Je.length,Ot=Array(At),Jt=0;Jt<At;Jt++)Ot[Jt]=[Je[Jt],Me[Je[Jt]]];return Ot}function jt(Me){for(var Je={},At=He(Me),Ot=0,Jt=At.length;Ot<Jt;Ot++)Je[Me[At[Ot]]]=At[Ot];return Je}function $n(Me){var Je=[];for(var At in Me)Ye(Me[At])&&Je.push(At);return Je.sort()}function In(Me,Je){return function(At){var Ot=arguments.length;if(Je&&(At=Object(At)),Ot<2||null==At)return At;for(var Jt=1;Jt<Ot;Jt++)for(var Vt=arguments[Jt],dn=Me(Vt),bn=dn.length,Yn=0;Yn<bn;Yn++){var Kn=dn[Yn];(!Je||void 0===At[Kn])&&(At[Kn]=Vt[Kn])}return At}}const Pn=In(Kt),zn=In(He),ii=In(Kt,!0);function yt(Me){if(!ie(Me))return{};if(P)return P(Me);var Je=function(){};Je.prototype=Me;var At=new Je;return Je.prototype=null,At}function ht(Me,Je){var At=yt(Me);return Je&&zn(At,Je),At}function xt(Me){return ie(Me)?ln(Me)?Me.slice():Pn({},Me):Me}function zt(Me,Je){return Je(Me),Me}function vn(Me){return ln(Me)?Me:[Me]}function Zt(Me){return B.toPath(Me)}function ti(Me,Je){for(var At=Je.length,Ot=0;Ot<At;Ot++){if(null==Me)return;Me=Me[Je[Ot]]}return At?Me:void 0}function vi(Me,Je,At){var Ot=ti(Me,Zt(Je));return $(Ot)?At:Ot}function vr(Me,Je){for(var At=(Je=Zt(Je)).length,Ot=0;Ot<At;Ot++){var Jt=Je[Ot];if(!Mt(Me,Jt))return!1;Me=Me[Jt]}return!!At}function Rn(Me){return Me}function yi(Me){return Me=zn({},Me),function(Je){return te(Je,Me)}}function rr(Me){return Me=Zt(Me),function(Je){return ti(Je,Me)}}function ri(Me,Je,At){if(void 0===Je)return Me;switch(At??3){case 1:return function(Ot){return Me.call(Je,Ot)};case 3:return function(Ot,Jt,Vt){return Me.call(Je,Ot,Jt,Vt)};case 4:return function(Ot,Jt,Vt,dn){return Me.call(Je,Ot,Jt,Vt,dn)}}return function(){return Me.apply(Je,arguments)}}function Gi(Me,Je,At){return null==Me?Rn:Ye(Me)?ri(Me,Je,At):ie(Me)&&!ln(Me)?yi(Me):rr(Me)}function Di(Me,Je){return Gi(Me,Je,1/0)}function Bi(Me,Je,At){return B.iteratee!==Di?B.iteratee(Me,Je):Gi(Me,Je,At)}function pr(Me,Je,At){Je=Bi(Je,At);for(var Ot=He(Me),Jt=Ot.length,Vt={},dn=0;dn<Jt;dn++){var bn=Ot[dn];Vt[bn]=Je(Me[bn],bn,Me)}return Vt}function $i(){}function Wt(Me){return null==Me?$i:function(Je){return vi(Me,Je)}}function Fn(Me,Je,At){var Ot=Array(Math.max(0,Me));Je=ri(Je,At,1);for(var Jt=0;Jt<Me;Jt++)Ot[Jt]=Je(Jt);return Ot}function kt(Me,Je){return null==Je&&(Je=Me,Me=0),Me+Math.floor(Math.random()*(Je-Me+1))}B.toPath=vn,B.iteratee=Di;const Yt=Date.now||function(){return(new Date).getTime()};function En(Me){var Je=function(Vt){return Me[Vt]},At="(?:"+He(Me).join("|")+")",Ot=RegExp(At),Jt=RegExp(At,"g");return function(Vt){return Ot.test(Vt=null==Vt?"":""+Vt)?Vt.replace(Jt,Je):Vt}}const Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ki=En(Ln),qe=En(jt(Ln)),ut=B.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Pt=/(.)^/,un={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},hn=/\\|'|\r|\n|\u2028|\u2029/g;function Dn(Me){return"\\"+un[Me]}var Nn=/^\s*(\w|\$)+\s*$/;function Ii(Me,Je,At){!Je&&At&&(Je=At),Je=ii({},Je,B.templateSettings);var Ot=RegExp([(Je.escape||Pt).source,(Je.interpolate||Pt).source,(Je.evaluate||Pt).source].join("|")+"|$","g"),Jt=0,Vt="__p+='";Me.replace(Ot,function(Kn,cr,es,ur,ji){return Vt+=Me.slice(Jt,ji).replace(hn,Dn),Jt=ji+Kn.length,cr?Vt+="'+\n((__t=("+cr+"))==null?'':_.escape(__t))+\n'":es?Vt+="'+\n((__t=("+es+"))==null?'':__t)+\n'":ur&&(Vt+="';\n"+ur+"\n__p+='"),Kn}),Vt+="';\n";var bn,dn=Je.variable;if(dn){if(!Nn.test(dn))throw new Error("variable is not a bare identifier: "+dn)}else Vt="with(obj||{}){\n"+Vt+"}\n",dn="obj";Vt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Vt+"return __p;\n";try{bn=new Function(dn,"_",Vt)}catch(Kn){throw Kn.source=Vt,Kn}var Yn=function(Kn){return bn.call(this,Kn,B)};return Yn.source="function("+dn+"){\n"+Vt+"}",Yn}function Ci(Me,Je,At){var Ot=(Je=Zt(Je)).length;if(!Ot)return Ye(At)?At.call(Me):At;for(var Jt=0;Jt<Ot;Jt++){var Vt=Me?.[Je[Jt]];void 0===Vt&&(Vt=At,Jt=Ot),Me=Ye(Vt)?Vt.call(Me):Vt}return Me}var Xn=0;function fr(Me){var Je=++Xn+"";return Me?Me+Je:Je}function mr(Me){var Je=B(Me);return Je._chain=!0,Je}function Ir(Me,Je,At,Ot,Jt){if(!(Ot instanceof Je))return Me.apply(At,Jt);var Vt=yt(Me.prototype),dn=Me.apply(Vt,Jt);return ie(dn)?dn:Vt}var Mi=q(function(Me,Je){var At=Mi.placeholder,Ot=function(){for(var Jt=0,Vt=Je.length,dn=Array(Vt),bn=0;bn<Vt;bn++)dn[bn]=Je[bn]===At?arguments[Jt++]:Je[bn];for(;Jt<arguments.length;)dn.push(arguments[Jt++]);return Ir(Me,Ot,this,this,dn)};return Ot});Mi.placeholder=B;const Fr=Mi,Qi=q(function(Me,Je,At){if(!Ye(Me))throw new TypeError("Bind must be called on a function");var Ot=q(function(Jt){return Ir(Me,Ot,Je,this,At.concat(Jt))});return Ot}),ar=Be(We);function ts(Me,Je,At,Ot){if(Ot=Ot||[],Je||0===Je){if(Je<=0)return Ot.concat(Me)}else Je=1/0;for(var Jt=Ot.length,Vt=0,dn=We(Me);Vt<dn;Vt++){var bn=Me[Vt];if(ar(bn)&&(ln(bn)||Y(bn)))if(Je>1)ts(bn,Je-1,At,Ot),Jt=Ot.length;else for(var Yn=0,Kn=bn.length;Yn<Kn;)Ot[Jt++]=bn[Yn++];else At||(Ot[Jt++]=bn)}return Ot}const Ws=q(function(Me,Je){var At=(Je=ts(Je,!1,!1)).length;if(At<1)throw new Error("bindAll must be passed function names");for(;At--;){var Ot=Je[At];Me[Ot]=Qi(Me[Ot],Me)}return Me});function qs(Me,Je){var At=function(Ot){var Jt=At.cache,Vt=""+(Je?Je.apply(this,arguments):Ot);return Mt(Jt,Vt)||(Jt[Vt]=Me.apply(this,arguments)),Jt[Vt]};return At.cache={},At}const _s=q(function(Me,Je,At){return setTimeout(function(){return Me.apply(null,At)},Je)}),js=Fr(_s,B,1);function ns(Me,Je,At){var Ot,Jt,Vt,dn,bn=0;At||(At={});var Yn=function(){bn=!1===At.leading?0:Yt(),Ot=null,dn=Me.apply(Jt,Vt),Ot||(Jt=Vt=null)},Kn=function(){var cr=Yt();!bn&&!1===At.leading&&(bn=cr);var es=Je-(cr-bn);return Jt=this,Vt=arguments,es<=0||es>Je?(Ot&&(clearTimeout(Ot),Ot=null),bn=cr,dn=Me.apply(Jt,Vt),Ot||(Jt=Vt=null)):!Ot&&!1!==At.trailing&&(Ot=setTimeout(Yn,es)),dn};return Kn.cancel=function(){clearTimeout(Ot),bn=0,Ot=Jt=Vt=null},Kn}function bs(Me,Je,At){var Ot,Jt,Vt,dn,bn,Yn=function(){var cr=Yt()-Jt;Je>cr?Ot=setTimeout(Yn,Je-cr):(Ot=null,At||(dn=Me.apply(bn,Vt)),Ot||(Vt=bn=null))},Kn=q(function(cr){return bn=this,Vt=cr,Jt=Yt(),Ot||(Ot=setTimeout(Yn,Je),At&&(dn=Me.apply(bn,Vt))),dn});return Kn.cancel=function(){clearTimeout(Ot),Ot=Vt=bn=null},Kn}function Ys(Me,Je){return Fr(Je,Me)}function ks(Me){return function(){return!Me.apply(this,arguments)}}function Jr(){var Me=arguments,Je=Me.length-1;return function(){for(var At=Je,Ot=Me[Je].apply(this,arguments);At--;)Ot=Me[At].call(this,Ot);return Ot}}function sr(Me,Je){return function(){if(--Me<1)return Je.apply(this,arguments)}}function Pi(Me,Je){var At;return function(){return--Me>0&&(At=Je.apply(this,arguments)),Me<=1&&(Je=null),At}}const vs=Fr(Pi,2);function Gn(Me,Je,At){Je=Bi(Je,At);for(var Jt,Ot=He(Me),Vt=0,dn=Ot.length;Vt<dn;Vt++)if(Je(Me[Jt=Ot[Vt]],Jt,Me))return Jt}function ws(Me){return function(Je,At,Ot){At=Bi(At,Ot);for(var Jt=We(Je),Vt=Me>0?0:Jt-1;Vt>=0&&Vt<Jt;Vt+=Me)if(At(Je[Vt],Vt,Je))return Vt;return-1}}const Hn=ws(1),yr=ws(-1);function Mr(Me,Je,At,Ot){for(var Jt=(At=Bi(At,Ot,1))(Je),Vt=0,dn=We(Me);Vt<dn;){var bn=Math.floor((Vt+dn)/2);At(Me[bn])<Jt?Vt=bn+1:dn=bn}return Vt}function os(Me,Je,At){return function(Ot,Jt,Vt){var dn=0,bn=We(Ot);if("number"==typeof Vt)Me>0?dn=Vt>=0?Vt:Math.max(Vt+bn,dn):bn=Vt>=0?Math.min(Vt+1,bn):Vt+bn+1;else if(At&&Vt&&bn)return Ot[Vt=At(Ot,Jt)]===Jt?Vt:-1;if(Jt!=Jt)return(Vt=Je(p.call(Ot,dn,bn),oe))>=0?Vt+dn:-1;for(Vt=Me>0?dn:bn-1;Vt>=0&&Vt<bn;Vt+=Me)if(Ot[Vt]===Jt)return Vt;return-1}}const zr=os(1,Hn,Mr),Wr=os(-1,yr);function Cr(Me,Je,At){var Jt=(ar(Me)?Hn:Gn)(Me,Je,At);if(void 0!==Jt&&-1!==Jt)return Me[Jt]}function cs(Me,Je){return Cr(Me,yi(Je))}function nr(Me,Je,At){var Ot,Jt;if(Je=ri(Je,At),ar(Me))for(Ot=0,Jt=Me.length;Ot<Jt;Ot++)Je(Me[Ot],Ot,Me);else{var Vt=He(Me);for(Ot=0,Jt=Vt.length;Ot<Jt;Ot++)Je(Me[Vt[Ot]],Vt[Ot],Me)}return Me}function br(Me,Je,At){Je=Bi(Je,At);for(var Ot=!ar(Me)&&He(Me),Jt=(Ot||Me).length,Vt=Array(Jt),dn=0;dn<Jt;dn++){var bn=Ot?Ot[dn]:dn;Vt[dn]=Je(Me[bn],bn,Me)}return Vt}function us(Me){var Je=function(At,Ot,Jt,Vt){var dn=!ar(At)&&He(At),bn=(dn||At).length,Yn=Me>0?0:bn-1;for(Vt||(Jt=At[dn?dn[Yn]:Yn],Yn+=Me);Yn>=0&&Yn<bn;Yn+=Me){var Kn=dn?dn[Yn]:Yn;Jt=Ot(Jt,At[Kn],Kn,At)}return Jt};return function(At,Ot,Jt,Vt){var dn=arguments.length>=3;return Je(At,ri(Ot,Vt,4),Jt,dn)}}const wr=us(1),Oi=us(-1);function Xr(Me,Je,At){var Ot=[];return Je=Bi(Je,At),nr(Me,function(Jt,Vt,dn){Je(Jt,Vt,dn)&&Ot.push(Jt)}),Ot}function ps(Me,Je,At){return Xr(Me,ks(Bi(Je)),At)}function Os(Me,Je,At){Je=Bi(Je,At);for(var Ot=!ar(Me)&&He(Me),Jt=(Ot||Me).length,Vt=0;Vt<Jt;Vt++){var dn=Ot?Ot[Vt]:Vt;if(!Je(Me[dn],dn,Me))return!1}return!0}function Zr(Me,Je,At){Je=Bi(Je,At);for(var Ot=!ar(Me)&&He(Me),Jt=(Ot||Me).length,Vt=0;Vt<Jt;Vt++){var dn=Ot?Ot[Vt]:Vt;if(Je(Me[dn],dn,Me))return!0}return!1}function Ts(Me,Je,At,Ot){return ar(Me)||(Me=ui(Me)),("number"!=typeof At||Ot)&&(At=0),zr(Me,Je,At)>=0}const Zi=q(function(Me,Je,At){var Ot,Jt;return Ye(Je)?Jt=Je:(Je=Zt(Je),Ot=Je.slice(0,-1),Je=Je[Je.length-1]),br(Me,function(Vt){var dn=Jt;if(!dn){if(Ot&&Ot.length&&(Vt=ti(Vt,Ot)),null==Vt)return;dn=Vt[Je]}return null==dn?dn:dn.apply(Vt,At)})});function As(Me,Je){return br(Me,rr(Je))}function co(Me,Je){return Xr(Me,yi(Je))}function Gr(Me,Je,At){var Vt,dn,Ot=-1/0,Jt=-1/0;if(null==Je||"number"==typeof Je&&"object"!=typeof Me[0]&&null!=Me)for(var bn=0,Yn=(Me=ar(Me)?Me:ui(Me)).length;bn<Yn;bn++)null!=(Vt=Me[bn])&&Vt>Ot&&(Ot=Vt);else Je=Bi(Je,At),nr(Me,function(Kn,cr,es){((dn=Je(Kn,cr,es))>Jt||dn===-1/0&&Ot===-1/0)&&(Ot=Kn,Jt=dn)});return Ot}function as(Me,Je,At){var Vt,dn,Ot=1/0,Jt=1/0;if(null==Je||"number"==typeof Je&&"object"!=typeof Me[0]&&null!=Me)for(var bn=0,Yn=(Me=ar(Me)?Me:ui(Me)).length;bn<Yn;bn++)null!=(Vt=Me[bn])&&Vt<Ot&&(Ot=Vt);else Je=Bi(Je,At),nr(Me,function(Kn,cr,es){((dn=Je(Kn,cr,es))<Jt||dn===1/0&&Ot===1/0)&&(Ot=Kn,Jt=dn)});return Ot}var Ps=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ns(Me){return Me?ln(Me)?p.call(Me):Q(Me)?Me.match(Ps):ar(Me)?br(Me,Rn):ui(Me):[]}function Ss(Me,Je,At){if(null==Je||At)return ar(Me)||(Me=ui(Me)),Me[kt(Me.length-1)];var Ot=Ns(Me),Jt=We(Ot);Je=Math.max(Math.min(Je,Jt),0);for(var Vt=Jt-1,dn=0;dn<Je;dn++){var bn=kt(dn,Vt),Yn=Ot[dn];Ot[dn]=Ot[bn],Ot[bn]=Yn}return Ot.slice(0,Je)}function Vi(Me){return Ss(Me,1/0)}function mo(Me,Je,At){var Ot=0;return Je=Bi(Je,At),As(br(Me,function(Jt,Vt,dn){return{value:Jt,index:Ot++,criteria:Je(Jt,Vt,dn)}}).sort(function(Jt,Vt){var dn=Jt.criteria,bn=Vt.criteria;if(dn!==bn){if(dn>bn||void 0===dn)return 1;if(dn<bn||void 0===bn)return-1}return Jt.index-Vt.index}),"value")}function Or(Me,Je){return function(At,Ot,Jt){var Vt=Je?[[],[]]:{};return Ot=Bi(Ot,Jt),nr(At,function(dn,bn){var Yn=Ot(dn,bn,At);Me(Vt,dn,Yn)}),Vt}}const go=Or(function(Me,Je,At){Mt(Me,At)?Me[At].push(Je):Me[At]=[Je]}),Fi=Or(function(Me,Je,At){Me[At]=Je}),Tr=Or(function(Me,Je,At){Mt(Me,At)?Me[At]++:Me[At]=1}),Nr=Or(function(Me,Je,At){Me[At?0:1].push(Je)},!0);function si(Me){return null==Me?0:ar(Me)?Me.length:He(Me).length}function Ls(Me,Je,At){return Je in At}const lr=q(function(Me,Je){var At={},Ot=Je[0];if(null==Me)return At;Ye(Ot)?(Je.length>1&&(Ot=ri(Ot,Je[1])),Je=Kt(Me)):(Ot=Ls,Je=ts(Je,!1,!1),Me=Object(Me));for(var Jt=0,Vt=Je.length;Jt<Vt;Jt++){var dn=Je[Jt],bn=Me[dn];Ot(bn,dn,Me)&&(At[dn]=bn)}return At}),Qr=q(function(Me,Je){var Ot,At=Je[0];return Ye(At)?(At=ks(At),Je.length>1&&(Ot=Je[1])):(Je=br(ts(Je,!1,!1),String),At=function(Jt,Vt){return!Ts(Je,Vt)}),lr(Me,At,Ot)});function uo(Me,Je,At){return p.call(Me,0,Math.max(0,Me.length-(null==Je||At?1:Je)))}function Ni(Me,Je,At){return null==Me||Me.length<1?null==Je||At?void 0:[]:null==Je||At?Me[0]:uo(Me,Me.length-Je)}function Ar(Me,Je,At){return p.call(Me,null==Je||At?1:Je)}function jr(Me,Je,At){return null==Me||Me.length<1?null==Je||At?void 0:[]:null==Je||At?Me[Me.length-1]:Ar(Me,Math.max(0,Me.length-Je))}function Rr(Me){return Xr(Me,Boolean)}function _n(Me,Je){return ts(Me,Je,!1)}const oi=q(function(Me,Je){return Je=ts(Je,!0,!0),Xr(Me,function(At){return!Ts(Je,At)})}),fs=q(function(Me,Je){return oi(Me,Je)});function di(Me,Je,At,Ot){z(Je)||(Ot=At,At=Je,Je=!1),null!=At&&(At=Bi(At,Ot));for(var Jt=[],Vt=[],dn=0,bn=We(Me);dn<bn;dn++){var Yn=Me[dn],Kn=At?At(Yn,dn,Me):Yn;Je&&!At?((!dn||Vt!==Kn)&&Jt.push(Yn),Vt=Kn):At?Ts(Vt,Kn)||(Vt.push(Kn),Jt.push(Yn)):Ts(Jt,Yn)||Jt.push(Yn)}return Jt}const qi=q(function(Me){return di(ts(Me,!0,!0))});function Ie(Me){for(var Je=[],At=arguments.length,Ot=0,Jt=We(Me);Ot<Jt;Ot++){var Vt=Me[Ot];if(!Ts(Je,Vt)){var dn;for(dn=1;dn<At&&Ts(arguments[dn],Vt);dn++);dn===At&&Je.push(Vt)}}return Je}function ge(Me){for(var Je=Me&&Gr(Me,We).length||0,At=Array(Je),Ot=0;Ot<Je;Ot++)At[Ot]=As(Me,Ot);return At}const ne=q(ge);function Xe(Me,Je){for(var At={},Ot=0,Jt=We(Me);Ot<Jt;Ot++)Je?At[Me[Ot]]=Je[Ot]:At[Me[Ot][0]]=Me[Ot][1];return At}function nn(Me,Je,At){null==Je&&(Je=Me||0,Me=0),At||(At=Je<Me?-1:1);for(var Ot=Math.max(Math.ceil((Je-Me)/At),0),Jt=Array(Ot),Vt=0;Vt<Ot;Vt++,Me+=At)Jt[Vt]=Me;return Jt}function Bn(Me,Je){if(null==Je||Je<1)return[];for(var At=[],Ot=0,Jt=Me.length;Ot<Jt;)At.push(p.call(Me,Ot,Ot+=Je));return At}function Wi(Me,Je){return Me._chain?B(Je).chain():Je}function kr(Me){return nr($n(Me),function(Je){var At=B[Je]=Me[Je];B.prototype[Je]=function(){var Ot=[this._wrapped];return g.apply(Ot,arguments),Wi(this,At.apply(B,Ot))}}),B}nr(["pop","push","reverse","shift","sort","splice","unshift"],function(Me){var Je=w[Me];B.prototype[Me]=function(){var At=this._wrapped;return null!=At&&(Je.apply(At,arguments),("shift"===Me||"splice"===Me)&&0===At.length&&delete At[0]),Wi(this,At)}}),nr(["concat","join","slice"],function(Me){var Je=w[Me];B.prototype[Me]=function(){var At=this._wrapped;return null!=At&&(At=Je.apply(At,arguments)),Wi(this,At)}});const Pr=B;var Yi=kr(t);Yi._=Yi},5861:(st,ye,f)=>{"use strict";function t(m,w,b,C,g,p,A){try{var _=m[p](A),R=_.value}catch(N){return void b(N)}_.done?w(R):Promise.resolve(R).then(C,g)}function e(m){return function(){var w=this,b=arguments;return new Promise(function(C,g){var p=m.apply(w,b);function A(R){t(p,C,g,A,_,"next",R)}function _(R){t(p,C,g,A,_,"throw",R)}A(void 0)})}}f.d(ye,{Z:()=>e})}},st=>{st(st.s=5968)}]);