"use strict";(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[451],{451:(K,u,n)=>{n.r(u),n.d(u,{ViewIdentityResourcesModule:()=>Y});var m=n(6895),I=n(8185),f=n(2979),l=n(9383),T=n(5503),g=n(8265),C=n(9650),D=n(5785),S=n(6493),O=n(4091),V=n(5971),Z=n(5084),p=n(2976),Q=n(2951),R=n(9655),e=n(4650),d=n(1481),c=n(8506),h=n(7608),v=n(2830);function w(s,o){if(1&s&&(e.TgZ(0,"app-form-row",2),e._UZ(1,"app-readonly",3),e.qZA()),2&s){const t=e.oxw();e.Q6J("label","Resources.AssignedClaims"),e.xp6(1),e.Q6J("fieldType",t.ReadOnlyFieldType.Multi)("values",t.displayClaims)}}let J=(()=>{class s{constructor(t,i,r){this.titleService=t,this.identityResourceService=i,this.translate=r,this.displayClaims=[]}get ReadOnlyFieldType(){return R.O}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe({next:t=>{this.identityResource=t,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${p.de.SITE_TITLE}`),this.displayClaims=this.identityResource.allowedClaims.sort().map(i=>new Q.I(i))}})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(d.Dx),e.Y36(c.Q),e.Y36(l.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-identity-resource-claims"]],decls:5,vars:4,consts:[[1,"cms"],[3,"label",4,"ngIf"],[3,"label"],[3,"fieldType","values"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.YNc(4,w,2,3,"app-form-row",1)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"IdentityResources.UserClaimTypes")),e.xp6(2),e.Q6J("ngIf",i.displayClaims))},dependencies:[m.O5,h.L,v.f,l.X$],encapsulation:2}),s})();var x=n(5698),F=n(7185),A=n(6001);let N=(()=>{class s{constructor(t,i,r,y){this.titleService=t,this.identityResourceService=i,this.toastr=r,this.translate=y,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(t=>{this.identityResource=t,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${p.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(t){this.properties=t;const i=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(i).pipe((0,x.q)(1)).subscribe(r=>{this.identityResource=i,this.identityResourceService.getCachedIdentityResource().next(i),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(d.Dx),e.Y36(c.Q),e.Y36(F._W),e.Y36(l.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-identity-resource-properties"]],decls:1,vars:3,consts:[[3,"modalId","isReadOnly","properties","propertiesChanged"]],template:function(t,i){1&t&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(y){return i.onPropertiesChanged(y)}),e.qZA()),2&t&&e.Q6J("modalId",i.identityResource.id)("isReadOnly",!0)("properties",i.properties)},dependencies:[A.s],encapsulation:2}),s})();var b=n(7235);const a=function(s){return[s]},U=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:(()=>{class s{constructor(t,i,r){this.titleService=t,this.identityResourceService=i,this.translate=r}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(t=>{this.identityResourceDictionary=new b.$(t),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+t.displayName+" "+this.translate.instant("Nav.Details")+` - ${p.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}get ReadOnlyFieldType(){return R.O}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(d.Dx),e.Y36(c.Q),e.Y36(l.sK))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-view-identityresource-details"]],decls:14,vars:37,consts:[["id","identityResourceDetails"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help","isLast"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"app-form-row",1),e._UZ(3,"app-readonly",2),e.qZA(),e.TgZ(4,"app-form-row",1),e._UZ(5,"app-readonly",2),e.qZA(),e.TgZ(6,"app-form-row",1),e._UZ(7,"app-readonly",2),e.qZA(),e.TgZ(8,"app-form-row",1),e._UZ(9,"app-readonly",2),e.qZA(),e.TgZ(10,"app-form-row",1),e._UZ(11,"app-readonly",2),e.qZA(),e.TgZ(12,"app-form-row",3),e._UZ(13,"app-readonly",2),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.xp6(1),e.Q6J("fieldType",i.ReadOnlyFieldType.Single)("values",e.VKq(25,a,i.identityResourceDictionary.name)),e.xp6(1),e.Q6J("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(1),e.Q6J("fieldType",i.ReadOnlyFieldType.Single)("values",e.VKq(27,a,i.identityResourceDictionary.displayName)),e.xp6(1),e.Q6J("label","Common.Description")("help","Resources.DescriptionHelp"),e.xp6(1),e.Q6J("fieldType",i.ReadOnlyFieldType.Single)("values",e.VKq(29,a,i.identityResourceDictionary.description)),e.xp6(1),e.Q6J("label","Resources.Required")("help","IdentityResources.ConsentResource"),e.xp6(1),e.Q6J("fieldType",i.ReadOnlyFieldType.Single)("values",e.VKq(31,a,i.identityResourceDictionary.required)),e.xp6(1),e.Q6J("label","IdentityResources.ShowInDiscoveryDocumentReadOnly")("help","IdentityResources.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("fieldType",i.ReadOnlyFieldType.Single)("values",e.VKq(33,a,i.identityResourceDictionary.showInDiscoveryDocument)),e.xp6(1),e.Q6J("label","Common.EmphasizeReadOnly")("help","IdentityResources.ConsentScreen")("isLast",!0),e.xp6(1),e.Q6J("fieldType",i.ReadOnlyFieldType.Single)("values",e.VKq(35,a,i.identityResourceDictionary.emphasize)))},dependencies:[h.L,v.f],encapsulation:2}),s})()},{path:"claims",component:J},{path:"properties",component:N}];let Y=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.ez,l.aw.forChild({extend:!0}),I.Bz.forChild(U),T.D,Z.y,D.U,f.fQ,C.I,g.j,V.s,S.l,O.G]}),s})()}}]);